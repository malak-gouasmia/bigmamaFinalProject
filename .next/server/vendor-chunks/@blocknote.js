"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@blocknote";
exports.ids = ["vendor-chunks/@blocknote"];
exports.modules = {

/***/ "(rsc)/./node_modules/@blocknote/core/src/fonts/inter.css":
/*!**********************************************************!*\
  !*** ./node_modules/@blocknote/core/src/fonts/inter.css ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"66a5d4cc5d8e\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGJsb2Nrbm90ZS9jb3JlL3NyYy9mb250cy9pbnRlci5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbGl2ZWJsb2Nrcy1leGFtcGxlcy9uZXh0anMteWpzLWJsb2Nrbm90ZS8uL25vZGVfbW9kdWxlcy9AYmxvY2tub3RlL2NvcmUvc3JjL2ZvbnRzL2ludGVyLmNzcz9mYTAzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiNjZhNWQ0Y2M1ZDhlXCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@blocknote/core/src/fonts/inter.css\n");

/***/ }),

/***/ "(rsc)/./node_modules/@blocknote/mantine/dist/style.css":
/*!********************************************************!*\
  !*** ./node_modules/@blocknote/mantine/dist/style.css ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"0911a697f66f\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGJsb2Nrbm90ZS9tYW50aW5lL2Rpc3Qvc3R5bGUuY3NzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxjQUFjO0FBQzdCLElBQUksS0FBVSxFQUFFLEVBQXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGxpdmVibG9ja3MtZXhhbXBsZXMvbmV4dGpzLXlqcy1ibG9ja25vdGUvLi9ub2RlX21vZHVsZXMvQGJsb2Nrbm90ZS9tYW50aW5lL2Rpc3Qvc3R5bGUuY3NzP2E3NGUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCIwOTExYTY5N2Y2NmZcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@blocknote/mantine/dist/style.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/@blocknote/core/dist/blocknote.js":
/*!********************************************************!*\
  !*** ./node_modules/@blocknote/core/dist/blocknote.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioBlock: () => (/* binding */ di),\n/* harmony export */   BlockNoteEditor: () => (/* binding */ yt),\n/* harmony export */   BlockNoteSchema: () => (/* binding */ Be),\n/* harmony export */   FileBlock: () => (/* binding */ Wo),\n/* harmony export */   FilePanelProsemirrorPlugin: () => (/* binding */ tn),\n/* harmony export */   FilePanelView: () => (/* binding */ en),\n/* harmony export */   FormattingToolbarProsemirrorPlugin: () => (/* binding */ rn),\n/* harmony export */   FormattingToolbarView: () => (/* binding */ on),\n/* harmony export */   ImageBlock: () => (/* binding */ Jo),\n/* harmony export */   LinkToolbarProsemirrorPlugin: () => (/* binding */ ln),\n/* harmony export */   SideMenuProsemirrorPlugin: () => (/* binding */ bn),\n/* harmony export */   SideMenuView: () => (/* binding */ fn),\n/* harmony export */   SuggestionMenuProseMirrorPlugin: () => (/* binding */ un),\n/* harmony export */   TableHandlesProsemirrorPlugin: () => (/* binding */ wn),\n/* harmony export */   TableHandlesView: () => (/* binding */ vn),\n/* harmony export */   UniqueID: () => (/* binding */ oe),\n/* harmony export */   UnreachableCaseError: () => (/* binding */ L),\n/* harmony export */   VideoBlock: () => (/* binding */ ii),\n/* harmony export */   addIdsToBlock: () => (/* binding */ Kn),\n/* harmony export */   addIdsToBlocks: () => (/* binding */ $n),\n/* harmony export */   addInlineContentAttributes: () => (/* binding */ Ao),\n/* harmony export */   addInlineContentKeyboardShortcuts: () => (/* binding */ No),\n/* harmony export */   addStyleAttributes: () => (/* binding */ Oo),\n/* harmony export */   assertEmpty: () => (/* binding */ Br),\n/* harmony export */   audioBlockConfig: () => (/* binding */ ri),\n/* harmony export */   audioParse: () => (/* binding */ si),\n/* harmony export */   audioPropSchema: () => (/* binding */ ni),\n/* harmony export */   audioRender: () => (/* binding */ ai),\n/* harmony export */   audioToExternalHTML: () => (/* binding */ li),\n/* harmony export */   blockToNode: () => (/* binding */ P),\n/* harmony export */   camelToDataKebab: () => (/* binding */ re),\n/* harmony export */   checkBlockHasDefaultProp: () => (/* binding */ Vr),\n/* harmony export */   checkBlockIsDefaultType: () => (/* binding */ Di),\n/* harmony export */   checkBlockIsFileBlock: () => (/* binding */ Dr),\n/* harmony export */   checkBlockIsFileBlockWithPlaceholder: () => (/* binding */ Rr),\n/* harmony export */   checkBlockIsFileBlockWithPreview: () => (/* binding */ Or),\n/* harmony export */   checkBlockTypeHasDefaultProp: () => (/* binding */ Oi),\n/* harmony export */   checkDefaultBlockTypeInSchema: () => (/* binding */ x),\n/* harmony export */   contentNodeToInlineContent: () => (/* binding */ Ee),\n/* harmony export */   createAddFileButton: () => (/* binding */ de),\n/* harmony export */   createBlockSpec: () => (/* binding */ se),\n/* harmony export */   createBlockSpecFromStronglyTypedTiptapNode: () => (/* binding */ q),\n/* harmony export */   createDefaultFilePreview: () => (/* binding */ le),\n/* harmony export */   createExternalHTMLExporter: () => (/* binding */ ae),\n/* harmony export */   createFigureWithCaption: () => (/* binding */ Ce),\n/* harmony export */   createFileAndCaptionWrapper: () => (/* binding */ j),\n/* harmony export */   createInlineContentSpec: () => (/* binding */ Ar),\n/* harmony export */   createInlineContentSpecFromTipTapNode: () => (/* binding */ Ho),\n/* harmony export */   createInternalBlockSpec: () => (/* binding */ st),\n/* harmony export */   createInternalHTMLSerializer: () => (/* binding */ nt),\n/* harmony export */   createInternalInlineContentSpec: () => (/* binding */ Po),\n/* harmony export */   createInternalStyleSpec: () => (/* binding */ ct),\n/* harmony export */   createLinkWithCaption: () => (/* binding */ ue),\n/* harmony export */   createResizeHandlesWrapper: () => (/* binding */ pt),\n/* harmony export */   createStronglyTypedTiptapNode: () => (/* binding */ z),\n/* harmony export */   createStyleSpec: () => (/* binding */ Nr),\n/* harmony export */   createStyleSpecFromTipTapMark: () => (/* binding */ U),\n/* harmony export */   createSuggestionMenu: () => (/* binding */ jr),\n/* harmony export */   defaultBlockSchema: () => (/* binding */ Ui),\n/* harmony export */   defaultBlockSpecs: () => (/* binding */ ht),\n/* harmony export */   defaultInlineContentSchema: () => (/* binding */ Ur),\n/* harmony export */   defaultInlineContentSpecs: () => (/* binding */ ft),\n/* harmony export */   defaultProps: () => (/* binding */ _),\n/* harmony export */   defaultStyleSchema: () => (/* binding */ Hr),\n/* harmony export */   defaultStyleSpecs: () => (/* binding */ mt),\n/* harmony export */   fileBlockConfig: () => (/* binding */ jo),\n/* harmony export */   fileParse: () => (/* binding */ Fo),\n/* harmony export */   filePropSchema: () => (/* binding */ Vo),\n/* harmony export */   fileRender: () => (/* binding */ zo),\n/* harmony export */   fileToExternalHTML: () => (/* binding */ Go),\n/* harmony export */   filenameFromURL: () => (/* binding */ Ir),\n/* harmony export */   filterSuggestionItems: () => (/* binding */ Fr),\n/* harmony export */   formatKeyboardShortcut: () => (/* binding */ H),\n/* harmony export */   formattingToolbarPluginKey: () => (/* binding */ nn),\n/* harmony export */   getBlockFromPos: () => (/* binding */ Lo),\n/* harmony export */   getBlockNoteExtensions: () => (/* binding */ On),\n/* harmony export */   getBlockSchemaFromSpecs: () => (/* binding */ lt),\n/* harmony export */   getDefaultSlashMenuItems: () => (/* binding */ zr),\n/* harmony export */   getDraggableBlockFromElement: () => (/* binding */ pe),\n/* harmony export */   getInlineContentParseRules: () => (/* binding */ Uo),\n/* harmony export */   getInlineContentSchemaFromSpecs: () => (/* binding */ dt),\n/* harmony export */   getParseRules: () => (/* binding */ Io),\n/* harmony export */   getStyleParseRules: () => (/* binding */ Ro),\n/* harmony export */   getStyleSchemaFromSpecs: () => (/* binding */ ut),\n/* harmony export */   imageBlockConfig: () => (/* binding */ $o),\n/* harmony export */   imageParse: () => (/* binding */ Xo),\n/* harmony export */   imagePropSchema: () => (/* binding */ Ko),\n/* harmony export */   imageRender: () => (/* binding */ qo),\n/* harmony export */   imageToExternalHTML: () => (/* binding */ Zo),\n/* harmony export */   inheritedProps: () => (/* binding */ rt),\n/* harmony export */   inlineContentToNodes: () => (/* binding */ K),\n/* harmony export */   insertOrUpdateBlock: () => (/* binding */ w),\n/* harmony export */   isAppleOS: () => (/* binding */ Bo),\n/* harmony export */   isLinkInlineContent: () => (/* binding */ He),\n/* harmony export */   isPartialLinkInlineContent: () => (/* binding */ Ye),\n/* harmony export */   isSafari: () => (/* binding */ Lr),\n/* harmony export */   isStyledTextInlineContent: () => (/* binding */ te),\n/* harmony export */   linkToolbarPluginKey: () => (/* binding */ sn),\n/* harmony export */   locales: () => (/* binding */ Tr),\n/* harmony export */   mergeCSSClasses: () => (/* binding */ R),\n/* harmony export */   nodeToBlock: () => (/* binding */ y),\n/* harmony export */   nodeToCustomInlineContent: () => (/* binding */ tt),\n/* harmony export */   parseEmbedElement: () => (/* binding */ Oe),\n/* harmony export */   parseFigureElement: () => (/* binding */ ce),\n/* harmony export */   parseImageElement: () => (/* binding */ Re),\n/* harmony export */   partialBlockToBlockForTesting: () => (/* binding */ wt),\n/* harmony export */   partialBlocksToBlocksForTesting: () => (/* binding */ Gr),\n/* harmony export */   propsToAttributes: () => (/* binding */ at),\n/* harmony export */   sideMenuPluginKey: () => (/* binding */ gn),\n/* harmony export */   stylePropsToAttributes: () => (/* binding */ Do),\n/* harmony export */   suggestionMenuPluginKey: () => (/* binding */ O),\n/* harmony export */   tableContentToNodes: () => (/* binding */ Qe),\n/* harmony export */   tableHandlesPluginKey: () => (/* binding */ Q),\n/* harmony export */   uploadToTmpFilesDotOrg_DEV_ONLY: () => (/* binding */ Pr),\n/* harmony export */   videoBlockConfig: () => (/* binding */ Qo),\n/* harmony export */   videoParse: () => (/* binding */ ti),\n/* harmony export */   videoPropSchema: () => (/* binding */ Yo),\n/* harmony export */   videoRender: () => (/* binding */ ei),\n/* harmony export */   videoToExternalHTML: () => (/* binding */ oi),\n/* harmony export */   wrapInBlockStructure: () => (/* binding */ me)\n/* harmony export */ });\n/* harmony import */ var prosemirror_model__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! prosemirror-model */ \"(ssr)/./node_modules/prosemirror-model/dist/index.js\");\n/* harmony import */ var rehype_parse__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! rehype-parse */ \"(ssr)/./node_modules/rehype-parse/lib/index.js\");\n/* harmony import */ var rehype_stringify__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! rehype-stringify */ \"(ssr)/./node_modules/rehype-stringify/lib/index.js\");\n/* harmony import */ var unified__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! unified */ \"(ssr)/./node_modules/unified/lib/index.js\");\n/* harmony import */ var _tiptap_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @tiptap/core */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n/* harmony import */ var prosemirror_state__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! prosemirror-state */ \"(ssr)/./node_modules/prosemirror-state/dist/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var hast_util_from_dom__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! hast-util-from-dom */ \"(ssr)/./node_modules/hast-util-from-dom/lib/index.js\");\n/* harmony import */ var _tiptap_extension_bold__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tiptap/extension-bold */ \"(ssr)/./node_modules/@tiptap/extension-bold/dist/index.js\");\n/* harmony import */ var _tiptap_extension_code__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tiptap/extension-code */ \"(ssr)/./node_modules/@tiptap/extension-code/dist/index.js\");\n/* harmony import */ var _tiptap_extension_italic__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tiptap/extension-italic */ \"(ssr)/./node_modules/@tiptap/extension-italic/dist/index.js\");\n/* harmony import */ var _tiptap_extension_strike__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @tiptap/extension-strike */ \"(ssr)/./node_modules/@tiptap/extension-strike/dist/index.js\");\n/* harmony import */ var _tiptap_extension_underline__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @tiptap/extension-underline */ \"(ssr)/./node_modules/@tiptap/extension-underline/dist/index.js\");\n/* harmony import */ var _tiptap_extension_table_cell__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @tiptap/extension-table-cell */ \"(ssr)/./node_modules/@tiptap/extension-table-cell/dist/index.js\");\n/* harmony import */ var _tiptap_extension_table_header__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tiptap/extension-table-header */ \"(ssr)/./node_modules/@tiptap/extension-table-header/dist/index.js\");\n/* harmony import */ var _tiptap_extension_table_row__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tiptap/extension-table-row */ \"(ssr)/./node_modules/@tiptap/extension-table-row/dist/index.js\");\n/* harmony import */ var prosemirror_tables__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prosemirror-tables */ \"(ssr)/./node_modules/prosemirror-tables/dist/index.js\");\n/* harmony import */ var rehype_remark__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! rehype-remark */ \"(ssr)/./node_modules/rehype-remark/lib/index.js\");\n/* harmony import */ var remark_gfm__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! remark-gfm */ \"(ssr)/./node_modules/remark-gfm/index.js\");\n/* harmony import */ var remark_stringify__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! remark-stringify */ \"(ssr)/./node_modules/remark-stringify/lib/index.js\");\n/* harmony import */ var remark_parse__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! remark-parse */ \"(ssr)/./node_modules/remark-parse/lib/index.js\");\n/* harmony import */ var remark_rehype__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! remark-rehype */ \"(ssr)/./node_modules/remark-rehype/lib/index.js\");\n/* harmony import */ var remark_rehype__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! remark-rehype */ \"(ssr)/./node_modules/mdast-util-to-hast/lib/handlers/index.js\");\n/* harmony import */ var prosemirror_view__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! prosemirror-view */ \"(ssr)/./node_modules/prosemirror-view/dist/index.js\");\n/* harmony import */ var _tiptap_extension_collaboration__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @tiptap/extension-collaboration */ \"(ssr)/./node_modules/@tiptap/extension-collaboration/dist/index.js\");\n/* harmony import */ var _tiptap_extension_collaboration_cursor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @tiptap/extension-collaboration-cursor */ \"(ssr)/./node_modules/@tiptap/extension-collaboration-cursor/dist/index.js\");\n/* harmony import */ var _tiptap_extension_dropcursor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @tiptap/extension-dropcursor */ \"(ssr)/./node_modules/@tiptap/extension-dropcursor/dist/index.js\");\n/* harmony import */ var _tiptap_extension_gapcursor__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @tiptap/extension-gapcursor */ \"(ssr)/./node_modules/@tiptap/extension-gapcursor/dist/index.js\");\n/* harmony import */ var _tiptap_extension_hard_break__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @tiptap/extension-hard-break */ \"(ssr)/./node_modules/@tiptap/extension-hard-break/dist/index.js\");\n/* harmony import */ var _tiptap_extension_history__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @tiptap/extension-history */ \"(ssr)/./node_modules/@tiptap/extension-history/dist/index.js\");\n/* harmony import */ var _tiptap_extension_link__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @tiptap/extension-link */ \"(ssr)/./node_modules/@tiptap/extension-link/dist/index.js\");\n/* harmony import */ var _tiptap_extension_text__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @tiptap/extension-text */ \"(ssr)/./node_modules/@tiptap/extension-text/dist/index.js\");\nvar Et = Object.defineProperty;\nvar Ct = (t, e, o) => e in t ? Et(t, e, { enumerable: !0, configurable: !0, writable: !0, value: o }) : t[e] = o;\nvar c = (t, e, o) => (Ct(t, typeof e != \"symbol\" ? e + \"\" : e, o), o);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst ho = {\n  slash_menu: {\n    heading: {\n      title: \"العنوان 1\",\n      subtext: \"يستخدم للعنوان الرئيسي\",\n      aliases: [\"h\", \"heading1\", \"h1\", \"عنوان رئيسي\", \"عنوان 1\"],\n      group: \"العناوين\"\n    },\n    heading_2: {\n      title: \"العنوان 2\",\n      subtext: \"يستخدم للأقسام الرئيسية\",\n      aliases: [\"h2\", \"heading2\", \"subheading\", \"عنوان 2\", \"عنوان فرعي\"],\n      group: \"العناوين\"\n    },\n    heading_3: {\n      title: \"العنوان 3\",\n      subtext: \"يستخدم للأقسام الفرعية وعناوين المجموعات\",\n      aliases: [\"h3\", \"heading3\", \"subheading\", \"عنوان 3\", \"عنوان فرعي\"],\n      group: \"العناوين\"\n    },\n    numbered_list: {\n      title: \"قائمة مرقمة\",\n      subtext: \"يستخدم لعرض قائمة مرقمة\",\n      aliases: [\n        \"ol\",\n        \"li\",\n        \"list\",\n        \"numberedlist\",\n        \"numbered list\",\n        \"قائمة\",\n        \"قائمة مرقمة\"\n      ],\n      group: \"الكتل الأساسية\"\n    },\n    bullet_list: {\n      title: \"قائمة نقاط\",\n      subtext: \"يستخدم لعرض قائمة غير مرتبة\",\n      aliases: [\n        \"ul\",\n        \"li\",\n        \"list\",\n        \"bulletlist\",\n        \"bullet list\",\n        \"قائمة\",\n        \"قائمة نقاط\"\n      ],\n      group: \"الكتل الأساسية\"\n    },\n    check_list: {\n      title: \"قائمة الاختيار\",\n      subtext: \"يستخدم لعرض قائمة مع مربعات الاختيار\",\n      aliases: [\n        \"ul\",\n        \"li\",\n        \"list\",\n        \"checklist\",\n        \"check list\",\n        \"checked list\",\n        \"checkbox\",\n        \"قائمة\",\n        \"قائمة الاختيار\",\n        \"قائمة مربعات الاختيار\"\n      ],\n      group: \"الكتل الأساسية\"\n    },\n    paragraph: {\n      title: \"فقرة\",\n      subtext: \"يستخدم لجسم المستند الخاص بك\",\n      aliases: [\"p\", \"paragraph\", \"فقرة\", \"نص\"],\n      group: \"الكتل الأساسية\"\n    },\n    table: {\n      title: \"جدول\",\n      subtext: \"يستخدم للجداول\",\n      aliases: [\"table\", \"جدول\", \"جداول\"],\n      group: \"متقدم\"\n    },\n    image: {\n      title: \"صورة\",\n      subtext: \"أدرج صورة\",\n      aliases: [\n        \"صورة\",\n        \"رفع الصورة\",\n        \"رفع\",\n        \"image\",\n        \"upload\",\n        \"img\",\n        \"picture\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"الوسائط\"\n    },\n    video: {\n      title: \"فيديو\",\n      subtext: \"أدرج فيديو\",\n      aliases: [\n        \"فيديو\",\n        \"رفع الفيديو\",\n        \"رفع\",\n        \"video\",\n        \"upload\",\n        \"mp4\",\n        \"film\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"الوسائط\"\n    },\n    audio: {\n      title: \"صوت\",\n      subtext: \"أدرج صوت\",\n      aliases: [\n        \"صوت\",\n        \"رفع الصوت\",\n        \"رفع\",\n        \"audio\",\n        \"upload\",\n        \"mp3\",\n        \"sound\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"الوسائط\"\n    },\n    file: {\n      title: \"ملف\",\n      subtext: \"أدرج ملف\",\n      aliases: [\"file\", \"upload\", \"embed\", \"media\", \"url\", \"ملف\", \"رفع\"],\n      group: \"الوسائط\"\n    }\n  },\n  placeholders: {\n    default: \"أدخل النص أو اكتب '/' للأوامر\",\n    heading: \"العنوان\",\n    bulletListItem: \"قائمة\",\n    numberedListItem: \"قائمة\",\n    checkListItem: \"قائمة\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"أضف صورة\"\n    },\n    video: {\n      add_button_text: \"أضف فيديو\"\n    },\n    audio: {\n      add_button_text: \"أضف صوت\"\n    },\n    file: {\n      add_button_text: \"أضف ملف\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"أضف كتلة\",\n    drag_handle_label: \"افتح قائمة الكتل\"\n  },\n  drag_handle: {\n    delete_menuitem: \"حذف\",\n    colors_menuitem: \"الألوان\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"حذف العمود\",\n    delete_row_menuitem: \"حذف الصف\",\n    add_left_menuitem: \"أضف عموداً على اليسار\",\n    add_right_menuitem: \"أضف عموداً على اليمين\",\n    add_above_menuitem: \"أضف صفاً أعلى\",\n    add_below_menuitem: \"أضف صفاً أسفل\"\n  },\n  suggestion_menu: {\n    no_items_title: \"لم يتم العثور على عناصر\",\n    loading: \"جار التحميل...\"\n  },\n  color_picker: {\n    text_title: \"النص\",\n    background_title: \"الخلفية\",\n    colors: {\n      default: \"الافتراضي\",\n      gray: \"رمادي\",\n      brown: \"بني\",\n      red: \"أحمر\",\n      orange: \"برتقالي\",\n      yellow: \"أصفر\",\n      green: \"أخضر\",\n      blue: \"أزرق\",\n      purple: \"بنفسجي\",\n      pink: \"وردي\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"عريض\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"مائل\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"تسطير\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"شطب\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"كود\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"الألوان\"\n    },\n    link: {\n      tooltip: \"إنشاء رابط\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"تعديل التسمية التوضيحية\",\n      input_placeholder: \"تعديل التسمية التوضيحية\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"استبدال الصورة\",\n        video: \"استبدال الفيديو\",\n        audio: \"استبدال الصوت\",\n        file: \"استبدال الملف\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"إعادة تسمية الصورة\",\n        video: \"إعادة تسمية الفيديو\",\n        audio: \"إعادة تسمية الصوت\",\n        file: \"إعادة تسمية الملف\"\n      },\n      input_placeholder: {\n        image: \"إعادة تسمية الصورة\",\n        video: \"إعادة تسمية الفيديو\",\n        audio: \"إعادة تسمية الصوت\",\n        file: \"إعادة تسمية الملف\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"تحميل الصورة\",\n        video: \"تحميل الفيديو\",\n        audio: \"تحميل الصوت\",\n        file: \"تحميل الملف\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"حذف الصورة\",\n        video: \"حذف الفيديو\",\n        audio: \"حذف الصوت\",\n        file: \"حذف الملف\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"تبديل العرض\"\n    },\n    nest: {\n      tooltip: \"تداخل الكتل\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"إلغاء تداخل الكتل\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"محاذاة النص إلى اليسار\"\n    },\n    align_center: {\n      tooltip: \"محاذاة النص إلى الوسط\"\n    },\n    align_right: {\n      tooltip: \"محاذاة النص إلى اليمين\"\n    },\n    align_justify: {\n      tooltip: \"ضبط النص\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"تحميل\",\n      file_placeholder: {\n        image: \"تحميل الصورة\",\n        video: \"تحميل الفيديو\",\n        audio: \"تحميل الصوت\",\n        file: \"تحميل الملف\"\n      },\n      upload_error: \"خطأ: فشل التحميل\"\n    },\n    embed: {\n      title: \"تضمين\",\n      embed_button: {\n        image: \"تضمين الصورة\",\n        video: \"تضمين الفيديو\",\n        audio: \"تضمين الصوت\",\n        file: \"تضمين الملف\"\n      },\n      url_placeholder: \"أدخل الرابط\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"إزالة الرابط\"\n    },\n    edit: {\n      text: \"تعديل الرابط\",\n      tooltip: \"تعديل\"\n    },\n    open: {\n      tooltip: \"افتح في علامة تبويب جديدة\"\n    },\n    form: {\n      title_placeholder: \"تعديل العنوان\",\n      url_placeholder: \"تعديل الرابط\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, Ze = {\n  slash_menu: {\n    heading: {\n      title: \"Heading 1\",\n      subtext: \"Used for a top-level heading\",\n      aliases: [\"h\", \"heading1\", \"h1\"],\n      group: \"Headings\"\n    },\n    heading_2: {\n      title: \"Heading 2\",\n      subtext: \"Used for key sections\",\n      aliases: [\"h2\", \"heading2\", \"subheading\"],\n      group: \"Headings\"\n    },\n    heading_3: {\n      title: \"Heading 3\",\n      subtext: \"Used for subsections and group headings\",\n      aliases: [\"h3\", \"heading3\", \"subheading\"],\n      group: \"Headings\"\n    },\n    numbered_list: {\n      title: \"Numbered List\",\n      subtext: \"Used to display a numbered list\",\n      aliases: [\"ol\", \"li\", \"list\", \"numberedlist\", \"numbered list\"],\n      group: \"Basic blocks\"\n    },\n    bullet_list: {\n      title: \"Bullet List\",\n      subtext: \"Used to display an unordered list\",\n      aliases: [\"ul\", \"li\", \"list\", \"bulletlist\", \"bullet list\"],\n      group: \"Basic blocks\"\n    },\n    check_list: {\n      title: \"Check List\",\n      subtext: \"Used to display a list with checkboxes\",\n      aliases: [\n        \"ul\",\n        \"li\",\n        \"list\",\n        \"checklist\",\n        \"check list\",\n        \"checked list\",\n        \"checkbox\"\n      ],\n      group: \"Basic blocks\"\n    },\n    paragraph: {\n      title: \"Paragraph\",\n      subtext: \"Used for the body of your document\",\n      aliases: [\"p\", \"paragraph\"],\n      group: \"Basic blocks\"\n    },\n    table: {\n      title: \"Table\",\n      subtext: \"Used for tables\",\n      aliases: [\"table\"],\n      group: \"Advanced\"\n    },\n    image: {\n      title: \"Image\",\n      subtext: \"Insert an image\",\n      aliases: [\n        \"image\",\n        \"imageUpload\",\n        \"upload\",\n        \"img\",\n        \"picture\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Media\"\n    },\n    video: {\n      title: \"Video\",\n      subtext: \"Insert a video\",\n      aliases: [\n        \"video\",\n        \"videoUpload\",\n        \"upload\",\n        \"mp4\",\n        \"film\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Media\"\n    },\n    audio: {\n      title: \"Audio\",\n      subtext: \"Insert audio\",\n      aliases: [\n        \"audio\",\n        \"audioUpload\",\n        \"upload\",\n        \"mp3\",\n        \"sound\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Media\"\n    },\n    file: {\n      title: \"File\",\n      subtext: \"Insert a file\",\n      aliases: [\"file\", \"upload\", \"embed\", \"media\", \"url\"],\n      group: \"Media\"\n    }\n  },\n  placeholders: {\n    default: \"Enter text or type '/' for commands\",\n    heading: \"Heading\",\n    bulletListItem: \"List\",\n    numberedListItem: \"List\",\n    checkListItem: \"List\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"Add image\"\n    },\n    video: {\n      add_button_text: \"Add video\"\n    },\n    audio: {\n      add_button_text: \"Add audio\"\n    },\n    file: {\n      add_button_text: \"Add file\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"Add block\",\n    drag_handle_label: \"Open block menu\"\n  },\n  drag_handle: {\n    delete_menuitem: \"Delete\",\n    colors_menuitem: \"Colors\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"Delete column\",\n    delete_row_menuitem: \"Delete row\",\n    add_left_menuitem: \"Add column left\",\n    add_right_menuitem: \"Add column right\",\n    add_above_menuitem: \"Add row above\",\n    add_below_menuitem: \"Add row below\"\n  },\n  suggestion_menu: {\n    no_items_title: \"No items found\",\n    loading: \"Loading…\"\n  },\n  color_picker: {\n    text_title: \"Text\",\n    background_title: \"Background\",\n    colors: {\n      default: \"Default\",\n      gray: \"Gray\",\n      brown: \"Brown\",\n      red: \"Red\",\n      orange: \"Orange\",\n      yellow: \"Yellow\",\n      green: \"Green\",\n      blue: \"Blue\",\n      purple: \"Purple\",\n      pink: \"Pink\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"Bold\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"Italic\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"Underline\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"Strike\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"Code\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"Colors\"\n    },\n    link: {\n      tooltip: \"Create link\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"Edit caption\",\n      input_placeholder: \"Edit caption\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"Replace image\",\n        video: \"Replace video\",\n        audio: \"Replace audio\",\n        file: \"Replace file\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"Rename image\",\n        video: \"Rename video\",\n        audio: \"Rename audio\",\n        file: \"Rename file\"\n      },\n      input_placeholder: {\n        image: \"Rename image\",\n        video: \"Rename video\",\n        audio: \"Rename audio\",\n        file: \"Rename file\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"Download image\",\n        video: \"Download video\",\n        audio: \"Download audio\",\n        file: \"Download file\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"Delete image\",\n        video: \"Delete video\",\n        audio: \"Delete audio\",\n        file: \"Delete file\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"Toggle preview\"\n    },\n    nest: {\n      tooltip: \"Nest block\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"Unnest block\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"Align text left\"\n    },\n    align_center: {\n      tooltip: \"Align text center\"\n    },\n    align_right: {\n      tooltip: \"Align text right\"\n    },\n    align_justify: {\n      tooltip: \"Justify text\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"Upload\",\n      file_placeholder: {\n        image: \"Upload image\",\n        video: \"Upload video\",\n        audio: \"Upload audio\",\n        file: \"Upload file\"\n      },\n      upload_error: \"Error: Upload failed\"\n    },\n    embed: {\n      title: \"Embed\",\n      embed_button: {\n        image: \"Embed image\",\n        video: \"Embed video\",\n        audio: \"Embed audio\",\n        file: \"Embed file\"\n      },\n      url_placeholder: \"Enter URL\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"Remove link\"\n    },\n    edit: {\n      text: \"Edit link\",\n      tooltip: \"Edit\"\n    },\n    open: {\n      tooltip: \"Open in new tab\"\n    },\n    form: {\n      title_placeholder: \"Edit title\",\n      url_placeholder: \"Edit URL\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, mo = {\n  slash_menu: {\n    heading: {\n      title: \"Titre 1\",\n      subtext: \"Utilisé pour un titre de premier niveau\",\n      aliases: [\"h\", \"titre1\", \"h1\"],\n      group: \"Titres\"\n    },\n    heading_2: {\n      title: \"Titre 2\",\n      subtext: \"Utilisé pour les sections clés\",\n      aliases: [\"h2\", \"titre2\", \"sous-titre\"],\n      group: \"Titres\"\n    },\n    heading_3: {\n      title: \"Titre 3\",\n      subtext: \"Utilisé pour les sous-sections et les titres de groupe\",\n      aliases: [\"h3\", \"titre3\", \"sous-titre\"],\n      group: \"Titres\"\n    },\n    numbered_list: {\n      title: \"Liste Numérotée\",\n      subtext: \"Utilisé pour afficher une liste numérotée\",\n      aliases: [\"ol\", \"li\", \"liste\", \"listenumérotée\", \"liste numérotée\"],\n      group: \"Blocs de base\"\n    },\n    bullet_list: {\n      title: \"Liste à Puces\",\n      subtext: \"Utilisé pour afficher une liste non ordonnée\",\n      aliases: [\"ul\", \"li\", \"liste\", \"listeàpuces\", \"liste à puces\"],\n      group: \"Blocs de base\"\n    },\n    check_list: {\n      title: \"Liste de vérification\",\n      subtext: \"Utilisé pour afficher une liste avec des cases à cocher\",\n      aliases: [\n        \"ul\",\n        \"li\",\n        \"liste\",\n        \"liste de vérification\",\n        \"liste cochée\",\n        \"case à cocher\"\n      ],\n      group: \"Blocs de base\"\n    },\n    paragraph: {\n      title: \"Paragraphe\",\n      subtext: \"Utilisé pour le corps de votre document\",\n      aliases: [\"p\", \"paragraphe\"],\n      group: \"Blocs de base\"\n    },\n    table: {\n      title: \"Tableau\",\n      subtext: \"Utilisé pour les tableaux\",\n      aliases: [\"tableau\"],\n      group: \"Avancé\"\n    },\n    image: {\n      title: \"Image\",\n      subtext: \"Insérer une image\",\n      aliases: [\n        \"image\",\n        \"uploadImage\",\n        \"télécharger\",\n        \"img\",\n        \"photo\",\n        \"média\",\n        \"url\"\n      ],\n      group: \"Médias\"\n    },\n    video: {\n      title: \"Vidéo\",\n      subtext: \"Insérer une vidéo\",\n      aliases: [\n        \"vidéo\",\n        \"téléchargerVidéo\",\n        \"téléverser\",\n        \"mp4\",\n        \"film\",\n        \"média\",\n        \"url\"\n      ],\n      group: \"Média\"\n    },\n    audio: {\n      title: \"Audio\",\n      subtext: \"Insérer un audio\",\n      aliases: [\n        \"audio\",\n        \"téléchargerAudio\",\n        \"téléverser\",\n        \"mp3\",\n        \"son\",\n        \"média\",\n        \"url\"\n      ],\n      group: \"Média\"\n    },\n    file: {\n      title: \"Fichier\",\n      subtext: \"Insérer un fichier\",\n      aliases: [\"fichier\", \"téléverser\", \"intégrer\", \"média\", \"url\"],\n      group: \"Média\"\n    }\n  },\n  placeholders: {\n    default: \"Entrez du texte ou tapez '/' pour les commandes\",\n    heading: \"Titre\",\n    bulletListItem: \"Liste\",\n    numberedListItem: \"Liste\",\n    checkListItem: \"Liste\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"Ajouter une image\"\n    },\n    video: {\n      add_button_text: \"Ajouter une vidéo\"\n    },\n    audio: {\n      add_button_text: \"Ajouter un audio\"\n    },\n    file: {\n      add_button_text: \"Ajouter un fichier\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"Ajouter un bloc\",\n    drag_handle_label: \"Ouvrir le menu du bloc\"\n  },\n  drag_handle: {\n    delete_menuitem: \"Supprimer\",\n    colors_menuitem: \"Couleurs\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"Supprimer la colonne\",\n    delete_row_menuitem: \"Supprimer la ligne\",\n    add_left_menuitem: \"Ajouter une colonne à gauche\",\n    add_right_menuitem: \"Ajouter une colonne à droite\",\n    add_above_menuitem: \"Ajouter une ligne au-dessus\",\n    add_below_menuitem: \"Ajouter une ligne en dessous\"\n  },\n  suggestion_menu: {\n    no_items_title: \"Aucun élément trouvé\",\n    loading: \"Chargement…\"\n  },\n  color_picker: {\n    text_title: \"Texte\",\n    background_title: \"Fond\",\n    colors: {\n      default: \"Défaut\",\n      gray: \"Gris\",\n      brown: \"Marron\",\n      red: \"Rouge\",\n      orange: \"Orange\",\n      yellow: \"Jaune\",\n      green: \"Vert\",\n      blue: \"Bleu\",\n      purple: \"Violet\",\n      pink: \"Rose\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"Gras\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"Italique\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"Souligner\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"Barré\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"Code\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"Couleurs\"\n    },\n    link: {\n      tooltip: \"Créer un lien\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"Modifier la légende\",\n      input_placeholder: \"Modifier la légende\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"Remplacer l'image\",\n        video: \"Remplacer la vidéo\",\n        audio: \"Remplacer l'audio\",\n        file: \"Remplacer le fichier\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"Renommer l'image\",\n        video: \"Renommer la vidéo\",\n        audio: \"Renommer l'audio\",\n        file: \"Renommer le fichier\"\n      },\n      input_placeholder: {\n        image: \"Renommer l'image\",\n        video: \"Renommer la vidéo\",\n        audio: \"Renommer l'audio\",\n        file: \"Renommer le fichier\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"Télécharger l'image\",\n        video: \"Télécharger la vidéo\",\n        audio: \"Télécharger l'audio\",\n        file: \"Télécharger le fichier\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"Supprimer l'image\",\n        video: \"Supprimer la vidéo\",\n        audio: \"Supprimer l'audio\",\n        file: \"Supprimer le fichier\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"Basculer l'aperçu\"\n    },\n    nest: {\n      tooltip: \"Emboîter le bloc\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"Démboîter le bloc\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"Aligner le texte à gauche\"\n    },\n    align_center: {\n      tooltip: \"Aligner le texte au centre\"\n    },\n    align_right: {\n      tooltip: \"Aligner le texte à droite\"\n    },\n    align_justify: {\n      tooltip: \"Justifier le texte\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"Télécharger\",\n      file_placeholder: {\n        image: \"Télécharger une image\",\n        video: \"Télécharger une vidéo\",\n        audio: \"Télécharger un fichier audio\",\n        file: \"Télécharger un fichier\"\n      },\n      upload_error: \"Erreur : Échec du téléchargement\"\n    },\n    embed: {\n      title: \"Intégrer\",\n      embed_button: {\n        image: \"Intégrer une image\",\n        video: \"Intégrer une vidéo\",\n        audio: \"Intégrer un fichier audio\",\n        file: \"Intégrer un fichier\"\n      },\n      url_placeholder: \"Entrez l'URL\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"Supprimer le lien\"\n    },\n    edit: {\n      text: \"Modifier le lien\",\n      tooltip: \"Modifier\"\n    },\n    open: {\n      tooltip: \"Ouvrir dans un nouvel onglet\"\n    },\n    form: {\n      title_placeholder: \"Modifier le titre\",\n      url_placeholder: \"Modifier l'URL\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, fo = {\n  slash_menu: {\n    heading: {\n      title: \"Fyrirsögn 1\",\n      subtext: \"Notað fyrir efstu fyrirsögn\",\n      aliases: [\"h\", \"fyrirsogn1\", \"h1\"],\n      group: \"Fyrirsagnir\"\n    },\n    heading_2: {\n      title: \"Fyrirsögn 2\",\n      subtext: \"Notað fyrir lykilhluta\",\n      aliases: [\"h2\", \"fyrirsogn2\", \"undirfyrirsogn\"],\n      group: \"Fyrirsagnir\"\n    },\n    heading_3: {\n      title: \"Fyrirsögn 3\",\n      subtext: \"Notað fyrir undirhluta og hópfyrirsagnir\",\n      aliases: [\"h3\", \"fyrirsogn3\", \"undirfyrirsogn\"],\n      group: \"Fyrirsagnir\"\n    },\n    numbered_list: {\n      title: \"Númeruð listi\",\n      subtext: \"Notað til að birta númeraðan lista\",\n      aliases: [\"ol\", \"li\", \"listi\", \"numeradurlisti\"],\n      group: \"Grunnblokkar\"\n    },\n    bullet_list: {\n      title: \"Punktalisti\",\n      subtext: \"Notað til að birta óraðaðan lista\",\n      aliases: [\"ul\", \"li\", \"listi\", \"punktalisti\"],\n      group: \"Grunnblokkar\"\n    },\n    check_list: {\n      title: \"Athugunarlisti\",\n      subtext: \"Notað til að sýna lista með gátreitum\",\n      aliases: [\"ul\", \"li\", \"listi\", \"athugunarlisti\", \"merktur listi\"],\n      group: \"Grunnblokkar\"\n    },\n    paragraph: {\n      title: \"Málsgrein\",\n      subtext: \"Notað fyrir meginmál skjalsins\",\n      aliases: [\"p\", \"malsgrein\"],\n      group: \"Grunnblokkar\"\n    },\n    table: {\n      title: \"Tafla\",\n      subtext: \"Notað fyrir töflur\",\n      aliases: [\"tafla\"],\n      group: \"Ítarlegt\"\n    },\n    image: {\n      title: \"Mynd\",\n      subtext: \"Settu inn mynd\",\n      aliases: [\n        \"mynd\",\n        \"myndaupphlaed\",\n        \"upphlaed\",\n        \"img\",\n        \"mynd\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Miðlar\"\n    },\n    video: {\n      title: \"Myndband\",\n      subtext: \"Setja inn myndband\",\n      aliases: [\n        \"myndband\",\n        \"videoUpphala\",\n        \"hlaða upp\",\n        \"mp4\",\n        \"kvikmynd\",\n        \"miðill\",\n        \"url\"\n      ],\n      group: \"Miðill\"\n    },\n    audio: {\n      title: \"Hljóð\",\n      subtext: \"Setja inn hljóð\",\n      aliases: [\n        \"hljóð\",\n        \"audioUpphala\",\n        \"hlaða upp\",\n        \"mp3\",\n        \"hljóð\",\n        \"miðill\",\n        \"url\"\n      ],\n      group: \"Miðlar\"\n    },\n    file: {\n      title: \"Skrá\",\n      subtext: \"Setja inn skrá\",\n      aliases: [\"skrá\", \"hlaða upp\", \"fella inn\", \"miðill\", \"url\"],\n      group: \"Miðlar\"\n    }\n  },\n  placeholders: {\n    default: \"Sláðu inn texta eða skrifaðu '/' fyrir skipanir\",\n    heading: \"Fyrirsögn\",\n    bulletListItem: \"Listi\",\n    numberedListItem: \"Listi\",\n    checkListItem: \"Listi\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"Bæta við mynd\"\n    },\n    video: {\n      add_button_text: \"Bæta við myndbandi\"\n    },\n    audio: {\n      add_button_text: \"Bæta við hljóði\"\n    },\n    file: {\n      add_button_text: \"Bæta við skrá\"\n    }\n  },\n  side_menu: {\n    add_block_label: \"Bæta við blokki\",\n    drag_handle_label: \"Opna blokkarvalmynd\"\n  },\n  drag_handle: {\n    delete_menuitem: \"Eyða\",\n    colors_menuitem: \"Litir\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"Eyða dálki\",\n    delete_row_menuitem: \"Eyða röð\",\n    add_left_menuitem: \"Bæta dálki við til vinstri\",\n    add_right_menuitem: \"Bæta dálki við til hægri\",\n    add_above_menuitem: \"Bæta röð við fyrir ofan\",\n    add_below_menuitem: \"Bæta röð við fyrir neðan\"\n  },\n  suggestion_menu: {\n    no_items_title: \"Engir hlutir fundust\",\n    loading: \"Hleður…\"\n  },\n  color_picker: {\n    text_title: \"Texti\",\n    background_title: \"Bakgrunnur\",\n    colors: {\n      default: \"Sjálfgefið\",\n      gray: \"Grár\",\n      brown: \"Brúnn\",\n      red: \"Rauður\",\n      orange: \"Appelsínugulur\",\n      yellow: \"Gulur\",\n      green: \"Grænn\",\n      blue: \"Blár\",\n      purple: \"Fjólublár\",\n      pink: \"Bleikur\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"Feitletrað\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"Skáletrað\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"Undirstrikað\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"Yfirstrikað\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"Kóði\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"Litir\"\n    },\n    link: {\n      tooltip: \"Búa til tengil\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"Breyta myndatexta\",\n      input_placeholder: \"Breyta myndatexta\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"Skipta um mynd\",\n        video: \"Skipta um myndband\",\n        audio: \"Skipta um hljóð\",\n        file: \"Skipta um skrá\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"Endurnefna mynd\",\n        video: \"Endurnefna myndband\",\n        audio: \"Endurnefna hljóð\",\n        file: \"Endurnefna skrá\"\n      },\n      input_placeholder: {\n        image: \"Endurnefna mynd\",\n        video: \"Endurnefna myndband\",\n        audio: \"Endurnefna hljóð\",\n        file: \"Endurnefna skrá\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"Sækja mynd\",\n        video: \"Sækja myndband\",\n        audio: \"Sækja hljóð\",\n        file: \"Sækja skrá\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"Eyða mynd\",\n        video: \"Eyða myndbandi\",\n        audio: \"Eyða hljóði\",\n        file: \"Eyða skrá\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"Skipta um forskoðun\"\n    },\n    nest: {\n      tooltip: \"Fella blokk saman\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"Afþýða blokk\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"Vinstrijafna texta\"\n    },\n    align_center: {\n      tooltip: \"Miðjustilla texta\"\n    },\n    align_right: {\n      tooltip: \"Hægrijafna texta\"\n    },\n    align_justify: {\n      tooltip: \"Jafna texta\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"Hlaða upp\",\n      file_placeholder: {\n        image: \"Hlaða upp mynd\",\n        video: \"Hlaða upp myndband\",\n        audio: \"Hlaða upp hljóð\",\n        file: \"Hlaða upp skrá\"\n      },\n      upload_error: \"Villa: Upphleðsla mistókst\"\n    },\n    embed: {\n      title: \"Innsetja\",\n      embed_button: {\n        image: \"Innsetja mynd\",\n        video: \"Innsetja myndband\",\n        audio: \"Innsetja hljóð\",\n        file: \"Innsetja skrá\"\n      },\n      url_placeholder: \"Sláðu inn URL\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"Fjarlægja tengil\"\n    },\n    edit: {\n      text: \"Breyta tengli\",\n      tooltip: \"Breyta\"\n    },\n    open: {\n      tooltip: \"Opna í nýjum flipa\"\n    },\n    form: {\n      title_placeholder: \"Breyta titli\",\n      url_placeholder: \"Breyta URL\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, go = {\n  slash_menu: {\n    heading: {\n      title: \"見出し１\",\n      subtext: \"トップレベルの見出しに使用\",\n      aliases: [\"h\", \"見出し１\", \"h1\", \"大見出し\"],\n      group: \"見出し\"\n    },\n    heading_2: {\n      title: \"見出し２\",\n      subtext: \"重要なセクションに使用\",\n      aliases: [\"h2\", \"見出し2\", \"subheading\", \"中見出し\"],\n      group: \"見出し\"\n    },\n    heading_3: {\n      title: \"見出し３\",\n      subtext: \"セクションやグループの見出しに使用\",\n      aliases: [\"h3\", \"見出し3\", \"subheading\", \"小見出し\"],\n      group: \"見出し\"\n    },\n    numbered_list: {\n      title: \"番号付リスト\",\n      subtext: \"番号付リストを表示するために使用\",\n      aliases: [\n        \"ol\",\n        \"li\",\n        \"numberedlist\",\n        \"numbered list\",\n        \"リスト\",\n        \"番号付リスト\",\n        \"番号 リスト\"\n      ],\n      group: \"基本ブロック\"\n    },\n    bullet_list: {\n      title: \"箇条書き\",\n      subtext: \"箇条書きを表示するために使用\",\n      aliases: [\n        \"ul\",\n        \"li\",\n        \"bulletlist\",\n        \"bullet list\",\n        \"リスト\",\n        \"箇条書きリスト\"\n      ],\n      group: \"基本ブロック\"\n    },\n    check_list: {\n      title: \"チェックリスト\",\n      subtext: \"チェックボックス付きリストを表示するために使用されます\",\n      aliases: [\n        \"ul\",\n        \"li\",\n        \"list\",\n        \"checklist\",\n        \"checked list\",\n        \"リスト\",\n        \"チェックリスト\",\n        \"チェックされたリスト\"\n      ],\n      group: \"基本ブロック\"\n    },\n    paragraph: {\n      title: \"標準テキスト\",\n      subtext: \"本文に使用\",\n      aliases: [\"p\", \"paragraph\", \"標準テキスト\"],\n      group: \"基本ブロック\"\n    },\n    table: {\n      title: \"表\",\n      subtext: \"表に使用\",\n      aliases: [\"table\", \"表\", \"テーブル\"],\n      group: \"高度なブロック\"\n    },\n    image: {\n      title: \"画像\",\n      subtext: \"画像を挿入\",\n      aliases: [\n        \"image\",\n        \"imageUpload\",\n        \"upload\",\n        \"img\",\n        \"picture\",\n        \"media\",\n        \"url\",\n        \"画像\"\n      ],\n      group: \"メディア\"\n    },\n    video: {\n      title: \"ビデオ\",\n      subtext: \"ビデオを挿入\",\n      aliases: [\n        \"video\",\n        \"videoUpload\",\n        \"upload\",\n        \"mp4\",\n        \"film\",\n        \"media\",\n        \"url\",\n        \"ビデオ\"\n      ],\n      group: \"メディア\"\n    },\n    audio: {\n      title: \"オーディオ\",\n      subtext: \"オーディオを挿入\",\n      aliases: [\n        \"audio\",\n        \"audioUpload\",\n        \"upload\",\n        \"mp3\",\n        \"sound\",\n        \"media\",\n        \"url\",\n        \"オーディオ\"\n      ],\n      group: \"メディア\"\n    },\n    file: {\n      title: \"ファイル\",\n      subtext: \"ファイルを挿入\",\n      aliases: [\"file\", \"upload\", \"embed\", \"media\", \"url\", \"ファイル\"],\n      group: \"メディア\"\n    }\n  },\n  placeholders: {\n    default: \"テキストを入力するか'/' を入力してコマンド選択\",\n    heading: \"見出し\",\n    bulletListItem: \"リストを追加\",\n    numberedListItem: \"リストを追加\",\n    checkListItem: \"リストを追加\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"画像を追加\"\n    },\n    video: {\n      add_button_text: \"ビデオを追加\"\n    },\n    audio: {\n      add_button_text: \"オーディオを追加\"\n    },\n    file: {\n      add_button_text: \"ファイルを追加\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"ブロックを追加\",\n    drag_handle_label: \"ブロックメニュー\"\n  },\n  drag_handle: {\n    delete_menuitem: \"削除\",\n    colors_menuitem: \"色を変更\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"列を削除\",\n    delete_row_menuitem: \"行を削除\",\n    add_left_menuitem: \"左に列を追加\",\n    add_right_menuitem: \"右に列を追加\",\n    add_above_menuitem: \"上に行を追加\",\n    add_below_menuitem: \"下に行を追加\"\n  },\n  suggestion_menu: {\n    no_items_title: \"アイテムが見つかりません\",\n    loading: \"読込中…\"\n  },\n  color_picker: {\n    text_title: \"文字色\",\n    background_title: \"背景色\",\n    colors: {\n      default: \"デフォルト\",\n      gray: \"グレー\",\n      brown: \"茶色\",\n      red: \"赤\",\n      orange: \"オレンジ\",\n      yellow: \"黄色\",\n      green: \"緑\",\n      blue: \"青\",\n      purple: \"紫\",\n      pink: \"ピンク\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"太字\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"斜体\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"下線\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"打ち消し\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"コード\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"色\"\n    },\n    link: {\n      tooltip: \"リンク\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"キャプションを編集\",\n      input_placeholder: \"キャプションを編集\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"画像を置換\",\n        video: \"ビデオを置換\",\n        audio: \"オーディオを置換\",\n        file: \"ファイルを置換\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"画像の名前を変更\",\n        video: \"ビデオの名前を変更\",\n        audio: \"オーディオの名前を変更\",\n        file: \"ファイルの名前を変更\"\n      },\n      input_placeholder: {\n        image: \"画像の名前を変更\",\n        video: \"ビデオの名前を変更\",\n        audio: \"オーディオの名前を変更\",\n        file: \"ファイルの名前を変更\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"画像をダウンロード\",\n        video: \"ビデオをダウンロード\",\n        audio: \"オーディオをダウンロード\",\n        file: \"ファイルをダウンロード\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"画像を削除\",\n        video: \"ビデオを削除\",\n        audio: \"オーディオを削除\",\n        file: \"ファイルを削除\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"プレビューの切り替え\"\n    },\n    nest: {\n      tooltip: \"インデント増\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"インデント減\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"左揃え\"\n    },\n    align_center: {\n      tooltip: \"中央揃え\"\n    },\n    align_right: {\n      tooltip: \"右揃え\"\n    },\n    align_justify: {\n      tooltip: \"両端揃え\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"アップロード\",\n      file_placeholder: {\n        image: \"画像をアップロード\",\n        video: \"ビデオをアップロード\",\n        audio: \"オーディオをアップロード\",\n        file: \"ファイルをアップロード\"\n      },\n      upload_error: \"エラー: アップロードが失敗しました\"\n    },\n    embed: {\n      title: \"埋め込み\",\n      embed_button: {\n        image: \"画像を埋め込む\",\n        video: \"ビデオを埋め込む\",\n        audio: \"オーディオを埋め込む\",\n        file: \"ファイルを埋め込む\"\n      },\n      url_placeholder: \"URLを入力\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"リンクを解除\"\n    },\n    edit: {\n      text: \"リンクを編集\",\n      tooltip: \"編集\"\n    },\n    open: {\n      tooltip: \"新しいタブでリンクを開く\"\n    },\n    form: {\n      title_placeholder: \"タイトルを編集\",\n      url_placeholder: \"URLを編集\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, bo = {\n  slash_menu: {\n    heading: {\n      title: \"제목1\",\n      subtext: \"섹션 제목(대)\",\n      aliases: [\"h\", \"제목1\", \"h1\", \"대제목\"],\n      group: \"제목\"\n    },\n    heading_2: {\n      title: \"제목2\",\n      subtext: \"섹션 제목(중)\",\n      aliases: [\"h2\", \"제목2\", \"중제목\"],\n      group: \"제목\"\n    },\n    heading_3: {\n      title: \"제목3\",\n      subtext: \"섹션 제목(소)\",\n      aliases: [\"h3\", \"제목3\", \"subheading\"],\n      group: \"제목\"\n    },\n    numbered_list: {\n      title: \"번호 매기기 목록\",\n      subtext: \"번호가 매겨진 목록을 추가합니다.\",\n      aliases: [\"ol\", \"li\", \"목록\", \"번호 매기기 목록\", \"번호 목록\"],\n      group: \"기본 블록\"\n    },\n    bullet_list: {\n      title: \"글머리 기호 목록\",\n      subtext: \"간단한 글머리 기호를 추가합니다.\",\n      aliases: [\"ul\", \"li\", \"목록\", \"글머리 기호 목록\", \"글머리 목록\"],\n      group: \"기본 블록\"\n    },\n    check_list: {\n      title: \"체크리스트\",\n      subtext: \"체크박스가 있는 목록을 표시하는 데 사용\",\n      aliases: [\n        \"ul\",\n        \"li\",\n        \"목록\",\n        \"체크리스트\",\n        \"체크 리스트\",\n        \"체크된 목록\",\n        \"체크박스\"\n      ],\n      group: \"기본 블록\"\n    },\n    paragraph: {\n      title: \"본문\",\n      subtext: \"일반 텍스트\",\n      aliases: [\"p\", \"paragraph\", \"본문\"],\n      group: \"기본 블록\"\n    },\n    table: {\n      title: \"표\",\n      subtext: \"간단한 표를 추가합니다.\",\n      aliases: [\"표\"],\n      group: \"고급\"\n    },\n    image: {\n      title: \"이미지\",\n      subtext: \"이미지 파일을 업로드합니다.\",\n      aliases: [\n        \"image\",\n        \"imageUpload\",\n        \"upload\",\n        \"img\",\n        \"picture\",\n        \"media\",\n        \"이미지\",\n        \"url\"\n      ],\n      group: \"미디어\"\n    },\n    video: {\n      title: \"비디오\",\n      subtext: \"비디오 삽입\",\n      aliases: [\n        \"video\",\n        \"videoUpload\",\n        \"upload\",\n        \"mp4\",\n        \"film\",\n        \"media\",\n        \"동영상\",\n        \"url\"\n      ],\n      group: \"미디어\"\n    },\n    audio: {\n      title: \"오디오\",\n      subtext: \"오디오 삽입\",\n      aliases: [\n        \"audio\",\n        \"audioUpload\",\n        \"upload\",\n        \"mp3\",\n        \"sound\",\n        \"media\",\n        \"오디오\",\n        \"url\"\n      ],\n      group: \"미디어\"\n    },\n    file: {\n      title: \"파일\",\n      subtext: \"파일 삽입\",\n      aliases: [\"file\", \"upload\", \"embed\", \"media\", \"파일\", \"url\"],\n      group: \"미디어\"\n    }\n  },\n  placeholders: {\n    default: \"텍스트를 입력하거나 /를 입력하여 명령을 입력하세요.\",\n    heading: \"제목\",\n    bulletListItem: \"목록\",\n    numberedListItem: \"목록\",\n    checkListItem: \"목록\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"이미지 추가\"\n    },\n    video: {\n      add_button_text: \"비디오 추가\"\n    },\n    audio: {\n      add_button_text: \"오디오 추가\"\n    },\n    file: {\n      add_button_text: \"파일 추가\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"블록 추가\",\n    drag_handle_label: \"블록 메뉴 열기\"\n  },\n  drag_handle: {\n    delete_menuitem: \"삭제\",\n    colors_menuitem: \"색깔\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"열 1개 삭제\",\n    delete_row_menuitem: \"행 삭제\",\n    add_left_menuitem: \"왼쪽에 열 1개 추가\",\n    add_right_menuitem: \"오른쪽에 열 1개 추가\",\n    add_above_menuitem: \"위에 행 1개 추가\",\n    add_below_menuitem: \"아래에 행 1개 추가\"\n  },\n  suggestion_menu: {\n    no_items_title: \"항목을 찾을 수 없음\",\n    loading: \"로딩 중…\"\n  },\n  color_picker: {\n    text_title: \"텍스트\",\n    background_title: \"배경\",\n    colors: {\n      default: \"기본\",\n      gray: \"회색\",\n      brown: \"갈색\",\n      red: \"빨간색\",\n      orange: \"주황색\",\n      yellow: \"노란색\",\n      green: \"녹색\",\n      blue: \"파란색\",\n      purple: \"보라색\",\n      pink: \"분홍색\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"진하게\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"기울임\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"밑줄\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"취소선\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"코드\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"색깔\"\n    },\n    link: {\n      tooltip: \"링크 만들기\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"이미지 캡션 수정\",\n      input_placeholder: \"이미지 캡션 수정\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"이미지 교체\",\n        video: \"비디오 교체\",\n        audio: \"오디오 교체\",\n        file: \"파일 교체\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"이미지 이름 변경\",\n        video: \"비디오 이름 변경\",\n        audio: \"오디오 이름 변경\",\n        file: \"파일 이름 변경\"\n      },\n      input_placeholder: {\n        image: \"이미지 이름 변경\",\n        video: \"비디오 이름 변경\",\n        audio: \"오디오 이름 변경\",\n        file: \"파일 이름 변경\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"이미지 다운로드\",\n        video: \"비디오 다운로드\",\n        audio: \"오디오 다운로드\",\n        file: \"파일 다운로드\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"이미지 삭제\",\n        video: \"비디오 삭제\",\n        audio: \"오디오 삭제\",\n        file: \"파일 삭제\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"미리보기 전환\"\n    },\n    nest: {\n      tooltip: \"중첩 블록\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"비중첩 블록\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"텍스트 왼쪽 맞춤\"\n    },\n    align_center: {\n      tooltip: \"텍스트 가운데 맞춤\"\n    },\n    align_right: {\n      tooltip: \"텍스트 오른쪽 맞춤\"\n    },\n    align_justify: {\n      tooltip: \"텍스트 양쪽 맞춤\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"업로드\",\n      file_placeholder: {\n        image: \"이미지 업로드\",\n        video: \"비디오 업로드\",\n        audio: \"오디오 업로드\",\n        file: \"파일 업로드\"\n      },\n      upload_error: \"오류: 업로드 실패\"\n    },\n    embed: {\n      title: \"임베드\",\n      embed_button: {\n        image: \"이미지 삽입\",\n        video: \"비디오 삽입\",\n        audio: \"오디오 삽입\",\n        file: \"파일 삽입\"\n      },\n      url_placeholder: \"URL을 입력하세요.\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"링크 삭제\"\n    },\n    edit: {\n      text: \"링크 수정\",\n      tooltip: \"수정\"\n    },\n    open: {\n      tooltip: \"새 탭으로 열기\"\n    },\n    form: {\n      title_placeholder: \"제목 수정\",\n      url_placeholder: \"URL 수정\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, ko = {\n  slash_menu: {\n    heading: {\n      title: \"Kop 1\",\n      subtext: \"Gebruikt voor een hoofdkop\",\n      aliases: [\"h\", \"kop1\", \"h1\"],\n      group: \"Koppen\"\n    },\n    heading_2: {\n      title: \"Kop 2\",\n      subtext: \"Gebruikt voor belangrijke secties\",\n      aliases: [\"h2\", \"kop2\", \"subkop\"],\n      group: \"Koppen\"\n    },\n    heading_3: {\n      title: \"Kop 3\",\n      subtext: \"Gebruikt voor subsecties en groepskoppen\",\n      aliases: [\"h3\", \"kop3\", \"subkop\"],\n      group: \"Koppen\"\n    },\n    numbered_list: {\n      title: \"Genummerde Lijst\",\n      subtext: \"Gebruikt om een genummerde lijst weer te geven\",\n      aliases: [\"ol\", \"li\", \"lijst\", \"genummerdelijst\", \"genummerde lijst\"],\n      group: \"Basisblokken\"\n    },\n    bullet_list: {\n      title: \"Puntenlijst\",\n      subtext: \"Gebruikt om een ongeordende lijst weer te geven\",\n      aliases: [\"ul\", \"li\", \"lijst\", \"puntenlijst\", \"punten lijst\"],\n      group: \"Basisblokken\"\n    },\n    check_list: {\n      title: \"Controlelijst\",\n      subtext: \"Gebruikt om een lijst met selectievakjes weer te geven\",\n      aliases: [\"ul\", \"li\", \"lijst\", \"aangevinkte lijst\", \"selectievakje\"],\n      group: \"Basisblokken\"\n    },\n    paragraph: {\n      title: \"Paragraaf\",\n      subtext: \"Gebruikt voor de hoofdtekst van uw document\",\n      aliases: [\"p\", \"paragraaf\"],\n      group: \"Basisblokken\"\n    },\n    table: {\n      title: \"Tabel\",\n      subtext: \"Gebruikt voor tabellen\",\n      aliases: [\"tabel\"],\n      group: \"Geavanceerd\"\n    },\n    image: {\n      title: \"Afbeelding\",\n      subtext: \"Voeg een afbeelding in\",\n      aliases: [\n        \"afbeelding\",\n        \"imageUpload\",\n        \"upload\",\n        \"img\",\n        \"foto\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Media\"\n    },\n    video: {\n      title: \"Video\",\n      subtext: \"Voeg een video in\",\n      aliases: [\n        \"video\",\n        \"videoUploaden\",\n        \"upload\",\n        \"mp4\",\n        \"film\",\n        \"media\",\n        \"url\",\n        \"drive\",\n        \"dropbox\"\n      ],\n      group: \"Media\"\n    },\n    audio: {\n      title: \"Audio\",\n      subtext: \"Voeg audio in\",\n      aliases: [\n        \"audio\",\n        \"audioUploaden\",\n        \"upload\",\n        \"mp3\",\n        \"geluid\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Media\"\n    },\n    file: {\n      title: \"Bestand\",\n      subtext: \"Voeg een bestand in\",\n      aliases: [\"bestand\", \"upload\", \"insluiten\", \"media\", \"url\"],\n      group: \"Media\"\n    }\n  },\n  placeholders: {\n    default: \"Voer tekst in of type '/' voor commando's\",\n    heading: \"Kop\",\n    bulletListItem: \"Lijst\",\n    numberedListItem: \"Lijst\",\n    checkListItem: \"Lijst\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"Afbeelding toevoegen\"\n    },\n    video: {\n      add_button_text: \"Video toevoegen\"\n    },\n    audio: {\n      add_button_text: \"Audio toevoegen\"\n    },\n    file: {\n      add_button_text: \"Bestand toevoegen\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"Nieuw blok\",\n    drag_handle_label: \"Open blok menu\"\n  },\n  drag_handle: {\n    delete_menuitem: \"Verwijder\",\n    colors_menuitem: \"Kleuren\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"Verwijder kolom\",\n    delete_row_menuitem: \"Verwijder rij\",\n    add_left_menuitem: \"Voeg kolom links toe\",\n    add_right_menuitem: \"Voeg kolom rechts toe\",\n    add_above_menuitem: \"Voeg rij boven toe\",\n    add_below_menuitem: \"Voeg rij onder toe\"\n  },\n  suggestion_menu: {\n    no_items_title: \"Geen items gevonden\",\n    loading: \"Laden…\"\n  },\n  color_picker: {\n    text_title: \"Tekst\",\n    background_title: \"Achtergrond\",\n    colors: {\n      default: \"Standaard\",\n      gray: \"Grijs\",\n      brown: \"Bruin\",\n      red: \"Rood\",\n      orange: \"Oranje\",\n      yellow: \"Geel\",\n      green: \"Groen\",\n      blue: \"Blauw\",\n      purple: \"Paars\",\n      pink: \"Roze\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"Vet\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"Cursief\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"Onderstrepen\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"Doorstrepen\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"Code\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"Kleuren\"\n    },\n    link: {\n      tooltip: \"Maak link\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"Bewerk onderschrift\",\n      input_placeholder: \"Bewerk onderschrift\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"Afbeelding vervangen\",\n        video: \"Video vervangen\",\n        audio: \"Audio vervangen\",\n        file: \"Bestand vervangen\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"Afbeelding hernoemen\",\n        video: \"Video hernoemen\",\n        audio: \"Audio hernoemen\",\n        file: \"Bestand hernoemen\"\n      },\n      input_placeholder: {\n        image: \"Afbeelding hernoemen\",\n        video: \"Video hernoemen\",\n        audio: \"Audio hernoemen\",\n        file: \"Bestand hernoemen\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"Afbeelding downloaden\",\n        video: \"Video downloaden\",\n        audio: \"Audio downloaden\",\n        file: \"Bestand downloaden\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"Afbeelding verwijderen\",\n        video: \"Video verwijderen\",\n        audio: \"Audio verwijderen\",\n        file: \"Bestand verwijderen\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"Voorbeeldschakelaar\"\n    },\n    nest: {\n      tooltip: \"Nest blok\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"Ontnest blok\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"Tekst links uitlijnen\"\n    },\n    align_center: {\n      tooltip: \"Tekst centreren\"\n    },\n    align_right: {\n      tooltip: \"Tekst rechts uitlijnen\"\n    },\n    align_justify: {\n      tooltip: \"Tekst uitvullen\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"Upload\",\n      file_placeholder: {\n        image: \"Afbeelding uploaden\",\n        video: \"Video uploaden\",\n        audio: \"Audio uploaden\",\n        file: \"Bestand uploaden\"\n      },\n      upload_error: \"Fout: Upload mislukt\"\n    },\n    embed: {\n      title: \"Insluiten\",\n      embed_button: {\n        image: \"Afbeelding insluiten\",\n        video: \"Video insluiten\",\n        audio: \"Audio insluiten\",\n        file: \"Bestand insluiten\"\n      },\n      url_placeholder: \"Voer URL in\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"Verwijder link\"\n    },\n    edit: {\n      text: \"Bewerk link\",\n      tooltip: \"Bewerk\"\n    },\n    open: {\n      tooltip: \"Open in nieuw tabblad\"\n    },\n    form: {\n      title_placeholder: \"Bewerk titel\",\n      url_placeholder: \"Bewerk URL\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, _o = {\n  slash_menu: {\n    heading: {\n      title: \"Nagłówek 1\",\n      subtext: \"Używany dla nagłówka najwyższego poziomu\",\n      aliases: [\"h\", \"naglowek1\", \"h1\"],\n      group: \"Nagłówki\"\n    },\n    heading_2: {\n      title: \"Nagłówek 2\",\n      subtext: \"Używany dla kluczowych sekcji\",\n      aliases: [\"h2\", \"naglowek2\", \"podnaglowek\"],\n      group: \"Nagłówki\"\n    },\n    heading_3: {\n      title: \"Nagłówek 3\",\n      subtext: \"Używany dla podsekcji i grup nagłówków\",\n      aliases: [\"h3\", \"naglowek3\", \"podnaglowek\"],\n      group: \"Nagłówki\"\n    },\n    numbered_list: {\n      title: \"Lista numerowana\",\n      subtext: \"Używana do wyświetlania listy numerowanej\",\n      aliases: [\"ol\", \"li\", \"lista\", \"numerowana lista\"],\n      group: \"Podstawowe bloki\"\n    },\n    bullet_list: {\n      title: \"Lista punktowana\",\n      subtext: \"Używana do wyświetlania listy bez numeracji\",\n      aliases: [\"ul\", \"li\", \"lista\", \"punktowana lista\"],\n      group: \"Podstawowe bloki\"\n    },\n    check_list: {\n      title: \"Lista z polami wyboru\",\n      subtext: \"Używana do wyświetlania listy z polami wyboru\",\n      aliases: [\"ul\", \"li\", \"lista\", \"lista z polami wyboru\", \"pole wyboru\"],\n      group: \"Podstawowe bloki\"\n    },\n    paragraph: {\n      title: \"Akapit\",\n      subtext: \"Używany dla treści dokumentu\",\n      aliases: [\"p\", \"akapit\"],\n      group: \"Podstawowe bloki\"\n    },\n    table: {\n      title: \"Tabela\",\n      subtext: \"Używana do tworzenia tabel\",\n      aliases: [\"tabela\"],\n      group: \"Zaawansowane\"\n    },\n    image: {\n      title: \"Zdjęcie\",\n      subtext: \"Wstaw zdjęcie\",\n      aliases: [\n        \"obraz\",\n        \"wrzućZdjęcie\",\n        \"wrzuć\",\n        \"img\",\n        \"zdjęcie\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Media\"\n    },\n    video: {\n      title: \"Wideo\",\n      subtext: \"Wstaw wideo\",\n      aliases: [\"wideo\", \"wrzućWideo\", \"wrzuć\", \"mp4\", \"film\", \"media\", \"url\"],\n      group: \"Media\"\n    },\n    audio: {\n      title: \"Audio\",\n      subtext: \"Wstaw audio\",\n      aliases: [\n        \"audio\",\n        \"wrzućAudio\",\n        \"wrzuć\",\n        \"mp3\",\n        \"dźwięk\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Media\"\n    },\n    file: {\n      title: \"Plik\",\n      subtext: \"Wstaw plik\",\n      aliases: [\"plik\", \"wrzuć\", \"wstaw\", \"media\", \"url\"],\n      group: \"Media\"\n    }\n  },\n  placeholders: {\n    default: \"Wprowadź tekst lub wpisz '/' aby użyć poleceń\",\n    heading: \"Nagłówek\",\n    bulletListItem: \"Lista\",\n    numberedListItem: \"Lista\",\n    checkListItem: \"Lista\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"Dodaj zdjęcie\"\n    },\n    video: {\n      add_button_text: \"Dodaj wideo\"\n    },\n    audio: {\n      add_button_text: \"Dodaj audio\"\n    },\n    file: {\n      add_button_text: \"Dodaj plik\"\n    }\n  },\n  side_menu: {\n    add_block_label: \"Dodaj blok\",\n    drag_handle_label: \"Otwórz menu bloków\"\n  },\n  drag_handle: {\n    delete_menuitem: \"Usuń\",\n    colors_menuitem: \"Kolory\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"Usuń kolumnę\",\n    delete_row_menuitem: \"Usuń wiersz\",\n    add_left_menuitem: \"Dodaj kolumnę po lewej\",\n    add_right_menuitem: \"Dodaj kolumnę po prawej\",\n    add_above_menuitem: \"Dodaj wiersz powyżej\",\n    add_below_menuitem: \"Dodaj wiersz poniżej\"\n  },\n  suggestion_menu: {\n    no_items_title: \"Nie znaleziono elementów\",\n    loading: \"Ładowanie…\"\n  },\n  color_picker: {\n    text_title: \"Tekst\",\n    background_title: \"Tło\",\n    colors: {\n      default: \"Domyślny\",\n      gray: \"Szary\",\n      brown: \"Brązowy\",\n      red: \"Czerwony\",\n      orange: \"Pomarańczowy\",\n      yellow: \"Żółty\",\n      green: \"Zielony\",\n      blue: \"Niebieski\",\n      purple: \"Fioletowy\",\n      pink: \"Różowy\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"Pogrubienie\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"Kursywa\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"Podkreślenie\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"Przekreślenie\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"Kod\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"Kolory\"\n    },\n    link: {\n      tooltip: \"Utwórz link\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"Zmień podpis\",\n      input_placeholder: \"Zmień podpis\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"Zmień obraz\",\n        video: \"Zmień wideo\",\n        audio: \"Zmień audio\",\n        file: \"Zmień plik\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"Zmień nazwę zdjęcia\",\n        video: \"Zmień nazwę wideo\",\n        audio: \"Zmień nazwę audio\",\n        file: \"Zmień nazwę pliku\"\n      },\n      input_placeholder: {\n        image: \"Zmień nazwę zdjęcia\",\n        video: \"Zmień nazwę wideo\",\n        audio: \"Zmień nazwę audio\",\n        file: \"Zmień nazwę pliku\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"Pobierz zdjęcie\",\n        video: \"Pobierz wideo\",\n        audio: \"Pobierz audio\",\n        file: \"Pobierz plik\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"Usuń zdjęcie\",\n        video: \"Usuń wideo\",\n        audio: \"Usuń audio\",\n        file: \"Usuń plik\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"Przełącz podgląd\"\n    },\n    nest: {\n      tooltip: \"Zagnieźdź blok\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"Odgagnieźdź blok\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"Wyrównaj tekst do lewej\"\n    },\n    align_center: {\n      tooltip: \"Wyśrodkuj tekst\"\n    },\n    align_right: {\n      tooltip: \"Wyrównaj tekst do prawej\"\n    },\n    align_justify: {\n      tooltip: \"Wyjustuj tekst\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"Wrzuć\",\n      file_placeholder: {\n        image: \"Wrzuć zdjęcie\",\n        video: \"Wrzuć wideo\",\n        audio: \"Wrzuć audio\",\n        file: \"Wrzuć plik\"\n      },\n      upload_error: \"Błąd: Przesyłanie nie powiodło się\"\n    },\n    embed: {\n      title: \"Wstaw\",\n      embed_button: {\n        image: \"Wstaw zdjęice\",\n        video: \"Wstaw wideo\",\n        audio: \"Wstaw audio\",\n        file: \"Wstaw plik\"\n      },\n      url_placeholder: \"Wprowadź URL\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"Usuń link\"\n    },\n    edit: {\n      text: \"Edytuj link\",\n      tooltip: \"Edytuj\"\n    },\n    open: {\n      tooltip: \"Otwórz w nowej karcie\"\n    },\n    form: {\n      title_placeholder: \"Edytuj tytuł\",\n      url_placeholder: \"Edytuj URL\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, yo = {\n  slash_menu: {\n    heading: {\n      title: \"Título\",\n      subtext: \"Usado para um título de nível superior\",\n      aliases: [\"h\", \"titulo1\", \"h1\"],\n      group: \"Títulos\"\n    },\n    heading_2: {\n      title: \"Título 2\",\n      subtext: \"Usado para seções principais\",\n      aliases: [\"h2\", \"titulo2\", \"subtitulo\"],\n      group: \"Títulos\"\n    },\n    heading_3: {\n      title: \"Título 3\",\n      subtext: \"Usado para subseções e títulos de grupo\",\n      aliases: [\"h3\", \"titulo3\", \"subtitulo\"],\n      group: \"Títulos\"\n    },\n    numbered_list: {\n      title: \"Lista Numerada\",\n      subtext: \"Usado para exibir uma lista numerada\",\n      aliases: [\"ol\", \"li\", \"lista\", \"listanumerada\", \"lista numerada\"],\n      group: \"Blocos Básicos\"\n    },\n    bullet_list: {\n      title: \"Lista com Marcadores\",\n      subtext: \"Usado para exibir uma lista não ordenada\",\n      aliases: [\"ul\", \"li\", \"lista\", \"listamarcadores\", \"lista com marcadores\"],\n      group: \"Blocos Básicos\"\n    },\n    check_list: {\n      title: \"Lista de verificação\",\n      subtext: \"Usado para exibir uma lista com caixas de seleção\",\n      aliases: [\n        \"ul\",\n        \"li\",\n        \"lista\",\n        \"lista de verificação\",\n        \"lista marcada\",\n        \"caixa de seleção\"\n      ],\n      group: \"Blocos Básicos\"\n    },\n    paragraph: {\n      title: \"Parágrafo\",\n      subtext: \"Usado para o corpo do seu documento\",\n      aliases: [\"p\", \"paragrafo\"],\n      group: \"Blocos Básicos\"\n    },\n    table: {\n      title: \"Tabela\",\n      subtext: \"Usado para tabelas\",\n      aliases: [\"tabela\"],\n      group: \"Avançado\"\n    },\n    image: {\n      title: \"Imagem\",\n      subtext: \"Inserir uma imagem\",\n      aliases: [\n        \"imagem\",\n        \"uploadImagem\",\n        \"upload\",\n        \"img\",\n        \"foto\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Mídia\"\n    },\n    video: {\n      title: \"Vídeo\",\n      subtext: \"Inserir um vídeo\",\n      aliases: [\n        \"vídeo\",\n        \"uploadVídeo\",\n        \"upload\",\n        \"mp4\",\n        \"filme\",\n        \"mídia\",\n        \"url\"\n      ],\n      group: \"Mídia\"\n    },\n    audio: {\n      title: \"Áudio\",\n      subtext: \"Inserir um áudio\",\n      aliases: [\"áudio\", \"uploadÁudio\", \"upload\", \"mp3\", \"som\", \"mídia\", \"url\"],\n      group: \"Mídia\"\n    },\n    file: {\n      title: \"Arquivo\",\n      subtext: \"Inserir um arquivo\",\n      aliases: [\"arquivo\", \"upload\", \"incorporar\", \"mídia\", \"url\"],\n      group: \"Mídia\"\n    }\n  },\n  placeholders: {\n    default: \"Digite texto ou use '/' para comandos\",\n    heading: \"Título\",\n    bulletListItem: \"Lista\",\n    numberedListItem: \"Lista\",\n    checkListItem: \"Lista\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"Adicionar imagem\"\n    },\n    video: {\n      add_button_text: \"Adicionar vídeo\"\n    },\n    audio: {\n      add_button_text: \"Adicionar áudio\"\n    },\n    file: {\n      add_button_text: \"Adicionar arquivo\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"Adicionar bloco\",\n    drag_handle_label: \"Abrir menu do bloco\"\n  },\n  drag_handle: {\n    delete_menuitem: \"Excluir\",\n    colors_menuitem: \"Cores\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"Excluir coluna\",\n    delete_row_menuitem: \"Excluir linha\",\n    add_left_menuitem: \"Adicionar coluna à esquerda\",\n    add_right_menuitem: \"Adicionar coluna à direita\",\n    add_above_menuitem: \"Adicionar linha acima\",\n    add_below_menuitem: \"Adicionar linha abaixo\"\n  },\n  suggestion_menu: {\n    no_items_title: \"Nenhum item encontrado\",\n    loading: \"Carregando…\"\n  },\n  color_picker: {\n    text_title: \"Texto\",\n    background_title: \"Fundo\",\n    colors: {\n      default: \"Padrão\",\n      gray: \"Cinza\",\n      brown: \"Marrom\",\n      red: \"Vermelho\",\n      orange: \"Laranja\",\n      yellow: \"Amarelo\",\n      green: \"Verde\",\n      blue: \"Azul\",\n      purple: \"Roxo\",\n      pink: \"Rosa\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"Negrito\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"Itálico\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"Sublinhado\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"Riscado\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"Código\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"Cores\"\n    },\n    link: {\n      tooltip: \"Criar link\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"Editar legenda\",\n      input_placeholder: \"Editar legenda\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"Substituir imagem\",\n        video: \"Substituir vídeo\",\n        audio: \"Substituir áudio\",\n        file: \"Substituir arquivo\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"Renomear imagem\",\n        video: \"Renomear vídeo\",\n        audio: \"Renomear áudio\",\n        file: \"Renomear arquivo\"\n      },\n      input_placeholder: {\n        image: \"Renomear imagem\",\n        video: \"Renomear vídeo\",\n        audio: \"Renomear áudio\",\n        file: \"Renomear arquivo\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"Baixar imagem\",\n        video: \"Baixar vídeo\",\n        audio: \"Baixar áudio\",\n        file: \"Baixar arquivo\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"Excluir imagem\",\n        video: \"Excluir vídeo\",\n        audio: \"Excluir áudio\",\n        file: \"Excluir arquivo\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"Alternar visualização\"\n    },\n    nest: {\n      tooltip: \"Aninhar bloco\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"Desaninhar bloco\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"Alinhar à esquerda\"\n    },\n    align_center: {\n      tooltip: \"Alinhar ao centro\"\n    },\n    align_right: {\n      tooltip: \"Alinhar à direita\"\n    },\n    align_justify: {\n      tooltip: \"Justificar texto\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"Upload\",\n      file_placeholder: {\n        image: \"Upload de imagem\",\n        video: \"Upload de vídeo\",\n        audio: \"Upload de áudio\",\n        file: \"Upload de arquivo\"\n      },\n      upload_error: \"Erro: Falha no upload\"\n    },\n    embed: {\n      title: \"Incorporar\",\n      embed_button: {\n        image: \"Incorporar imagem\",\n        video: \"Incorporar vídeo\",\n        audio: \"Incorporar áudio\",\n        file: \"Incorporar arquivo\"\n      },\n      url_placeholder: \"Insira a URL\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"Remover link\"\n    },\n    edit: {\n      text: \"Editar link\",\n      tooltip: \"Editar\"\n    },\n    open: {\n      tooltip: \"Abrir em nova aba\"\n    },\n    form: {\n      title_placeholder: \"Editar título\",\n      url_placeholder: \"Editar URL\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, vo = {\n  slash_menu: {\n    heading: {\n      title: \"Tiêu đề H1\",\n      subtext: \"Sử dụng cho tiêu đề cấp cao nhất\",\n      aliases: [\"h\", \"tieude1\", \"dd1\"],\n      group: \"Tiêu đề\"\n    },\n    heading_2: {\n      title: \"Tiêu đề H2\",\n      subtext: \"Sử dụng cho các phần chính\",\n      aliases: [\"h2\", \"tieude2\", \"tieudephu\"],\n      group: \"Tiêu đề\"\n    },\n    heading_3: {\n      title: \"Tiêu đề H3\",\n      subtext: \"Sử dụng cho phụ đề và tiêu đề nhóm\",\n      aliases: [\"h3\", \"tieude3\", \"tieudephu\"],\n      group: \"Tiêu đề\"\n    },\n    numbered_list: {\n      title: \"Danh sách đánh số\",\n      subtext: \"Sử dụng để hiển thị danh sách có đánh số\",\n      aliases: [\"ol\", \"li\", \"ds\", \"danhsachdso\", \"danh sach danh so\"],\n      group: \"Khối cơ bản\"\n    },\n    bullet_list: {\n      title: \"Danh sách\",\n      subtext: \"Sử dụng để hiển thị danh sách không đánh số\",\n      aliases: [\"ul\", \"li\", \"ds\", \"danhsach\", \"danh sach\"],\n      group: \"Khối cơ bản\"\n    },\n    check_list: {\n      title: \"Danh sách kiểm tra\",\n      subtext: \"Dùng để hiển thị danh sách có hộp kiểm\",\n      aliases: [\n        \"ul\",\n        \"li\",\n        \"danh sach\",\n        \"danh sach kiem tra\",\n        \"danh sach da kiem tra\",\n        \"hop kiem\"\n      ],\n      group: \"Khối cơ bản\"\n    },\n    paragraph: {\n      title: \"Đoạn văn\",\n      subtext: \"Sử dụng cho nội dung chính của tài liệu\",\n      aliases: [\"p\", \"doanvan\"],\n      group: \"Khối cơ bản\"\n    },\n    table: {\n      title: \"Bảng\",\n      subtext: \"Sử dụng để tạo bảng\",\n      aliases: [\"bang\"],\n      group: \"Nâng cao\"\n    },\n    image: {\n      title: \"Hình ảnh\",\n      subtext: \"Chèn hình ảnh\",\n      aliases: [\"anh\", \"tai-len-anh\", \"tai-len\", \"img\", \"hinh\", \"media\", \"url\"],\n      group: \"Phương tiện\"\n    },\n    video: {\n      title: \"Video\",\n      subtext: \"Chèn video\",\n      aliases: [\n        \"video\",\n        \"tai-len-video\",\n        \"tai-len\",\n        \"mp4\",\n        \"phim\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Phương tiện\"\n    },\n    audio: {\n      title: \"Âm thanh\",\n      subtext: \"Chèn âm thanh\",\n      aliases: [\n        \"âm thanh\",\n        \"tai-len-am-thanh\",\n        \"tai-len\",\n        \"mp3\",\n        \"am thanh\",\n        \"media\",\n        \"url\"\n      ],\n      group: \"Phương tiện\"\n    },\n    file: {\n      title: \"Tệp\",\n      subtext: \"Chèn tệp\",\n      aliases: [\"tep\", \"tai-len\", \"nhung\", \"media\", \"url\"],\n      group: \"Phương tiện\"\n    }\n  },\n  placeholders: {\n    default: \"Nhập văn bản hoặc gõ '/' để thêm định dạng\",\n    heading: \"Tiêu đề\",\n    bulletListItem: \"Danh sách\",\n    numberedListItem: \"Danh sách\",\n    checkListItem: \"Danh sách\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"Thêm ảnh\"\n    },\n    video: {\n      add_button_text: \"Thêm video\"\n    },\n    audio: {\n      add_button_text: \"Thêm âm thanh\"\n    },\n    file: {\n      add_button_text: \"Thêm tệp\"\n    }\n  },\n  // từ gói phản ứng:\n  side_menu: {\n    add_block_label: \"Thêm khối\",\n    drag_handle_label: \"Mở trình đơn khối\"\n  },\n  drag_handle: {\n    delete_menuitem: \"Xóa\",\n    colors_menuitem: \"Màu sắc\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"Xóa cột\",\n    delete_row_menuitem: \"Xóa hàng\",\n    add_left_menuitem: \"Thêm cột bên trái\",\n    add_right_menuitem: \"Thêm cột bên phải\",\n    add_above_menuitem: \"Thêm hàng phía trên\",\n    add_below_menuitem: \"Thêm hàng phía dưới\"\n  },\n  suggestion_menu: {\n    no_items_title: \"Không tìm thấy mục nào\",\n    loading: \"Đang tải...\"\n  },\n  color_picker: {\n    text_title: \"Văn bản\",\n    background_title: \"Nền\",\n    colors: {\n      default: \"Mặc định\",\n      gray: \"Xám\",\n      brown: \"Nâu\",\n      red: \"Đỏ\",\n      orange: \"Cam\",\n      yellow: \"Vàng\",\n      green: \"Xanh lá\",\n      blue: \"Xanh dương\",\n      purple: \"Tím\",\n      pink: \"Hồng\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"In đậm\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"In nghiêng\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"Gạch dưới\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"Gạch ngang\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"Code\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"Màu sắc\"\n    },\n    link: {\n      tooltip: \"Tạo liên kết\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"Chỉnh sửa chú thích\",\n      input_placeholder: \"Chỉnh sửa chú thích\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"Thay thế hình ảnh\",\n        video: \"Thay thế video\",\n        audio: \"Thay thế âm thanh\",\n        file: \"Thay thế tệp\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"Đổi tên hình ảnh\",\n        video: \"Đổi tên video\",\n        audio: \"Đổi tên âm thanh\",\n        file: \"Đổi tên tệp\"\n      },\n      input_placeholder: {\n        image: \"Đổi tên hình ảnh\",\n        video: \"Đổi tên video\",\n        audio: \"Đổi tên âm thanh\",\n        file: \"Đổi tên tệp\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"Tải xuống hình ảnh\",\n        video: \"Tải xuống video\",\n        audio: \"Tải xuống âm thanh\",\n        file: \"Tải xuống tệp\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"Xóa hình ảnh\",\n        video: \"Xóa video\",\n        audio: \"Xóa âm thanh\",\n        file: \"Xóa tệp\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"Chuyển đổi xem trước\"\n    },\n    nest: {\n      tooltip: \"Lồng khối\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"Bỏ lồng khối\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"Căn trái văn bản\"\n    },\n    align_center: {\n      tooltip: \"Căn giữa văn bản\"\n    },\n    align_right: {\n      tooltip: \"Căn phải văn bản\"\n    },\n    align_justify: {\n      tooltip: \"Căn đều văn bản\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"Tải lên\",\n      file_placeholder: {\n        image: \"Tải lên hình ảnh\",\n        video: \"Tải lên video\",\n        audio: \"Tải lên âm thanh\",\n        file: \"Tải lên tệp\"\n      },\n      upload_error: \"Lỗi: Tải lên thất bại\"\n    },\n    embed: {\n      title: \"Nhúng\",\n      embed_button: {\n        image: \"Nhúng hình ảnh\",\n        video: \"Nhúng video\",\n        audio: \"Nhúng âm thanh\",\n        file: \"Nhúng tệp\"\n      },\n      url_placeholder: \"Nhập URL\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"Xóa liên kết\"\n    },\n    edit: {\n      text: \"Chỉnh sửa liên kết\",\n      tooltip: \"Chỉnh sửa\"\n    },\n    open: {\n      tooltip: \"Mở trong tab mới\"\n    },\n    form: {\n      title_placeholder: \"Chỉnh sửa tiêu đề\",\n      url_placeholder: \"Chỉnh sửa URL\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, wo = {\n  slash_menu: {\n    heading: {\n      title: \"一级标题\",\n      subtext: \"用于顶级标题\",\n      aliases: [\"h\", \"heading1\", \"h1\", \"标题\", \"一级标题\"],\n      group: \"标题\"\n    },\n    heading_2: {\n      title: \"二级标题\",\n      subtext: \"用于关键部分\",\n      aliases: [\"h2\", \"heading2\", \"subheading\", \"标题\", \"二级标题\", \"副标题\"],\n      group: \"标题\"\n    },\n    heading_3: {\n      title: \"三级标题\",\n      subtext: \"用于小节和分组标题\",\n      aliases: [\"h3\", \"heading3\", \"subheading\", \"标题\", \"三级标题\"],\n      group: \"标题\"\n    },\n    numbered_list: {\n      title: \"有序列表\",\n      subtext: \"用于显示有序列表\",\n      aliases: [\n        \"ol\",\n        \"li\",\n        \"list\",\n        \"numberedlist\",\n        \"numbered list\",\n        \"列表\",\n        \"有序列表\"\n      ],\n      group: \"基础\"\n    },\n    bullet_list: {\n      title: \"无序列表\",\n      subtext: \"用于显示无序列表\",\n      aliases: [\n        \"ul\",\n        \"li\",\n        \"list\",\n        \"bulletlist\",\n        \"bullet list\",\n        \"列表\",\n        \"无序列表\"\n      ],\n      group: \"基础\"\n    },\n    check_list: {\n      title: \"检查清单\",\n      subtext: \"用于显示带有复选框的列表\",\n      aliases: [\n        \"ul\",\n        \"li\",\n        \"checklist\",\n        \"checked list\",\n        \"列表\",\n        \"检查清单\",\n        \"勾选列表\",\n        \"复选框\"\n      ],\n      group: \"基础\"\n    },\n    paragraph: {\n      title: \"段落\",\n      subtext: \"用于文档正文\",\n      aliases: [\"p\", \"paragraph\", \"text\", \"正文\"],\n      group: \"基础\"\n    },\n    table: {\n      title: \"表格\",\n      subtext: \"使用表格\",\n      aliases: [\"table\", \"表格\"],\n      group: \"高级功能\"\n    },\n    image: {\n      title: \"图片\",\n      subtext: \"插入图片\",\n      aliases: [\n        \"图片\",\n        \"上传图片\",\n        \"上传\",\n        \"image\",\n        \"img\",\n        \"相册\",\n        \"媒体\",\n        \"url\"\n      ],\n      group: \"媒体\"\n    },\n    video: {\n      title: \"视频\",\n      subtext: \"插入视频\",\n      aliases: [\n        \"视频\",\n        \"视频上传\",\n        \"上传\",\n        \"video\",\n        \"mp4\",\n        \"电影\",\n        \"媒体\",\n        \"url\",\n        \"驱动\",\n        \"dropbox\"\n      ],\n      group: \"媒体\"\n    },\n    audio: {\n      title: \"音频\",\n      subtext: \"插入音频\",\n      aliases: [\n        \"音频\",\n        \"音频上传\",\n        \"上传\",\n        \"audio\",\n        \"mp3\",\n        \"声音\",\n        \"媒体\",\n        \"url\",\n        \"驱动\",\n        \"dropbox\"\n      ],\n      group: \"媒体\"\n    },\n    file: {\n      title: \"文件\",\n      subtext: \"插入文件\",\n      aliases: [\"文件\", \"上传\", \"file\", \"嵌入\", \"媒体\", \"url\"],\n      group: \"媒体\"\n    }\n  },\n  placeholders: {\n    default: \"输入 '/' 以使用命令\",\n    heading: \"标题\",\n    bulletListItem: \"列表\",\n    numberedListItem: \"列表\",\n    checkListItem: \"列表\"\n  },\n  file_blocks: {\n    image: {\n      add_button_text: \"添加图片\"\n    },\n    video: {\n      add_button_text: \"添加视频\"\n    },\n    audio: {\n      add_button_text: \"添加音频\"\n    },\n    file: {\n      add_button_text: \"添加文件\"\n    }\n  },\n  // from react package:\n  side_menu: {\n    add_block_label: \"添加块\",\n    drag_handle_label: \"打开菜单\"\n  },\n  drag_handle: {\n    delete_menuitem: \"删除\",\n    colors_menuitem: \"颜色\"\n  },\n  table_handle: {\n    delete_column_menuitem: \"删除列\",\n    delete_row_menuitem: \"删除行\",\n    add_left_menuitem: \"左侧添加列\",\n    add_right_menuitem: \"右侧添加列\",\n    add_above_menuitem: \"上方添加行\",\n    add_below_menuitem: \"下方添加行\"\n  },\n  suggestion_menu: {\n    no_items_title: \"无匹配项\",\n    loading: \"加载中…\"\n  },\n  color_picker: {\n    text_title: \"文本\",\n    background_title: \"背景色\",\n    colors: {\n      default: \"默认\",\n      gray: \"灰色\",\n      brown: \"棕色\",\n      red: \"红色\",\n      orange: \"橙色\",\n      yellow: \"黄色\",\n      green: \"绿色\",\n      blue: \"蓝色\",\n      purple: \"紫色\",\n      pink: \"粉色\"\n    }\n  },\n  formatting_toolbar: {\n    bold: {\n      tooltip: \"加粗\",\n      secondary_tooltip: \"Mod+B\"\n    },\n    italic: {\n      tooltip: \"斜体\",\n      secondary_tooltip: \"Mod+I\"\n    },\n    underline: {\n      tooltip: \"下划线\",\n      secondary_tooltip: \"Mod+U\"\n    },\n    strike: {\n      tooltip: \"删除线\",\n      secondary_tooltip: \"Mod+Shift+X\"\n    },\n    code: {\n      tooltip: \"代码标记\",\n      secondary_tooltip: \"\"\n    },\n    colors: {\n      tooltip: \"颜色\"\n    },\n    link: {\n      tooltip: \"添加链接\",\n      secondary_tooltip: \"Mod+K\"\n    },\n    file_caption: {\n      tooltip: \"编辑标题\",\n      input_placeholder: \"编辑标题\"\n    },\n    file_replace: {\n      tooltip: {\n        image: \"替换图片\",\n        video: \"替换视频\",\n        audio: \"替换音频\",\n        file: \"替换文件\"\n      }\n    },\n    file_rename: {\n      tooltip: {\n        image: \"重命名图片\",\n        video: \"重命名视频\",\n        audio: \"重命名音频\",\n        file: \"重命名文件\"\n      },\n      input_placeholder: {\n        image: \"重命名图片\",\n        video: \"重命名视频\",\n        audio: \"重命名音频\",\n        file: \"重命名文件\"\n      }\n    },\n    file_download: {\n      tooltip: {\n        image: \"下载图片\",\n        video: \"下载视频\",\n        audio: \"下载音频\",\n        file: \"下载文件\"\n      }\n    },\n    file_delete: {\n      tooltip: {\n        image: \"删除图片\",\n        video: \"删除视频\",\n        audio: \"删除音频\",\n        file: \"删除文件\"\n      }\n    },\n    file_preview_toggle: {\n      tooltip: \"切换预览\"\n    },\n    nest: {\n      tooltip: \"嵌套\",\n      secondary_tooltip: \"Tab\"\n    },\n    unnest: {\n      tooltip: \"取消嵌套\",\n      secondary_tooltip: \"Shift+Tab\"\n    },\n    align_left: {\n      tooltip: \"左对齐\"\n    },\n    align_center: {\n      tooltip: \"居中\"\n    },\n    align_right: {\n      tooltip: \"右对齐\"\n    },\n    align_justify: {\n      tooltip: \"文本对齐\"\n    }\n  },\n  file_panel: {\n    upload: {\n      title: \"上传\",\n      file_placeholder: {\n        image: \"上传图片\",\n        video: \"上传视频\",\n        audio: \"上传音频\",\n        file: \"上传文件\"\n      },\n      upload_error: \"Error：上传失败\"\n    },\n    embed: {\n      title: \"嵌入\",\n      embed_button: {\n        image: \"嵌入图片\",\n        video: \"嵌入视频\",\n        audio: \"嵌入音频\",\n        file: \"嵌入文件\"\n      },\n      url_placeholder: \"输入图片地址\"\n    }\n  },\n  link_toolbar: {\n    delete: {\n      tooltip: \"清除链接\"\n    },\n    edit: {\n      text: \"编辑链接\",\n      tooltip: \"编辑\"\n    },\n    open: {\n      tooltip: \"新窗口打开\"\n    },\n    form: {\n      title_placeholder: \"编辑标题\",\n      url_placeholder: \"编辑链接地址\"\n    }\n  },\n  generic: {\n    ctrl_shortcut: \"Ctrl\"\n  }\n}, Tr = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  ar: ho,\n  en: Ze,\n  fr: mo,\n  is: fo,\n  ja: go,\n  ko: bo,\n  nl: ko,\n  pl: _o,\n  pt: yo,\n  vi: vo,\n  zh: wo\n}, Symbol.toStringTag, { value: \"Module\" }));\nfunction xo(t, e = JSON.stringify) {\n  const o = {};\n  return t.filter((i) => {\n    const n = e(i);\n    return Object.prototype.hasOwnProperty.call(o, n) ? !1 : o[n] = !0;\n  });\n}\nfunction Eo(t) {\n  const e = t.filter(\n    (i, n) => t.indexOf(i) !== n\n  );\n  return xo(e);\n}\nconst oe = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"uniqueID\",\n  // we’ll set a very high priority to make sure this runs first\n  // and is compatible with `appendTransaction` hooks of other extensions\n  priority: 1e4,\n  addOptions() {\n    return {\n      attributeName: \"id\",\n      types: [],\n      generateID: () => {\n        if (typeof window < \"u\" && window.__TEST_OPTIONS) {\n          const t = window.__TEST_OPTIONS;\n          return t.mockID === void 0 ? t.mockID = 0 : t.mockID++, t.mockID.toString();\n        }\n        return (0,uuid__WEBPACK_IMPORTED_MODULE_18__[\"default\"])();\n      },\n      filterTransaction: null\n    };\n  },\n  addGlobalAttributes() {\n    return [\n      {\n        types: this.options.types,\n        attributes: {\n          [this.options.attributeName]: {\n            default: null,\n            parseHTML: (t) => t.getAttribute(`data-${this.options.attributeName}`),\n            renderHTML: (t) => ({\n              [`data-${this.options.attributeName}`]: t[this.options.attributeName]\n            })\n          }\n        }\n      }\n    ];\n  },\n  // check initial content for missing ids\n  // onCreate() {\n  //   // Don’t do this when the collaboration extension is active\n  //   // because this may update the content, so Y.js tries to merge these changes.\n  //   // This leads to empty block nodes.\n  //   // See: https://github.com/ueberdosis/tiptap/issues/2400\n  //   if (\n  //     this.editor.extensionManager.extensions.find(\n  //       (extension) => extension.name === \"collaboration\"\n  //     )\n  //   ) {\n  //     return;\n  //   }\n  //   const { view, state } = this.editor;\n  //   const { tr, doc } = state;\n  //   const { types, attributeName, generateID } = this.options;\n  //   const nodesWithoutId = findChildren(doc, (node) => {\n  //     return (\n  //       types.includes(node.type.name) && node.attrs[attributeName] === null\n  //     );\n  //   });\n  //   nodesWithoutId.forEach(({ node, pos }) => {\n  //     tr.setNodeMarkup(pos, undefined, {\n  //       ...node.attrs,\n  //       [attributeName]: generateID(),\n  //     });\n  //   });\n  //   tr.setMeta(\"addToHistory\", false);\n  //   view.dispatch(tr);\n  // },\n  addProseMirrorPlugins() {\n    let t = null, e = !1;\n    return [\n      new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n        key: new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"uniqueID\"),\n        appendTransaction: (o, i, n) => {\n          const r = o.some((f) => f.docChanged) && !i.doc.eq(n.doc), a = this.options.filterTransaction && o.some((f) => {\n            let g, k;\n            return !(!((k = (g = this.options).filterTransaction) === null || k === void 0) && k.call(g, f));\n          });\n          if (!r || a)\n            return;\n          const { tr: s } = n, { types: l, attributeName: d, generateID: u } = this.options, p = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.combineTransactionSteps)(\n            i.doc,\n            o\n          ), { mapping: h } = p;\n          if ((0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.getChangedRanges)(p).forEach(({ newRange: f }) => {\n            const g = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.findChildrenInRange)(\n              n.doc,\n              f,\n              (M) => l.includes(M.type.name)\n            ), k = g.map(({ node: M }) => M.attrs[d]).filter((M) => M !== null), I = Eo(k);\n            g.forEach(({ node: M, pos: A }) => {\n              let Z;\n              const Le = (Z = s.doc.nodeAt(A)) === null || Z === void 0 ? void 0 : Z.attrs[d];\n              if (Le === null) {\n                const Ie = i.doc.type.createAndFill().content;\n                if (i.doc.content.findDiffStart(Ie) === null) {\n                  const Ae = JSON.parse(\n                    JSON.stringify(n.doc.toJSON())\n                  );\n                  if (Ae.content[0].content[0].attrs.id = \"initialBlockId\", JSON.stringify(Ae.content) === JSON.stringify(Ie.toJSON())) {\n                    s.setNodeMarkup(A, void 0, {\n                      ...M.attrs,\n                      [d]: \"initialBlockId\"\n                    });\n                    return;\n                  }\n                }\n                s.setNodeMarkup(A, void 0, {\n                  ...M.attrs,\n                  [d]: u()\n                });\n                return;\n              }\n              const { deleted: xt } = h.invert().mapResult(A);\n              xt && I.includes(Le) && s.setNodeMarkup(A, void 0, {\n                ...M.attrs,\n                [d]: u()\n              });\n            });\n          }), !!s.steps.length)\n            return s;\n        },\n        // we register a global drag handler to track the current drag source element\n        view(o) {\n          const i = (n) => {\n            let r;\n            t = !((r = o.dom.parentElement) === null || r === void 0) && r.contains(n.target) ? o.dom.parentElement : null;\n          };\n          return window.addEventListener(\"dragstart\", i), {\n            destroy() {\n              window.removeEventListener(\"dragstart\", i);\n            }\n          };\n        },\n        props: {\n          // `handleDOMEvents` is called before `transformPasted`\n          // so we can do some checks before\n          handleDOMEvents: {\n            // only create new ids for dropped content while holding `alt`\n            // or content is dragged from another editor\n            drop: (o, i) => {\n              let n;\n              return (t !== o.dom.parentElement || ((n = i.dataTransfer) === null || n === void 0 ? void 0 : n.effectAllowed) === \"copy\") && (t = null, e = !0), !1;\n            },\n            // always create new ids on pasted content\n            paste: () => (e = !0, !1)\n          },\n          // we’ll remove ids for every pasted node\n          // so we can create a new one within `appendTransaction`\n          transformPasted: (o) => {\n            if (!e)\n              return o;\n            const { types: i, attributeName: n } = this.options, r = (a) => {\n              const s = [];\n              return a.forEach((l) => {\n                if (l.isText) {\n                  s.push(l);\n                  return;\n                }\n                if (!i.includes(l.type.name)) {\n                  s.push(l.copy(r(l.content)));\n                  return;\n                }\n                const d = l.type.create(\n                  {\n                    ...l.attrs,\n                    [n]: null\n                  },\n                  r(l.content),\n                  l.marks\n                );\n                s.push(d);\n              }), prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(s);\n            };\n            return e = !1, new prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Slice(\n              r(o.content),\n              o.openStart,\n              o.openEnd\n            );\n          }\n        }\n      })\n    ];\n  }\n});\nfunction Je(t) {\n  const e = t.attrs.id, o = t.firstChild, i = o.type, n = t.childCount === 2 ? t.lastChild.childCount : 0;\n  return {\n    id: e,\n    node: t,\n    contentNode: o,\n    contentType: i,\n    numChildBlocks: n\n  };\n}\nfunction b(t, e) {\n  const i = t.nodeSize - 2;\n  if (e <= 1)\n    for (e = 1 + 1; t.resolve(e).parent.type.name !== \"blockContainer\" && e < i; )\n      e++;\n  else if (e >= i)\n    for (e = i - 1; t.resolve(e).parent.type.name !== \"blockContainer\" && e > 1; )\n      e--;\n  t.resolve(e).parent.type.name === \"blockGroup\" && e++;\n  const n = t.resolve(e), r = n.depth;\n  let a = n.node(r), s = r;\n  for (; ; ) {\n    if (s < 0)\n      throw new Error(\n        \"Could not find blockContainer node. This can only happen if the underlying BlockNote schema has been edited.\"\n      );\n    if (a.type.name === \"blockContainer\")\n      break;\n    s -= 1, a = n.node(s);\n  }\n  const { id: l, contentNode: d, contentType: u, numChildBlocks: p } = Je(a), h = n.start(s), m = n.end(s);\n  return {\n    id: l,\n    node: a,\n    contentNode: d,\n    contentType: u,\n    numChildBlocks: p,\n    startPos: h,\n    endPos: m,\n    depth: s\n  };\n}\nfunction He(t) {\n  return t.type === \"link\";\n}\nfunction Ye(t) {\n  return typeof t != \"string\" && t.type === \"link\";\n}\nfunction te(t) {\n  return typeof t != \"string\" && t.type === \"text\";\n}\nclass L extends Error {\n  constructor(e) {\n    super(`Unreachable case: ${e}`);\n  }\n}\nfunction Br(t, e = !0) {\n  const { \"data-test\": o, ...i } = t;\n  if (Object.keys(i).length > 0 && e)\n    throw new Error(\"Object must be empty \" + JSON.stringify(t));\n}\nfunction Ue(t, e, o) {\n  const i = [];\n  for (const [n, r] of Object.entries(t.styles)) {\n    const a = o[n];\n    if (!a)\n      throw new Error(`style ${n} not found in styleSchema`);\n    if (a.propSchema === \"boolean\")\n      i.push(e.mark(n));\n    else if (a.propSchema === \"string\")\n      i.push(e.mark(n, { stringValue: r }));\n    else\n      throw new L(a.propSchema);\n  }\n  return t.text.split(/(\\n)/g).filter((n) => n.length > 0).map((n) => n === `\n` ? e.nodes.hardBreak.create() : e.text(n, i));\n}\nfunction Co(t, e, o) {\n  const i = e.marks.link.create({\n    href: t.href\n  });\n  return ye(t.content, e, o).map(\n    (n) => {\n      if (n.type.name === \"text\")\n        return n.mark([...n.marks, i]);\n      if (n.type.name === \"hardBreak\")\n        return n;\n      throw new Error(\"unexpected node type\");\n    }\n  );\n}\nfunction ye(t, e, o) {\n  const i = [];\n  if (typeof t == \"string\")\n    return i.push(\n      ...Ue(\n        { type: \"text\", text: t, styles: {} },\n        e,\n        o\n      )\n    ), i;\n  for (const n of t)\n    i.push(...Ue(n, e, o));\n  return i;\n}\nfunction K(t, e, o) {\n  const i = [];\n  for (const n of t)\n    typeof n == \"string\" ? i.push(...ye(n, e, o)) : Ye(n) ? i.push(...Co(n, e, o)) : te(n) ? i.push(...ye([n], e, o)) : i.push(\n      et(n, e, o)\n    );\n  return i;\n}\nfunction Qe(t, e, o) {\n  const i = [];\n  for (const n of t.rows) {\n    const r = [];\n    for (const s of n.cells) {\n      let l;\n      if (!s)\n        l = e.nodes.tableParagraph.create({});\n      else if (typeof s == \"string\")\n        l = e.nodes.tableParagraph.create({}, e.text(s));\n      else {\n        const u = K(s, e, o);\n        l = e.nodes.tableParagraph.create({}, u);\n      }\n      const d = e.nodes.tableCell.create({}, l);\n      r.push(d);\n    }\n    const a = e.nodes.tableRow.create({}, r);\n    i.push(a);\n  }\n  return i;\n}\nfunction et(t, e, o) {\n  let i, n = t.type;\n  if (n === void 0 && (n = \"paragraph\"), !e.nodes[n])\n    throw new Error(`node type ${n} not found in schema`);\n  if (!t.content)\n    i = e.nodes[n].create(t.props);\n  else if (typeof t.content == \"string\") {\n    const r = K([t.content], e, o);\n    i = e.nodes[n].create(t.props, r);\n  } else if (Array.isArray(t.content)) {\n    const r = K(t.content, e, o);\n    i = e.nodes[n].create(t.props, r);\n  } else if (t.content.type === \"tableContent\") {\n    const r = Qe(t.content, e, o);\n    i = e.nodes[n].create(t.props, r);\n  } else\n    throw new L(t.content.type);\n  return i;\n}\nfunction P(t, e, o) {\n  let i = t.id;\n  i === void 0 && (i = oe.options.generateID());\n  const n = et(\n    t,\n    e,\n    o\n  ), r = [];\n  if (t.children)\n    for (const s of t.children)\n      r.push(P(s, e, o));\n  const a = e.nodes.blockGroup.create({}, r);\n  return e.nodes.blockContainer.create(\n    {\n      id: i,\n      ...t.props\n    },\n    r.length > 0 ? [n, a] : n\n  );\n}\nfunction So(t, e, o) {\n  const i = {\n    type: \"tableContent\",\n    rows: []\n  };\n  return t.content.forEach((n) => {\n    const r = {\n      cells: []\n    };\n    n.content.forEach((a) => {\n      r.cells.push(\n        Ee(\n          a.firstChild,\n          e,\n          o\n        )\n      );\n    }), i.rows.push(r);\n  }), i;\n}\nfunction Ee(t, e, o) {\n  const i = [];\n  let n;\n  return t.content.forEach((r) => {\n    if (r.type.name === \"hardBreak\") {\n      if (n)\n        if (te(n))\n          n.text += `\n`;\n        else if (He(n))\n          n.content[n.content.length - 1].text += `\n`;\n        else\n          throw new Error(\"unexpected\");\n      else\n        n = {\n          type: \"text\",\n          text: `\n`,\n          styles: {}\n        };\n      return;\n    }\n    if (r.type.name !== \"link\" && r.type.name !== \"text\" && e[r.type.name]) {\n      n && (i.push(n), n = void 0), i.push(\n        tt(r, e, o)\n      );\n      return;\n    }\n    const a = {};\n    let s;\n    for (const l of r.marks)\n      if (l.type.name === \"link\")\n        s = l;\n      else {\n        const d = o[l.type.name];\n        if (!d)\n          throw new Error(`style ${l.type.name} not found in styleSchema`);\n        if (d.propSchema === \"boolean\")\n          a[d.type] = !0;\n        else if (d.propSchema === \"string\")\n          a[d.type] = l.attrs.stringValue;\n        else\n          throw new L(d.propSchema);\n      }\n    n ? te(n) ? s ? (i.push(n), n = {\n      type: \"link\",\n      href: s.attrs.href,\n      content: [\n        {\n          type: \"text\",\n          text: r.textContent,\n          styles: a\n        }\n      ]\n    }) : JSON.stringify(n.styles) === JSON.stringify(a) ? n.text += r.textContent : (i.push(n), n = {\n      type: \"text\",\n      text: r.textContent,\n      styles: a\n    }) : He(n) && (s ? n.href === s.attrs.href ? JSON.stringify(\n      n.content[n.content.length - 1].styles\n    ) === JSON.stringify(a) ? n.content[n.content.length - 1].text += r.textContent : n.content.push({\n      type: \"text\",\n      text: r.textContent,\n      styles: a\n    }) : (i.push(n), n = {\n      type: \"link\",\n      href: s.attrs.href,\n      content: [\n        {\n          type: \"text\",\n          text: r.textContent,\n          styles: a\n        }\n      ]\n    }) : (i.push(n), n = {\n      type: \"text\",\n      text: r.textContent,\n      styles: a\n    })) : s ? n = {\n      type: \"link\",\n      href: s.attrs.href,\n      content: [\n        {\n          type: \"text\",\n          text: r.textContent,\n          styles: a\n        }\n      ]\n    } : n = {\n      type: \"text\",\n      text: r.textContent,\n      styles: a\n    };\n  }), n && i.push(n), i;\n}\nfunction tt(t, e, o) {\n  if (t.type.name === \"text\" || t.type.name === \"link\")\n    throw new Error(\"unexpected\");\n  const i = {}, n = e[t.type.name];\n  for (const [s, l] of Object.entries(t.attrs)) {\n    if (!n)\n      throw Error(\"ic node is of an unrecognized type: \" + t.type.name);\n    const d = n.propSchema;\n    s in d && (i[s] = l);\n  }\n  let r;\n  return n.content === \"styled\" ? r = Ee(\n    t,\n    e,\n    o\n  ) : r = void 0, {\n    type: t.type.name,\n    props: i,\n    content: r\n  };\n}\nfunction y(t, e, o, i, n) {\n  if (t.type.name !== \"blockContainer\")\n    throw Error(\n      \"Node must be of type blockContainer, but is of type\" + t.type.name + \".\"\n    );\n  const r = n == null ? void 0 : n.get(t);\n  if (r)\n    return r;\n  const a = Je(t);\n  let s = a.id;\n  s === null && (s = oe.options.generateID());\n  const l = {};\n  for (const [m, f] of Object.entries({\n    ...t.attrs,\n    ...a.contentNode.attrs\n  })) {\n    const g = e[a.contentType.name];\n    if (!g)\n      throw Error(\n        \"Block is of an unrecognized type: \" + a.contentType.name\n      );\n    const k = g.propSchema;\n    m in k && (l[m] = f);\n  }\n  const d = e[a.contentType.name], u = [];\n  for (let m = 0; m < a.numChildBlocks; m++)\n    u.push(\n      y(\n        t.lastChild.child(m),\n        e,\n        o,\n        i,\n        n\n      )\n    );\n  let p;\n  if (d.content === \"inline\")\n    p = Ee(\n      a.contentNode,\n      o,\n      i\n    );\n  else if (d.content === \"table\")\n    p = So(\n      a.contentNode,\n      o,\n      i\n    );\n  else if (d.content === \"none\")\n    p = void 0;\n  else\n    throw new L(d.content);\n  const h = {\n    id: s,\n    type: d.type,\n    props: l,\n    content: p,\n    children: u\n  };\n  return n == null || n.set(t, h), h;\n}\nfunction Mo(t) {\n  return t.document || window.document;\n}\nconst ot = (t, e, o, i, n) => {\n  if (!o.nodes[t.type.name])\n    throw new Error(\"Serializer is missing a node type: \" + t.type.name);\n  const { dom: r, contentDOM: a } = prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.DOMSerializer.renderSpec(\n    Mo(e),\n    o.nodes[t.type.name](t)\n  );\n  if (a) {\n    if (t.isLeaf)\n      throw new RangeError(\"Content hole not allowed in a leaf node spec\");\n    if (t.type.name === \"blockContainer\") {\n      const s = t.childCount > 0 && t.firstChild.type.spec.group === \"blockContent\" ? t.firstChild : void 0, l = t.childCount > 0 && t.lastChild.type.spec.group === \"blockGroup\" ? t.lastChild : void 0;\n      if (s !== void 0) {\n        const d = i.blockImplementations[s.type.name].implementation, p = (n ? d.toExternalHTML : d.toInternalHTML)(\n          y(\n            t,\n            i.schema.blockSchema,\n            i.schema.inlineContentSchema,\n            i.schema.styleSchema,\n            i.blockCache\n          ),\n          i\n        );\n        if (p.contentDOM !== void 0) {\n          if (t.isLeaf)\n            throw new RangeError(\n              \"Content hole not allowed in a leaf node spec\"\n            );\n          p.contentDOM.appendChild(\n            o.serializeFragment(s.content, e)\n          );\n        }\n        a.appendChild(p.dom);\n      }\n      l !== void 0 && o.serializeFragment(\n        prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(l),\n        e,\n        a\n      );\n    } else\n      o.serializeFragment(t.content, e, a);\n  }\n  return r;\n}, it = (t, e) => {\n  const o = e.serializeFragment(t), i = document.createElement(\"div\");\n  return i.appendChild(o), i.innerHTML;\n};\nfunction To(t) {\n  const e = /* @__PURE__ */ new Set([\n    ...t.orderedListItemBlockTypes,\n    ...t.unorderedListItemBlockTypes\n  ]), o = (i) => {\n    var a;\n    if (i.children.length === 1 && ((a = i.children[0].properties) == null ? void 0 : a.dataNodeType) === \"blockGroup\") {\n      const s = i.children[0];\n      i.children.pop(), i.children.push(...s.children);\n    }\n    let n = i.children.length, r;\n    for (let s = 0; s < n; s++) {\n      const d = i.children[s].children[0], u = d.children[0], p = d.children.length === 2 ? d.children[1] : null, h = e.has(\n        u.properties.dataContentType\n      ), m = h ? t.orderedListItemBlockTypes.has(\n        u.properties.dataContentType\n      ) ? \"ol\" : \"ul\" : null;\n      if (p !== null && o(p), r && r.tagName !== m) {\n        i.children.splice(\n          s - r.children.length,\n          r.children.length,\n          r\n        );\n        const f = r.children.length - 1;\n        s -= f, n -= f, r = void 0;\n      }\n      if (h) {\n        r || (r = (0,hast_util_from_dom__WEBPACK_IMPORTED_MODULE_21__.fromDom)(\n          document.createElement(m)\n        ));\n        const f = (0,hast_util_from_dom__WEBPACK_IMPORTED_MODULE_21__.fromDom)(\n          document.createElement(\"li\")\n        );\n        f.children.push(...u.children), p !== null && f.children.push(...p.children), r.children.push(f);\n      } else if (p !== null) {\n        i.children.splice(s + 1, 0, ...p.children), i.children[s] = u.children[0];\n        const f = p.children.length;\n        s += f, n += f;\n      } else\n        i.children[s] = u.children[0];\n    }\n    r && i.children.splice(\n      n - r.children.length,\n      r.children.length,\n      r\n    );\n  };\n  return o;\n}\nconst ae = (t, e) => {\n  const o = prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.DOMSerializer.fromSchema(t);\n  return o.serializeNodeInner = (i, n) => ot(i, n, o, e, !0), o.exportProseMirrorFragment = (i) => (0,unified__WEBPACK_IMPORTED_MODULE_22__.unified)().use(rehype_parse__WEBPACK_IMPORTED_MODULE_23__[\"default\"], { fragment: !0 }).use(To, {\n    orderedListItemBlockTypes: /* @__PURE__ */ new Set([\"numberedListItem\"]),\n    unorderedListItemBlockTypes: /* @__PURE__ */ new Set([\n      \"bulletListItem\",\n      \"checkListItem\"\n    ])\n  }).use(rehype_stringify__WEBPACK_IMPORTED_MODULE_24__[\"default\"]).processSync(it(i, o)).value, o.exportBlocks = (i) => {\n    const n = i.map(\n      (a) => P(a, t, e.schema.styleSchema)\n    ), r = t.nodes.blockGroup.create(null, n);\n    return o.exportProseMirrorFragment(prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(r));\n  }, o;\n}, nt = (t, e) => {\n  const o = prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.DOMSerializer.fromSchema(t);\n  return o.serializeNodeInner = (i, n) => ot(i, n, o, e, !1), o.serializeProseMirrorFragment = (i) => it(i, o), o.serializeBlocks = (i) => {\n    const n = i.map(\n      (a) => P(a, t, e.schema.styleSchema)\n    ), r = t.nodes.blockGroup.create(null, n);\n    return o.serializeProseMirrorFragment(prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(r));\n  }, o;\n}, Bo = () => typeof navigator < \"u\" && (/Mac/.test(navigator.platform) || /AppleWebKit/.test(navigator.userAgent) && /Mobile\\/\\w+/.test(navigator.userAgent));\nfunction H(t, e = \"Ctrl\") {\n  return Bo() ? t.replace(\"Mod\", \"⌘\") : t.replace(\"Mod\", e);\n}\nfunction R(...t) {\n  return t.filter((e) => e).join(\" \");\n}\nconst Lr = () => /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\nfunction V(t, e, o, i) {\n  const n = document.createElement(\"div\");\n  n.className = R(\n    \"bn-block-content\",\n    o.class\n  ), n.setAttribute(\"data-content-type\", t);\n  for (const [a, s] of Object.entries(o))\n    a !== \"class\" && n.setAttribute(a, s);\n  const r = document.createElement(e);\n  r.className = R(\n    \"bn-inline-content\",\n    i.class\n  );\n  for (const [a, s] of Object.entries(\n    i\n  ))\n    a !== \"class\" && r.setAttribute(a, s);\n  return n.appendChild(r), {\n    dom: n,\n    contentDOM: r\n  };\n}\nconst De = (t, e) => {\n  const o = P(\n    t,\n    e._tiptapEditor.schema,\n    e.schema.styleSchema\n  ).firstChild, i = e._tiptapEditor.schema.nodes[o.type.name].spec.toDOM;\n  if (i === void 0)\n    throw new Error(\n      \"This block has no default HTML serialization as its corresponding TipTap node doesn't implement `renderHTML`.\"\n    );\n  const n = i(o);\n  if (typeof n != \"object\" || !(\"dom\" in n))\n    throw new Error(\n      \"Cannot use this block's default HTML serialization as its corresponding TipTap node's `renderHTML` function does not return an object with the `dom` property.\"\n    );\n  return n;\n}, _ = {\n  backgroundColor: {\n    default: \"default\"\n  },\n  textColor: {\n    default: \"default\"\n  },\n  textAlignment: {\n    default: \"left\",\n    values: [\"left\", \"center\", \"right\", \"justify\"]\n  }\n}, rt = [\"backgroundColor\", \"textColor\"];\nfunction re(t) {\n  return \"data-\" + t.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n}\nfunction Ir(t) {\n  const e = t.split(\"/\");\n  return !e.length || // invalid?\n  e[e.length - 1] === \"\" ? t : e[e.length - 1];\n}\nfunction at(t) {\n  const e = {};\n  return Object.entries(t).filter(([o, i]) => !rt.includes(o)).forEach(([o, i]) => {\n    e[o] = {\n      default: i.default,\n      keepOnSplit: !0,\n      // Props are displayed in kebab-case as HTML attributes. If a prop's\n      // value is the same as its default, we don't display an HTML\n      // attribute for it.\n      parseHTML: (n) => {\n        const r = n.getAttribute(re(o));\n        if (r === null)\n          return null;\n        if (typeof i.default == \"boolean\")\n          return r === \"true\" ? !0 : r === \"false\" ? !1 : null;\n        if (typeof i.default == \"number\") {\n          const a = parseFloat(r);\n          return !Number.isNaN(a) && Number.isFinite(a) ? a : null;\n        }\n        return r;\n      },\n      renderHTML: (n) => n[o] !== i.default ? {\n        [re(o)]: n[o]\n      } : {}\n    };\n  }), e;\n}\nfunction Lo(t, e, o, i) {\n  if (typeof t == \"boolean\")\n    throw new Error(\n      \"Cannot find node position as getPos is a boolean, not a function.\"\n    );\n  const n = t(), a = o.state.doc.resolve(n).node().attrs.id;\n  if (!a)\n    throw new Error(\"Block doesn't have id\");\n  const s = e.getBlock(a);\n  if (s.type !== i)\n    throw new Error(\"Block type does not match\");\n  return s;\n}\nfunction me(t, e, o, i, n = !1, r) {\n  const a = document.createElement(\"div\");\n  if (r !== void 0)\n    for (const [s, l] of Object.entries(r))\n      s !== \"class\" && a.setAttribute(s, l);\n  a.className = R(\n    \"bn-block-content\",\n    (r == null ? void 0 : r.class) || \"\"\n  ), a.setAttribute(\"data-content-type\", e);\n  for (const [s, l] of Object.entries(o))\n    !rt.includes(s) && l !== i[s].default && a.setAttribute(re(s), l);\n  return n && a.setAttribute(\"data-file-block\", \"\"), a.appendChild(t.dom), t.contentDOM !== void 0 && (t.contentDOM.className = R(\n    \"bn-inline-content\",\n    t.contentDOM.className\n  ), t.contentDOM.setAttribute(\"data-editable\", \"\")), {\n    ...t,\n    dom: a\n  };\n}\nfunction z(t) {\n  return _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Node.create(t);\n}\nfunction st(t, e) {\n  return {\n    config: t,\n    implementation: e\n  };\n}\nfunction q(t, e, o) {\n  return st(\n    {\n      type: t.name,\n      content: t.config.content === \"inline*\" ? \"inline\" : t.config.content === \"tableRow+\" ? \"table\" : \"none\",\n      propSchema: e\n    },\n    {\n      node: t,\n      requiredExtensions: o,\n      toInternalHTML: De,\n      toExternalHTML: De\n      // parse: () => undefined, // parse rules are in node already\n    }\n  );\n}\nfunction lt(t) {\n  return Object.fromEntries(\n    Object.entries(t).map(([e, o]) => [e, o.config])\n  );\n}\nfunction Io(t, e) {\n  const o = [\n    {\n      tag: \"[data-content-type=\" + t.type + \"]\",\n      contentElement: \"[data-editable]\"\n    }\n  ];\n  return e && o.push({\n    tag: \"*\",\n    getAttrs(i) {\n      if (typeof i == \"string\")\n        return !1;\n      const n = e == null ? void 0 : e(i);\n      return n === void 0 ? !1 : n;\n    }\n  }), o;\n}\nfunction se(t, e) {\n  const o = z({\n    name: t.type,\n    content: t.content === \"inline\" ? \"inline*\" : \"\",\n    group: \"blockContent\",\n    selectable: !0,\n    addAttributes() {\n      return at(t.propSchema);\n    },\n    parseHTML() {\n      return Io(t, e.parse);\n    },\n    renderHTML() {\n      const i = document.createElement(\"div\");\n      return i.setAttribute(\"data-tmp-placeholder\", \"true\"), {\n        dom: i\n      };\n    },\n    addNodeView() {\n      return ({ getPos: i }) => {\n        var l;\n        const n = this.options.editor, r = Lo(\n          i,\n          n,\n          this.editor,\n          t.type\n        ), a = ((l = this.options.domAttributes) == null ? void 0 : l.blockContent) || {}, s = e.render(r, n);\n        return me(\n          s,\n          r.type,\n          r.props,\n          t.propSchema,\n          a\n        );\n      };\n    }\n  });\n  if (o.name !== t.type)\n    throw new Error(\n      \"Node name does not match block type. This is a bug in BlockNote.\"\n    );\n  return st(t, {\n    node: o,\n    toInternalHTML: (i, n) => {\n      var s;\n      const r = ((s = o.options.domAttributes) == null ? void 0 : s.blockContent) || {}, a = e.render(i, n);\n      return me(\n        a,\n        i.type,\n        i.props,\n        t.propSchema,\n        t.isFileBlock,\n        r\n      );\n    },\n    toExternalHTML: (i, n) => {\n      var s, l;\n      const r = ((s = o.options.domAttributes) == null ? void 0 : s.blockContent) || {};\n      let a = (l = e.toExternalHTML) == null ? void 0 : l.call(\n        e,\n        i,\n        n\n      );\n      return a === void 0 && (a = e.render(i, n)), me(\n        a,\n        i.type,\n        i.props,\n        t.propSchema,\n        r\n      );\n    }\n  });\n}\nfunction Ao(t, e, o, i) {\n  return t.dom.setAttribute(\"data-inline-content-type\", e), Object.entries(o).filter(([n, r]) => r !== i[n].default).map(([n, r]) => [re(n), r]).forEach(([n, r]) => t.dom.setAttribute(n, r)), t.contentDOM !== void 0 && t.contentDOM.setAttribute(\"data-editable\", \"\"), t;\n}\nfunction No(t) {\n  return {\n    Backspace: ({ editor: e }) => {\n      const o = e.state.selection.$from;\n      return e.state.selection.empty && o.node().type.name === t.type && o.parentOffset === 0;\n    }\n  };\n}\nfunction Po(t, e) {\n  return {\n    config: t,\n    implementation: e\n  };\n}\nfunction Ho(t, e) {\n  return Po(\n    {\n      type: t.name,\n      propSchema: e,\n      content: t.config.content === \"inline*\" ? \"styled\" : \"none\"\n    },\n    {\n      node: t\n    }\n  );\n}\nfunction dt(t) {\n  return Object.fromEntries(\n    Object.entries(t).map(([e, o]) => [e, o.config])\n  );\n}\nfunction Uo(t) {\n  return [\n    {\n      tag: `[data-inline-content-type=\"${t.type}\"]`,\n      contentElement: (e) => {\n        const o = e;\n        return o.matches(\"[data-editable]\") ? o : o.querySelector(\"[data-editable]\") || o;\n      }\n    }\n  ];\n}\nfunction Ar(t, e) {\n  const o = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Node.create({\n    name: t.type,\n    inline: !0,\n    group: \"inline\",\n    selectable: t.content === \"styled\",\n    atom: t.content === \"none\",\n    content: t.content === \"styled\" ? \"inline*\" : \"\",\n    addAttributes() {\n      return at(t.propSchema);\n    },\n    addKeyboardShortcuts() {\n      return No(t);\n    },\n    parseHTML() {\n      return Uo(t);\n    },\n    renderHTML({ node: i }) {\n      const n = this.options.editor, r = e.render(\n        tt(\n          i,\n          n.schema.inlineContentSchema,\n          n.schema.styleSchema\n        )\n        // TODO: fix cast\n      );\n      return Ao(\n        r,\n        t.type,\n        i.attrs,\n        t.propSchema\n      );\n    }\n  });\n  return Ho(\n    o,\n    t.propSchema\n  );\n}\nfunction Do(t) {\n  return t === \"boolean\" ? {} : {\n    stringValue: {\n      default: void 0,\n      keepOnSplit: !0,\n      parseHTML: (e) => e.getAttribute(\"data-value\"),\n      renderHTML: (e) => e.stringValue !== void 0 ? {\n        \"data-value\": e.stringValue\n      } : {}\n    }\n  };\n}\nfunction Oo(t, e, o, i) {\n  return t.dom.setAttribute(\"data-style-type\", e), i === \"string\" && t.dom.setAttribute(\"data-value\", o), t.contentDOM !== void 0 && t.contentDOM.setAttribute(\"data-editable\", \"\"), t;\n}\nfunction ct(t, e) {\n  return {\n    config: t,\n    implementation: e\n  };\n}\nfunction U(t, e) {\n  return ct(\n    {\n      type: t.name,\n      propSchema: e\n    },\n    {\n      mark: t\n    }\n  );\n}\nfunction ut(t) {\n  return Object.fromEntries(\n    Object.entries(t).map(([e, o]) => [e, o.config])\n  );\n}\nfunction Ro(t) {\n  return [\n    {\n      tag: `[data-style-type=\"${t.type}\"]`,\n      contentElement: (e) => {\n        const o = e;\n        return o.matches(\"[data-editable]\") ? o : o.querySelector(\"[data-editable]\") || o;\n      }\n    }\n  ];\n}\nfunction Nr(t, e) {\n  const o = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Mark.create({\n    name: t.type,\n    addAttributes() {\n      return Do(t.propSchema);\n    },\n    parseHTML() {\n      return Ro(t);\n    },\n    renderHTML({ mark: i }) {\n      let n;\n      if (t.propSchema === \"boolean\")\n        n = e.render();\n      else if (t.propSchema === \"string\")\n        n = e.render(i.attrs.stringValue);\n      else\n        throw new L(t.propSchema);\n      return Oo(\n        n,\n        t.type,\n        i.attrs.stringValue,\n        t.propSchema\n      );\n    }\n  });\n  return ct(t, {\n    mark: o\n  });\n}\nconst le = (t) => {\n  const e = document.createElement(\"div\");\n  e.className = \"bn-file-default-preview\";\n  const o = document.createElement(\"div\");\n  o.className = \"bn-file-default-preview-icon\", o.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z\"></path></svg>';\n  const i = document.createElement(\"p\");\n  return i.className = \"bn-file-default-preview-name\", i.textContent = t.props.name || \"\", e.appendChild(o), e.appendChild(i), {\n    dom: e\n  };\n}, j = (t, e) => {\n  const o = document.createElement(\"div\");\n  o.className = \"bn-file-and-caption-wrapper\";\n  const i = document.createElement(\"p\");\n  return i.className = \"bn-file-caption\", i.textContent = t.props.caption, o.appendChild(e), o.appendChild(i), {\n    dom: o\n  };\n}, de = (t, e, o, i) => {\n  const n = document.createElement(\"div\");\n  n.className = \"bn-add-file-button\";\n  const r = document.createElement(\"div\");\n  r.className = \"bn-add-file-button-icon\", i ? r.appendChild(i) : r.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z\"></path></svg>';\n  const a = document.createElement(\"p\");\n  a.className = \"bn-add-file-button-text\", a.innerHTML = o || e.dictionary.file_blocks.file.add_button_text;\n  const s = (d) => {\n    d.preventDefault();\n  }, l = () => {\n    e._tiptapEditor.view.dispatch(\n      e._tiptapEditor.state.tr.setMeta(e.filePanel.plugin, {\n        block: t\n      })\n    );\n  };\n  return n.appendChild(r), n.appendChild(a), n.addEventListener(\n    \"mousedown\",\n    s,\n    !0\n  ), n.addEventListener(\"click\", l, !0), {\n    dom: n,\n    destroy: () => {\n      n.removeEventListener(\n        \"mousedown\",\n        s,\n        !0\n      ), n.removeEventListener(\n        \"click\",\n        l,\n        !0\n      );\n    }\n  };\n}, Oe = (t) => ({ url: t.src || void 0 }), ce = (t, e) => {\n  const o = t.querySelector(\n    e\n  );\n  if (!o)\n    return;\n  const i = t.querySelector(\"figcaption\"), n = (i == null ? void 0 : i.textContent) ?? void 0;\n  return { targetElement: o, caption: n };\n}, ue = (t, e) => {\n  const o = document.createElement(\"div\"), i = document.createElement(\"p\");\n  return i.textContent = e, o.appendChild(t), o.appendChild(i), {\n    dom: o\n  };\n}, Ce = (t, e) => {\n  const o = document.createElement(\"figure\"), i = document.createElement(\"figcaption\");\n  return i.textContent = e, o.appendChild(t), o.appendChild(i), { dom: o };\n}, pt = (t, e, o, i, n) => {\n  if (!t.props.previewWidth)\n    throw new Error(\"Block must have a `previewWidth` prop.\");\n  const r = document.createElement(\"div\");\n  r.className = \"bn-visual-media-wrapper\";\n  const a = document.createElement(\"div\");\n  a.className = \"bn-visual-media-resize-handle\", a.style.left = \"4px\";\n  const s = document.createElement(\"div\");\n  s.className = \"bn-visual-media-resize-handle\", s.style.right = \"4px\";\n  let l;\n  const d = (g) => {\n    if (!l) {\n      !e.isEditable && r.contains(a) && r.contains(s) && (r.removeChild(a), r.removeChild(s));\n      return;\n    }\n    let k;\n    t.props.textAlignment === \"center\" ? l.handleUsed === \"left\" ? k = l.initialWidth + (l.initialClientX - g.clientX) * 2 : k = l.initialWidth + (g.clientX - l.initialClientX) * 2 : l.handleUsed === \"left\" ? k = l.initialWidth + l.initialClientX - g.clientX : k = l.initialWidth + g.clientX - l.initialClientX;\n    const I = 64;\n    k < I ? n(I) : k > e.domElement.firstElementChild.clientWidth ? n(e.domElement.firstElementChild.clientWidth) : n(k);\n  }, u = (g) => {\n    (!g.target || !r.contains(g.target) || !e.isEditable) && r.contains(a) && r.contains(s) && (r.removeChild(a), r.removeChild(s)), l && (l = void 0, e.updateBlock(t, {\n      props: {\n        previewWidth: i()\n      }\n    }));\n  }, p = () => {\n    e.isEditable && (r.appendChild(a), r.appendChild(s));\n  }, h = (g) => {\n    g.relatedTarget === a || g.relatedTarget === s || l || e.isEditable && r.contains(a) && r.contains(s) && (r.removeChild(a), r.removeChild(s));\n  }, m = (g) => {\n    g.preventDefault(), r.appendChild(a), r.appendChild(s), l = {\n      handleUsed: \"left\",\n      initialWidth: t.props.previewWidth,\n      initialClientX: g.clientX\n    };\n  }, f = (g) => {\n    g.preventDefault(), r.appendChild(a), r.appendChild(s), l = {\n      handleUsed: \"right\",\n      initialWidth: t.props.previewWidth,\n      initialClientX: g.clientX\n    };\n  };\n  return r.appendChild(o), window.addEventListener(\"mousemove\", d), window.addEventListener(\"mouseup\", u), o.addEventListener(\"mouseenter\", p), o.addEventListener(\"mouseleave\", h), a.addEventListener(\n    \"mousedown\",\n    m\n  ), s.addEventListener(\n    \"mousedown\",\n    f\n  ), {\n    dom: r,\n    destroy: () => {\n      window.removeEventListener(\"mousemove\", d), window.removeEventListener(\"mouseup\", u), o.removeEventListener(\"mouseenter\", p), o.removeEventListener(\"mouseleave\", h), a.removeEventListener(\n        \"mousedown\",\n        m\n      ), s.removeEventListener(\n        \"mousedown\",\n        f\n      );\n    }\n  };\n}, Vo = {\n  backgroundColor: _.backgroundColor,\n  // File name.\n  name: {\n    default: \"\"\n  },\n  // File url.\n  url: {\n    default: \"\"\n  },\n  // File caption.\n  caption: {\n    default: \"\"\n  }\n}, jo = {\n  type: \"file\",\n  propSchema: Vo,\n  content: \"none\",\n  isFileBlock: !0\n}, zo = (t, e) => {\n  const o = document.createElement(\"div\");\n  if (o.className = \"bn-file-block-content-wrapper\", t.props.url === \"\") {\n    const i = de(t, e);\n    return o.appendChild(i.dom), {\n      dom: o,\n      destroy: i.destroy\n    };\n  } else {\n    const i = le(t).dom, n = j(t, i);\n    return o.appendChild(n.dom), {\n      dom: o\n    };\n  }\n}, Fo = (t) => {\n  if (t.tagName === \"EMBED\")\n    return Oe(t);\n  if (t.tagName === \"FIGURE\") {\n    const e = ce(t, \"embed\");\n    if (!e)\n      return;\n    const { targetElement: o, caption: i } = e;\n    return {\n      ...Oe(o),\n      caption: i\n    };\n  }\n}, Go = (t) => {\n  if (!t.props.url) {\n    const o = document.createElement(\"p\");\n    return o.textContent = \"Add file\", {\n      dom: o\n    };\n  }\n  const e = document.createElement(\"a\");\n  return e.href = t.props.url, e.textContent = t.props.name || t.props.url, t.props.caption ? ue(e, t.props.caption) : {\n    dom: e\n  };\n}, Wo = se(jo, {\n  render: zo,\n  parse: Fo,\n  toExternalHTML: Go\n}), Re = (t) => {\n  const e = t.src || void 0, o = t.width || void 0;\n  return { url: e, previewWidth: o };\n}, Ko = {\n  textAlignment: _.textAlignment,\n  backgroundColor: _.backgroundColor,\n  // File name.\n  name: {\n    default: \"\"\n  },\n  // File url.\n  url: {\n    default: \"\"\n  },\n  // File caption.\n  caption: {\n    default: \"\"\n  },\n  showPreview: {\n    default: !0\n  },\n  // File preview width in px.\n  previewWidth: {\n    default: 512\n  }\n}, $o = {\n  type: \"image\",\n  propSchema: Ko,\n  content: \"none\",\n  isFileBlock: !0,\n  fileBlockAcceptMimeTypes: [\"image/*\"]\n}, qo = (t, e) => {\n  const o = document.createElement(\"div\");\n  if (o.className = \"bn-file-block-content-wrapper\", t.props.url === \"\") {\n    const i = document.createElement(\"div\");\n    i.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z\"></path></svg>';\n    const n = de(\n      t,\n      e,\n      e.dictionary.file_blocks.image.add_button_text,\n      i.firstElementChild\n    );\n    return o.appendChild(n.dom), {\n      dom: o,\n      destroy: () => {\n        var r;\n        (r = n == null ? void 0 : n.destroy) == null || r.call(n);\n      }\n    };\n  } else if (t.props.showPreview) {\n    const i = document.createElement(\"img\");\n    i.className = \"bn-visual-media\", e.resolveFileUrl(t.props.url).then((a) => {\n      i.src = a;\n    }), i.alt = t.props.name || t.props.caption || \"BlockNote image\", i.contentEditable = \"false\", i.draggable = !1, i.width = Math.min(\n      t.props.previewWidth,\n      e.domElement.firstElementChild.clientWidth\n    );\n    const n = pt(\n      t,\n      e,\n      i,\n      () => i.width,\n      (a) => i.width = a\n    ), r = j(t, n.dom);\n    return o.appendChild(r.dom), {\n      dom: o,\n      destroy: n.destroy\n    };\n  } else {\n    const i = le(t).dom;\n    return {\n      dom: j(t, i).dom\n    };\n  }\n}, Xo = (t) => {\n  if (t.tagName === \"IMG\")\n    return Re(t);\n  if (t.tagName === \"FIGURE\") {\n    const e = ce(t, \"img\");\n    if (!e)\n      return;\n    const { targetElement: o, caption: i } = e;\n    return {\n      ...Re(o),\n      caption: i\n    };\n  }\n}, Zo = (t) => {\n  if (!t.props.url) {\n    const o = document.createElement(\"p\");\n    return o.textContent = \"Add image\", {\n      dom: o\n    };\n  }\n  let e;\n  return t.props.showPreview ? (e = document.createElement(\"img\"), e.src = t.props.url, e.alt = t.props.name || t.props.caption || \"BlockNote image\", e.width = t.props.previewWidth) : (e = document.createElement(\"a\"), e.href = t.props.url, e.textContent = t.props.name || t.props.url), t.props.caption ? t.props.showPreview ? Ce(e, t.props.caption) : ue(e, t.props.caption) : {\n    dom: e\n  };\n}, Jo = se($o, {\n  render: qo,\n  parse: Xo,\n  toExternalHTML: Zo\n}), Ve = (t) => {\n  const e = t.src || void 0, o = t.width || void 0;\n  return { url: e, previewWidth: o };\n}, Yo = {\n  textAlignment: _.textAlignment,\n  backgroundColor: _.backgroundColor,\n  // File name.\n  name: {\n    default: \"\"\n  },\n  // File url.\n  url: {\n    default: \"\"\n  },\n  // File caption.\n  caption: {\n    default: \"\"\n  },\n  showPreview: {\n    default: !0\n  },\n  // File preview width in px.\n  previewWidth: {\n    default: 512\n  }\n}, Qo = {\n  type: \"video\",\n  propSchema: Yo,\n  content: \"none\",\n  isFileBlock: !0,\n  fileBlockAcceptMimeTypes: [\"video/*\"]\n}, ei = (t, e) => {\n  const o = document.createElement(\"div\");\n  if (o.className = \"bn-file-block-content-wrapper\", t.props.url === \"\") {\n    const i = document.createElement(\"div\");\n    i.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z\"></path></svg>';\n    const n = de(\n      t,\n      e,\n      e.dictionary.file_blocks.video.add_button_text,\n      i.firstElementChild\n    );\n    return o.appendChild(n.dom), {\n      dom: o,\n      destroy: () => {\n        var r;\n        (r = n == null ? void 0 : n.destroy) == null || r.call(n);\n      }\n    };\n  } else if (t.props.showPreview) {\n    const i = document.createElement(\"video\");\n    i.className = \"bn-visual-media\", i.src = t.props.url, i.controls = !0, i.contentEditable = \"false\", i.draggable = !1, i.width = Math.min(\n      t.props.previewWidth,\n      e.domElement.firstElementChild.clientWidth\n    );\n    const n = pt(\n      t,\n      e,\n      i,\n      () => i.width,\n      (a) => i.width = a\n    ), r = j(t, n.dom);\n    return o.appendChild(r.dom), {\n      dom: o,\n      destroy: n.destroy\n    };\n  } else {\n    const i = le(t).dom;\n    return {\n      dom: j(t, i).dom\n    };\n  }\n}, ti = (t) => {\n  if (t.tagName === \"VIDEO\")\n    return Ve(t);\n  if (t.tagName === \"FIGURE\") {\n    const e = ce(t, \"video\");\n    if (!e)\n      return;\n    const { targetElement: o, caption: i } = e;\n    return {\n      ...Ve(o),\n      caption: i\n    };\n  }\n}, oi = (t) => {\n  if (!t.props.url) {\n    const o = document.createElement(\"p\");\n    return o.textContent = \"Add video\", {\n      dom: o\n    };\n  }\n  let e;\n  return t.props.showPreview ? (e = document.createElement(\"video\"), e.src = t.props.url, e.width = t.props.previewWidth) : (e = document.createElement(\"a\"), e.href = t.props.url, e.textContent = t.props.name || t.props.url), t.props.caption ? t.props.showPreview ? Ce(e, t.props.caption) : ue(e, t.props.caption) : {\n    dom: e\n  };\n}, ii = se(Qo, {\n  render: ei,\n  parse: ti,\n  toExternalHTML: oi\n}), je = (t) => ({ url: t.src || void 0 }), ni = {\n  backgroundColor: _.backgroundColor,\n  // File name.\n  name: {\n    default: \"\"\n  },\n  // File url.\n  url: {\n    default: \"\"\n  },\n  // File caption.\n  caption: {\n    default: \"\"\n  },\n  showPreview: {\n    default: !0\n  }\n}, ri = {\n  type: \"audio\",\n  propSchema: ni,\n  content: \"none\",\n  isFileBlock: !0,\n  fileBlockAcceptMimeTypes: [\"audio/*\"]\n}, ai = (t, e) => {\n  const o = document.createElement(\"div\");\n  if (o.className = \"bn-file-block-content-wrapper\", t.props.url === \"\") {\n    const i = document.createElement(\"div\");\n    i.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path d=\"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z\"></path></svg>';\n    const n = de(\n      t,\n      e,\n      e.dictionary.file_blocks.audio.add_button_text,\n      i.firstElementChild\n    );\n    return o.appendChild(n.dom), {\n      dom: o,\n      destroy: () => {\n        var r;\n        (r = n == null ? void 0 : n.destroy) == null || r.call(n);\n      }\n    };\n  } else if (t.props.showPreview) {\n    const i = document.createElement(\"audio\");\n    i.className = \"bn-audio\", e.resolveFileUrl(t.props.url).then((r) => {\n      i.src = r;\n    }), i.controls = !0, i.contentEditable = \"false\", i.draggable = !1;\n    const n = j(t, i);\n    return o.appendChild(n.dom), {\n      dom: o\n    };\n  } else {\n    const i = le(t).dom;\n    return {\n      dom: j(t, i).dom\n    };\n  }\n}, si = (t) => {\n  if (t.tagName === \"AUDIO\")\n    return je(t);\n  if (t.tagName === \"FIGURE\") {\n    const e = ce(t, \"audio\");\n    if (!e)\n      return;\n    const { targetElement: o, caption: i } = e;\n    return {\n      ...je(o),\n      caption: i\n    };\n  }\n}, li = (t) => {\n  if (!t.props.url) {\n    const o = document.createElement(\"p\");\n    return o.textContent = \"Add audio\", {\n      dom: o\n    };\n  }\n  let e;\n  return t.props.showPreview ? (e = document.createElement(\"audio\"), e.src = t.props.url) : (e = document.createElement(\"a\"), e.href = t.props.url, e.textContent = t.props.name || t.props.url), t.props.caption ? t.props.showPreview ? Ce(e, t.props.caption) : ue(e, t.props.caption) : {\n    dom: e\n  };\n}, di = se(ri, {\n  render: ai,\n  parse: si,\n  toExternalHTML: li\n}), Pr = async (t) => {\n  const e = new FormData();\n  return e.append(\"file\", t), (await (await fetch(\"https://tmpfiles.org/api/v1/upload\", {\n    method: \"POST\",\n    body: e\n  })).json()).data.url.replace(\n    \"tmpfiles.org/\",\n    \"tmpfiles.org/dl/\"\n  );\n}, ci = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Mark.create({\n  name: \"backgroundColor\",\n  addAttributes() {\n    return {\n      stringValue: {\n        default: void 0,\n        parseHTML: (t) => t.getAttribute(\"data-background-color\"),\n        renderHTML: (t) => ({\n          \"data-background-color\": t.stringValue\n        })\n      }\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"span\",\n        getAttrs: (t) => typeof t == \"string\" ? !1 : t.hasAttribute(\"data-background-color\") ? {\n          stringValue: t.getAttribute(\"data-background-color\")\n        } : !1\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    return [\"span\", t, 0];\n  }\n}), ui = U(\n  ci,\n  \"string\"\n), pi = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Mark.create({\n  name: \"textColor\",\n  addAttributes() {\n    return {\n      stringValue: {\n        default: void 0,\n        parseHTML: (t) => t.getAttribute(\"data-text-color\"),\n        renderHTML: (t) => ({\n          \"data-text-color\": t.stringValue\n        })\n      }\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"span\",\n        getAttrs: (t) => typeof t == \"string\" ? !1 : t.hasAttribute(\"data-text-color\") ? { stringValue: t.getAttribute(\"data-text-color\") } : !1\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    return [\"span\", t, 0];\n  }\n}), hi = U(pi, \"string\"), C = (t) => {\n  const { contentType: e } = b(\n    t.state.doc,\n    t.state.selection.from\n  );\n  return e.spec.content;\n}, mi = {\n  ..._,\n  level: { default: 1, values: [1, 2, 3] }\n}, fi = z({\n  name: \"heading\",\n  content: \"inline*\",\n  group: \"blockContent\",\n  addAttributes() {\n    return {\n      level: {\n        default: 1,\n        // instead of \"level\" attributes, use \"data-level\"\n        parseHTML: (t) => {\n          const e = t.getAttribute(\"data-level\"), o = parseInt(e);\n          if (isFinite(o))\n            return o;\n        },\n        renderHTML: (t) => ({\n          \"data-level\": t.level.toString()\n        })\n      }\n    };\n  },\n  addInputRules() {\n    return [\n      ...[1, 2, 3].map((t) => new _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.InputRule({\n        find: new RegExp(`^(#{${t}})\\\\s$`),\n        handler: ({ state: e, chain: o, range: i }) => {\n          C(this.editor) === \"inline*\" && o().BNUpdateBlock(e.selection.from, {\n            type: \"heading\",\n            props: {\n              level: t\n            }\n          }).deleteRange({ from: i.from, to: i.to });\n        }\n      }))\n    ];\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Alt-1\": () => C(this.editor) !== \"inline*\" ? !0 : this.editor.commands.BNUpdateBlock(\n        this.editor.state.selection.anchor,\n        {\n          type: \"heading\",\n          props: {\n            level: 1\n          }\n        }\n      ),\n      \"Mod-Alt-2\": () => C(this.editor) !== \"inline*\" ? !0 : this.editor.commands.BNUpdateBlock(\n        this.editor.state.selection.anchor,\n        {\n          type: \"heading\",\n          props: {\n            level: 2\n          }\n        }\n      ),\n      \"Mod-Alt-3\": () => C(this.editor) !== \"inline*\" ? !0 : this.editor.commands.BNUpdateBlock(\n        this.editor.state.selection.anchor,\n        {\n          type: \"heading\",\n          props: {\n            level: 3\n          }\n        }\n      )\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"div[data-content-type=\" + this.name + \"]\",\n        getAttrs: (t) => typeof t == \"string\" ? !1 : {\n          level: t.getAttribute(\"data-level\")\n        }\n      },\n      {\n        tag: \"h1\",\n        attrs: { level: 1 },\n        node: \"heading\"\n      },\n      {\n        tag: \"h2\",\n        attrs: { level: 2 },\n        node: \"heading\"\n      },\n      {\n        tag: \"h3\",\n        attrs: { level: 3 },\n        node: \"heading\"\n      }\n    ];\n  },\n  renderHTML({ node: t, HTMLAttributes: e }) {\n    var o, i;\n    return V(\n      this.name,\n      `h${t.attrs.level}`,\n      {\n        ...((o = this.options.domAttributes) == null ? void 0 : o.blockContent) || {},\n        ...e\n      },\n      ((i = this.options.domAttributes) == null ? void 0 : i.inlineContent) || {}\n    );\n  }\n}), gi = q(\n  fi,\n  mi\n), Se = (t) => {\n  const { contentNode: e, contentType: o } = b(\n    t.state.doc,\n    t.state.selection.from\n  ), i = t.state.selection.anchor === t.state.selection.head;\n  return !(o.name === \"bulletListItem\" || o.name === \"numberedListItem\" || o.name === \"checkListItem\") || !i ? !1 : t.commands.first(({ state: n, chain: r, commands: a }) => [\n    () => (\n      // Changes list item block to a paragraph block if the content is empty.\n      a.command(() => e.childCount === 0 ? a.BNUpdateBlock(n.selection.from, {\n        type: \"paragraph\",\n        props: {}\n      }) : !1)\n    ),\n    () => (\n      // Splits the current block, moving content inside that's after the cursor\n      // to a new block of the same type below.\n      a.command(() => e.childCount > 0 ? (r().deleteSelection().BNSplitBlock(n.selection.from, !0).run(), !0) : !1)\n    )\n  ]);\n}, bi = {\n  ..._\n}, ki = z({\n  name: \"bulletListItem\",\n  content: \"inline*\",\n  group: \"blockContent\",\n  // This is to make sure that check list parse rules run before, since they\n  // both parse `li` elements but check lists are more specific.\n  priority: 90,\n  addInputRules() {\n    return [\n      // Creates an unordered list when starting with \"-\", \"+\", or \"*\".\n      new _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.InputRule({\n        find: new RegExp(\"^[-+*]\\\\s$\"),\n        handler: ({ state: t, chain: e, range: o }) => {\n          C(this.editor) === \"inline*\" && e().BNUpdateBlock(t.selection.from, {\n            type: \"bulletListItem\",\n            props: {}\n          }).deleteRange({ from: o.from, to: o.to });\n        }\n      })\n    ];\n  },\n  addKeyboardShortcuts() {\n    return {\n      Enter: () => Se(this.editor),\n      \"Mod-Shift-8\": () => C(this.editor) !== \"inline*\" ? !0 : this.editor.commands.BNUpdateBlock(\n        this.editor.state.selection.anchor,\n        {\n          type: \"bulletListItem\",\n          props: {}\n        }\n      )\n    };\n  },\n  parseHTML() {\n    return [\n      // Case for regular HTML list structure.\n      {\n        tag: \"div[data-content-type=\" + this.name + \"]\"\n        // TODO: remove if we can't come up with test case that needs this\n      },\n      {\n        tag: \"li\",\n        getAttrs: (t) => {\n          if (typeof t == \"string\")\n            return !1;\n          const e = t.parentElement;\n          return e === null ? !1 : e.tagName === \"UL\" || e.tagName === \"DIV\" && e.parentElement.tagName === \"UL\" ? {} : !1;\n        },\n        node: \"bulletListItem\"\n      },\n      // Case for BlockNote list structure.\n      {\n        tag: \"p\",\n        getAttrs: (t) => {\n          if (typeof t == \"string\")\n            return !1;\n          const e = t.parentElement;\n          return e === null ? !1 : e.getAttribute(\"data-content-type\") === \"bulletListItem\" ? {} : !1;\n        },\n        priority: 300,\n        node: \"bulletListItem\"\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    var e, o;\n    return V(\n      this.name,\n      // We use a <p> tag, because for <li> tags we'd need a <ul> element to put\n      // them in to be semantically correct, which we can't have due to the\n      // schema.\n      \"p\",\n      {\n        ...((e = this.options.domAttributes) == null ? void 0 : e.blockContent) || {},\n        ...t\n      },\n      ((o = this.options.domAttributes) == null ? void 0 : o.inlineContent) || {}\n    );\n  }\n}), _i = q(\n  ki,\n  bi\n), yi = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"numbered-list-indexing\"), vi = () => new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n  key: yi,\n  appendTransaction: (t, e, o) => {\n    const i = o.tr;\n    i.setMeta(\"numberedListIndexing\", !0);\n    let n = !1;\n    return o.doc.descendants((r, a) => {\n      if (r.type.name === \"blockContainer\" && r.firstChild.type.name === \"numberedListItem\") {\n        let s = \"1\";\n        const l = a === 1, d = b(i.doc, a + 1);\n        if (d === void 0)\n          return;\n        if (!l) {\n          const h = b(i.doc, a - 2);\n          if (h === void 0)\n            return;\n          if (!(d.depth !== h.depth)) {\n            const f = h.contentNode;\n            if (h.contentType.name === \"numberedListItem\") {\n              const I = f.attrs.index;\n              s = (parseInt(I) + 1).toString();\n            }\n          }\n        }\n        d.contentNode.attrs.index !== s && (n = !0, i.setNodeMarkup(a + 1, void 0, {\n          index: s\n        }));\n      }\n    }), n ? i : null;\n  }\n}), wi = {\n  ..._\n}, xi = z({\n  name: \"numberedListItem\",\n  content: \"inline*\",\n  group: \"blockContent\",\n  priority: 90,\n  addAttributes() {\n    return {\n      index: {\n        default: null,\n        parseHTML: (t) => t.getAttribute(\"data-index\"),\n        renderHTML: (t) => ({\n          \"data-index\": t.index\n        })\n      }\n    };\n  },\n  addInputRules() {\n    return [\n      // Creates an ordered list when starting with \"1.\".\n      new _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.InputRule({\n        find: new RegExp(\"^1\\\\.\\\\s$\"),\n        handler: ({ state: t, chain: e, range: o }) => {\n          C(this.editor) === \"inline*\" && e().BNUpdateBlock(t.selection.from, {\n            type: \"numberedListItem\",\n            props: {}\n          }).deleteRange({ from: o.from, to: o.to });\n        }\n      })\n    ];\n  },\n  addKeyboardShortcuts() {\n    return {\n      Enter: () => Se(this.editor),\n      \"Mod-Shift-7\": () => C(this.editor) !== \"inline*\" ? !0 : this.editor.commands.BNUpdateBlock(\n        this.editor.state.selection.anchor,\n        {\n          type: \"numberedListItem\",\n          props: {}\n        }\n      )\n    };\n  },\n  addProseMirrorPlugins() {\n    return [vi()];\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"div[data-content-type=\" + this.name + \"]\"\n        // TODO: remove if we can't come up with test case that needs this\n      },\n      // Case for regular HTML list structure.\n      // (e.g.: when pasting from other apps)\n      {\n        tag: \"li\",\n        getAttrs: (t) => {\n          if (typeof t == \"string\")\n            return !1;\n          const e = t.parentElement;\n          return e === null ? !1 : e.tagName === \"OL\" || e.tagName === \"DIV\" && e.parentElement.tagName === \"OL\" ? {} : !1;\n        },\n        node: \"numberedListItem\"\n      },\n      // Case for BlockNote list structure.\n      // (e.g.: when pasting from blocknote)\n      {\n        tag: \"p\",\n        getAttrs: (t) => {\n          if (typeof t == \"string\")\n            return !1;\n          const e = t.parentElement;\n          return e === null ? !1 : e.getAttribute(\"data-content-type\") === \"numberedListItem\" ? {} : !1;\n        },\n        priority: 300,\n        node: \"numberedListItem\"\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    var e, o;\n    return V(\n      this.name,\n      // We use a <p> tag, because for <li> tags we'd need an <ol> element to\n      // put them in to be semantically correct, which we can't have due to the\n      // schema.\n      \"p\",\n      {\n        ...((e = this.options.domAttributes) == null ? void 0 : e.blockContent) || {},\n        ...t\n      },\n      ((o = this.options.domAttributes) == null ? void 0 : o.inlineContent) || {}\n    );\n  }\n}), Ei = q(\n  xi,\n  wi\n), Ci = {\n  ..._,\n  checked: {\n    default: !1\n  }\n}, Si = z({\n  name: \"checkListItem\",\n  content: \"inline*\",\n  group: \"blockContent\",\n  addAttributes() {\n    return {\n      checked: {\n        default: !1,\n        // instead of \"checked\" attributes, use \"data-checked\"\n        parseHTML: (t) => t.getAttribute(\"data-checked\") === \"true\" || void 0,\n        renderHTML: (t) => t.checked ? {\n          \"data-checked\": t.checked.toString()\n        } : {}\n      }\n    };\n  },\n  addInputRules() {\n    return [\n      // Creates a checklist when starting with \"[]\" or \"[X]\".\n      new _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.InputRule({\n        find: new RegExp(\"\\\\[\\\\s*\\\\]\\\\s$\"),\n        handler: ({ state: t, chain: e, range: o }) => {\n          C(this.editor) === \"inline*\" && e().BNUpdateBlock(t.selection.from, {\n            type: \"checkListItem\",\n            props: {\n              checked: !1\n            }\n          }).deleteRange({ from: o.from, to: o.to });\n        }\n      }),\n      new _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.InputRule({\n        find: new RegExp(\"\\\\[[Xx]\\\\]\\\\s$\"),\n        handler: ({ state: t, chain: e, range: o }) => {\n          C(this.editor) === \"inline*\" && e().BNUpdateBlock(t.selection.from, {\n            type: \"checkListItem\",\n            props: {\n              checked: !0\n            }\n          }).deleteRange({ from: o.from, to: o.to });\n        }\n      })\n    ];\n  },\n  addKeyboardShortcuts() {\n    return {\n      Enter: () => Se(this.editor),\n      \"Mod-Shift-9\": () => C(this.editor) !== \"inline*\" ? !0 : this.editor.commands.BNUpdateBlock(\n        this.editor.state.selection.anchor,\n        {\n          type: \"checkListItem\",\n          props: {}\n        }\n      )\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"div[data-content-type=\" + this.name + \"]\"\n        // TODO: remove if we can't come up with test case that needs this\n      },\n      // Checkbox only.\n      {\n        tag: \"input\",\n        getAttrs: (t) => typeof t == \"string\" ? !1 : t.type === \"checkbox\" ? { checked: t.checked } : !1,\n        node: \"checkListItem\"\n      },\n      // Container element for checkbox + label.\n      {\n        tag: \"li\",\n        getAttrs: (t) => {\n          if (typeof t == \"string\")\n            return !1;\n          const e = t.parentElement;\n          if (e === null)\n            return !1;\n          if (e.tagName === \"UL\" || e.tagName === \"DIV\" && e.parentElement.tagName === \"UL\") {\n            const o = t.querySelector(\n              \"input[type=checkbox]\"\n            ) || null;\n            return o === null ? !1 : { checked: o.checked };\n          }\n          return !1;\n        },\n        node: \"checkListItem\"\n      }\n    ];\n  },\n  // Since there is no HTML checklist element, there isn't really any\n  // standardization for what checklists should look like in the DOM. GDocs'\n  // and Notion's aren't cross compatible, for example. This implementation\n  // has a semantically correct DOM structure (though missing a label for the\n  // checkbox) which is also converted correctly to Markdown by remark.\n  renderHTML({ node: t, HTMLAttributes: e }) {\n    var r, a;\n    const o = document.createElement(\"input\");\n    o.type = \"checkbox\", o.checked = t.attrs.checked, t.attrs.checked && o.setAttribute(\"checked\", \"\");\n    const { dom: i, contentDOM: n } = V(\n      this.name,\n      \"p\",\n      {\n        ...((r = this.options.domAttributes) == null ? void 0 : r.blockContent) || {},\n        ...e\n      },\n      ((a = this.options.domAttributes) == null ? void 0 : a.inlineContent) || {}\n    );\n    return i.insertBefore(o, n), { dom: i, contentDOM: n };\n  },\n  // Need to render node view since the checkbox needs to be able to update the\n  // node. This is only possible with a node view as it exposes `getPos`.\n  addNodeView() {\n    return ({ node: t, getPos: e, editor: o, HTMLAttributes: i }) => {\n      var u, p;\n      const n = document.createElement(\"div\"), r = document.createElement(\"div\");\n      r.contentEditable = \"false\";\n      const a = document.createElement(\"input\");\n      a.type = \"checkbox\", a.checked = t.attrs.checked, t.attrs.checked && a.setAttribute(\"checked\", \"\");\n      const s = () => {\n        if (!o.isEditable) {\n          a.checked = !a.checked;\n          return;\n        }\n        typeof e != \"boolean\" && this.editor.commands.BNUpdateBlock(e(), {\n          type: \"checkListItem\",\n          props: {\n            checked: a.checked\n          }\n        });\n      };\n      a.addEventListener(\"change\", s);\n      const { dom: l, contentDOM: d } = V(\n        this.name,\n        \"p\",\n        {\n          ...((u = this.options.domAttributes) == null ? void 0 : u.blockContent) || {},\n          ...i\n        },\n        ((p = this.options.domAttributes) == null ? void 0 : p.inlineContent) || {}\n      );\n      if (typeof e != \"boolean\") {\n        const m = \"label-\" + this.editor.state.doc.resolve(e()).node().attrs.id;\n        a.setAttribute(\"aria-labelledby\", m), d.id = m;\n      }\n      return l.removeChild(d), l.appendChild(n), n.appendChild(r), n.appendChild(d), r.appendChild(a), {\n        dom: l,\n        contentDOM: d,\n        destroy: () => {\n          a.removeEventListener(\"change\", s);\n        }\n      };\n    };\n  }\n}), Mi = q(\n  Si,\n  Ci\n), Ti = {\n  ..._\n}, Bi = z({\n  name: \"paragraph\",\n  content: \"inline*\",\n  group: \"blockContent\",\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Alt-0\": () => C(this.editor) !== \"inline*\" ? !0 : this.editor.commands.BNUpdateBlock(\n        this.editor.state.selection.anchor,\n        {\n          type: \"paragraph\",\n          props: {}\n        }\n      )\n    };\n  },\n  parseHTML() {\n    return [\n      { tag: \"div[data-content-type=\" + this.name + \"]\" },\n      {\n        tag: \"p\",\n        priority: 200,\n        getAttrs: (t) => {\n          var e;\n          return typeof t == \"string\" || !((e = t.textContent) != null && e.trim()) ? !1 : {};\n        },\n        node: \"paragraph\"\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    var e, o;\n    return V(\n      this.name,\n      \"p\",\n      {\n        ...((e = this.options.domAttributes) == null ? void 0 : e.blockContent) || {},\n        ...t\n      },\n      ((o = this.options.domAttributes) == null ? void 0 : o.inlineContent) || {}\n    );\n  }\n}), Li = q(\n  Bi,\n  Ti\n), Ii = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"BlockNoteTableExtension\",\n  addProseMirrorPlugins: () => [\n    (0,prosemirror_tables__WEBPACK_IMPORTED_MODULE_8__.columnResizing)({\n      cellMinWidth: 100\n    }),\n    (0,prosemirror_tables__WEBPACK_IMPORTED_MODULE_8__.tableEditing)()\n  ],\n  addKeyboardShortcuts() {\n    return {\n      // Makes enter create a new line within the cell.\n      Enter: () => this.editor.state.selection.empty && this.editor.state.selection.$head.parent.type.name === \"tableParagraph\" ? (this.editor.commands.setHardBreak(), !0) : !1,\n      // Ensures that backspace won't delete the table if the text cursor is at\n      // the start of a cell and the selection is empty.\n      Backspace: () => {\n        const t = this.editor.state.selection, e = t.empty, o = t.$head.parentOffset === 0, i = t.$head.node().type.name === \"tableParagraph\";\n        return e && o && i;\n      }\n    };\n  },\n  extendNodeSchema(t) {\n    const e = {\n      name: t.name,\n      options: t.options,\n      storage: t.storage\n    };\n    return {\n      tableRole: (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.callOrReturn)(\n        (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.getExtensionField)(t, \"tableRole\", e)\n      )\n    };\n  }\n}), Ai = {\n  ..._\n}, Ni = z({\n  name: \"table\",\n  content: \"tableRow+\",\n  group: \"blockContent\",\n  tableRole: \"table\",\n  isolating: !0,\n  parseHTML() {\n    return [{ tag: \"table\" }];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    var e, o;\n    return V(\n      this.name,\n      \"table\",\n      {\n        ...((e = this.options.domAttributes) == null ? void 0 : e.blockContent) || {},\n        ...t\n      },\n      ((o = this.options.domAttributes) == null ? void 0 : o.inlineContent) || {}\n    );\n  }\n}), Pi = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Node.create({\n  name: \"tableParagraph\",\n  group: \"tableContent\",\n  content: \"inline*\",\n  parseHTML() {\n    return [\n      { tag: \"td\" },\n      {\n        tag: \"p\",\n        getAttrs: (t) => {\n          if (typeof t == \"string\" || !t.textContent)\n            return !1;\n          const e = t.parentElement;\n          return e === null ? !1 : e.tagName === \"TD\" ? {} : !1;\n        }\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    return [\n      \"p\",\n      (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.mergeAttributes)(this.options.HTMLAttributes, t),\n      0\n    ];\n  }\n}), Hi = q(\n  Ni,\n  Ai,\n  [\n    Ii,\n    Pi,\n    _tiptap_extension_table_header__WEBPACK_IMPORTED_MODULE_6__.TableHeader.extend({\n      content: \"tableContent\"\n    }),\n    _tiptap_extension_table_cell__WEBPACK_IMPORTED_MODULE_5__.TableCell.extend({\n      content: \"tableContent\"\n    }),\n    _tiptap_extension_table_row__WEBPACK_IMPORTED_MODULE_7__.TableRow\n  ]\n), ht = {\n  paragraph: Li,\n  heading: gi,\n  bulletListItem: _i,\n  numberedListItem: Ei,\n  checkListItem: Mi,\n  table: Hi,\n  file: Wo,\n  image: Jo,\n  video: ii,\n  audio: di\n}, Ui = lt(ht), mt = {\n  bold: U(_tiptap_extension_bold__WEBPACK_IMPORTED_MODULE_0__[\"default\"], \"boolean\"),\n  italic: U(_tiptap_extension_italic__WEBPACK_IMPORTED_MODULE_2__[\"default\"], \"boolean\"),\n  underline: U(_tiptap_extension_underline__WEBPACK_IMPORTED_MODULE_4__[\"default\"], \"boolean\"),\n  strike: U(_tiptap_extension_strike__WEBPACK_IMPORTED_MODULE_3__[\"default\"], \"boolean\"),\n  code: U(_tiptap_extension_code__WEBPACK_IMPORTED_MODULE_1__[\"default\"], \"boolean\"),\n  textColor: hi,\n  backgroundColor: ui\n}, Hr = ut(mt), ft = {\n  text: { config: \"text\", implementation: {} },\n  link: { config: \"link\", implementation: {} }\n}, Ur = dt(\n  ft\n);\nfunction x(t, e) {\n  return t in e.schema.blockSchema && e.schema.blockSchema[t] === Ui[t];\n}\nfunction Di(t, e, o) {\n  return e.type === t && e.type in o.schema.blockSchema && x(e.type, o);\n}\nfunction Dr(t, e) {\n  return t.type in e.schema.blockSchema && e.schema.blockSchema[t.type].isFileBlock || !1;\n}\nfunction Or(t, e) {\n  return t.type in e.schema.blockSchema && e.schema.blockSchema[t.type].isFileBlock && \"showPreview\" in e.schema.blockSchema[t.type].propSchema || !1;\n}\nfunction Rr(t, e) {\n  return e.schema.blockSchema[t.type].isFileBlock && !t.props.url;\n}\nfunction Oi(t, e, o) {\n  return e in o.schema.blockSchema && t in o.schema.blockSchema[e].propSchema && o.schema.blockSchema[e].propSchema[t] === _[t];\n}\nfunction Vr(t, e, o) {\n  return Oi(t, e.type, o);\n}\nfunction Me(t, e) {\n  let o, i;\n  if (e.firstChild.descendants((n, r) => o ? !1 : n.type.name !== \"blockContainer\" || n.attrs.id !== t ? !0 : (o = n, i = r + 1, !1)), o === void 0 || i === void 0)\n    throw Error(\"Could not find block in the editor with matching ID.\");\n  return {\n    node: o,\n    posBeforeNode: i\n  };\n}\nfunction Ri(t, e, o = \"before\", i) {\n  const n = i._tiptapEditor, r = typeof e == \"string\" ? e : e.id, a = [];\n  for (const u of t)\n    a.push(\n      P(u, n.schema, i.schema.styleSchema)\n    );\n  const { node: s, posBeforeNode: l } = Me(r, n.state.doc);\n  if (o === \"before\" && n.view.dispatch(\n    n.state.tr.insert(l, a)\n  ), o === \"after\" && n.view.dispatch(\n    n.state.tr.insert(l + s.nodeSize, a)\n  ), o === \"nested\" && s.childCount < 2) {\n    const u = n.state.schema.nodes.blockGroup.create(\n      {},\n      a\n    );\n    n.view.dispatch(\n      n.state.tr.insert(\n        l + s.firstChild.nodeSize + 1,\n        u\n      )\n    );\n  }\n  const d = [];\n  for (const u of a)\n    d.push(\n      y(\n        u,\n        i.schema.blockSchema,\n        i.schema.inlineContentSchema,\n        i.schema.styleSchema,\n        i.blockCache\n      )\n    );\n  return d;\n}\nfunction Vi(t, e, o) {\n  const i = o._tiptapEditor, n = typeof t == \"string\" ? t : t.id, { posBeforeNode: r } = Me(n, i.state.doc);\n  i.commands.BNUpdateBlock(r + 1, e);\n  const a = i.state.doc.resolve(r + 1).node();\n  return y(\n    a,\n    o.schema.blockSchema,\n    o.schema.inlineContentSchema,\n    o.schema.styleSchema,\n    o.blockCache\n  );\n}\nfunction gt(t, e, o) {\n  const i = e._tiptapEditor, n = i.state.tr, r = new Set(\n    t.map(\n      (l) => typeof l == \"string\" ? l : l.id\n    )\n  ), a = [];\n  let s = 0;\n  if (i.state.doc.descendants((l, d) => {\n    if (r.size === 0)\n      return !1;\n    if (l.type.name !== \"blockContainer\" || !r.has(l.attrs.id))\n      return !0;\n    a.push(\n      y(\n        l,\n        e.schema.blockSchema,\n        e.schema.inlineContentSchema,\n        e.schema.styleSchema,\n        e.blockCache\n      )\n    ), r.delete(l.attrs.id), s = (o == null ? void 0 : o(l, d, n, s)) || s;\n    const u = n.doc.nodeSize;\n    n.delete(d - s - 1, d - s + l.nodeSize + 1);\n    const p = n.doc.nodeSize;\n    return s += u - p, !1;\n  }), r.size > 0) {\n    const l = [...r].join(`\n`);\n    throw Error(\n      \"Blocks with the following IDs could not be found in the editor: \" + l\n    );\n  }\n  return i.view.dispatch(n), a;\n}\nfunction ji(t, e) {\n  return gt(t, e);\n}\nfunction zi(t, e, o) {\n  const i = o._tiptapEditor, n = [];\n  for (const l of e)\n    n.push(\n      P(l, i.schema, o.schema.styleSchema)\n    );\n  const r = typeof t[0] == \"string\" ? t[0] : t[0].id, a = gt(\n    t,\n    o,\n    (l, d, u, p) => {\n      if (l.attrs.id === r) {\n        const h = u.doc.nodeSize;\n        u.insert(d, n);\n        const m = u.doc.nodeSize;\n        return p + h - m;\n      }\n      return p;\n    }\n  ), s = [];\n  for (const l of n)\n    s.push(\n      y(\n        l,\n        o.schema.blockSchema,\n        o.schema.inlineContentSchema,\n        o.schema.styleSchema,\n        o.blockCache\n      )\n    );\n  return { insertedBlocks: s, removedBlocks: a };\n}\nfunction Fi(t, e, o, i = { updateSelection: !0 }) {\n  const n = o._tiptapEditor, r = n.state.tr;\n  let { from: a, to: s } = typeof t == \"number\" ? { from: t, to: t } : { from: t.from, to: t.to }, l = !0, d = !0, u = \"\";\n  if (e.forEach((p) => {\n    p.check(), l && p.isText && p.marks.length === 0 ? u += p.text : l = !1, d = d ? p.isBlock : !1;\n  }), a === s && d) {\n    const { parent: p } = r.doc.resolve(a);\n    p.isTextblock && !p.type.spec.code && !p.childCount && (a -= 1, s += 1);\n  }\n  return l ? r.insertText(u, a, s) : r.replaceWith(a, s, e), i.updateSelection && (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.selectionToInsertionEnd)(r, r.steps.length - 1, -1), n.view.dispatch(r), !0;\n}\nfunction Gi() {\n  const t = (e) => {\n    let o = e.children.length;\n    for (let i = 0; i < o; i++) {\n      const n = e.children[i];\n      if (n.type === \"element\" && (t(n), n.tagName === \"u\"))\n        if (n.children.length > 0) {\n          e.children.splice(i, 1, ...n.children);\n          const r = n.children.length - 1;\n          o += r, i += r;\n        } else\n          e.children.splice(i, 1), o--, i--;\n    }\n  };\n  return t;\n}\nfunction Wi() {\n  const t = (e) => {\n    var o;\n    if (e.children && \"length\" in e.children && e.children.length)\n      for (let i = e.children.length - 1; i >= 0; i--) {\n        const n = e.children[i], r = i + 1 < e.children.length ? e.children[i + 1] : void 0;\n        n.type === \"element\" && n.tagName === \"input\" && ((o = n.properties) == null ? void 0 : o.type) === \"checkbox\" && (r == null ? void 0 : r.type) === \"element\" && r.tagName === \"p\" ? (r.tagName = \"span\", r.children.splice(\n          0,\n          0,\n          (0,hast_util_from_dom__WEBPACK_IMPORTED_MODULE_21__.fromDom)(document.createTextNode(\" \"))\n        )) : t(n);\n      }\n  };\n  return t;\n}\nfunction Te(t) {\n  return (0,unified__WEBPACK_IMPORTED_MODULE_22__.unified)().use(rehype_parse__WEBPACK_IMPORTED_MODULE_23__[\"default\"], { fragment: !0 }).use(Gi).use(Wi).use(rehype_remark__WEBPACK_IMPORTED_MODULE_25__[\"default\"]).use(remark_gfm__WEBPACK_IMPORTED_MODULE_26__[\"default\"]).use(remark_stringify__WEBPACK_IMPORTED_MODULE_27__[\"default\"]).processSync(t).value;\n}\nfunction Ki(t, e, o) {\n  const n = ae(e, o).exportBlocks(t);\n  return Te(n);\n}\nfunction $i(t) {\n  return Array.prototype.indexOf.call(t.parentElement.childNodes, t);\n}\nfunction qi(t) {\n  return t.nodeType === 3 && !/\\S/.test(t.nodeValue || \"\");\n}\nfunction Xi(t) {\n  t.querySelectorAll(\"li > ul, li > ol\").forEach((e) => {\n    const o = $i(e), i = e.parentElement, n = Array.from(i.childNodes).slice(\n      o + 1\n    );\n    e.remove(), n.forEach((r) => {\n      r.remove();\n    }), i.insertAdjacentElement(\"afterend\", e), n.reverse().forEach((r) => {\n      if (qi(r))\n        return;\n      const a = document.createElement(\"li\");\n      a.append(r), e.insertAdjacentElement(\"afterend\", a);\n    }), i.childNodes.length === 0 && i.remove();\n  });\n}\nfunction Zi(t) {\n  t.querySelectorAll(\"li + ul, li + ol\").forEach((e) => {\n    var r, a;\n    const o = e.previousElementSibling, i = document.createElement(\"div\");\n    o.insertAdjacentElement(\"afterend\", i), i.append(o);\n    const n = document.createElement(\"div\");\n    for (n.setAttribute(\"data-node-type\", \"blockGroup\"), i.append(n); ((r = i.nextElementSibling) == null ? void 0 : r.nodeName) === \"UL\" || ((a = i.nextElementSibling) == null ? void 0 : a.nodeName) === \"OL\"; )\n      n.append(i.nextElementSibling);\n  });\n}\nlet ze = null;\nfunction Ji() {\n  return ze || (ze = document.implementation.createHTMLDocument(\"title\"));\n}\nfunction bt(t) {\n  if (typeof t == \"string\") {\n    const e = Ji().createElement(\"div\");\n    e.innerHTML = t, t = e;\n  }\n  return Xi(t), Zi(t), t;\n}\nasync function kt(t, e, o, i, n) {\n  const r = bt(t), s = prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.DOMParser.fromSchema(n).parse(r, {\n    topNode: n.nodes.blockGroup.create()\n  }), l = [];\n  for (let d = 0; d < s.childCount; d++)\n    l.push(\n      y(s.child(d), e, o, i)\n    );\n  return l;\n}\nfunction Yi(t, e) {\n  const o = e.value ? e.value + `\n` : \"\", i = {};\n  e.lang && (i[\"data-language\"] = e.lang);\n  let n = {\n    type: \"element\",\n    tagName: \"code\",\n    properties: i,\n    children: [{ type: \"text\", value: o }]\n  };\n  return e.meta && (n.data = { meta: e.meta }), t.patch(e, n), n = t.applyData(e, n), n = {\n    type: \"element\",\n    tagName: \"pre\",\n    properties: {},\n    children: [n]\n  }, t.patch(e, n), n;\n}\nfunction Qi(t, e, o, i, n) {\n  const r = (0,unified__WEBPACK_IMPORTED_MODULE_22__.unified)().use(remark_parse__WEBPACK_IMPORTED_MODULE_28__[\"default\"]).use(remark_gfm__WEBPACK_IMPORTED_MODULE_26__[\"default\"]).use(remark_rehype__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n    handlers: {\n      ...remark_rehype__WEBPACK_IMPORTED_MODULE_30__.handlers,\n      code: Yi\n    }\n  }).use(rehype_stringify__WEBPACK_IMPORTED_MODULE_24__[\"default\"]).processSync(t);\n  return kt(\n    r.value,\n    e,\n    o,\n    i,\n    n\n  );\n}\nclass X {\n  constructor() {\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    c(this, \"callbacks\", {});\n  }\n  on(e, o) {\n    return this.callbacks[e] || (this.callbacks[e] = []), this.callbacks[e].push(o), () => this.off(e, o);\n  }\n  emit(e, ...o) {\n    const i = this.callbacks[e];\n    i && i.forEach((n) => n.apply(this, o));\n  }\n  off(e, o) {\n    const i = this.callbacks[e];\n    i && (o ? this.callbacks[e] = i.filter((n) => n !== o) : delete this.callbacks[e]);\n  }\n  removeAllListeners() {\n    this.callbacks = {};\n  }\n}\nclass en {\n  constructor(e, o, i, n) {\n    c(this, \"state\");\n    c(this, \"emitUpdate\");\n    c(this, \"mouseDownHandler\", () => {\n      var e;\n      (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate());\n    });\n    // For dragging the whole editor.\n    c(this, \"dragstartHandler\", () => {\n      var e;\n      (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate());\n    });\n    c(this, \"scrollHandler\", () => {\n      var e;\n      if ((e = this.state) != null && e.show) {\n        const o = document.querySelector(\n          `[data-node-type=\"blockContainer\"][data-id=\"${this.state.block.id}\"]`\n        );\n        this.state.referencePos = o.getBoundingClientRect(), this.emitUpdate();\n      }\n    });\n    c(this, \"closeMenu\", () => {\n      var e;\n      (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate());\n    });\n    this.editor = e, this.pluginKey = o, this.pmView = i, this.emitUpdate = () => {\n      if (!this.state)\n        throw new Error(\"Attempting to update uninitialized file panel\");\n      n(this.state);\n    }, i.dom.addEventListener(\"mousedown\", this.mouseDownHandler), i.dom.addEventListener(\"dragstart\", this.dragstartHandler), document.addEventListener(\"scroll\", this.scrollHandler, !0);\n  }\n  update(e, o) {\n    var n, r;\n    const i = this.pluginKey.getState(e.state);\n    if (!((n = this.state) != null && n.show) && i.block && this.editor.isEditable) {\n      const a = document.querySelector(\n        `[data-node-type=\"blockContainer\"][data-id=\"${i.block.id}\"]`\n      );\n      this.state = {\n        show: !0,\n        referencePos: a.getBoundingClientRect(),\n        block: i.block\n      }, this.emitUpdate();\n      return;\n    }\n    (!e.state.selection.eq(o.selection) || !e.state.doc.eq(o.doc) || !this.editor.isEditable) && (r = this.state) != null && r.show && (this.state.show = !1, this.emitUpdate());\n  }\n  destroy() {\n    this.pmView.dom.removeEventListener(\"mousedown\", this.mouseDownHandler), this.pmView.dom.removeEventListener(\"dragstart\", this.dragstartHandler), document.removeEventListener(\"scroll\", this.scrollHandler, !0);\n  }\n}\nconst fe = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"FilePanelPlugin\");\nclass tn extends X {\n  constructor(o) {\n    super();\n    c(this, \"view\");\n    c(this, \"plugin\");\n    c(this, \"closeMenu\", () => this.view.closeMenu());\n    this.plugin = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n      key: fe,\n      view: (i) => (this.view = new en(\n        o,\n        fe,\n        i,\n        (n) => {\n          this.emit(\"update\", n);\n        }\n      ), this.view),\n      props: {\n        handleKeyDown: (i, n) => n.key === \"Escape\" && this.shown ? (this.view.closeMenu(), !0) : !1\n      },\n      state: {\n        init: () => ({\n          block: void 0\n        }),\n        apply: (i) => {\n          var r;\n          return {\n            block: (r = i.getMeta(fe)) == null ? void 0 : r.block\n          };\n        }\n      }\n    });\n  }\n  get shown() {\n    var o, i;\n    return ((i = (o = this.view) == null ? void 0 : o.state) == null ? void 0 : i.show) || !1;\n  }\n  onUpdate(o) {\n    return this.on(\"update\", o);\n  }\n}\nclass on {\n  constructor(e, o, i) {\n    c(this, \"state\");\n    c(this, \"emitUpdate\");\n    c(this, \"preventHide\", !1);\n    c(this, \"preventShow\", !1);\n    c(this, \"shouldShow\", ({ state: e, from: o, to: i, view: n }) => {\n      const { doc: r, selection: a } = e, { empty: s } = a, l = !r.textBetween(o, i).length && (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.isTextSelection)(e.selection);\n      return !(!n.hasFocus() || s || l);\n    });\n    c(this, \"viewMousedownHandler\", () => {\n      this.preventShow = !0;\n    });\n    c(this, \"viewMouseupHandler\", () => {\n      this.preventShow = !1, setTimeout(() => this.update(this.pmView));\n    });\n    // For dragging the whole editor.\n    c(this, \"dragHandler\", () => {\n      var e;\n      (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate());\n    });\n    c(this, \"scrollHandler\", () => {\n      var e;\n      (e = this.state) != null && e.show && (this.state.referencePos = this.getSelectionBoundingBox(), this.emitUpdate());\n    });\n    c(this, \"closeMenu\", () => {\n      var e;\n      (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate());\n    });\n    this.editor = e, this.pmView = o, this.emitUpdate = () => {\n      if (!this.state)\n        throw new Error(\n          \"Attempting to update uninitialized formatting toolbar\"\n        );\n      i(this.state);\n    }, o.dom.addEventListener(\"mousedown\", this.viewMousedownHandler), o.dom.addEventListener(\"mouseup\", this.viewMouseupHandler), o.dom.addEventListener(\"dragstart\", this.dragHandler), o.dom.addEventListener(\"dragover\", this.dragHandler), document.addEventListener(\"scroll\", this.scrollHandler, !0);\n  }\n  update(e, o) {\n    var h, m;\n    const { state: i, composing: n } = e, { doc: r, selection: a } = i, s = o && o.doc.eq(r) && o.selection.eq(a);\n    if (n || s)\n      return;\n    const { ranges: l } = a, d = Math.min(...l.map((f) => f.$from.pos)), u = Math.max(...l.map((f) => f.$to.pos)), p = (h = this.shouldShow) == null ? void 0 : h.call(this, {\n      view: e,\n      state: i,\n      from: d,\n      to: u\n    });\n    if (!this.preventShow && (p || this.preventHide)) {\n      this.state = {\n        show: !0,\n        referencePos: this.getSelectionBoundingBox()\n      }, this.emitUpdate();\n      return;\n    }\n    if ((m = this.state) != null && m.show && !this.preventHide && (!p || this.preventShow || !this.editor.isEditable)) {\n      this.state.show = !1, this.emitUpdate();\n      return;\n    }\n  }\n  destroy() {\n    this.pmView.dom.removeEventListener(\"mousedown\", this.viewMousedownHandler), this.pmView.dom.removeEventListener(\"mouseup\", this.viewMouseupHandler), this.pmView.dom.removeEventListener(\"dragstart\", this.dragHandler), this.pmView.dom.removeEventListener(\"dragover\", this.dragHandler), document.removeEventListener(\"scroll\", this.scrollHandler, !0);\n  }\n  getSelectionBoundingBox() {\n    const { state: e } = this.pmView, { selection: o } = e, { ranges: i } = o, n = Math.min(...i.map((a) => a.$from.pos)), r = Math.max(...i.map((a) => a.$to.pos));\n    if ((0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.isNodeSelection)(o)) {\n      const a = this.pmView.nodeDOM(n);\n      if (a)\n        return a.getBoundingClientRect();\n    }\n    return (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.posToDOMRect)(this.pmView, n, r);\n  }\n}\nconst nn = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\n  \"FormattingToolbarPlugin\"\n);\nclass rn extends X {\n  constructor(o) {\n    super();\n    c(this, \"view\");\n    c(this, \"plugin\");\n    c(this, \"closeMenu\", () => this.view.closeMenu());\n    this.plugin = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n      key: nn,\n      view: (i) => (this.view = new on(o, i, (n) => {\n        this.emit(\"update\", n);\n      }), this.view),\n      props: {\n        handleKeyDown: (i, n) => n.key === \"Escape\" && this.shown ? (this.view.closeMenu(), !0) : !1\n      }\n    });\n  }\n  get shown() {\n    var o, i;\n    return ((i = (o = this.view) == null ? void 0 : o.state) == null ? void 0 : i.show) || !1;\n  }\n  onUpdate(o) {\n    return this.on(\"update\", o);\n  }\n}\nclass an {\n  constructor(e, o, i) {\n    c(this, \"state\");\n    c(this, \"emitUpdate\");\n    c(this, \"menuUpdateTimer\");\n    c(this, \"startMenuUpdateTimer\");\n    c(this, \"stopMenuUpdateTimer\");\n    c(this, \"mouseHoveredLinkMark\");\n    c(this, \"mouseHoveredLinkMarkRange\");\n    c(this, \"keyboardHoveredLinkMark\");\n    c(this, \"keyboardHoveredLinkMarkRange\");\n    c(this, \"linkMark\");\n    c(this, \"linkMarkRange\");\n    c(this, \"mouseOverHandler\", (e) => {\n      if (this.mouseHoveredLinkMark = void 0, this.mouseHoveredLinkMarkRange = void 0, this.stopMenuUpdateTimer(), e.target instanceof HTMLAnchorElement && e.target.nodeName === \"A\") {\n        const o = e.target, i = this.pmView.posAtDOM(o, 0) + 1, n = this.pmView.state.doc.resolve(i), r = n.marks();\n        for (const a of r)\n          if (a.type.name === this.pmView.state.schema.mark(\"link\").type.name) {\n            this.mouseHoveredLinkMark = a, this.mouseHoveredLinkMarkRange = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.getMarkRange)(n, a.type, a.attrs) || void 0;\n            break;\n          }\n      }\n      return this.startMenuUpdateTimer(), !1;\n    });\n    c(this, \"clickHandler\", (e) => {\n      var i;\n      const o = this.pmView.dom.parentElement;\n      // Toolbar is open.\n      this.linkMark && // An element is clicked.\n      e && e.target && // The clicked element is not the editor.\n      !(o === e.target || o.contains(e.target)) && (i = this.state) != null && i.show && (this.state.show = !1, this.emitUpdate());\n    });\n    c(this, \"scrollHandler\", () => {\n      var e;\n      this.linkMark !== void 0 && (e = this.state) != null && e.show && (this.state.referencePos = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.posToDOMRect)(\n        this.pmView,\n        this.linkMarkRange.from,\n        this.linkMarkRange.to\n      ), this.emitUpdate());\n    });\n    c(this, \"closeMenu\", () => {\n      var e;\n      (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate());\n    });\n    this.editor = e, this.pmView = o, this.emitUpdate = () => {\n      if (!this.state)\n        throw new Error(\"Attempting to update uninitialized link toolbar\");\n      i(this.state);\n    }, this.startMenuUpdateTimer = () => {\n      this.menuUpdateTimer = setTimeout(() => {\n        this.update();\n      }, 250);\n    }, this.stopMenuUpdateTimer = () => (this.menuUpdateTimer && (clearTimeout(this.menuUpdateTimer), this.menuUpdateTimer = void 0), !1), this.pmView.dom.addEventListener(\"mouseover\", this.mouseOverHandler), document.addEventListener(\"click\", this.clickHandler, !0), document.addEventListener(\"scroll\", this.scrollHandler, !0);\n  }\n  editLink(e, o) {\n    var n;\n    const i = this.pmView.state.tr.insertText(\n      o,\n      this.linkMarkRange.from,\n      this.linkMarkRange.to\n    );\n    i.addMark(\n      this.linkMarkRange.from,\n      this.linkMarkRange.from + o.length,\n      this.pmView.state.schema.mark(\"link\", { href: e })\n    ), this.pmView.dispatch(i), this.pmView.focus(), (n = this.state) != null && n.show && (this.state.show = !1, this.emitUpdate());\n  }\n  deleteLink() {\n    var e;\n    this.pmView.dispatch(\n      this.pmView.state.tr.removeMark(\n        this.linkMarkRange.from,\n        this.linkMarkRange.to,\n        this.linkMark.type\n      ).setMeta(\"preventAutolink\", !0)\n    ), this.pmView.focus(), (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate());\n  }\n  update() {\n    var o;\n    if (!this.pmView.hasFocus())\n      return;\n    const e = this.linkMark;\n    if (this.linkMark = void 0, this.linkMarkRange = void 0, this.keyboardHoveredLinkMark = void 0, this.keyboardHoveredLinkMarkRange = void 0, this.pmView.state.selection.empty) {\n      const i = this.pmView.state.selection.$from.marks();\n      for (const n of i)\n        if (n.type.name === this.pmView.state.schema.mark(\"link\").type.name) {\n          this.keyboardHoveredLinkMark = n, this.keyboardHoveredLinkMarkRange = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.getMarkRange)(\n            this.pmView.state.selection.$from,\n            n.type,\n            n.attrs\n          ) || void 0;\n          break;\n        }\n    }\n    if (this.mouseHoveredLinkMark && (this.linkMark = this.mouseHoveredLinkMark, this.linkMarkRange = this.mouseHoveredLinkMarkRange), this.keyboardHoveredLinkMark && (this.linkMark = this.keyboardHoveredLinkMark, this.linkMarkRange = this.keyboardHoveredLinkMarkRange), this.linkMark && this.editor.isEditable) {\n      this.state = {\n        show: !0,\n        referencePos: (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.posToDOMRect)(\n          this.pmView,\n          this.linkMarkRange.from,\n          this.linkMarkRange.to\n        ),\n        url: this.linkMark.attrs.href,\n        text: this.pmView.state.doc.textBetween(\n          this.linkMarkRange.from,\n          this.linkMarkRange.to\n        )\n      }, this.emitUpdate();\n      return;\n    }\n    if ((o = this.state) != null && o.show && e && (!this.linkMark || !this.editor.isEditable)) {\n      this.state.show = !1, this.emitUpdate();\n      return;\n    }\n  }\n  destroy() {\n    this.pmView.dom.removeEventListener(\"mouseover\", this.mouseOverHandler), document.removeEventListener(\"scroll\", this.scrollHandler, !0), document.removeEventListener(\"click\", this.clickHandler, !0);\n  }\n}\nconst sn = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"LinkToolbarPlugin\");\nclass ln extends X {\n  constructor(o) {\n    super();\n    c(this, \"view\");\n    c(this, \"plugin\");\n    /**\n     * Edit the currently hovered link.\n     */\n    c(this, \"editLink\", (o, i) => {\n      this.view.editLink(o, i);\n    });\n    /**\n     * Delete the currently hovered link.\n     */\n    c(this, \"deleteLink\", () => {\n      this.view.deleteLink();\n    });\n    /**\n     * When hovering on/off links using the mouse cursor, the link toolbar will\n     * open & close with a delay.\n     *\n     * This function starts the delay timer, and should be used for when the mouse\n     * cursor enters the link toolbar.\n     */\n    c(this, \"startHideTimer\", () => {\n      this.view.startMenuUpdateTimer();\n    });\n    /**\n     * When hovering on/off links using the mouse cursor, the link toolbar will\n     * open & close with a delay.\n     *\n     * This function stops the delay timer, and should be used for when the mouse\n     * cursor exits the link toolbar.\n     */\n    c(this, \"stopHideTimer\", () => {\n      this.view.stopMenuUpdateTimer();\n    });\n    c(this, \"closeMenu\", () => this.view.closeMenu());\n    this.plugin = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n      key: sn,\n      view: (i) => (this.view = new an(o, i, (n) => {\n        this.emit(\"update\", n);\n      }), this.view),\n      props: {\n        handleKeyDown: (i, n) => n.key === \"Escape\" && this.shown ? (this.view.closeMenu(), !0) : !1\n      }\n    });\n  }\n  onUpdate(o) {\n    return this.on(\"update\", o);\n  }\n  get shown() {\n    var o, i;\n    return ((i = (o = this.view) == null ? void 0 : o.state) == null ? void 0 : i.show) || !1;\n  }\n}\nconst dn = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.findParentNode)((t) => t.type.name === \"blockContainer\");\nclass cn {\n  constructor(e, o) {\n    c(this, \"state\");\n    c(this, \"emitUpdate\");\n    c(this, \"pluginState\");\n    c(this, \"handleScroll\", () => {\n      var e;\n      if ((e = this.state) != null && e.show) {\n        const o = document.querySelector(\n          `[data-decoration-id=\"${this.pluginState.decorationId}\"]`\n        );\n        this.state.referencePos = o.getBoundingClientRect(), this.emitUpdate(this.pluginState.triggerCharacter);\n      }\n    });\n    c(this, \"closeMenu\", () => {\n      this.editor._tiptapEditor.view.dispatch(\n        this.editor._tiptapEditor.view.state.tr.setMeta(\n          O,\n          null\n        )\n      );\n    });\n    c(this, \"clearQuery\", () => {\n      this.pluginState !== void 0 && this.editor._tiptapEditor.chain().focus().deleteRange({\n        from: this.pluginState.queryStartPos - (this.pluginState.fromUserInput ? this.pluginState.triggerCharacter.length : 0),\n        to: this.editor._tiptapEditor.state.selection.from\n      }).run();\n    });\n    this.editor = e, this.pluginState = void 0, this.emitUpdate = (i) => {\n      if (!this.state)\n        throw new Error(\"Attempting to update uninitialized suggestions menu\");\n      o(i, this.state);\n    }, document.addEventListener(\"scroll\", this.handleScroll, !0);\n  }\n  update(e, o) {\n    const i = O.getState(o), n = O.getState(\n      e.state\n    ), r = i === void 0 && n !== void 0, a = i !== void 0 && n === void 0;\n    if (!r && !(i !== void 0 && n !== void 0) && !a)\n      return;\n    if (this.pluginState = a ? i : n, a || !this.editor.isEditable) {\n      this.state.show = !1, this.emitUpdate(this.pluginState.triggerCharacter);\n      return;\n    }\n    const l = document.querySelector(\n      `[data-decoration-id=\"${this.pluginState.decorationId}\"]`\n    );\n    this.editor.isEditable && (this.state = {\n      show: !0,\n      referencePos: l.getBoundingClientRect(),\n      query: this.pluginState.query\n    }, this.emitUpdate(this.pluginState.triggerCharacter));\n  }\n  destroy() {\n    document.removeEventListener(\"scroll\", this.handleScroll, !0);\n  }\n}\nconst O = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"SuggestionMenuPlugin\");\nclass un extends X {\n  constructor(o) {\n    super();\n    c(this, \"view\");\n    c(this, \"plugin\");\n    c(this, \"triggerCharacters\", []);\n    c(this, \"addTriggerCharacter\", (o) => {\n      this.triggerCharacters.push(o);\n    });\n    // TODO: Should this be called automatically when listeners are removed?\n    c(this, \"removeTriggerCharacter\", (o) => {\n      this.triggerCharacters = this.triggerCharacters.filter(\n        (i) => i !== o\n      );\n    });\n    c(this, \"closeMenu\", () => this.view.closeMenu());\n    c(this, \"clearQuery\", () => this.view.clearQuery());\n    const i = this.triggerCharacters;\n    this.plugin = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n      key: O,\n      view: () => (this.view = new cn(\n        o,\n        (n, r) => {\n          this.emit(`update ${n}`, r);\n        }\n      ), this.view),\n      state: {\n        // Initialize the plugin's internal state.\n        init() {\n        },\n        // Apply changes to the plugin state from an editor transaction.\n        apply(n, r, a, s) {\n          if (n.getMeta(\"orderedListIndexing\") !== void 0)\n            return r;\n          const l = n.getMeta(O);\n          if (typeof l == \"object\" && l !== null && r === void 0)\n            return {\n              triggerCharacter: l.triggerCharacter,\n              fromUserInput: l.fromUserInput !== !1,\n              queryStartPos: s.selection.from,\n              query: \"\",\n              decorationId: `id_${Math.floor(Math.random() * 4294967295)}`\n            };\n          if (r === void 0)\n            return r;\n          if (\n            // Highlighting text should hide the menu.\n            s.selection.from !== s.selection.to || // Transactions with plugin metadata should hide the menu.\n            l === null || // Certain mouse events should hide the menu.\n            // TODO: Change to global mousedown listener.\n            n.getMeta(\"focus\") || n.getMeta(\"blur\") || n.getMeta(\"pointer\") || // Moving the caret before the character which triggered the menu should hide it.\n            r.triggerCharacter !== void 0 && s.selection.from < r.queryStartPos\n          )\n            return;\n          const d = { ...r };\n          return d.query = s.doc.textBetween(\n            r.queryStartPos,\n            s.selection.from\n          ), d;\n        }\n      },\n      props: {\n        handleTextInput(n, r, a, s) {\n          const l = this.getState(n.state);\n          return i.includes(s) && l === void 0 ? (n.dispatch(\n            n.state.tr.insertText(s).scrollIntoView().setMeta(O, {\n              triggerCharacter: s\n            })\n          ), !0) : !1;\n        },\n        // Setup decorator on the currently active suggestion.\n        decorations(n) {\n          const r = this.getState(n);\n          if (r === void 0)\n            return null;\n          if (!r.fromUserInput) {\n            const a = dn(n.selection);\n            if (a)\n              return prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.DecorationSet.create(n.doc, [\n                prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.Decoration.node(\n                  a.pos,\n                  a.pos + a.node.nodeSize,\n                  {\n                    nodeName: \"span\",\n                    class: \"bn-suggestion-decorator\",\n                    \"data-decoration-id\": r.decorationId\n                  }\n                )\n              ]);\n          }\n          return prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.DecorationSet.create(n.doc, [\n            prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.Decoration.inline(\n              r.queryStartPos - r.triggerCharacter.length,\n              r.queryStartPos,\n              {\n                nodeName: \"span\",\n                class: \"bn-suggestion-decorator\",\n                \"data-decoration-id\": r.decorationId\n              }\n            )\n          ]);\n        }\n      }\n    });\n  }\n  onUpdate(o, i) {\n    return this.triggerCharacters.includes(o) || this.addTriggerCharacter(o), this.on(`update ${o}`, i);\n  }\n  get shown() {\n    var o, i;\n    return ((i = (o = this.view) == null ? void 0 : o.state) == null ? void 0 : i.show) || !1;\n  }\n}\nfunction jr(t, e) {\n  t.suggestionMenus.addTriggerCharacter(e);\n}\nclass F extends prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Selection {\n  constructor(o, i) {\n    super(o, i);\n    c(this, \"nodes\");\n    const n = o.node();\n    this.nodes = [], o.doc.nodesBetween(o.pos, i.pos, (r, a, s) => {\n      if (s !== null && s.eq(n))\n        return this.nodes.push(r), !1;\n    });\n  }\n  static create(o, i, n = i) {\n    return new F(o.resolve(i), o.resolve(n));\n  }\n  content() {\n    return new prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Slice(prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(this.nodes), 0, 0);\n  }\n  eq(o) {\n    if (!(o instanceof F) || this.nodes.length !== o.nodes.length || this.from !== o.from || this.to !== o.to)\n      return !1;\n    for (let i = 0; i < this.nodes.length; i++)\n      if (!this.nodes[i].eq(o.nodes[i]))\n        return !1;\n    return !0;\n  }\n  map(o, i) {\n    const n = i.mapResult(this.from), r = i.mapResult(this.to);\n    return r.deleted ? prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Selection.near(o.resolve(n.pos)) : n.deleted ? prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Selection.near(o.resolve(r.pos)) : new F(\n      o.resolve(n.pos),\n      o.resolve(r.pos)\n    );\n  }\n  toJSON() {\n    return { type: \"node\", anchor: this.anchor, head: this.head };\n  }\n}\nlet N;\nfunction pe(t, e) {\n  var o;\n  for (; t && t.parentElement && t.parentElement !== e.dom && !((o = t.hasAttribute) != null && o.call(t, \"data-id\")); )\n    t = t.parentElement;\n  if (t.hasAttribute(\"data-id\"))\n    return { node: t, id: t.getAttribute(\"data-id\") };\n}\nfunction pn(t, e) {\n  const o = pe(t, e);\n  if (o && o.node.nodeType === 1) {\n    const i = e.docView, n = i.nearestDesc(o.node, !0);\n    return !n || n === i ? null : n.posBefore;\n  }\n  return null;\n}\nfunction hn(t, e) {\n  let o, i;\n  const n = e.resolve(t.from).node().type.spec.group === \"blockContent\", r = e.resolve(t.to).node().type.spec.group === \"blockContent\", a = Math.min(t.$anchor.depth, t.$head.depth);\n  if (n && r) {\n    const s = t.$from.start(a - 1), l = t.$to.end(a - 1);\n    o = e.resolve(s - 1).pos, i = e.resolve(l + 1).pos;\n  } else\n    o = t.from, i = t.to;\n  return { from: o, to: i };\n}\nfunction Fe(t, e, o = e) {\n  e === o && (o += t.state.doc.resolve(e + 1).node().nodeSize);\n  const i = t.domAtPos(e).node.cloneNode(!0), n = t.domAtPos(e).node, r = (u, p) => Array.prototype.indexOf.call(u.children, p), a = r(\n    n,\n    // Expects from position to be just before the first selected block.\n    t.domAtPos(e + 1).node.parentElement\n  ), s = r(\n    n,\n    // Expects to position to be just after the last selected block.\n    t.domAtPos(o - 1).node.parentElement\n  );\n  for (let u = n.childElementCount - 1; u >= 0; u--)\n    (u > s || u < a) && i.removeChild(i.children[u]);\n  _t(), N = i;\n  const d = t.dom.className.split(\" \").filter(\n    (u) => u !== \"ProseMirror\" && u !== \"bn-root\" && u !== \"bn-editor\"\n  ).join(\" \");\n  N.className = N.className + \" bn-drag-preview \" + d, document.body.appendChild(N);\n}\nfunction _t() {\n  N !== void 0 && (document.body.removeChild(N), N = void 0);\n}\nfunction mn(t, e) {\n  if (!t.dataTransfer)\n    return;\n  const o = e.prosemirrorView, i = o.dom.getBoundingClientRect(), n = {\n    left: i.left + i.width / 2,\n    // take middle of editor\n    top: t.clientY\n  }, r = document.elementsFromPoint(n.left, n.top);\n  let a;\n  for (const l of r)\n    if (o.dom.contains(l)) {\n      a = pe(l, o);\n      break;\n    }\n  if (!a)\n    return;\n  const s = pn(a.node, o);\n  if (s != null) {\n    const l = o.state.selection, d = o.state.doc, { from: u, to: p } = hn(l, d), h = u <= s && s < p, m = l.$anchor.node() !== l.$head.node() || l instanceof F;\n    h && m ? (o.dispatch(\n      o.state.tr.setSelection(F.create(d, u, p))\n    ), Fe(o, u, p)) : (o.dispatch(\n      o.state.tr.setSelection(prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.NodeSelection.create(o.state.doc, s))\n    ), Fe(o, s));\n    const f = o.state.selection.content(), g = e._tiptapEditor.schema, I = nt(g, e).serializeProseMirrorFragment(\n      f.content\n    ), A = ae(g, e).exportProseMirrorFragment(\n      f.content\n    ), Z = Te(A);\n    t.dataTransfer.clearData(), t.dataTransfer.setData(\"blocknote/html\", I), t.dataTransfer.setData(\"text/html\", A), t.dataTransfer.setData(\"text/plain\", Z), t.dataTransfer.effectAllowed = \"move\", t.dataTransfer.setDragImage(N, 0, 0), o.dragging = { slice: f, move: !0 };\n  }\n}\nclass fn {\n  constructor(e, o, i) {\n    c(this, \"state\");\n    c(this, \"emitUpdate\");\n    c(this, \"needUpdate\", !1);\n    c(this, \"mousePos\");\n    // When true, the drag handle with be anchored at the same level as root elements\n    // When false, the drag handle with be just to the left of the element\n    // TODO: Is there any case where we want this to be false?\n    c(this, \"horizontalPosAnchoredAtRoot\");\n    c(this, \"horizontalPosAnchor\");\n    c(this, \"hoveredBlock\");\n    // Used to check if currently dragged content comes from this editor instance.\n    c(this, \"isDragging\", !1);\n    c(this, \"menuFrozen\", !1);\n    c(this, \"updateState\", () => {\n      var a, s, l, d;\n      if (this.menuFrozen || !this.mousePos)\n        return;\n      const e = this.pmView.dom.firstChild.getBoundingClientRect();\n      this.horizontalPosAnchor = e.x;\n      const o = {\n        left: e.left + e.width / 2,\n        // take middle of editor\n        top: this.mousePos.y\n      }, i = document.elementsFromPoint(o.left, o.top);\n      let n;\n      for (const u of i)\n        if (this.pmView.dom.contains(u)) {\n          n = pe(u, this.pmView);\n          break;\n        }\n      if (!n || !this.editor.isEditable) {\n        (a = this.state) != null && a.show && (this.state.show = !1, this.needUpdate = !0);\n        return;\n      }\n      if ((s = this.state) != null && s.show && ((l = this.hoveredBlock) != null && l.hasAttribute(\"data-id\")) && ((d = this.hoveredBlock) == null ? void 0 : d.getAttribute(\"data-id\")) === n.id)\n        return;\n      this.hoveredBlock = n.node;\n      const r = n.node.firstChild;\n      if (r && this.editor.isEditable) {\n        const u = r.getBoundingClientRect();\n        this.state = {\n          show: !0,\n          referencePos: new DOMRect(\n            this.horizontalPosAnchoredAtRoot ? this.horizontalPosAnchor : u.x,\n            u.y,\n            u.width,\n            u.height\n          ),\n          block: this.editor.getBlock(\n            this.hoveredBlock.getAttribute(\"data-id\")\n          )\n        }, this.needUpdate = !0;\n      }\n    });\n    /**\n     * Sets isDragging when dragging text.\n     */\n    c(this, \"onDragStart\", () => {\n      this.isDragging = !0;\n    });\n    /**\n     * If the event is outside the editor contents,\n     * we dispatch a fake event, so that we can still drop the content\n     * when dragging / dropping to the side of the editor\n     */\n    c(this, \"onDrop\", (e) => {\n      if (this.editor._tiptapEditor.commands.blur(), e.synthetic || !this.isDragging)\n        return;\n      const o = this.pmView.posAtCoords({\n        left: e.clientX,\n        top: e.clientY\n      });\n      if (this.isDragging = !1, !o || o.inside === -1) {\n        const i = new Event(\"drop\", e), n = this.pmView.dom.firstChild.getBoundingClientRect();\n        i.clientX = n.left + n.width / 2, i.clientY = e.clientY, i.dataTransfer = e.dataTransfer, i.preventDefault = () => e.preventDefault(), i.synthetic = !0, this.pmView.dom.dispatchEvent(i);\n      }\n    });\n    /**\n     * If the event is outside the editor contents,\n     * we dispatch a fake event, so that we can still drop the content\n     * when dragging / dropping to the side of the editor\n     */\n    c(this, \"onDragOver\", (e) => {\n      if (e.synthetic || !this.isDragging)\n        return;\n      const o = this.pmView.posAtCoords({\n        left: e.clientX,\n        top: e.clientY\n      });\n      if (!o || o.inside === -1) {\n        const i = new Event(\"dragover\", e), n = this.pmView.dom.firstChild.getBoundingClientRect();\n        i.clientX = n.left + n.width / 2, i.clientY = e.clientY, i.dataTransfer = e.dataTransfer, i.preventDefault = () => e.preventDefault(), i.synthetic = !0, this.pmView.dom.dispatchEvent(i);\n      }\n    });\n    c(this, \"onKeyDown\", (e) => {\n      var o;\n      (o = this.state) != null && o.show && this.editor.isFocused() && (this.state.show = !1, this.emitUpdate(this.state), this.menuFrozen = !1);\n    });\n    c(this, \"onMouseDown\", () => {\n      this.state && this.state.show && this.menuFrozen && (this.menuFrozen = !1, this.state.show = !1, this.emitUpdate(this.state));\n    });\n    c(this, \"onMouseMove\", (e) => {\n      var r;\n      this.mousePos = { x: e.clientX, y: e.clientY };\n      const o = this.pmView.dom.getBoundingClientRect(), i = this.mousePos.x > o.left && this.mousePos.x < o.right && this.mousePos.y > o.top && this.mousePos.y < o.bottom, n = this.pmView.dom.parentElement;\n      if (\n        // Cursor is within the editor area\n        i && // An element is hovered\n        e && e.target && // Element is outside the editor\n        !(n === e.target || n.contains(e.target))\n      ) {\n        (r = this.state) != null && r.show && (this.state.show = !1, this.emitUpdate(this.state));\n        return;\n      }\n      this.updateState(), this.needUpdate && (this.emitUpdate(this.state), this.needUpdate = !1);\n    });\n    c(this, \"onScroll\", () => {\n      var e;\n      if ((e = this.state) != null && e.show) {\n        const i = this.hoveredBlock.firstChild.getBoundingClientRect();\n        this.state.referencePos = new DOMRect(\n          this.horizontalPosAnchoredAtRoot ? this.horizontalPosAnchor : i.x,\n          i.y,\n          i.width,\n          i.height\n        ), this.emitUpdate(this.state);\n      }\n    });\n    this.editor = e, this.pmView = o, this.emitUpdate = () => {\n      if (!this.state)\n        throw new Error(\"Attempting to update uninitialized side menu\");\n      i(this.state);\n    }, this.horizontalPosAnchoredAtRoot = !0, this.horizontalPosAnchor = this.pmView.dom.firstChild.getBoundingClientRect().x, document.body.addEventListener(\"drop\", this.onDrop, !0), document.body.addEventListener(\"dragover\", this.onDragOver), this.pmView.dom.addEventListener(\"dragstart\", this.onDragStart), document.body.addEventListener(\"mousemove\", this.onMouseMove, !0), this.pmView.dom.addEventListener(\"mousedown\", this.onMouseDown), document.body.addEventListener(\"keydown\", this.onKeyDown, !0), document.addEventListener(\"scroll\", this.onScroll, !0);\n  }\n  // Needed in cases where the editor state updates without the mouse cursor\n  // moving, as some state updates can require a side menu update. For example,\n  // adding a button to the side menu which removes the block can cause the\n  // block below to jump up into the place of the removed block when clicked,\n  // allowing the user to click the button again without moving the cursor. This\n  // would otherwise not update the side menu, and so clicking the button again\n  // would attempt to remove the same block again, causing an error.\n  update() {\n    var o;\n    const e = (o = this.state) == null ? void 0 : o.block.id;\n    this.updateState(), this.needUpdate && this.state && e !== this.state.block.id && (this.emitUpdate(this.state), this.needUpdate = !1);\n  }\n  destroy() {\n    var e;\n    (e = this.state) != null && e.show && (this.state.show = !1, this.emitUpdate(this.state)), document.body.removeEventListener(\"mousemove\", this.onMouseMove, !0), document.body.removeEventListener(\"dragover\", this.onDragOver), this.pmView.dom.removeEventListener(\"dragstart\", this.onDragStart), document.body.removeEventListener(\"drop\", this.onDrop, !0), document.removeEventListener(\"scroll\", this.onScroll, !0), this.pmView.dom.removeEventListener(\"mousedown\", this.onMouseDown), document.body.removeEventListener(\"keydown\", this.onKeyDown, !0);\n  }\n  addBlock() {\n    var l;\n    (l = this.state) != null && l.show && (this.state.show = !1, this.emitUpdate(this.state));\n    const o = this.hoveredBlock.firstChild.getBoundingClientRect(), i = this.pmView.posAtCoords({\n      left: o.left + o.width / 2,\n      top: o.top + o.height / 2\n    });\n    if (!i)\n      return;\n    const n = b(\n      this.editor._tiptapEditor.state.doc,\n      i.pos\n    );\n    if (n === void 0)\n      return;\n    const { contentNode: r, startPos: a, endPos: s } = n;\n    if (r.type.spec.content !== \"inline*\" || r.textContent.length !== 0) {\n      const d = s + 1, u = d + 2;\n      this.editor._tiptapEditor.chain().BNCreateBlock(d).setTextSelection(u).run();\n    } else\n      this.editor._tiptapEditor.commands.setTextSelection(a + 1);\n    this.pmView.focus(), this.pmView.dispatch(\n      this.pmView.state.tr.scrollIntoView().setMeta(O, {\n        triggerCharacter: \"/\",\n        fromUserInput: !1\n      })\n    );\n  }\n}\nconst gn = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"SideMenuPlugin\");\nclass bn extends X {\n  constructor(o) {\n    super();\n    c(this, \"view\");\n    c(this, \"plugin\");\n    /**\n     * If the block is empty, opens the slash menu. If the block has content,\n     * creates a new block below and opens the slash menu in it.\n     */\n    c(this, \"addBlock\", () => this.view.addBlock());\n    /**\n     * Handles drag & drop events for blocks.\n     */\n    c(this, \"blockDragStart\", (o) => {\n      this.view.isDragging = !0, mn(o, this.editor);\n    });\n    /**\n     * Handles drag & drop events for blocks.\n     */\n    c(this, \"blockDragEnd\", () => _t());\n    /**\n     * Freezes the side menu. When frozen, the side menu will stay\n     * attached to the same block regardless of which block is hovered by the\n     * mouse cursor.\n     */\n    c(this, \"freezeMenu\", () => this.view.menuFrozen = !0);\n    /**\n     * Unfreezes the side menu. When frozen, the side menu will stay\n     * attached to the same block regardless of which block is hovered by the\n     * mouse cursor.\n     */\n    c(this, \"unfreezeMenu\", () => {\n      this.view.menuFrozen = !1, this.view.state.show = !1, this.view.emitUpdate(this.view.state);\n    });\n    this.editor = o, this.plugin = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n      key: gn,\n      view: (i) => (this.view = new fn(o, i, (n) => {\n        this.emit(\"update\", n);\n      }), this.view)\n    });\n  }\n  onUpdate(o) {\n    return this.on(\"update\", o);\n  }\n}\nlet E;\nfunction Ge() {\n  E || (E = document.createElement(\"div\"), E.innerHTML = \"_\", E.style.opacity = \"0\", E.style.height = \"1px\", E.style.width = \"1px\", document.body.appendChild(E));\n}\nfunction kn() {\n  E && (document.body.removeChild(E), E = void 0);\n}\nfunction ie(t) {\n  return Array.prototype.indexOf.call(t.parentElement.childNodes, t);\n}\nfunction _n(t) {\n  for (; t && t.nodeName !== \"TD\" && t.nodeName !== \"TH\"; )\n    t = t.classList && t.classList.contains(\"ProseMirror\") ? null : t.parentNode;\n  return t;\n}\nfunction yn(t) {\n  t.forEach((e) => {\n    const o = document.getElementsByClassName(e);\n    for (let i = 0; i < o.length; i++)\n      o[i].style.visibility = \"hidden\";\n  });\n}\nclass vn {\n  constructor(e, o, i) {\n    c(this, \"state\");\n    c(this, \"emitUpdate\");\n    c(this, \"tableId\");\n    c(this, \"tablePos\");\n    c(this, \"menuFrozen\", !1);\n    c(this, \"prevWasEditable\", null);\n    c(this, \"mouseMoveHandler\", (e) => {\n      var d;\n      if (this.menuFrozen)\n        return;\n      const o = _n(e.target);\n      if (!o || !this.editor.isEditable) {\n        (d = this.state) != null && d.show && (this.state.show = !1, this.emitUpdate());\n        return;\n      }\n      const i = ie(o), n = ie(o.parentElement), r = o.getBoundingClientRect(), a = o.parentElement.parentElement.getBoundingClientRect(), s = pe(o, this.pmView);\n      if (!s)\n        return;\n      let l;\n      if (this.editor._tiptapEditor.state.doc.descendants((u, p) => {\n        if (typeof l < \"u\")\n          return !1;\n        if (u.type.name !== \"blockContainer\" || u.attrs.id !== s.id)\n          return !0;\n        const h = y(\n          u,\n          this.editor.schema.blockSchema,\n          this.editor.schema.inlineContentSchema,\n          this.editor.schema.styleSchema,\n          this.editor.blockCache\n        );\n        return Di(\"table\", h, this.editor) && (this.tablePos = p + 1, l = h), !1;\n      }), !!l && (this.tableId = s.id, !(this.state !== void 0 && this.state.show && this.tableId === s.id && this.state.rowIndex === n && this.state.colIndex === i)))\n        return this.state = {\n          show: !0,\n          referencePosCell: r,\n          referencePosTable: a,\n          block: l,\n          colIndex: i,\n          rowIndex: n,\n          draggingState: void 0\n        }, this.emitUpdate(), !1;\n    });\n    c(this, \"dragOverHandler\", (e) => {\n      var h;\n      if (((h = this.state) == null ? void 0 : h.draggingState) === void 0)\n        return;\n      e.preventDefault(), e.dataTransfer.dropEffect = \"move\", yn([\n        \"column-resize-handle\",\n        \"prosemirror-dropcursor-block\",\n        \"prosemirror-dropcursor-inline\"\n      ]);\n      const o = {\n        left: Math.min(\n          Math.max(e.clientX, this.state.referencePosTable.left + 1),\n          this.state.referencePosTable.right - 1\n        ),\n        top: Math.min(\n          Math.max(e.clientY, this.state.referencePosTable.top + 1),\n          this.state.referencePosTable.bottom - 1\n        )\n      }, i = document.elementsFromPoint(o.left, o.top).filter(\n        (m) => m.tagName === \"TD\" || m.tagName === \"TH\"\n      );\n      if (i.length === 0)\n        throw new Error(\n          \"Could not find table cell element that the mouse cursor is hovering over.\"\n        );\n      const n = i[0];\n      let r = !1;\n      const a = ie(n.parentElement), s = ie(n), l = this.state.draggingState.draggedCellOrientation === \"row\" ? this.state.rowIndex : this.state.colIndex, u = (this.state.draggingState.draggedCellOrientation === \"row\" ? a : s) !== l;\n      (this.state.rowIndex !== a || this.state.colIndex !== s) && (this.state.rowIndex = a, this.state.colIndex = s, this.state.referencePosCell = n.getBoundingClientRect(), r = !0);\n      const p = this.state.draggingState.draggedCellOrientation === \"row\" ? o.top : o.left;\n      this.state.draggingState.mousePos !== p && (this.state.draggingState.mousePos = p, r = !0), r && this.emitUpdate(), u && this.pmView.dispatch(\n        this.pmView.state.tr.setMeta(Q, !0)\n      );\n    });\n    c(this, \"dropHandler\", (e) => {\n      if (this.state === void 0 || this.state.draggingState === void 0)\n        return;\n      e.preventDefault();\n      const o = this.state.block.content.rows;\n      if (this.state.draggingState.draggedCellOrientation === \"row\") {\n        const i = o[this.state.draggingState.originalIndex];\n        o.splice(this.state.draggingState.originalIndex, 1), o.splice(this.state.rowIndex, 0, i);\n      } else {\n        const i = o.map(\n          (n) => n.cells[this.state.draggingState.originalIndex]\n        );\n        o.forEach((n, r) => {\n          n.cells.splice(this.state.draggingState.originalIndex, 1), n.cells.splice(this.state.colIndex, 0, i[r]);\n        });\n      }\n      this.editor.updateBlock(this.state.block, {\n        type: \"table\",\n        content: {\n          type: \"tableContent\",\n          rows: o\n        }\n      });\n    });\n    c(this, \"scrollHandler\", () => {\n      var e;\n      if ((e = this.state) != null && e.show) {\n        const o = document.querySelector(\n          `[data-node-type=\"blockContainer\"][data-id=\"${this.tableId}\"] table`\n        ), i = o.querySelector(\n          `tr:nth-child(${this.state.rowIndex + 1}) > td:nth-child(${this.state.colIndex + 1})`\n        );\n        this.state.referencePosTable = o.getBoundingClientRect(), this.state.referencePosCell = i.getBoundingClientRect(), this.emitUpdate();\n      }\n    });\n    this.editor = e, this.pmView = o, this.emitUpdate = () => {\n      if (!this.state)\n        throw new Error(\"Attempting to update uninitialized image toolbar\");\n      i(this.state);\n    }, o.dom.addEventListener(\"mousemove\", this.mouseMoveHandler), document.addEventListener(\"dragover\", this.dragOverHandler), document.addEventListener(\"drop\", this.dropHandler), document.addEventListener(\"scroll\", this.scrollHandler, !0);\n  }\n  destroy() {\n    this.pmView.dom.removeEventListener(\"mousemove\", this.mouseMoveHandler), document.removeEventListener(\"dragover\", this.dragOverHandler), document.removeEventListener(\"drop\", this.dropHandler), document.removeEventListener(\"scroll\", this.scrollHandler, !0);\n  }\n}\nconst Q = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"TableHandlesPlugin\");\nclass wn extends X {\n  constructor(o) {\n    super();\n    c(this, \"view\");\n    c(this, \"plugin\");\n    /**\n     * Callback that should be set on the `dragStart` event for whichever element\n     * is used as the column drag handle.\n     */\n    c(this, \"colDragStart\", (o) => {\n      if (this.view.state === void 0)\n        throw new Error(\n          \"Attempted to drag table column, but no table block was hovered prior.\"\n        );\n      this.view.state.draggingState = {\n        draggedCellOrientation: \"col\",\n        originalIndex: this.view.state.colIndex,\n        mousePos: o.clientX\n      }, this.view.emitUpdate(), this.editor._tiptapEditor.view.dispatch(\n        this.editor._tiptapEditor.state.tr.setMeta(Q, {\n          draggedCellOrientation: this.view.state.draggingState.draggedCellOrientation,\n          originalIndex: this.view.state.colIndex,\n          newIndex: this.view.state.colIndex,\n          tablePos: this.view.tablePos\n        })\n      ), Ge(), o.dataTransfer.setDragImage(E, 0, 0), o.dataTransfer.effectAllowed = \"move\";\n    });\n    /**\n     * Callback that should be set on the `dragStart` event for whichever element\n     * is used as the row drag handle.\n     */\n    c(this, \"rowDragStart\", (o) => {\n      if (this.view.state === void 0)\n        throw new Error(\n          \"Attempted to drag table row, but no table block was hovered prior.\"\n        );\n      this.view.state.draggingState = {\n        draggedCellOrientation: \"row\",\n        originalIndex: this.view.state.rowIndex,\n        mousePos: o.clientY\n      }, this.view.emitUpdate(), this.editor._tiptapEditor.view.dispatch(\n        this.editor._tiptapEditor.state.tr.setMeta(Q, {\n          draggedCellOrientation: this.view.state.draggingState.draggedCellOrientation,\n          originalIndex: this.view.state.rowIndex,\n          newIndex: this.view.state.rowIndex,\n          tablePos: this.view.tablePos\n        })\n      ), Ge(), o.dataTransfer.setDragImage(E, 0, 0), o.dataTransfer.effectAllowed = \"copyMove\";\n    });\n    /**\n     * Callback that should be set on the `dragEnd` event for both the element\n     * used as the row drag handle, and the one used as the column drag handle.\n     */\n    c(this, \"dragEnd\", () => {\n      if (this.view.state === void 0)\n        throw new Error(\n          \"Attempted to drag table row, but no table block was hovered prior.\"\n        );\n      this.view.state.draggingState = void 0, this.view.emitUpdate(), this.editor._tiptapEditor.view.dispatch(\n        this.editor._tiptapEditor.state.tr.setMeta(Q, null)\n      ), kn();\n    });\n    /**\n     * Freezes the drag handles. When frozen, they will stay attached to the same\n     * cell regardless of which cell is hovered by the mouse cursor.\n     */\n    c(this, \"freezeHandles\", () => {\n      this.view.menuFrozen = !0;\n    });\n    /**\n     * Unfreezes the drag handles. When frozen, they will stay attached to the\n     * same cell regardless of which cell is hovered by the mouse cursor.\n     */\n    c(this, \"unfreezeHandles\", () => {\n      this.view.menuFrozen = !1;\n    });\n    this.editor = o, this.plugin = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n      key: Q,\n      view: (i) => (this.view = new vn(o, i, (n) => {\n        this.emit(\"update\", n);\n      }), this.view),\n      // We use decorations to render the drop cursor when dragging a table row\n      // or column. The decorations are updated in the `dragOverHandler` method.\n      props: {\n        decorations: (i) => {\n          if (this.view === void 0 || this.view.state === void 0 || this.view.state.draggingState === void 0 || this.view.tablePos === void 0)\n            return;\n          const n = this.view.state.draggingState.draggedCellOrientation === \"row\" ? this.view.state.rowIndex : this.view.state.colIndex, r = [];\n          if (n === this.view.state.draggingState.originalIndex)\n            return prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.DecorationSet.create(i.doc, r);\n          const a = i.doc.resolve(this.view.tablePos + 1), s = a.node();\n          if (this.view.state.draggingState.draggedCellOrientation === \"row\") {\n            const l = i.doc.resolve(\n              a.posAtIndex(n) + 1\n            ), d = l.node();\n            for (let u = 0; u < d.childCount; u++) {\n              const p = i.doc.resolve(\n                l.posAtIndex(u) + 1\n              ), h = p.node(), m = p.pos + (n > this.view.state.draggingState.originalIndex ? h.nodeSize - 2 : 0);\n              r.push(\n                // The widget is a small bar which spans the width of the cell.\n                prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.Decoration.widget(m, () => {\n                  const f = document.createElement(\"div\");\n                  return f.className = \"bn-table-drop-cursor\", f.style.left = \"0\", f.style.right = \"0\", n > this.view.state.draggingState.originalIndex ? f.style.bottom = \"-2px\" : f.style.top = \"-3px\", f.style.height = \"4px\", f;\n                })\n              );\n            }\n          } else\n            for (let l = 0; l < s.childCount; l++) {\n              const d = i.doc.resolve(\n                a.posAtIndex(l) + 1\n              ), u = i.doc.resolve(\n                d.posAtIndex(n) + 1\n              ), p = u.node(), h = u.pos + (n > this.view.state.draggingState.originalIndex ? p.nodeSize - 2 : 0);\n              r.push(\n                // The widget is a small bar which spans the height of the cell.\n                prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.Decoration.widget(h, () => {\n                  const m = document.createElement(\"div\");\n                  return m.className = \"bn-table-drop-cursor\", m.style.top = \"0\", m.style.bottom = \"0\", n > this.view.state.draggingState.originalIndex ? m.style.right = \"-2px\" : m.style.left = \"-3px\", m.style.width = \"4px\", m;\n                })\n              );\n            }\n          return prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.DecorationSet.create(i.doc, r);\n        }\n      }\n    });\n  }\n  onUpdate(o) {\n    return this.on(\"update\", o);\n  }\n}\nfunction We(t, e) {\n  const o = t.state.selection.content().content, n = nt(\n    t.state.schema,\n    e\n  ).serializeProseMirrorFragment(o), a = ae(\n    t.state.schema,\n    e\n  ).exportProseMirrorFragment(o), s = Te(a);\n  return { internalHTML: n, externalHTML: a, plainText: s };\n}\nconst xn = (t) => _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"copyToClipboard\",\n  addProseMirrorPlugins() {\n    return [\n      new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n        props: {\n          handleDOMEvents: {\n            copy(e, o) {\n              o.preventDefault(), o.clipboardData.clearData(), \"node\" in e.state.selection && e.state.selection.node.type.spec.group === \"blockContent\" && e.dispatch(\n                e.state.tr.setSelection(\n                  new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.NodeSelection(\n                    e.state.doc.resolve(e.state.selection.from - 1)\n                  )\n                )\n              );\n              const { internalHTML: i, externalHTML: n, plainText: r } = We(e, t);\n              return o.clipboardData.setData(\"blocknote/html\", i), o.clipboardData.setData(\"text/html\", n), o.clipboardData.setData(\"text/plain\", r), !0;\n            },\n            // This is for the use-case in which only a block without content\n            // is selected, e.g. an image block, and dragged (not using the\n            // drag handle).\n            dragstart(e, o) {\n              if (!(\"node\" in e.state.selection) || e.state.selection.node.type.spec.group !== \"blockContent\")\n                return;\n              e.dispatch(\n                e.state.tr.setSelection(\n                  new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.NodeSelection(\n                    e.state.doc.resolve(e.state.selection.from - 1)\n                  )\n                )\n              ), o.preventDefault(), o.dataTransfer.clearData();\n              const { internalHTML: i, externalHTML: n, plainText: r } = We(e, t);\n              return o.dataTransfer.setData(\"blocknote/html\", i), o.dataTransfer.setData(\"text/html\", n), o.dataTransfer.setData(\"text/plain\", r), !0;\n            }\n          }\n        }\n      })\n    ];\n  }\n}), En = [\n  \"blocknote/html\",\n  \"text/html\",\n  \"text/plain\"\n], Cn = (t) => _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"pasteFromClipboard\",\n  addProseMirrorPlugins() {\n    return [\n      new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n        props: {\n          handleDOMEvents: {\n            paste(e, o) {\n              if (o.preventDefault(), !t.isEditable)\n                return;\n              let i = null;\n              for (const n of En)\n                if (o.clipboardData.types.includes(n)) {\n                  i = n;\n                  break;\n                }\n              if (i !== null) {\n                let n = o.clipboardData.getData(i);\n                i === \"text/html\" && (n = bt(\n                  n.trim()\n                ).innerHTML), t._tiptapEditor.view.pasteHTML(n);\n              }\n              return !0;\n            }\n          }\n        }\n      })\n    ];\n  }\n}), Sn = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"blockBackgroundColor\",\n  addGlobalAttributes() {\n    return [\n      {\n        types: [\"blockContainer\"],\n        attributes: {\n          backgroundColor: {\n            default: _.backgroundColor.default,\n            parseHTML: (t) => t.hasAttribute(\"data-background-color\") ? t.getAttribute(\"data-background-color\") : _.backgroundColor.default,\n            renderHTML: (t) => t.backgroundColor !== _.backgroundColor.default && {\n              \"data-background-color\": t.backgroundColor\n            }\n          }\n        }\n      }\n    ];\n  }\n}), Mn = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"textAlignment\",\n  addGlobalAttributes() {\n    return [\n      {\n        // Attribute is applied to block content instead of container so that child blocks don't inherit the text\n        // alignment styling.\n        types: [\n          \"paragraph\",\n          \"heading\",\n          \"bulletListItem\",\n          \"numberedListItem\",\n          \"checkListItem\"\n        ],\n        attributes: {\n          textAlignment: {\n            default: \"left\",\n            parseHTML: (t) => t.getAttribute(\"data-text-alignment\"),\n            renderHTML: (t) => t.textAlignment !== \"left\" && {\n              \"data-text-alignment\": t.textAlignment\n            }\n          }\n        }\n      }\n    ];\n  }\n}), Tn = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"blockTextColor\",\n  addGlobalAttributes() {\n    return [\n      {\n        types: [\"blockContainer\"],\n        attributes: {\n          textColor: {\n            default: _.textColor.default,\n            parseHTML: (t) => t.hasAttribute(\"data-text-color\") ? t.getAttribute(\"data-text-color\") : _.textColor.default,\n            renderHTML: (t) => t.textColor !== _.textColor.default && {\n              \"data-text-color\": t.textColor\n            }\n          }\n        }\n      }\n    ];\n  }\n}), Bn = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n  name: \"trailingNode\",\n  addProseMirrorPlugins() {\n    const t = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(this.name);\n    return [\n      new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n        key: t,\n        appendTransaction: (e, o, i) => {\n          const { doc: n, tr: r, schema: a } = i, s = t.getState(i), l = n.content.size - 2, d = a.nodes.blockContainer, u = a.nodes.paragraph;\n          if (s)\n            return r.insert(\n              l,\n              d.create(void 0, u.create())\n            );\n        },\n        state: {\n          init: (e, o) => {\n          },\n          apply: (e, o) => {\n            if (!e.docChanged)\n              return o;\n            let i = e.doc.lastChild;\n            if (!i || i.type.name !== \"blockGroup\")\n              throw new Error(\"Expected blockGroup\");\n            if (i = i.lastChild, !i || i.type.name !== \"blockContainer\")\n              throw new Error(\"Expected blockContainer\");\n            const n = i.firstChild;\n            if (!n)\n              throw new Error(\"Expected blockContent\");\n            return i.nodeSize > 4 || n.type.spec.content !== \"inline*\";\n          }\n        }\n      })\n    ];\n  }\n}), Ln = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"non-editable-block\"), In = () => new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n  key: Ln,\n  props: {\n    handleKeyDown: (t, e) => {\n      if (\"node\" in t.state.selection) {\n        if (e.ctrlKey || e.metaKey)\n          return !1;\n        if (e.key.length === 1)\n          return e.preventDefault(), !0;\n        if (e.key === \"Enter\") {\n          const o = t.state.tr;\n          return t.dispatch(\n            o.insert(\n              t.state.tr.selection.$to.after(),\n              t.state.schema.nodes.paragraph.create()\n            ).setSelection(\n              new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.TextSelection(\n                o.doc.resolve(t.state.tr.selection.$to.after() + 1)\n              )\n            )\n          ), !0;\n        }\n      }\n      return !1;\n    }\n  }\n}), Ke = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"previous-blocks\"), An = {\n  // Numbered List Items\n  index: \"index\",\n  // Headings\n  level: \"level\",\n  // All Blocks\n  type: \"type\",\n  depth: \"depth\",\n  \"depth-change\": \"depth-change\"\n}, Nn = () => {\n  let t;\n  return new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n    key: Ke,\n    view(e) {\n      return {\n        update: async (o, i) => {\n          var n;\n          ((n = this.key) == null ? void 0 : n.getState(o.state).updatedBlocks.size) > 0 && (t = setTimeout(() => {\n            o.dispatch(\n              o.state.tr.setMeta(Ke, { clearUpdate: !0 })\n            );\n          }, 0));\n        },\n        destroy: () => {\n          t && clearTimeout(t);\n        }\n      };\n    },\n    state: {\n      init() {\n        return {\n          // Block attributes, by block ID, from just before the previous transaction.\n          prevTransactionOldBlockAttrs: {},\n          // Block attributes, by block ID, from just before the current transaction.\n          currentTransactionOldBlockAttrs: {},\n          // Set of IDs of blocks whose attributes changed from the current transaction.\n          updatedBlocks: /* @__PURE__ */ new Set()\n        };\n      },\n      apply(e, o, i, n) {\n        if (o.currentTransactionOldBlockAttrs = {}, o.updatedBlocks.clear(), !e.docChanged || i.doc.eq(n.doc))\n          return o;\n        const r = {}, a = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.findChildren)(i.doc, (d) => d.attrs.id), s = new Map(\n          a.map((d) => [d.node.attrs.id, d])\n        ), l = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.findChildren)(n.doc, (d) => d.attrs.id);\n        for (const d of l) {\n          const u = s.get(d.node.attrs.id), p = u == null ? void 0 : u.node.firstChild, h = d.node.firstChild;\n          if (u && p && h) {\n            const m = {\n              index: h.attrs.index,\n              level: h.attrs.level,\n              type: h.type.name,\n              depth: n.doc.resolve(d.pos).depth\n            };\n            let f = {\n              index: p.attrs.index,\n              level: p.attrs.level,\n              type: p.type.name,\n              depth: i.doc.resolve(u.pos).depth\n            };\n            r[d.node.attrs.id] = f, e.getMeta(\"numberedListIndexing\") && (d.node.attrs.id in o.prevTransactionOldBlockAttrs && (f = o.prevTransactionOldBlockAttrs[d.node.attrs.id]), m.type === \"numberedListItem\" && (f.index = m.index)), o.currentTransactionOldBlockAttrs[d.node.attrs.id] = f, JSON.stringify(f) !== JSON.stringify(m) && (f[\"depth-change\"] = f.depth - m.depth, o.updatedBlocks.add(d.node.attrs.id));\n          }\n        }\n        return o.prevTransactionOldBlockAttrs = r, o;\n      }\n    },\n    props: {\n      decorations(e) {\n        const o = this.getState(e);\n        if (o.updatedBlocks.size === 0)\n          return;\n        const i = [];\n        return e.doc.descendants((n, r) => {\n          if (!n.attrs.id || !o.updatedBlocks.has(n.attrs.id))\n            return;\n          const a = o.currentTransactionOldBlockAttrs[n.attrs.id], s = {};\n          for (const [d, u] of Object.entries(a))\n            s[\"data-prev-\" + An[d]] = u || \"none\";\n          const l = prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.Decoration.node(r, r + n.nodeSize, {\n            ...s\n          });\n          i.push(l);\n        }), prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.DecorationSet.create(e.doc, i);\n      }\n    }\n  });\n}, Pn = {\n  blockColor: \"data-block-color\",\n  blockStyle: \"data-block-style\",\n  id: \"data-id\",\n  depth: \"data-depth\",\n  depthChange: \"data-depth-change\"\n}, Hn = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Node.create({\n  name: \"blockContainer\",\n  group: \"blockContainer\",\n  // A block always contains content, and optionally a blockGroup which contains nested blocks\n  content: \"blockContent blockGroup?\",\n  // Ensures content-specific keyboard handlers trigger first.\n  priority: 50,\n  defining: !0,\n  parseHTML() {\n    return [\n      {\n        tag: \"div\",\n        getAttrs: (t) => {\n          if (typeof t == \"string\")\n            return !1;\n          const e = {};\n          for (const [o, i] of Object.entries(Pn))\n            t.getAttribute(i) && (e[o] = t.getAttribute(i));\n          return t.getAttribute(\"data-node-type\") === \"blockContainer\" ? e : !1;\n        }\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    var n;\n    const e = document.createElement(\"div\");\n    e.className = \"bn-block-outer\", e.setAttribute(\"data-node-type\", \"blockOuter\");\n    for (const [r, a] of Object.entries(t))\n      r !== \"class\" && e.setAttribute(r, a);\n    const o = {\n      ...((n = this.options.domAttributes) == null ? void 0 : n.block) || {},\n      ...t\n    }, i = document.createElement(\"div\");\n    i.className = R(\"bn-block\", o.class), i.setAttribute(\"data-node-type\", this.name);\n    for (const [r, a] of Object.entries(o))\n      r !== \"class\" && i.setAttribute(r, a);\n    return e.appendChild(i), {\n      dom: e,\n      contentDOM: i\n    };\n  },\n  addCommands() {\n    return {\n      // Creates a new text block at a given position.\n      BNCreateBlock: (t) => ({ state: e, dispatch: o }) => {\n        const i = e.schema.nodes.blockContainer.createAndFill();\n        return o && e.tr.insert(t, i).scrollIntoView(), !0;\n      },\n      // Deletes a block at a given position.\n      BNDeleteBlock: (t) => ({ state: e, dispatch: o }) => {\n        const i = b(e.doc, t);\n        if (i === void 0)\n          return !1;\n        const { startPos: n, endPos: r } = i;\n        return o && e.tr.deleteRange(n, r), !0;\n      },\n      // Updates a block at a given position.\n      BNUpdateBlock: (t, e) => ({ state: o, dispatch: i }) => {\n        const n = b(o.doc, t);\n        if (n === void 0)\n          return !1;\n        const { startPos: r, endPos: a, node: s, contentNode: l } = n;\n        if (i) {\n          if (e.children !== void 0) {\n            const h = [];\n            for (const m of e.children)\n              h.push(\n                P(\n                  m,\n                  o.schema,\n                  this.options.editor.schema.styleSchema\n                )\n              );\n            s.childCount === 2 ? o.tr.replace(\n              r + l.nodeSize + 1,\n              a - 1,\n              new prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Slice(prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(h), 0, 0)\n            ) : o.tr.insert(\n              r + l.nodeSize,\n              o.schema.nodes.blockGroup.create({}, h)\n            );\n          }\n          const d = l.type.name, u = e.type || d;\n          let p = \"keep\";\n          if (e.content)\n            if (typeof e.content == \"string\")\n              p = K(\n                [e.content],\n                o.schema,\n                this.options.editor.schema.styleSchema\n              );\n            else if (Array.isArray(e.content))\n              p = K(\n                e.content,\n                o.schema,\n                this.options.editor.schema.styleSchema\n              );\n            else if (e.content.type === \"tableContent\")\n              p = Qe(\n                e.content,\n                o.schema,\n                this.options.editor.schema.styleSchema\n              );\n            else\n              throw new L(e.content.type);\n          else {\n            const h = o.schema.nodes[d].spec.content, m = o.schema.nodes[u].spec.content;\n            h === \"\" || m !== h && (p = []);\n          }\n          p === \"keep\" ? o.tr.setNodeMarkup(\n            r,\n            e.type === void 0 ? void 0 : o.schema.nodes[e.type],\n            {\n              ...l.attrs,\n              ...e.props\n            }\n          ) : o.tr.replaceWith(\n            r,\n            a,\n            o.schema.nodes[u].create(\n              {\n                ...l.attrs,\n                ...e.props\n              },\n              p\n            )\n          ).setSelection(\n            o.schema.nodes[u].spec.content === \"\" ? new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.NodeSelection(o.tr.doc.resolve(r)) : o.schema.nodes[u].spec.content === \"inline*\" ? new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.TextSelection(o.tr.doc.resolve(r)) : (\n              // Need to offset the position as we have to get through the\n              // `tableRow` and `tableCell` nodes to get to the\n              // `tableParagraph` node we want to set the selection in.\n              new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.TextSelection(o.tr.doc.resolve(r + 4))\n            )\n          ), o.tr.setNodeMarkup(r - 1, void 0, {\n            ...s.attrs,\n            ...e.props\n          });\n        }\n        return !0;\n      },\n      // Appends the text contents of a block to the nearest previous block, given a position between them. Children of\n      // the merged block are moved out of it first, rather than also being merged.\n      //\n      // In the example below, the position passed into the function is between Block1 and Block2.\n      //\n      // Block1\n      //    Block2\n      // Block3\n      //    Block4\n      //        Block5\n      //\n      // Becomes:\n      //\n      // Block1\n      //    Block2Block3\n      // Block4\n      //     Block5\n      BNMergeBlocks: (t) => ({ state: e, dispatch: o }) => {\n        const i = e.doc.resolve(t + 1).node().type.name === \"blockContainer\", n = e.doc.resolve(t - 1).node().type.name === \"blockContainer\";\n        if (!i || !n)\n          return !1;\n        const r = b(\n          e.doc,\n          t + 1\n        ), { node: a, contentNode: s, startPos: l, endPos: d, depth: u } = r;\n        if (a.childCount === 2) {\n          const m = e.doc.resolve(\n            l + s.nodeSize + 1\n          ), f = e.doc.resolve(d - 1), g = m.blockRange(f);\n          o && e.tr.lift(g, u - 1);\n        }\n        let p = t - 1, h = b(e.doc, p);\n        for (; h.numChildBlocks > 0; )\n          if (p--, h = b(e.doc, p), h === void 0)\n            return !1;\n        return o && (o(\n          e.tr.deleteRange(l, l + s.nodeSize).replace(\n            p - 1,\n            l,\n            new prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Slice(s.content, 0, 0)\n          ).scrollIntoView()\n        ), e.tr.setSelection(\n          new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.TextSelection(e.doc.resolve(p - 1))\n        )), !0;\n      },\n      // Splits a block at a given position. Content after the position is moved to a new block below, at the same\n      // nesting level.\n      // - `keepType` is usually false, unless the selection is at the start of\n      // a block.\n      // - `keepProps` is usually true when `keepType` is true, except for when\n      // creating new list item blocks with Enter.\n      BNSplitBlock: (t, e, o) => ({ state: i, dispatch: n }) => {\n        const r = b(i.doc, t);\n        if (r === void 0)\n          return !1;\n        const { contentNode: a, contentType: s, startPos: l, endPos: d, depth: u } = r, p = i.doc.cut(l + 1, t), h = i.doc.cut(t, d - 1), m = i.schema.nodes.blockContainer.createAndFill(), f = d + 1, g = f + 2;\n        return n && (i.tr.insert(f, m), i.tr.replace(\n          g,\n          g + 1,\n          h.content.size > 0 ? new prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Slice(\n            prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(h),\n            u + 2,\n            u + 2\n          ) : void 0\n        ), e && i.tr.setBlockType(\n          g,\n          g,\n          i.schema.node(s).type,\n          o ? a.attrs : void 0\n        ), i.tr.setSelection(\n          new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.TextSelection(i.doc.resolve(g))\n        ), i.tr.replace(\n          l + 1,\n          d - 1,\n          p.content.size > 0 ? new prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Slice(\n            prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(p),\n            u + 2,\n            u + 2\n          ) : void 0\n        ), i.tr.scrollIntoView()), !0;\n      }\n    };\n  },\n  addProseMirrorPlugins() {\n    return [Nn(), In()];\n  },\n  addKeyboardShortcuts() {\n    return {\n      Backspace: () => this.editor.commands.first(({ commands: i }) => [\n        // Deletes the selection if it's not empty.\n        () => i.deleteSelection(),\n        // Undoes an input rule if one was triggered in the last editor state change.\n        () => i.undoInputRule(),\n        // Reverts block content type to a paragraph if the selection is at the start of the block.\n        () => i.command(({ state: n }) => {\n          const { contentType: r, startPos: a } = b(\n            n.doc,\n            n.selection.from\n          ), s = n.selection.from === a + 1, l = r.name === \"paragraph\";\n          return s && !l ? i.BNUpdateBlock(n.selection.from, {\n            type: \"paragraph\",\n            props: {}\n          }) : !1;\n        }),\n        // Removes a level of nesting if the block is indented if the selection is at the start of the block.\n        () => i.command(({ state: n }) => {\n          const { startPos: r } = b(\n            n.doc,\n            n.selection.from\n          );\n          return n.selection.from === r + 1 ? i.liftListItem(\"blockContainer\") : !1;\n        }),\n        // Merges block with the previous one if it isn't indented, isn't the first block in the doc, and the selection\n        // is at the start of the block.\n        () => i.command(({ state: n }) => {\n          const { depth: r, startPos: a } = b(\n            n.doc,\n            n.selection.from\n          ), s = n.selection.from === a + 1, l = n.selection.empty, d = a === 2, u = a - 1;\n          return !d && s && l && r === 2 ? i.BNMergeBlocks(u) : !1;\n        })\n      ]),\n      Delete: () => this.editor.commands.first(({ commands: i }) => [\n        // Deletes the selection if it's not empty.\n        () => i.deleteSelection(),\n        // Merges block with the next one (at the same nesting level or lower),\n        // if one exists, the block has no children, and the selection is at the\n        // end of the block.\n        () => i.command(({ state: n }) => {\n          const { node: r, depth: a, endPos: s } = b(\n            n.doc,\n            n.selection.from\n          ), l = s === n.doc.nodeSize - 4, d = n.selection.from === s - 1, u = n.selection.empty, p = r.childCount === 2;\n          if (!l && d && u && !p) {\n            let h = a, m = s + 2, f = n.doc.resolve(m).depth;\n            for (; f < h; )\n              h = f, m += 2, f = n.doc.resolve(m).depth;\n            return i.BNMergeBlocks(m - 1);\n          }\n          return !1;\n        })\n      ]),\n      Enter: () => this.editor.commands.first(({ commands: i }) => [\n        // Removes a level of nesting if the block is empty & indented, while the selection is also empty & at the start\n        // of the block.\n        () => i.command(({ state: n }) => {\n          const { contentNode: r, depth: a } = b(\n            n.doc,\n            n.selection.from\n          ), s = n.selection.$anchor.parentOffset === 0, l = n.selection.anchor === n.selection.head, d = r.childCount === 0, u = a > 2;\n          return s && l && d && u ? i.liftListItem(\"blockContainer\") : !1;\n        }),\n        // Creates a new block and moves the selection to it if the current one is empty, while the selection is also\n        // empty & at the start of the block.\n        () => i.command(({ state: n, chain: r }) => {\n          const { contentNode: a, endPos: s } = b(\n            n.doc,\n            n.selection.from\n          ), l = n.selection.$anchor.parentOffset === 0, d = n.selection.anchor === n.selection.head, u = a.childCount === 0;\n          if (l && d && u) {\n            const p = s + 1, h = p + 2;\n            return r().BNCreateBlock(p).setTextSelection(h).run(), !0;\n          }\n          return !1;\n        }),\n        // Splits the current block, moving content inside that's after the cursor to a new text block below. Also\n        // deletes the selection beforehand, if it's not empty.\n        () => i.command(({ state: n, chain: r }) => {\n          const { contentNode: a } = b(\n            n.doc,\n            n.selection.from\n          ), s = n.selection.$anchor.parentOffset === 0;\n          return a.childCount === 0 ? !1 : (r().deleteSelection().BNSplitBlock(\n            n.selection.from,\n            s,\n            s\n          ).run(), !0);\n        })\n      ]),\n      // Always returning true for tab key presses ensures they're not captured by the browser. Otherwise, they blur the\n      // editor since the browser will try to use tab for keyboard navigation.\n      Tab: () => {\n        var i, n, r;\n        return (i = this.options.editor.formattingToolbar) != null && i.shown || (n = this.options.editor.linkToolbar) != null && n.shown || (r = this.options.editor.filePanel) != null && r.shown ? !1 : (this.editor.commands.sinkListItem(\"blockContainer\"), !0);\n      },\n      \"Shift-Tab\": () => {\n        var i, n, r;\n        return (i = this.options.editor.formattingToolbar) != null && i.shown || (n = this.options.editor.linkToolbar) != null && n.shown || (r = this.options.editor.filePanel) != null && r.shown ? !1 : (this.editor.commands.liftListItem(\"blockContainer\"), !0);\n      }\n    };\n  }\n}), Un = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Node.create({\n  name: \"blockGroup\",\n  group: \"blockGroup\",\n  content: \"blockContainer+\",\n  parseHTML() {\n    return [\n      {\n        tag: \"div\",\n        getAttrs: (t) => typeof t == \"string\" ? !1 : t.getAttribute(\"data-node-type\") === \"blockGroup\" ? null : !1\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes: t }) {\n    var i;\n    const e = {\n      ...((i = this.options.domAttributes) == null ? void 0 : i.blockGroup) || {},\n      ...t\n    }, o = document.createElement(\"div\");\n    o.className = R(\n      \"bn-block-group\",\n      e.class\n    ), o.setAttribute(\"data-node-type\", \"blockGroup\");\n    for (const [n, r] of Object.entries(e))\n      n !== \"class\" && o.setAttribute(n, r);\n    return {\n      dom: o,\n      contentDOM: o\n    };\n  }\n}), Dn = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Node.create({\n  name: \"doc\",\n  topNode: !0,\n  content: \"blockGroup\"\n}), On = (t) => {\n  var o;\n  const e = [\n    _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.extensions.ClipboardTextSerializer,\n    _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.extensions.Commands,\n    _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.extensions.Editable,\n    _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.extensions.FocusEvents,\n    _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.extensions.Tabindex,\n    // DevTools,\n    _tiptap_extension_gapcursor__WEBPACK_IMPORTED_MODULE_12__.Gapcursor,\n    // DropCursor,\n    oe.configure({\n      types: [\"blockContainer\"]\n    }),\n    _tiptap_extension_hard_break__WEBPACK_IMPORTED_MODULE_13__.HardBreak.extend({ priority: 10 }),\n    // Comments,\n    // basics:\n    _tiptap_extension_text__WEBPACK_IMPORTED_MODULE_16__.Text,\n    // marks:\n    _tiptap_extension_link__WEBPACK_IMPORTED_MODULE_15__.Link.extend({\n      addKeyboardShortcuts() {\n        return {\n          \"Mod-k\": () => (this.editor.commands.toggleLink({ href: \"\" }), !0)\n        };\n      }\n    }),\n    ...Object.values(t.styleSpecs).map((i) => i.implementation.mark),\n    Tn,\n    Sn,\n    Mn,\n    // make sure escape blurs editor, so that we can tab to other elements in the host page (accessibility)\n    _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n      name: \"OverrideEscape\",\n      addKeyboardShortcuts() {\n        return {\n          Escape: () => t.editor.suggestionMenus.shown ? !1 : this.editor.commands.blur()\n        };\n      }\n    }),\n    // nodes\n    Dn,\n    Hn.configure({\n      editor: t.editor,\n      domAttributes: t.domAttributes\n    }),\n    Un.configure({\n      domAttributes: t.domAttributes\n    }),\n    ...Object.values(t.inlineContentSpecs).filter((i) => i.config !== \"link\" && i.config !== \"text\").map((i) => i.implementation.node.configure({\n      editor: t.editor\n    })),\n    ...Object.values(t.blockSpecs).flatMap((i) => [\n      // dependent nodes (e.g.: tablecell / row)\n      ...(i.implementation.requiredExtensions || []).map(\n        (n) => n.configure({\n          editor: t.editor,\n          domAttributes: t.domAttributes\n        })\n      ),\n      // the actual node itself\n      i.implementation.node.configure({\n        editor: t.editor,\n        domAttributes: t.domAttributes\n      })\n    ]),\n    xn(t.editor),\n    Cn(t.editor),\n    _tiptap_extension_dropcursor__WEBPACK_IMPORTED_MODULE_11__.Dropcursor.configure({ width: 5, color: \"#ddeeff\" }),\n    // This needs to be at the bottom of this list, because Key events (such as enter, when selecting a /command),\n    // should be handled before Enter handlers in other components like splitListItem\n    ...t.trailingBlock === void 0 || t.trailingBlock ? [Bn] : []\n  ];\n  if (t.collaboration) {\n    if (e.push(\n      _tiptap_extension_collaboration__WEBPACK_IMPORTED_MODULE_9__[\"default\"].configure({\n        fragment: t.collaboration.fragment\n      })\n    ), (o = t.collaboration.provider) != null && o.awareness) {\n      const i = (n) => {\n        const r = document.createElement(\"span\");\n        r.classList.add(\"collaboration-cursor__caret\"), r.setAttribute(\"style\", `border-color: ${n.color}`);\n        const a = document.createElement(\"span\");\n        a.classList.add(\"collaboration-cursor__label\"), a.setAttribute(\"style\", `background-color: ${n.color}`), a.insertBefore(document.createTextNode(n.name), null);\n        const s = document.createTextNode(\"⁠\"), l = document.createTextNode(\"⁠\");\n        return r.insertBefore(s, null), r.insertBefore(a, null), r.insertBefore(l, null), r;\n      };\n      e.push(\n        _tiptap_extension_collaboration_cursor__WEBPACK_IMPORTED_MODULE_10__[\"default\"].configure({\n          user: t.collaboration.user,\n          render: t.collaboration.renderCursor || i,\n          provider: t.collaboration.provider\n        })\n      );\n    }\n  } else\n    e.push(_tiptap_extension_history__WEBPACK_IMPORTED_MODULE_14__.History);\n  return e;\n};\nfunction Rn(t, e) {\n  const o = [];\n  return t.forEach((i, n, r) => {\n    r !== e && o.push(i);\n  }), prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(o);\n}\nfunction Vn(t, e) {\n  let o = prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Fragment.from(t.content);\n  for (let i = 0; i < o.childCount; i++)\n    if (o.child(i).type.spec.group === \"blockContent\") {\n      const n = [o.child(i)];\n      if (i + 1 < o.childCount && o.child(i + 1).type.spec.group === \"blockGroup\") {\n        const a = o.child(i + 1).child(0).child(0);\n        (a.type.name === \"bulletListItem\" || a.type.name === \"numberedListItem\" || a.type.name === \"checkListItem\") && (n.push(o.child(i + 1)), o = Rn(o, i + 1));\n      }\n      const r = e.state.schema.nodes.blockContainer.create(\n        void 0,\n        n\n      );\n      o = o.replaceChild(i, r);\n    }\n  return new prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Slice(o, t.openStart, t.openEnd);\n}\nfunction ge(t) {\n  return t && Object.fromEntries(\n    Object.entries(t).filter(([, e]) => e !== void 0)\n  );\n}\nclass Be {\n  constructor(e) {\n    c(this, \"blockSpecs\");\n    c(this, \"inlineContentSpecs\");\n    c(this, \"styleSpecs\");\n    c(this, \"blockSchema\");\n    c(this, \"inlineContentSchema\");\n    c(this, \"styleSchema\");\n    // Helper so that you can use typeof schema.BlockNoteEditor\n    c(this, \"BlockNoteEditor\", \"only for types\");\n    c(this, \"Block\", \"only for types\");\n    c(this, \"PartialBlock\", \"only for types\");\n    this.blockSpecs = ge(e == null ? void 0 : e.blockSpecs) || ht, this.inlineContentSpecs = ge(e == null ? void 0 : e.inlineContentSpecs) || ft, this.styleSpecs = ge(e == null ? void 0 : e.styleSpecs) || mt, this.blockSchema = lt(this.blockSpecs), this.inlineContentSchema = dt(\n      this.inlineContentSpecs\n    ), this.styleSchema = ut(this.styleSpecs);\n  }\n  static create(e) {\n    return new Be(e);\n  }\n}\nclass jn extends _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Editor {\n  constructor(o, i) {\n    super({ ...o, content: void 0 });\n    c(this, \"_state\");\n    /**\n     * Mounts / unmounts the editor to a dom element\n     *\n     * @param element DOM element to mount to, ur null / undefined to destroy\n     */\n    c(this, \"mount\", (o) => {\n      o ? (this.options.element = o, this.createViewAlternative()) : this.destroy();\n    });\n    const n = this.schema;\n    let r;\n    const a = n.nodes.doc.createAndFill;\n    n.nodes.doc.createAndFill = (...l) => {\n      if (r)\n        return r;\n      const d = a.apply(n.nodes.doc, l), u = JSON.parse(JSON.stringify(d.toJSON()));\n      return u.content[0].content[0].attrs.id = \"initialBlockId\", r = prosemirror_model__WEBPACK_IMPORTED_MODULE_20__.Node.fromJSON(n, u), r;\n    };\n    let s;\n    try {\n      const l = o == null ? void 0 : o.content.map(\n        (d) => P(d, this.schema, i).toJSON()\n      );\n      s = (0,_tiptap_core__WEBPACK_IMPORTED_MODULE_17__.createDocument)(\n        {\n          type: \"doc\",\n          content: [\n            {\n              type: \"blockGroup\",\n              content: l\n            }\n          ]\n        },\n        this.schema,\n        this.options.parseOptions\n      );\n    } catch (l) {\n      throw console.error(\n        \"Error creating document from blocks passed as `initialContent`. Caused by exception: \",\n        l\n      ), new Error(\n        \"Error creating document from blocks passed as `initialContent`:\\n\" + +JSON.stringify(o.content)\n      );\n    }\n    this._state = prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.EditorState.create({\n      doc: s,\n      schema: this.schema\n      // selection: selection || undefined,\n    });\n  }\n  get state() {\n    return this.view && (this._state = this.view.state), this._state;\n  }\n  createView() {\n  }\n  /**\n   * Replace the default `createView` method with a custom one - which we call on mount\n   */\n  createViewAlternative() {\n    queueMicrotask(() => {\n      this.view = new prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.EditorView(\n        { mount: this.options.element },\n        // use mount option so that we reuse the existing element instead of creating a new one\n        {\n          ...this.options.editorProps,\n          // @ts-ignore\n          dispatchTransaction: this.dispatchTransaction.bind(this),\n          state: this.state\n        }\n      );\n      const o = this.state.reconfigure({\n        plugins: this.extensionManager.plugins\n      });\n      this.view.updateState(o), this.createNodeViews();\n    });\n  }\n}\nconst zn = new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.PluginKey(\"blocknote-placeholder\"), Fn = (t, e) => new prosemirror_state__WEBPACK_IMPORTED_MODULE_19__.Plugin({\n  key: zn,\n  view: () => {\n    const o = document.createElement(\"style\"), i = t._tiptapEditor.options.injectNonce;\n    i && o.setAttribute(\"nonce\", i), document.head.appendChild(o);\n    const n = o.sheet, r = (s = \"\") => `.bn-block-content${s} .bn-inline-content:has(> .ProseMirror-trailingBreak:only-child):before`, a = (s, l = !0) => {\n      const d = l ? \"[data-is-empty-and-focused]\" : \"\";\n      if (s === \"default\")\n        return r(d);\n      const u = `[data-content-type=\"${s}\"]`;\n      return r(d + u);\n    };\n    for (const [s, l] of Object.entries(e)) {\n      const d = s === \"default\";\n      n.insertRule(\n        `${a(s, d)}{ content: ${JSON.stringify(\n          l\n        )}; }`\n      ), d || n.insertRule(\n        `${a(s, !0)}{ content: ${JSON.stringify(\n          l\n        )}; }`\n      );\n    }\n    return {\n      destroy: () => {\n        document.head.removeChild(o);\n      }\n    };\n  },\n  props: {\n    // TODO: maybe also add placeholder for empty document (\"e.g.: start writing..\")\n    decorations: (o) => {\n      const { doc: i, selection: n } = o;\n      if (!t.isEditable || !n.empty)\n        return;\n      const r = n.$anchor, a = r.parent;\n      if (a.content.size > 0)\n        return null;\n      const s = r.before(), l = prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.Decoration.node(s, s + a.nodeSize, {\n        \"data-is-empty-and-focused\": \"true\"\n      });\n      return prosemirror_view__WEBPACK_IMPORTED_MODULE_31__.DecorationSet.create(i, [l]);\n    }\n  }\n});\nconst Gn = {\n  enableInputRules: !0,\n  enablePasteRules: !0,\n  enableCoreExtensions: !1\n};\nclass yt {\n  constructor(e) {\n    c(this, \"_tiptapEditor\");\n    c(this, \"blockCache\", /* @__PURE__ */ new WeakMap());\n    c(this, \"dictionary\");\n    c(this, \"schema\");\n    c(this, \"blockImplementations\");\n    c(this, \"inlineContentImplementations\");\n    c(this, \"styleImplementations\");\n    c(this, \"formattingToolbar\");\n    c(this, \"linkToolbar\");\n    c(this, \"sideMenu\");\n    c(this, \"suggestionMenus\");\n    c(this, \"filePanel\");\n    c(this, \"tableHandles\");\n    c(this, \"uploadFile\");\n    c(this, \"resolveFileUrl\");\n    var l, d, u, p, h, m, f, g;\n    this.options = e;\n    const o = e;\n    if (o.onEditorContentChange)\n      throw new Error(\n        \"onEditorContentChange initialization option is deprecated, use <BlockNoteView onChange={...} />, the useEditorChange(...) hook, or editor.onChange(...)\"\n      );\n    if (o.onTextCursorPositionChange)\n      throw new Error(\n        \"onTextCursorPositionChange initialization option is deprecated, use <BlockNoteView onSelectionChange={...} />, the useEditorSelectionChange(...) hook, or editor.onSelectionChange(...)\"\n      );\n    if (o.onEditorReady)\n      throw new Error(\n        \"onEditorReady is deprecated. Editor is immediately ready for use after creation.\"\n      );\n    if (o.editable)\n      throw new Error(\n        \"editable initialization option is deprecated, use <BlockNoteView editable={true/false} />, or alternatively editor.isEditable = true/false\"\n      );\n    this.dictionary = e.dictionary || Ze;\n    const i = {\n      defaultStyles: !0,\n      schema: e.schema || Be.create(),\n      ...e,\n      placeholders: {\n        ...this.dictionary.placeholders,\n        ...e.placeholders\n      }\n    };\n    this.schema = i.schema, this.blockImplementations = i.schema.blockSpecs, this.inlineContentImplementations = i.schema.inlineContentSpecs, this.styleImplementations = i.schema.styleSpecs, this.formattingToolbar = new rn(this), this.linkToolbar = new ln(this), this.sideMenu = new bn(this), this.suggestionMenus = new un(this), this.filePanel = new tn(this), x(\"table\", this) && (this.tableHandles = new wn(this));\n    const n = On({\n      editor: this,\n      domAttributes: i.domAttributes || {},\n      blockSchema: this.schema.blockSchema,\n      blockSpecs: this.schema.blockSpecs,\n      styleSpecs: this.schema.styleSpecs,\n      inlineContentSpecs: this.schema.inlineContentSpecs,\n      collaboration: i.collaboration,\n      trailingBlock: i.trailingBlock\n    }), r = _tiptap_core__WEBPACK_IMPORTED_MODULE_17__.Extension.create({\n      name: \"BlockNoteUIExtension\",\n      addProseMirrorPlugins: () => [\n        this.formattingToolbar.plugin,\n        this.linkToolbar.plugin,\n        this.sideMenu.plugin,\n        this.suggestionMenus.plugin,\n        ...this.filePanel ? [this.filePanel.plugin] : [],\n        ...this.tableHandles ? [this.tableHandles.plugin] : [],\n        Fn(this, i.placeholders)\n      ]\n    });\n    n.push(r), this.uploadFile = i.uploadFile, this.resolveFileUrl = i.resolveFileUrl || (async (k) => k), i.collaboration && i.initialContent && console.warn(\n      \"When using Collaboration, initialContent might cause conflicts, because changes should come from the collaboration provider\"\n    );\n    const a = i.initialContent || (e.collaboration ? [\n      {\n        type: \"paragraph\",\n        id: \"initialBlockId\"\n      }\n    ] : [\n      {\n        type: \"paragraph\",\n        id: oe.options.generateID()\n      }\n    ]);\n    if (!Array.isArray(a) || a.length === 0)\n      throw new Error(\n        \"initialContent must be a non-empty array of blocks, received: \" + a\n      );\n    const s = {\n      ...Gn,\n      ...i._tiptapOptions,\n      content: a,\n      extensions: i.enableBlockNoteExtensions === !1 ? ((l = i._tiptapOptions) == null ? void 0 : l.extensions) || [] : [...((d = i._tiptapOptions) == null ? void 0 : d.extensions) || [], ...n],\n      editorProps: {\n        ...(u = i._tiptapOptions) == null ? void 0 : u.editorProps,\n        attributes: {\n          ...(h = (p = i._tiptapOptions) == null ? void 0 : p.editorProps) == null ? void 0 : h.attributes,\n          ...(m = i.domAttributes) == null ? void 0 : m.editor,\n          class: R(\n            \"bn-editor\",\n            i.defaultStyles ? \"bn-default-styles\" : \"\",\n            ((g = (f = i.domAttributes) == null ? void 0 : f.editor) == null ? void 0 : g.class) || \"\"\n          )\n        },\n        transformPasted: Vn\n      }\n    };\n    this._tiptapEditor = new jn(\n      s,\n      this.schema.styleSchema\n    );\n  }\n  static create(e = {}) {\n    return new yt(e);\n  }\n  /**\n   * Mount the editor to a parent DOM element. Call mount(undefined) to clean up\n   *\n   * @warning Not needed for React, use BlockNoteView to take care of this\n   */\n  mount(e) {\n    this._tiptapEditor.mount(e);\n  }\n  get prosemirrorView() {\n    return this._tiptapEditor.view;\n  }\n  get domElement() {\n    return this._tiptapEditor.view.dom;\n  }\n  isFocused() {\n    return this._tiptapEditor.view.hasFocus();\n  }\n  focus() {\n    this._tiptapEditor.view.focus();\n  }\n  /**\n   * @deprecated, use `editor.document` instead\n   */\n  get topLevelBlocks() {\n    return this.topLevelBlocks;\n  }\n  /**\n   * Gets a snapshot of all top-level (non-nested) blocks in the editor.\n   * @returns A snapshot of all top-level (non-nested) blocks in the editor.\n   */\n  get document() {\n    const e = [];\n    return this._tiptapEditor.state.doc.firstChild.descendants((o) => (e.push(\n      y(\n        o,\n        this.schema.blockSchema,\n        this.schema.inlineContentSchema,\n        this.schema.styleSchema,\n        this.blockCache\n      )\n    ), !1)), e;\n  }\n  /**\n   * Gets a snapshot of an existing block from the editor.\n   * @param blockIdentifier The identifier of an existing block that should be retrieved.\n   * @returns The block that matches the identifier, or `undefined` if no matching block was found.\n   */\n  getBlock(e) {\n    const o = typeof e == \"string\" ? e : e.id;\n    let i;\n    return this._tiptapEditor.state.doc.firstChild.descendants((n) => typeof i < \"u\" ? !1 : n.type.name !== \"blockContainer\" || n.attrs.id !== o ? !0 : (i = y(\n      n,\n      this.schema.blockSchema,\n      this.schema.inlineContentSchema,\n      this.schema.styleSchema,\n      this.blockCache\n    ), !1)), i;\n  }\n  /**\n   * Traverses all blocks in the editor depth-first, and executes a callback for each.\n   * @param callback The callback to execute for each block. Returning `false` stops the traversal.\n   * @param reverse Whether the blocks should be traversed in reverse order.\n   */\n  forEachBlock(e, o = !1) {\n    const i = this.document.slice();\n    o && i.reverse();\n    function n(r) {\n      for (const a of r) {\n        if (!e(a))\n          return !1;\n        const s = o ? a.children.slice().reverse() : a.children;\n        if (!n(s))\n          return !1;\n      }\n      return !0;\n    }\n    n(i);\n  }\n  /**\n   * Executes a callback whenever the editor's contents change.\n   * @param callback The callback to execute.\n   */\n  onEditorContentChange(e) {\n    this._tiptapEditor.on(\"update\", e);\n  }\n  /**\n   * Executes a callback whenever the editor's selection changes.\n   * @param callback The callback to execute.\n   */\n  onEditorSelectionChange(e) {\n    this._tiptapEditor.on(\"selectionUpdate\", e);\n  }\n  /**\n   * Gets a snapshot of the current text cursor position.\n   * @returns A snapshot of the current text cursor position.\n   */\n  getTextCursorPosition() {\n    const { node: e, depth: o, startPos: i, endPos: n } = b(\n      this._tiptapEditor.state.doc,\n      this._tiptapEditor.state.selection.from\n    ), r = this._tiptapEditor.state.doc.resolve(n).index(o - 1), a = this._tiptapEditor.state.doc.resolve(n + 1).node().childCount;\n    let s;\n    r > 0 && (s = this._tiptapEditor.state.doc.resolve(i - 2).node());\n    let l;\n    return r < a - 1 && (l = this._tiptapEditor.state.doc.resolve(n + 2).node()), {\n      block: y(\n        e,\n        this.schema.blockSchema,\n        this.schema.inlineContentSchema,\n        this.schema.styleSchema,\n        this.blockCache\n      ),\n      prevBlock: s === void 0 ? void 0 : y(\n        s,\n        this.schema.blockSchema,\n        this.schema.inlineContentSchema,\n        this.schema.styleSchema,\n        this.blockCache\n      ),\n      nextBlock: l === void 0 ? void 0 : y(\n        l,\n        this.schema.blockSchema,\n        this.schema.inlineContentSchema,\n        this.schema.styleSchema,\n        this.blockCache\n      )\n    };\n  }\n  /**\n   * Sets the text cursor position to the start or end of an existing block. Throws an error if the target block could\n   * not be found.\n   * @param targetBlock The identifier of an existing block that the text cursor should be moved to.\n   * @param placement Whether the text cursor should be placed at the start or end of the block.\n   */\n  setTextCursorPosition(e, o = \"start\") {\n    const i = typeof e == \"string\" ? e : e.id, { posBeforeNode: n } = Me(i, this._tiptapEditor.state.doc), { startPos: r, contentNode: a } = b(\n      this._tiptapEditor.state.doc,\n      n + 2\n    ), s = this.schema.blockSchema[a.type.name].content;\n    if (s === \"none\") {\n      this._tiptapEditor.commands.setNodeSelection(r);\n      return;\n    }\n    if (s === \"inline\")\n      o === \"start\" ? this._tiptapEditor.commands.setTextSelection(r + 1) : this._tiptapEditor.commands.setTextSelection(\n        r + a.nodeSize - 1\n      );\n    else if (s === \"table\")\n      o === \"start\" ? this._tiptapEditor.commands.setTextSelection(r + 4) : this._tiptapEditor.commands.setTextSelection(\n        r + a.nodeSize - 4\n      );\n    else\n      throw new L(s);\n  }\n  /**\n   * Gets a snapshot of the current selection.\n   */\n  getSelection() {\n    if (this._tiptapEditor.state.selection.from === this._tiptapEditor.state.selection.to || \"node\" in this._tiptapEditor.state.selection)\n      return;\n    const e = [];\n    return this._tiptapEditor.state.doc.descendants((o, i) => o.type.spec.group !== \"blockContent\" || i + o.nodeSize < this._tiptapEditor.state.selection.from || i > this._tiptapEditor.state.selection.to ? !0 : (e.push(\n      y(\n        this._tiptapEditor.state.doc.resolve(i).node(),\n        this.schema.blockSchema,\n        this.schema.inlineContentSchema,\n        this.schema.styleSchema,\n        this.blockCache\n      )\n    ), !1)), { blocks: e };\n  }\n  /**\n   * Checks if the editor is currently editable, or if it's locked.\n   * @returns True if the editor is editable, false otherwise.\n   */\n  get isEditable() {\n    return this._tiptapEditor.isEditable;\n  }\n  /**\n   * Makes the editor editable or locks it, depending on the argument passed.\n   * @param editable True to make the editor editable, or false to lock it.\n   */\n  set isEditable(e) {\n    this._tiptapEditor.options.editable !== e && this._tiptapEditor.setEditable(e);\n  }\n  /**\n   * Inserts new blocks into the editor. If a block's `id` is undefined, BlockNote generates one automatically. Throws an\n   * error if the reference block could not be found.\n   * @param blocksToInsert An array of partial blocks that should be inserted.\n   * @param referenceBlock An identifier for an existing block, at which the new blocks should be inserted.\n   * @param placement Whether the blocks should be inserted just before, just after, or nested inside the\n   * `referenceBlock`. Inserts the blocks at the start of the existing block's children if \"nested\" is used.\n   */\n  insertBlocks(e, o, i = \"before\") {\n    return Ri(e, o, i, this);\n  }\n  /**\n   * Updates an existing block in the editor. Since updatedBlock is a PartialBlock object, some fields might not be\n   * defined. These undefined fields are kept as-is from the existing block. Throws an error if the block to update could\n   * not be found.\n   * @param blockToUpdate The block that should be updated.\n   * @param update A partial block which defines how the existing block should be changed.\n   */\n  updateBlock(e, o) {\n    return Vi(e, o, this);\n  }\n  /**\n   * Removes existing blocks from the editor. Throws an error if any of the blocks could not be found.\n   * @param blocksToRemove An array of identifiers for existing blocks that should be removed.\n   */\n  removeBlocks(e) {\n    return ji(e, this);\n  }\n  /**\n   * Replaces existing blocks in the editor with new blocks. If the blocks that should be removed are not adjacent or\n   * are at different nesting levels, `blocksToInsert` will be inserted at the position of the first block in\n   * `blocksToRemove`. Throws an error if any of the blocks to remove could not be found.\n   * @param blocksToRemove An array of blocks that should be replaced.\n   * @param blocksToInsert An array of partial blocks to replace the old ones with.\n   */\n  replaceBlocks(e, o) {\n    return zi(e, o, this);\n  }\n  /**\n   * Insert a piece of content at the current cursor position.\n   *\n   * @param content can be a string, or array of partial inline content elements\n   */\n  insertInlineContent(e) {\n    const o = K(\n      e,\n      this._tiptapEditor.schema,\n      this.schema.styleSchema\n    );\n    Fi(\n      {\n        from: this._tiptapEditor.state.selection.from,\n        to: this._tiptapEditor.state.selection.to\n      },\n      o,\n      this\n    );\n  }\n  /**\n   * Gets the active text styles at the text cursor position or at the end of the current selection if it's active.\n   */\n  getActiveStyles() {\n    const e = {}, o = this._tiptapEditor.state.selection.$to.marks();\n    for (const i of o) {\n      const n = this.schema.styleSchema[i.type.name];\n      if (!n) {\n        i.type.name !== \"link\" && console.warn(\"mark not found in styleschema\", i.type.name);\n        continue;\n      }\n      n.propSchema === \"boolean\" ? e[n.type] = !0 : e[n.type] = i.attrs.stringValue;\n    }\n    return e;\n  }\n  /**\n   * Adds styles to the currently selected content.\n   * @param styles The styles to add.\n   */\n  addStyles(e) {\n    for (const [o, i] of Object.entries(e)) {\n      const n = this.schema.styleSchema[o];\n      if (!n)\n        throw new Error(`style ${o} not found in styleSchema`);\n      if (n.propSchema === \"boolean\")\n        this._tiptapEditor.commands.setMark(o);\n      else if (n.propSchema === \"string\")\n        this._tiptapEditor.commands.setMark(o, { stringValue: i });\n      else\n        throw new L(n.propSchema);\n    }\n  }\n  /**\n   * Removes styles from the currently selected content.\n   * @param styles The styles to remove.\n   */\n  removeStyles(e) {\n    for (const o of Object.keys(e))\n      this._tiptapEditor.commands.unsetMark(o);\n  }\n  /**\n   * Toggles styles on the currently selected content.\n   * @param styles The styles to toggle.\n   */\n  toggleStyles(e) {\n    for (const [o, i] of Object.entries(e)) {\n      const n = this.schema.styleSchema[o];\n      if (!n)\n        throw new Error(`style ${o} not found in styleSchema`);\n      if (n.propSchema === \"boolean\")\n        this._tiptapEditor.commands.toggleMark(o);\n      else if (n.propSchema === \"string\")\n        this._tiptapEditor.commands.toggleMark(o, { stringValue: i });\n      else\n        throw new L(n.propSchema);\n    }\n  }\n  /**\n   * Gets the currently selected text.\n   */\n  getSelectedText() {\n    return this._tiptapEditor.state.doc.textBetween(\n      this._tiptapEditor.state.selection.from,\n      this._tiptapEditor.state.selection.to\n    );\n  }\n  /**\n   * Gets the URL of the last link in the current selection, or `undefined` if there are no links in the selection.\n   */\n  getSelectedLinkUrl() {\n    return this._tiptapEditor.getAttributes(\"link\").href;\n  }\n  /**\n   * Creates a new link to replace the selected content.\n   * @param url The link URL.\n   * @param text The text to display the link with.\n   */\n  createLink(e, o) {\n    if (e === \"\")\n      return;\n    const { from: i, to: n } = this._tiptapEditor.state.selection;\n    o || (o = this._tiptapEditor.state.doc.textBetween(i, n));\n    const r = this._tiptapEditor.schema.mark(\"link\", { href: e });\n    this._tiptapEditor.view.dispatch(\n      this._tiptapEditor.view.state.tr.insertText(o, i, n).addMark(i, i + o.length, r)\n    );\n  }\n  /**\n   * Checks if the block containing the text cursor can be nested.\n   */\n  canNestBlock() {\n    const { startPos: e, depth: o } = b(\n      this._tiptapEditor.state.doc,\n      this._tiptapEditor.state.selection.from\n    );\n    return this._tiptapEditor.state.doc.resolve(e).index(o - 1) > 0;\n  }\n  /**\n   * Nests the block containing the text cursor into the block above it.\n   */\n  nestBlock() {\n    this._tiptapEditor.commands.sinkListItem(\"blockContainer\");\n  }\n  /**\n   * Checks if the block containing the text cursor is nested.\n   */\n  canUnnestBlock() {\n    const { depth: e } = b(\n      this._tiptapEditor.state.doc,\n      this._tiptapEditor.state.selection.from\n    );\n    return e > 2;\n  }\n  /**\n   * Lifts the block containing the text cursor out of its parent.\n   */\n  unnestBlock() {\n    this._tiptapEditor.commands.liftListItem(\"blockContainer\");\n  }\n  // TODO: Fix when implementing HTML/Markdown import & export\n  /**\n   * Serializes blocks into an HTML string. To better conform to HTML standards, children of blocks which aren't list\n   * items are un-nested in the output HTML.\n   * @param blocks An array of blocks that should be serialized into HTML.\n   * @returns The blocks, serialized as an HTML string.\n   */\n  async blocksToHTMLLossy(e = this.document) {\n    return ae(\n      this._tiptapEditor.schema,\n      this\n    ).exportBlocks(e);\n  }\n  /**\n   * Parses blocks from an HTML string. Tries to create `Block` objects out of any HTML block-level elements, and\n   * `InlineNode` objects from any HTML inline elements, though not all element types are recognized. If BlockNote\n   * doesn't recognize an HTML element's tag, it will parse it as a paragraph or plain text.\n   * @param html The HTML string to parse blocks from.\n   * @returns The blocks parsed from the HTML string.\n   */\n  async tryParseHTMLToBlocks(e) {\n    return kt(\n      e,\n      this.schema.blockSchema,\n      this.schema.inlineContentSchema,\n      this.schema.styleSchema,\n      this._tiptapEditor.schema\n    );\n  }\n  /**\n   * Serializes blocks into a Markdown string. The output is simplified as Markdown does not support all features of\n   * BlockNote - children of blocks which aren't list items are un-nested and certain styles are removed.\n   * @param blocks An array of blocks that should be serialized into Markdown.\n   * @returns The blocks, serialized as a Markdown string.\n   */\n  async blocksToMarkdownLossy(e = this.document) {\n    return Ki(e, this._tiptapEditor.schema, this);\n  }\n  /**\n   * Creates a list of blocks from a Markdown string. Tries to create `Block` and `InlineNode` objects based on\n   * Markdown syntax, though not all symbols are recognized. If BlockNote doesn't recognize a symbol, it will parse it\n   * as text.\n   * @param markdown The Markdown string to parse blocks from.\n   * @returns The blocks parsed from the Markdown string.\n   */\n  async tryParseMarkdownToBlocks(e) {\n    return Qi(\n      e,\n      this.schema.blockSchema,\n      this.schema.inlineContentSchema,\n      this.schema.styleSchema,\n      this._tiptapEditor.schema\n    );\n  }\n  /**\n   * Updates the user info for the current user that's shown to other collaborators.\n   */\n  updateCollaborationUserInfo(e) {\n    if (!this.options.collaboration)\n      throw new Error(\n        \"Cannot update collaboration user info when collaboration is disabled.\"\n      );\n    this._tiptapEditor.commands.updateUser(e);\n  }\n  /**\n   * A callback function that runs whenever the editor's contents change.\n   *\n   * @param callback The callback to execute.\n   * @returns A function to remove the callback.\n   */\n  onChange(e) {\n    const o = () => {\n      e(this);\n    };\n    return this._tiptapEditor.on(\"update\", o), () => {\n      this._tiptapEditor.off(\"update\", o);\n    };\n  }\n  /**\n   * A callback function that runs whenever the text cursor position or selection changes.\n   *\n   * @param callback The callback to execute.\n   * @returns A function to remove the callback.\n   */\n  onSelectionChange(e) {\n    const o = () => {\n      e(this);\n    };\n    return this._tiptapEditor.on(\"selectionUpdate\", o), () => {\n      this._tiptapEditor.off(\"selectionUpdate\", o);\n    };\n  }\n}\nfunction Wn(t) {\n  let e = t.getTextCursorPosition().block, o = t.schema.blockSchema[e.type].content;\n  for (; o === \"none\"; )\n    e = t.getTextCursorPosition().nextBlock, o = t.schema.blockSchema[e.type].content, t.setTextCursorPosition(e, \"end\");\n}\nfunction w(t, e) {\n  const o = t.getTextCursorPosition().block;\n  if (o.content === void 0)\n    throw new Error(\"Slash Menu open in a block that doesn't contain content.\");\n  Array.isArray(o.content) && (o.content.length === 1 && te(o.content[0]) && o.content[0].type === \"text\" && o.content[0].text === \"/\" || o.content.length === 0) ? t.updateBlock(o, e) : (t.insertBlocks([e], o, \"after\"), t.setTextCursorPosition(\n    t.getTextCursorPosition().nextBlock,\n    \"end\"\n  ));\n  const i = t.getTextCursorPosition().block;\n  return Wn(t), i;\n}\nfunction zr(t) {\n  const e = [];\n  return x(\"heading\", t) && e.push(\n    {\n      onItemClick: () => {\n        w(t, {\n          type: \"heading\",\n          props: { level: 1 }\n        });\n      },\n      badge: H(\"Mod-Alt-1\"),\n      key: \"heading\",\n      ...t.dictionary.slash_menu.heading\n    },\n    {\n      onItemClick: () => {\n        w(t, {\n          type: \"heading\",\n          props: { level: 2 }\n        });\n      },\n      badge: H(\"Mod-Alt-2\"),\n      key: \"heading_2\",\n      ...t.dictionary.slash_menu.heading_2\n    },\n    {\n      onItemClick: () => {\n        w(t, {\n          type: \"heading\",\n          props: { level: 3 }\n        });\n      },\n      badge: H(\"Mod-Alt-3\"),\n      key: \"heading_3\",\n      ...t.dictionary.slash_menu.heading_3\n    }\n  ), x(\"numberedListItem\", t) && e.push({\n    onItemClick: () => {\n      w(t, {\n        type: \"numberedListItem\"\n      });\n    },\n    badge: H(\"Mod-Shift-7\"),\n    key: \"numbered_list\",\n    ...t.dictionary.slash_menu.numbered_list\n  }), x(\"bulletListItem\", t) && e.push({\n    onItemClick: () => {\n      w(t, {\n        type: \"bulletListItem\"\n      });\n    },\n    badge: H(\"Mod-Shift-8\"),\n    key: \"bullet_list\",\n    ...t.dictionary.slash_menu.bullet_list\n  }), x(\"checkListItem\", t) && e.push({\n    onItemClick: () => {\n      w(t, {\n        type: \"checkListItem\"\n      });\n    },\n    badge: H(\"Mod-Shift-9\"),\n    key: \"check_list\",\n    ...t.dictionary.slash_menu.check_list\n  }), x(\"paragraph\", t) && e.push({\n    onItemClick: () => {\n      w(t, {\n        type: \"paragraph\"\n      });\n    },\n    badge: H(\"Mod-Alt-0\"),\n    key: \"paragraph\",\n    ...t.dictionary.slash_menu.paragraph\n  }), x(\"table\", t) && e.push({\n    onItemClick: () => {\n      w(t, {\n        type: \"table\",\n        content: {\n          type: \"tableContent\",\n          rows: [\n            {\n              cells: [\"\", \"\", \"\"]\n            },\n            {\n              cells: [\"\", \"\", \"\"]\n            }\n          ]\n        }\n      });\n    },\n    badge: void 0,\n    key: \"table\",\n    ...t.dictionary.slash_menu.table\n  }), x(\"image\", t) && e.push({\n    onItemClick: () => {\n      const o = w(t, {\n        type: \"image\"\n      });\n      t.prosemirrorView.dispatch(\n        t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin, {\n          block: o\n        })\n      );\n    },\n    key: \"image\",\n    ...t.dictionary.slash_menu.image\n  }), x(\"video\", t) && e.push({\n    onItemClick: () => {\n      const o = w(t, {\n        type: \"video\"\n      });\n      t.prosemirrorView.dispatch(\n        t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin, {\n          block: o\n        })\n      );\n    },\n    key: \"video\",\n    ...t.dictionary.slash_menu.video\n  }), x(\"audio\", t) && e.push({\n    onItemClick: () => {\n      const o = w(t, {\n        type: \"audio\"\n      });\n      t.prosemirrorView.dispatch(\n        t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin, {\n          block: o\n        })\n      );\n    },\n    key: \"audio\",\n    ...t.dictionary.slash_menu.audio\n  }), x(\"file\", t) && e.push({\n    onItemClick: () => {\n      const o = w(t, {\n        type: \"file\"\n      });\n      t.prosemirrorView.dispatch(\n        t._tiptapEditor.state.tr.setMeta(t.filePanel.plugin, {\n          block: o\n        })\n      );\n    },\n    key: \"image\",\n    ...t.dictionary.slash_menu.file\n  }), e;\n}\nfunction Fr(t, e) {\n  return t.filter(\n    ({ title: o, aliases: i }) => o.toLowerCase().includes(e.toLowerCase()) || i && i.filter(\n      (n) => n.toLowerCase().includes(e.toLowerCase())\n    ).length !== 0\n  );\n}\nfunction be(t = \"\") {\n  return typeof t == \"string\" ? [\n    {\n      type: \"text\",\n      text: t,\n      styles: {}\n    }\n  ] : t;\n}\nfunction vt(t) {\n  return typeof t == \"string\" ? be(t) : Array.isArray(t) ? t.flatMap((e) => typeof e == \"string\" ? be(e) : Ye(e) ? {\n    ...e,\n    content: be(e.content)\n  } : te(e) ? e : {\n    props: {},\n    ...e,\n    content: vt(e.content)\n  }) : t;\n}\nfunction Gr(t, e) {\n  return e.map(\n    (o) => wt(t, o)\n  );\n}\nfunction wt(t, e) {\n  const o = {\n    id: \"\",\n    type: e.type,\n    props: {},\n    content: t[e.type].content === \"inline\" ? [] : void 0,\n    children: [],\n    ...e\n  };\n  return Object.entries(t[e.type].propSchema).forEach(\n    ([i, n]) => {\n      o.props[i] === void 0 && (o.props[i] = n.default);\n    }\n  ), {\n    ...o,\n    content: vt(o.content),\n    children: o.children.map((i) => wt(t, i))\n  };\n}\nfunction Kn(t) {\n  t.id || (t.id = oe.options.generateID()), t.children && $n(t.children);\n}\nfunction $n(t) {\n  for (const e of t)\n    Kn(e);\n}\n\n//# sourceMappingURL=blocknote.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGJsb2Nrbm90ZS9jb3JlL2Rpc3QvYmxvY2tub3RlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSwwQ0FBMEMsMERBQTBEO0FBQ3BHO0FBQ2dIO0FBQ2xGO0FBQ0k7QUFDTTtBQUN3WjtBQUNuVDtBQUM3RztBQUNtQjtBQUNYO0FBQ0E7QUFDRTtBQUNBO0FBQ0c7QUFDa0I7QUFDSTtBQUNOO0FBQ2lCO0FBQy9DO0FBQ0g7QUFDTTtBQUNKO0FBQzRCO0FBQytCO0FBQ3hDO0FBQ087QUFDUTtBQUNGO0FBQ0M7QUFDTDtBQUNOO0FBQ0E7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0IsaUJBQWlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9EQUFDO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlEQUFFO0FBQ2pCLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELDJCQUEyQjtBQUNoRjtBQUNBLHVCQUF1QiwyQkFBMkI7QUFDbEQsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxjQUFjO0FBQzdCLGVBQWUsVUFBVTtBQUN6QixlQUFlLG1DQUFtQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixpQ0FBaUMsV0FBVztBQUM1QztBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsVUFBVSxzREFBQztBQUNYLGlCQUFpQix5REFBQztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0Esa0JBQWtCLFFBQVEsT0FBTyw0Q0FBNEMsb0JBQW9CLHNFQUFFO0FBQ25HO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsY0FBYywrREFBRSxlQUFlLGFBQWE7QUFDNUMsc0JBQXNCLGtFQUFFO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixTQUFTO0FBQ3JDLHlCQUF5QixpQkFBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esc0JBQXNCLGNBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDZCQUE2QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxHQUFHLHdEQUFDO0FBQ25CO0FBQ0EsK0JBQStCLHFEQUFDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDZEQUE2RDtBQUNqRjtBQUNBO0FBQ0Esb0JBQW9CLDZEQUE2RDtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSwyREFBMkQ7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsRUFBRTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxVQUFVLHVCQUF1QjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLEdBQUc7QUFDbEM7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGdCQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxtQ0FBbUM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsR0FBRztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsYUFBYTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNCQUFzQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSx3QkFBd0IsRUFBRSw2REFBRTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQUM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNERBQUU7QUFDcEI7QUFDQTtBQUNBLGtCQUFrQiw0REFBRTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZEQUFFO0FBQ2QsbUdBQW1HLGlEQUFFLE9BQU8scURBQUUsSUFBSSxjQUFjO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLE1BQU0seURBQUU7QUFDWDtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsd0RBQUM7QUFDeEMsR0FBRztBQUNILENBQUM7QUFDRCxZQUFZLDZEQUFFO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsd0RBQUM7QUFDM0MsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLCtDQUFDO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrQkFBK0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxXQUFXO0FBQ1gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksK0JBQStCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsV0FBVztBQUNYLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtCQUErQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxVQUFVLDhEQUFFO0FBQ1osWUFBWSxnRUFBRTtBQUNkLGVBQWUsbUVBQUU7QUFDakIsWUFBWSxnRUFBRTtBQUNkLFVBQVUsOERBQUU7QUFDWjtBQUNBO0FBQ0EsQ0FBQztBQUNELFVBQVUsb0NBQW9DO0FBQzlDLFVBQVU7QUFDVixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsNEJBQTRCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLG1CQUFtQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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MFBBQTBQO0FBQzFQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDRDQUE0QztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxtQkFBbUIseUNBQXlDLDhCQUE4QjtBQUMzSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxHQUFHO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxnQkFBZ0I7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxHQUFHO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxnQkFBZ0I7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpQkFBaUI7QUFDN0I7QUFDQSx1REFBdUQsU0FBUztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3QkFBd0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxjQUFjO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLE9BQU8sc0JBQXNCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osYUFBYTtBQUNiO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMEhFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AbGl2ZWJsb2Nrcy1leGFtcGxlcy9uZXh0anMteWpzLWJsb2Nrbm90ZS8uL25vZGVfbW9kdWxlcy9AYmxvY2tub3RlL2NvcmUvZGlzdC9ibG9ja25vdGUuanM/NjZhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRXQgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgQ3QgPSAodCwgZSwgbykgPT4gZSBpbiB0ID8gRXQodCwgZSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogbyB9KSA6IHRbZV0gPSBvO1xudmFyIGMgPSAodCwgZSwgbykgPT4gKEN0KHQsIHR5cGVvZiBlICE9IFwic3ltYm9sXCIgPyBlICsgXCJcIiA6IGUsIG8pLCBvKTtcbmltcG9ydCB7IFNsaWNlIGFzIEQsIEZyYWdtZW50IGFzIFQsIERPTVNlcmlhbGl6ZXIgYXMgdmUsIERPTVBhcnNlciBhcyBTdCwgTm9kZSBhcyBNdCB9IGZyb20gXCJwcm9zZW1pcnJvci1tb2RlbFwiO1xuaW1wb3J0ICRlIGZyb20gXCJyZWh5cGUtcGFyc2VcIjtcbmltcG9ydCBxZSBmcm9tIFwicmVoeXBlLXN0cmluZ2lmeVwiO1xuaW1wb3J0IHsgdW5pZmllZCBhcyB3ZSB9IGZyb20gXCJ1bmlmaWVkXCI7XG5pbXBvcnQgeyBFeHRlbnNpb24gYXMgQiwgY29tYmluZVRyYW5zYWN0aW9uU3RlcHMgYXMgVHQsIGdldENoYW5nZWRSYW5nZXMgYXMgQnQsIGZpbmRDaGlsZHJlbkluUmFuZ2UgYXMgTHQsIE5vZGUgYXMgJCwgTWFyayBhcyB4ZSwgSW5wdXRSdWxlIGFzIGVlLCBjYWxsT3JSZXR1cm4gYXMgSXQsIGdldEV4dGVuc2lvbkZpZWxkIGFzIEF0LCBtZXJnZUF0dHJpYnV0ZXMgYXMgTnQsIHNlbGVjdGlvblRvSW5zZXJ0aW9uRW5kIGFzIFB0LCBpc1RleHRTZWxlY3Rpb24gYXMgSHQsIGlzTm9kZVNlbGVjdGlvbiBhcyBVdCwgcG9zVG9ET01SZWN0IGFzIGtlLCBnZXRNYXJrUmFuZ2UgYXMgTmUsIGZpbmRQYXJlbnROb2RlIGFzIER0LCBmaW5kQ2hpbGRyZW4gYXMgUGUsIGV4dGVuc2lvbnMgYXMgSiwgRWRpdG9yIGFzIE90LCBjcmVhdGVEb2N1bWVudCBhcyBSdCB9IGZyb20gXCJAdGlwdGFwL2NvcmVcIjtcbmltcG9ydCB7IFBsdWdpbiBhcyB2LCBQbHVnaW5LZXkgYXMgUywgU2VsZWN0aW9uIGFzIGhlLCBOb2RlU2VsZWN0aW9uIGFzIG5lLCBUZXh0U2VsZWN0aW9uIGFzIFksIEVkaXRvclN0YXRlIGFzIFZ0IH0gZnJvbSBcInByb3NlbWlycm9yLXN0YXRlXCI7XG5pbXBvcnQgeyB2NCBhcyBqdCB9IGZyb20gXCJ1dWlkXCI7XG5pbXBvcnQgeyBmcm9tRG9tIGFzIF9lIH0gZnJvbSBcImhhc3QtdXRpbC1mcm9tLWRvbVwiO1xuaW1wb3J0IHp0IGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi1ib2xkXCI7XG5pbXBvcnQgRnQgZnJvbSBcIkB0aXB0YXAvZXh0ZW5zaW9uLWNvZGVcIjtcbmltcG9ydCBHdCBmcm9tIFwiQHRpcHRhcC9leHRlbnNpb24taXRhbGljXCI7XG5pbXBvcnQgV3QgZnJvbSBcIkB0aXB0YXAvZXh0ZW5zaW9uLXN0cmlrZVwiO1xuaW1wb3J0IEt0IGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi11bmRlcmxpbmVcIjtcbmltcG9ydCB7IFRhYmxlQ2VsbCBhcyAkdCB9IGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi10YWJsZS1jZWxsXCI7XG5pbXBvcnQgeyBUYWJsZUhlYWRlciBhcyBxdCB9IGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi10YWJsZS1oZWFkZXJcIjtcbmltcG9ydCB7IFRhYmxlUm93IGFzIFh0IH0gZnJvbSBcIkB0aXB0YXAvZXh0ZW5zaW9uLXRhYmxlLXJvd1wiO1xuaW1wb3J0IHsgY29sdW1uUmVzaXppbmcgYXMgWnQsIHRhYmxlRWRpdGluZyBhcyBKdCB9IGZyb20gXCJwcm9zZW1pcnJvci10YWJsZXNcIjtcbmltcG9ydCBZdCBmcm9tIFwicmVoeXBlLXJlbWFya1wiO1xuaW1wb3J0IFhlIGZyb20gXCJyZW1hcmstZ2ZtXCI7XG5pbXBvcnQgUXQgZnJvbSBcInJlbWFyay1zdHJpbmdpZnlcIjtcbmltcG9ydCBlbyBmcm9tIFwicmVtYXJrLXBhcnNlXCI7XG5pbXBvcnQgdG8sIHsgZGVmYXVsdEhhbmRsZXJzIGFzIG9vIH0gZnJvbSBcInJlbWFyay1yZWh5cGVcIjtcbmltcG9ydCB7IERlY29yYXRpb25TZXQgYXMgRywgRGVjb3JhdGlvbiBhcyBXLCBFZGl0b3JWaWV3IGFzIGlvIH0gZnJvbSBcInByb3NlbWlycm9yLXZpZXdcIjtcbmltcG9ydCBubyBmcm9tIFwiQHRpcHRhcC9leHRlbnNpb24tY29sbGFib3JhdGlvblwiO1xuaW1wb3J0IHJvIGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi1jb2xsYWJvcmF0aW9uLWN1cnNvclwiO1xuaW1wb3J0IHsgRHJvcGN1cnNvciBhcyBhbyB9IGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi1kcm9wY3Vyc29yXCI7XG5pbXBvcnQgeyBHYXBjdXJzb3IgYXMgc28gfSBmcm9tIFwiQHRpcHRhcC9leHRlbnNpb24tZ2FwY3Vyc29yXCI7XG5pbXBvcnQgeyBIYXJkQnJlYWsgYXMgbG8gfSBmcm9tIFwiQHRpcHRhcC9leHRlbnNpb24taGFyZC1icmVha1wiO1xuaW1wb3J0IHsgSGlzdG9yeSBhcyBjbyB9IGZyb20gXCJAdGlwdGFwL2V4dGVuc2lvbi1oaXN0b3J5XCI7XG5pbXBvcnQgeyBMaW5rIGFzIHVvIH0gZnJvbSBcIkB0aXB0YXAvZXh0ZW5zaW9uLWxpbmtcIjtcbmltcG9ydCB7IFRleHQgYXMgcG8gfSBmcm9tIFwiQHRpcHRhcC9leHRlbnNpb24tdGV4dFwiO1xuY29uc3QgaG8gPSB7XG4gIHNsYXNoX21lbnU6IHtcbiAgICBoZWFkaW5nOiB7XG4gICAgICB0aXRsZTogXCLYp9mE2LnZhtmI2KfZhiAxXCIsXG4gICAgICBzdWJ0ZXh0OiBcItmK2LPYqtiu2K/ZhSDZhNmE2LnZhtmI2KfZhiDYp9mE2LHYptmK2LPZilwiLFxuICAgICAgYWxpYXNlczogW1wiaFwiLCBcImhlYWRpbmcxXCIsIFwiaDFcIiwgXCLYudmG2YjYp9mGINix2KbZitiz2YpcIiwgXCLYudmG2YjYp9mGIDFcIl0sXG4gICAgICBncm91cDogXCLYp9mE2LnZhtin2YjZitmGXCJcbiAgICB9LFxuICAgIGhlYWRpbmdfMjoge1xuICAgICAgdGl0bGU6IFwi2KfZhNi52YbZiNin2YYgMlwiLFxuICAgICAgc3VidGV4dDogXCLZitiz2KrYrtiv2YUg2YTZhNij2YLYs9in2YUg2KfZhNix2KbZitiz2YrYqVwiLFxuICAgICAgYWxpYXNlczogW1wiaDJcIiwgXCJoZWFkaW5nMlwiLCBcInN1YmhlYWRpbmdcIiwgXCLYudmG2YjYp9mGIDJcIiwgXCLYudmG2YjYp9mGINmB2LHYudmKXCJdLFxuICAgICAgZ3JvdXA6IFwi2KfZhNi52YbYp9mI2YrZhlwiXG4gICAgfSxcbiAgICBoZWFkaW5nXzM6IHtcbiAgICAgIHRpdGxlOiBcItin2YTYudmG2YjYp9mGIDNcIixcbiAgICAgIHN1YnRleHQ6IFwi2YrYs9iq2K7Yr9mFINmE2YTYo9mC2LPYp9mFINin2YTZgdix2LnZitipINmI2LnZhtin2YjZitmGINin2YTZhdis2YXZiNi52KfYqlwiLFxuICAgICAgYWxpYXNlczogW1wiaDNcIiwgXCJoZWFkaW5nM1wiLCBcInN1YmhlYWRpbmdcIiwgXCLYudmG2YjYp9mGIDNcIiwgXCLYudmG2YjYp9mGINmB2LHYudmKXCJdLFxuICAgICAgZ3JvdXA6IFwi2KfZhNi52YbYp9mI2YrZhlwiXG4gICAgfSxcbiAgICBudW1iZXJlZF9saXN0OiB7XG4gICAgICB0aXRsZTogXCLZgtin2KbZhdipINmF2LHZgtmF2KlcIixcbiAgICAgIHN1YnRleHQ6IFwi2YrYs9iq2K7Yr9mFINmE2LnYsdi2INmC2KfYptmF2Kkg2YXYsdmC2YXYqVwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcIm9sXCIsXG4gICAgICAgIFwibGlcIixcbiAgICAgICAgXCJsaXN0XCIsXG4gICAgICAgIFwibnVtYmVyZWRsaXN0XCIsXG4gICAgICAgIFwibnVtYmVyZWQgbGlzdFwiLFxuICAgICAgICBcItmC2KfYptmF2KlcIixcbiAgICAgICAgXCLZgtin2KbZhdipINmF2LHZgtmF2KlcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcItin2YTZg9iq2YQg2KfZhNij2LPYp9iz2YrYqVwiXG4gICAgfSxcbiAgICBidWxsZXRfbGlzdDoge1xuICAgICAgdGl0bGU6IFwi2YLYp9im2YXYqSDZhtmC2KfYt1wiLFxuICAgICAgc3VidGV4dDogXCLZitiz2KrYrtiv2YUg2YTYudix2LYg2YLYp9im2YXYqSDYutmK2LEg2YXYsdiq2KjYqVwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcInVsXCIsXG4gICAgICAgIFwibGlcIixcbiAgICAgICAgXCJsaXN0XCIsXG4gICAgICAgIFwiYnVsbGV0bGlzdFwiLFxuICAgICAgICBcImJ1bGxldCBsaXN0XCIsXG4gICAgICAgIFwi2YLYp9im2YXYqVwiLFxuICAgICAgICBcItmC2KfYptmF2Kkg2YbZgtin2LdcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcItin2YTZg9iq2YQg2KfZhNij2LPYp9iz2YrYqVwiXG4gICAgfSxcbiAgICBjaGVja19saXN0OiB7XG4gICAgICB0aXRsZTogXCLZgtin2KbZhdipINin2YTYp9iu2KrZitin2LFcIixcbiAgICAgIHN1YnRleHQ6IFwi2YrYs9iq2K7Yr9mFINmE2LnYsdi2INmC2KfYptmF2Kkg2YXYuSDZhdix2KjYudin2Kog2KfZhNin2K7YqtmK2KfYsVwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcInVsXCIsXG4gICAgICAgIFwibGlcIixcbiAgICAgICAgXCJsaXN0XCIsXG4gICAgICAgIFwiY2hlY2tsaXN0XCIsXG4gICAgICAgIFwiY2hlY2sgbGlzdFwiLFxuICAgICAgICBcImNoZWNrZWQgbGlzdFwiLFxuICAgICAgICBcImNoZWNrYm94XCIsXG4gICAgICAgIFwi2YLYp9im2YXYqVwiLFxuICAgICAgICBcItmC2KfYptmF2Kkg2KfZhNin2K7YqtmK2KfYsVwiLFxuICAgICAgICBcItmC2KfYptmF2Kkg2YXYsdio2LnYp9iqINin2YTYp9iu2KrZitin2LFcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcItin2YTZg9iq2YQg2KfZhNij2LPYp9iz2YrYqVwiXG4gICAgfSxcbiAgICBwYXJhZ3JhcGg6IHtcbiAgICAgIHRpdGxlOiBcItmB2YLYsdipXCIsXG4gICAgICBzdWJ0ZXh0OiBcItmK2LPYqtiu2K/ZhSDZhNis2LPZhSDYp9mE2YXYs9iq2YbYryDYp9mE2K7Yp9i1INio2YNcIixcbiAgICAgIGFsaWFzZXM6IFtcInBcIiwgXCJwYXJhZ3JhcGhcIiwgXCLZgdmC2LHYqVwiLCBcItmG2LVcIl0sXG4gICAgICBncm91cDogXCLYp9mE2YPYqtmEINin2YTYo9iz2KfYs9mK2KlcIlxuICAgIH0sXG4gICAgdGFibGU6IHtcbiAgICAgIHRpdGxlOiBcItis2K/ZiNmEXCIsXG4gICAgICBzdWJ0ZXh0OiBcItmK2LPYqtiu2K/ZhSDZhNmE2KzYr9in2YjZhFwiLFxuICAgICAgYWxpYXNlczogW1widGFibGVcIiwgXCLYrNiv2YjZhFwiLCBcItis2K/Yp9mI2YRcIl0sXG4gICAgICBncm91cDogXCLZhdiq2YLYr9mFXCJcbiAgICB9LFxuICAgIGltYWdlOiB7XG4gICAgICB0aXRsZTogXCLYtdmI2LHYqVwiLFxuICAgICAgc3VidGV4dDogXCLYo9iv2LHYrCDYtdmI2LHYqVwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcIti12YjYsdipXCIsXG4gICAgICAgIFwi2LHZgdi5INin2YTYtdmI2LHYqVwiLFxuICAgICAgICBcItix2YHYuVwiLFxuICAgICAgICBcImltYWdlXCIsXG4gICAgICAgIFwidXBsb2FkXCIsXG4gICAgICAgIFwiaW1nXCIsXG4gICAgICAgIFwicGljdHVyZVwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLYp9mE2YjYs9in2KbYt1wiXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgdGl0bGU6IFwi2YHZitiv2YrZiFwiLFxuICAgICAgc3VidGV4dDogXCLYo9iv2LHYrCDZgdmK2K/ZitmIXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwi2YHZitiv2YrZiFwiLFxuICAgICAgICBcItix2YHYuSDYp9mE2YHZitiv2YrZiFwiLFxuICAgICAgICBcItix2YHYuVwiLFxuICAgICAgICBcInZpZGVvXCIsXG4gICAgICAgIFwidXBsb2FkXCIsXG4gICAgICAgIFwibXA0XCIsXG4gICAgICAgIFwiZmlsbVwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLYp9mE2YjYs9in2KbYt1wiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgdGl0bGU6IFwi2LXZiNiqXCIsXG4gICAgICBzdWJ0ZXh0OiBcItij2K/YsdisINi12YjYqlwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcIti12YjYqlwiLFxuICAgICAgICBcItix2YHYuSDYp9mE2LXZiNiqXCIsXG4gICAgICAgIFwi2LHZgdi5XCIsXG4gICAgICAgIFwiYXVkaW9cIixcbiAgICAgICAgXCJ1cGxvYWRcIixcbiAgICAgICAgXCJtcDNcIixcbiAgICAgICAgXCJzb3VuZFwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLYp9mE2YjYs9in2KbYt1wiXG4gICAgfSxcbiAgICBmaWxlOiB7XG4gICAgICB0aXRsZTogXCLZhdmE2YFcIixcbiAgICAgIHN1YnRleHQ6IFwi2KPYr9ix2Kwg2YXZhNmBXCIsXG4gICAgICBhbGlhc2VzOiBbXCJmaWxlXCIsIFwidXBsb2FkXCIsIFwiZW1iZWRcIiwgXCJtZWRpYVwiLCBcInVybFwiLCBcItmF2YTZgVwiLCBcItix2YHYuVwiXSxcbiAgICAgIGdyb3VwOiBcItin2YTZiNiz2KfYpti3XCJcbiAgICB9XG4gIH0sXG4gIHBsYWNlaG9sZGVyczoge1xuICAgIGRlZmF1bHQ6IFwi2KPYr9iu2YQg2KfZhNmG2LUg2KPZiCDYp9mD2KrYqCAnLycg2YTZhNij2YjYp9mF2LFcIixcbiAgICBoZWFkaW5nOiBcItin2YTYudmG2YjYp9mGXCIsXG4gICAgYnVsbGV0TGlzdEl0ZW06IFwi2YLYp9im2YXYqVwiLFxuICAgIG51bWJlcmVkTGlzdEl0ZW06IFwi2YLYp9im2YXYqVwiLFxuICAgIGNoZWNrTGlzdEl0ZW06IFwi2YLYp9im2YXYqVwiXG4gIH0sXG4gIGZpbGVfYmxvY2tzOiB7XG4gICAgaW1hZ2U6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCLYo9i22YEg2LXZiNix2KlcIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCLYo9i22YEg2YHZitiv2YrZiFwiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcItij2LbZgSDYtdmI2KpcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcItij2LbZgSDZhdmE2YFcIlxuICAgIH1cbiAgfSxcbiAgLy8gZnJvbSByZWFjdCBwYWNrYWdlOlxuICBzaWRlX21lbnU6IHtcbiAgICBhZGRfYmxvY2tfbGFiZWw6IFwi2KPYttmBINmD2KrZhNipXCIsXG4gICAgZHJhZ19oYW5kbGVfbGFiZWw6IFwi2KfZgdiq2K0g2YLYp9im2YXYqSDYp9mE2YPYqtmEXCJcbiAgfSxcbiAgZHJhZ19oYW5kbGU6IHtcbiAgICBkZWxldGVfbWVudWl0ZW06IFwi2K3YsNmBXCIsXG4gICAgY29sb3JzX21lbnVpdGVtOiBcItin2YTYo9mE2YjYp9mGXCJcbiAgfSxcbiAgdGFibGVfaGFuZGxlOiB7XG4gICAgZGVsZXRlX2NvbHVtbl9tZW51aXRlbTogXCLYrdiw2YEg2KfZhNi52YXZiNivXCIsXG4gICAgZGVsZXRlX3Jvd19tZW51aXRlbTogXCLYrdiw2YEg2KfZhNi12YFcIixcbiAgICBhZGRfbGVmdF9tZW51aXRlbTogXCLYo9i22YEg2LnZhdmI2K/Yp9mLINi52YTZiSDYp9mE2YrYs9in2LFcIixcbiAgICBhZGRfcmlnaHRfbWVudWl0ZW06IFwi2KPYttmBINi52YXZiNiv2KfZiyDYudmE2Ykg2KfZhNmK2YXZitmGXCIsXG4gICAgYWRkX2Fib3ZlX21lbnVpdGVtOiBcItij2LbZgSDYtdmB2KfZiyDYo9i52YTZiVwiLFxuICAgIGFkZF9iZWxvd19tZW51aXRlbTogXCLYo9i22YEg2LXZgdin2Ysg2KPYs9mB2YRcIlxuICB9LFxuICBzdWdnZXN0aW9uX21lbnU6IHtcbiAgICBub19pdGVtc190aXRsZTogXCLZhNmFINmK2KrZhSDYp9mE2LnYq9mI2LEg2LnZhNmJINi52YbYp9i12LFcIixcbiAgICBsb2FkaW5nOiBcItis2KfYsSDYp9mE2KrYrdmF2YrZhC4uLlwiXG4gIH0sXG4gIGNvbG9yX3BpY2tlcjoge1xuICAgIHRleHRfdGl0bGU6IFwi2KfZhNmG2LVcIixcbiAgICBiYWNrZ3JvdW5kX3RpdGxlOiBcItin2YTYrtmE2YHZitipXCIsXG4gICAgY29sb3JzOiB7XG4gICAgICBkZWZhdWx0OiBcItin2YTYp9mB2KrYsdin2LbZilwiLFxuICAgICAgZ3JheTogXCLYsdmF2KfYr9mKXCIsXG4gICAgICBicm93bjogXCLYqNmG2YpcIixcbiAgICAgIHJlZDogXCLYo9it2YXYsVwiLFxuICAgICAgb3JhbmdlOiBcItio2LHYqtmC2KfZhNmKXCIsXG4gICAgICB5ZWxsb3c6IFwi2KPYtdmB2LFcIixcbiAgICAgIGdyZWVuOiBcItij2K7YttixXCIsXG4gICAgICBibHVlOiBcItij2LLYsdmCXCIsXG4gICAgICBwdXJwbGU6IFwi2KjZhtmB2LPYrNmKXCIsXG4gICAgICBwaW5rOiBcItmI2LHYr9mKXCJcbiAgICB9XG4gIH0sXG4gIGZvcm1hdHRpbmdfdG9vbGJhcjoge1xuICAgIGJvbGQ6IHtcbiAgICAgIHRvb2x0aXA6IFwi2LnYsdmK2LZcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtCXCJcbiAgICB9LFxuICAgIGl0YWxpYzoge1xuICAgICAgdG9vbHRpcDogXCLZhdin2KbZhFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0lcIlxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICB0b29sdGlwOiBcItiq2LPYt9mK2LFcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtVXCJcbiAgICB9LFxuICAgIHN0cmlrZToge1xuICAgICAgdG9vbHRpcDogXCLYtNi32KhcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtTaGlmdCtYXCJcbiAgICB9LFxuICAgIGNvZGU6IHtcbiAgICAgIHRvb2x0aXA6IFwi2YPZiNivXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJcIlxuICAgIH0sXG4gICAgY29sb3JzOiB7XG4gICAgICB0b29sdGlwOiBcItin2YTYo9mE2YjYp9mGXCJcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIHRvb2x0aXA6IFwi2KXZhti02KfYoSDYsdin2KjYt1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0tcIlxuICAgIH0sXG4gICAgZmlsZV9jYXB0aW9uOiB7XG4gICAgICB0b29sdGlwOiBcItiq2LnYr9mK2YQg2KfZhNiq2LPZhdmK2Kkg2KfZhNiq2YjYttmK2K3ZitipXCIsXG4gICAgICBpbnB1dF9wbGFjZWhvbGRlcjogXCLYqti52K/ZitmEINin2YTYqtiz2YXZitipINin2YTYqtmI2LbZitit2YrYqVwiXG4gICAgfSxcbiAgICBmaWxlX3JlcGxhY2U6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi2KfYs9iq2KjYr9in2YQg2KfZhNi12YjYsdipXCIsXG4gICAgICAgIHZpZGVvOiBcItin2LPYqtio2K/Yp9mEINin2YTZgdmK2K/ZitmIXCIsXG4gICAgICAgIGF1ZGlvOiBcItin2LPYqtio2K/Yp9mEINin2YTYtdmI2KpcIixcbiAgICAgICAgZmlsZTogXCLYp9iz2KrYqNiv2KfZhCDYp9mE2YXZhNmBXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfcmVuYW1lOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcItil2LnYp9iv2Kkg2KrYs9mF2YrYqSDYp9mE2LXZiNix2KlcIixcbiAgICAgICAgdmlkZW86IFwi2KXYudin2K/YqSDYqtiz2YXZitipINin2YTZgdmK2K/ZitmIXCIsXG4gICAgICAgIGF1ZGlvOiBcItil2LnYp9iv2Kkg2KrYs9mF2YrYqSDYp9mE2LXZiNiqXCIsXG4gICAgICAgIGZpbGU6IFwi2KXYudin2K/YqSDYqtiz2YXZitipINin2YTZhdmE2YFcIlxuICAgICAgfSxcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcItil2LnYp9iv2Kkg2KrYs9mF2YrYqSDYp9mE2LXZiNix2KlcIixcbiAgICAgICAgdmlkZW86IFwi2KXYudin2K/YqSDYqtiz2YXZitipINin2YTZgdmK2K/ZitmIXCIsXG4gICAgICAgIGF1ZGlvOiBcItil2LnYp9iv2Kkg2KrYs9mF2YrYqSDYp9mE2LXZiNiqXCIsXG4gICAgICAgIGZpbGU6IFwi2KXYudin2K/YqSDYqtiz2YXZitipINin2YTZhdmE2YFcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kb3dubG9hZDoge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCLYqtit2YXZitmEINin2YTYtdmI2LHYqVwiLFxuICAgICAgICB2aWRlbzogXCLYqtit2YXZitmEINin2YTZgdmK2K/ZitmIXCIsXG4gICAgICAgIGF1ZGlvOiBcItiq2K3ZhdmK2YQg2KfZhNi12YjYqlwiLFxuICAgICAgICBmaWxlOiBcItiq2K3ZhdmK2YQg2KfZhNmF2YTZgVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX2RlbGV0ZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCLYrdiw2YEg2KfZhNi12YjYsdipXCIsXG4gICAgICAgIHZpZGVvOiBcItit2LDZgSDYp9mE2YHZitiv2YrZiFwiLFxuICAgICAgICBhdWRpbzogXCLYrdiw2YEg2KfZhNi12YjYqlwiLFxuICAgICAgICBmaWxlOiBcItit2LDZgSDYp9mE2YXZhNmBXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfcHJldmlld190b2dnbGU6IHtcbiAgICAgIHRvb2x0aXA6IFwi2KrYqNiv2YrZhCDYp9mE2LnYsdi2XCJcbiAgICB9LFxuICAgIG5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwi2KrYr9in2K7ZhCDYp9mE2YPYqtmEXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJUYWJcIlxuICAgIH0sXG4gICAgdW5uZXN0OiB7XG4gICAgICB0b29sdGlwOiBcItil2YTYutin2KEg2KrYr9in2K7ZhCDYp9mE2YPYqtmEXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJTaGlmdCtUYWJcIlxuICAgIH0sXG4gICAgYWxpZ25fbGVmdDoge1xuICAgICAgdG9vbHRpcDogXCLZhdit2KfYsNin2Kkg2KfZhNmG2LUg2KXZhNmJINin2YTZitiz2KfYsVwiXG4gICAgfSxcbiAgICBhbGlnbl9jZW50ZXI6IHtcbiAgICAgIHRvb2x0aXA6IFwi2YXYrdin2LDYp9ipINin2YTZhti1INil2YTZiSDYp9mE2YjYs9i3XCJcbiAgICB9LFxuICAgIGFsaWduX3JpZ2h0OiB7XG4gICAgICB0b29sdGlwOiBcItmF2K3Yp9iw2KfYqSDYp9mE2YbYtSDYpdmE2Ykg2KfZhNmK2YXZitmGXCJcbiAgICB9LFxuICAgIGFsaWduX2p1c3RpZnk6IHtcbiAgICAgIHRvb2x0aXA6IFwi2LbYqNi3INin2YTZhti1XCJcbiAgICB9XG4gIH0sXG4gIGZpbGVfcGFuZWw6IHtcbiAgICB1cGxvYWQ6IHtcbiAgICAgIHRpdGxlOiBcItiq2K3ZhdmK2YRcIixcbiAgICAgIGZpbGVfcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgaW1hZ2U6IFwi2KrYrdmF2YrZhCDYp9mE2LXZiNix2KlcIixcbiAgICAgICAgdmlkZW86IFwi2KrYrdmF2YrZhCDYp9mE2YHZitiv2YrZiFwiLFxuICAgICAgICBhdWRpbzogXCLYqtit2YXZitmEINin2YTYtdmI2KpcIixcbiAgICAgICAgZmlsZTogXCLYqtit2YXZitmEINin2YTZhdmE2YFcIlxuICAgICAgfSxcbiAgICAgIHVwbG9hZF9lcnJvcjogXCLYrti32KM6INmB2LTZhCDYp9mE2KrYrdmF2YrZhFwiXG4gICAgfSxcbiAgICBlbWJlZDoge1xuICAgICAgdGl0bGU6IFwi2KrYttmF2YrZhlwiLFxuICAgICAgZW1iZWRfYnV0dG9uOiB7XG4gICAgICAgIGltYWdlOiBcItiq2LbZhdmK2YYg2KfZhNi12YjYsdipXCIsXG4gICAgICAgIHZpZGVvOiBcItiq2LbZhdmK2YYg2KfZhNmB2YrYr9mK2YhcIixcbiAgICAgICAgYXVkaW86IFwi2KrYttmF2YrZhiDYp9mE2LXZiNiqXCIsXG4gICAgICAgIGZpbGU6IFwi2KrYttmF2YrZhiDYp9mE2YXZhNmBXCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwi2KPYr9iu2YQg2KfZhNix2KfYqNi3XCJcbiAgICB9XG4gIH0sXG4gIGxpbmtfdG9vbGJhcjoge1xuICAgIGRlbGV0ZToge1xuICAgICAgdG9vbHRpcDogXCLYpdiy2KfZhNipINin2YTYsdin2KjYt1wiXG4gICAgfSxcbiAgICBlZGl0OiB7XG4gICAgICB0ZXh0OiBcItiq2LnYr9mK2YQg2KfZhNix2KfYqNi3XCIsXG4gICAgICB0b29sdGlwOiBcItiq2LnYr9mK2YRcIlxuICAgIH0sXG4gICAgb3Blbjoge1xuICAgICAgdG9vbHRpcDogXCLYp9mB2KrYrSDZgdmKINi52YTYp9mF2Kkg2KrYqNmI2YrYqCDYrNiv2YrYr9ipXCJcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIHRpdGxlX3BsYWNlaG9sZGVyOiBcItiq2LnYr9mK2YQg2KfZhNi52YbZiNin2YZcIixcbiAgICAgIHVybF9wbGFjZWhvbGRlcjogXCLYqti52K/ZitmEINin2YTYsdin2KjYt1wiXG4gICAgfVxuICB9LFxuICBnZW5lcmljOiB7XG4gICAgY3RybF9zaG9ydGN1dDogXCJDdHJsXCJcbiAgfVxufSwgWmUgPSB7XG4gIHNsYXNoX21lbnU6IHtcbiAgICBoZWFkaW5nOiB7XG4gICAgICB0aXRsZTogXCJIZWFkaW5nIDFcIixcbiAgICAgIHN1YnRleHQ6IFwiVXNlZCBmb3IgYSB0b3AtbGV2ZWwgaGVhZGluZ1wiLFxuICAgICAgYWxpYXNlczogW1wiaFwiLCBcImhlYWRpbmcxXCIsIFwiaDFcIl0sXG4gICAgICBncm91cDogXCJIZWFkaW5nc1wiXG4gICAgfSxcbiAgICBoZWFkaW5nXzI6IHtcbiAgICAgIHRpdGxlOiBcIkhlYWRpbmcgMlwiLFxuICAgICAgc3VidGV4dDogXCJVc2VkIGZvciBrZXkgc2VjdGlvbnNcIixcbiAgICAgIGFsaWFzZXM6IFtcImgyXCIsIFwiaGVhZGluZzJcIiwgXCJzdWJoZWFkaW5nXCJdLFxuICAgICAgZ3JvdXA6IFwiSGVhZGluZ3NcIlxuICAgIH0sXG4gICAgaGVhZGluZ18zOiB7XG4gICAgICB0aXRsZTogXCJIZWFkaW5nIDNcIixcbiAgICAgIHN1YnRleHQ6IFwiVXNlZCBmb3Igc3Vic2VjdGlvbnMgYW5kIGdyb3VwIGhlYWRpbmdzXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoM1wiLCBcImhlYWRpbmczXCIsIFwic3ViaGVhZGluZ1wiXSxcbiAgICAgIGdyb3VwOiBcIkhlYWRpbmdzXCJcbiAgICB9LFxuICAgIG51bWJlcmVkX2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIk51bWJlcmVkIExpc3RcIixcbiAgICAgIHN1YnRleHQ6IFwiVXNlZCB0byBkaXNwbGF5IGEgbnVtYmVyZWQgbGlzdFwiLFxuICAgICAgYWxpYXNlczogW1wib2xcIiwgXCJsaVwiLCBcImxpc3RcIiwgXCJudW1iZXJlZGxpc3RcIiwgXCJudW1iZXJlZCBsaXN0XCJdLFxuICAgICAgZ3JvdXA6IFwiQmFzaWMgYmxvY2tzXCJcbiAgICB9LFxuICAgIGJ1bGxldF9saXN0OiB7XG4gICAgICB0aXRsZTogXCJCdWxsZXQgTGlzdFwiLFxuICAgICAgc3VidGV4dDogXCJVc2VkIHRvIGRpc3BsYXkgYW4gdW5vcmRlcmVkIGxpc3RcIixcbiAgICAgIGFsaWFzZXM6IFtcInVsXCIsIFwibGlcIiwgXCJsaXN0XCIsIFwiYnVsbGV0bGlzdFwiLCBcImJ1bGxldCBsaXN0XCJdLFxuICAgICAgZ3JvdXA6IFwiQmFzaWMgYmxvY2tzXCJcbiAgICB9LFxuICAgIGNoZWNrX2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIkNoZWNrIExpc3RcIixcbiAgICAgIHN1YnRleHQ6IFwiVXNlZCB0byBkaXNwbGF5IGEgbGlzdCB3aXRoIGNoZWNrYm94ZXNcIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJ1bFwiLFxuICAgICAgICBcImxpXCIsXG4gICAgICAgIFwibGlzdFwiLFxuICAgICAgICBcImNoZWNrbGlzdFwiLFxuICAgICAgICBcImNoZWNrIGxpc3RcIixcbiAgICAgICAgXCJjaGVja2VkIGxpc3RcIixcbiAgICAgICAgXCJjaGVja2JveFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiQmFzaWMgYmxvY2tzXCJcbiAgICB9LFxuICAgIHBhcmFncmFwaDoge1xuICAgICAgdGl0bGU6IFwiUGFyYWdyYXBoXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlVzZWQgZm9yIHRoZSBib2R5IG9mIHlvdXIgZG9jdW1lbnRcIixcbiAgICAgIGFsaWFzZXM6IFtcInBcIiwgXCJwYXJhZ3JhcGhcIl0sXG4gICAgICBncm91cDogXCJCYXNpYyBibG9ja3NcIlxuICAgIH0sXG4gICAgdGFibGU6IHtcbiAgICAgIHRpdGxlOiBcIlRhYmxlXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlVzZWQgZm9yIHRhYmxlc1wiLFxuICAgICAgYWxpYXNlczogW1widGFibGVcIl0sXG4gICAgICBncm91cDogXCJBZHZhbmNlZFwiXG4gICAgfSxcbiAgICBpbWFnZToge1xuICAgICAgdGl0bGU6IFwiSW1hZ2VcIixcbiAgICAgIHN1YnRleHQ6IFwiSW5zZXJ0IGFuIGltYWdlXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwiaW1hZ2VcIixcbiAgICAgICAgXCJpbWFnZVVwbG9hZFwiLFxuICAgICAgICBcInVwbG9hZFwiLFxuICAgICAgICBcImltZ1wiLFxuICAgICAgICBcInBpY3R1cmVcIixcbiAgICAgICAgXCJtZWRpYVwiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiTWVkaWFcIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIHRpdGxlOiBcIlZpZGVvXCIsXG4gICAgICBzdWJ0ZXh0OiBcIkluc2VydCBhIHZpZGVvXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwidmlkZW9cIixcbiAgICAgICAgXCJ2aWRlb1VwbG9hZFwiLFxuICAgICAgICBcInVwbG9hZFwiLFxuICAgICAgICBcIm1wNFwiLFxuICAgICAgICBcImZpbG1cIixcbiAgICAgICAgXCJtZWRpYVwiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiTWVkaWFcIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIHRpdGxlOiBcIkF1ZGlvXCIsXG4gICAgICBzdWJ0ZXh0OiBcIkluc2VydCBhdWRpb1wiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcImF1ZGlvXCIsXG4gICAgICAgIFwiYXVkaW9VcGxvYWRcIixcbiAgICAgICAgXCJ1cGxvYWRcIixcbiAgICAgICAgXCJtcDNcIixcbiAgICAgICAgXCJzb3VuZFwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCJNZWRpYVwiXG4gICAgfSxcbiAgICBmaWxlOiB7XG4gICAgICB0aXRsZTogXCJGaWxlXCIsXG4gICAgICBzdWJ0ZXh0OiBcIkluc2VydCBhIGZpbGVcIixcbiAgICAgIGFsaWFzZXM6IFtcImZpbGVcIiwgXCJ1cGxvYWRcIiwgXCJlbWJlZFwiLCBcIm1lZGlhXCIsIFwidXJsXCJdLFxuICAgICAgZ3JvdXA6IFwiTWVkaWFcIlxuICAgIH1cbiAgfSxcbiAgcGxhY2Vob2xkZXJzOiB7XG4gICAgZGVmYXVsdDogXCJFbnRlciB0ZXh0IG9yIHR5cGUgJy8nIGZvciBjb21tYW5kc1wiLFxuICAgIGhlYWRpbmc6IFwiSGVhZGluZ1wiLFxuICAgIGJ1bGxldExpc3RJdGVtOiBcIkxpc3RcIixcbiAgICBudW1iZXJlZExpc3RJdGVtOiBcIkxpc3RcIixcbiAgICBjaGVja0xpc3RJdGVtOiBcIkxpc3RcIlxuICB9LFxuICBmaWxlX2Jsb2Nrczoge1xuICAgIGltYWdlOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiQWRkIGltYWdlXCJcbiAgICB9LFxuICAgIHZpZGVvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiQWRkIHZpZGVvXCJcbiAgICB9LFxuICAgIGF1ZGlvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiQWRkIGF1ZGlvXCJcbiAgICB9LFxuICAgIGZpbGU6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJBZGQgZmlsZVwiXG4gICAgfVxuICB9LFxuICAvLyBmcm9tIHJlYWN0IHBhY2thZ2U6XG4gIHNpZGVfbWVudToge1xuICAgIGFkZF9ibG9ja19sYWJlbDogXCJBZGQgYmxvY2tcIixcbiAgICBkcmFnX2hhbmRsZV9sYWJlbDogXCJPcGVuIGJsb2NrIG1lbnVcIlxuICB9LFxuICBkcmFnX2hhbmRsZToge1xuICAgIGRlbGV0ZV9tZW51aXRlbTogXCJEZWxldGVcIixcbiAgICBjb2xvcnNfbWVudWl0ZW06IFwiQ29sb3JzXCJcbiAgfSxcbiAgdGFibGVfaGFuZGxlOiB7XG4gICAgZGVsZXRlX2NvbHVtbl9tZW51aXRlbTogXCJEZWxldGUgY29sdW1uXCIsXG4gICAgZGVsZXRlX3Jvd19tZW51aXRlbTogXCJEZWxldGUgcm93XCIsXG4gICAgYWRkX2xlZnRfbWVudWl0ZW06IFwiQWRkIGNvbHVtbiBsZWZ0XCIsXG4gICAgYWRkX3JpZ2h0X21lbnVpdGVtOiBcIkFkZCBjb2x1bW4gcmlnaHRcIixcbiAgICBhZGRfYWJvdmVfbWVudWl0ZW06IFwiQWRkIHJvdyBhYm92ZVwiLFxuICAgIGFkZF9iZWxvd19tZW51aXRlbTogXCJBZGQgcm93IGJlbG93XCJcbiAgfSxcbiAgc3VnZ2VzdGlvbl9tZW51OiB7XG4gICAgbm9faXRlbXNfdGl0bGU6IFwiTm8gaXRlbXMgZm91bmRcIixcbiAgICBsb2FkaW5nOiBcIkxvYWRpbmfigKZcIlxuICB9LFxuICBjb2xvcl9waWNrZXI6IHtcbiAgICB0ZXh0X3RpdGxlOiBcIlRleHRcIixcbiAgICBiYWNrZ3JvdW5kX3RpdGxlOiBcIkJhY2tncm91bmRcIixcbiAgICBjb2xvcnM6IHtcbiAgICAgIGRlZmF1bHQ6IFwiRGVmYXVsdFwiLFxuICAgICAgZ3JheTogXCJHcmF5XCIsXG4gICAgICBicm93bjogXCJCcm93blwiLFxuICAgICAgcmVkOiBcIlJlZFwiLFxuICAgICAgb3JhbmdlOiBcIk9yYW5nZVwiLFxuICAgICAgeWVsbG93OiBcIlllbGxvd1wiLFxuICAgICAgZ3JlZW46IFwiR3JlZW5cIixcbiAgICAgIGJsdWU6IFwiQmx1ZVwiLFxuICAgICAgcHVycGxlOiBcIlB1cnBsZVwiLFxuICAgICAgcGluazogXCJQaW5rXCJcbiAgICB9XG4gIH0sXG4gIGZvcm1hdHRpbmdfdG9vbGJhcjoge1xuICAgIGJvbGQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiQm9sZFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0JcIlxuICAgIH0sXG4gICAgaXRhbGljOiB7XG4gICAgICB0b29sdGlwOiBcIkl0YWxpY1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0lcIlxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICB0b29sdGlwOiBcIlVuZGVybGluZVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1VcIlxuICAgIH0sXG4gICAgc3RyaWtlOiB7XG4gICAgICB0b29sdGlwOiBcIlN0cmlrZVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1NoaWZ0K1hcIlxuICAgIH0sXG4gICAgY29kZToge1xuICAgICAgdG9vbHRpcDogXCJDb2RlXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJcIlxuICAgIH0sXG4gICAgY29sb3JzOiB7XG4gICAgICB0b29sdGlwOiBcIkNvbG9yc1wiXG4gICAgfSxcbiAgICBsaW5rOiB7XG4gICAgICB0b29sdGlwOiBcIkNyZWF0ZSBsaW5rXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrS1wiXG4gICAgfSxcbiAgICBmaWxlX2NhcHRpb246IHtcbiAgICAgIHRvb2x0aXA6IFwiRWRpdCBjYXB0aW9uXCIsXG4gICAgICBpbnB1dF9wbGFjZWhvbGRlcjogXCJFZGl0IGNhcHRpb25cIlxuICAgIH0sXG4gICAgZmlsZV9yZXBsYWNlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIlJlcGxhY2UgaW1hZ2VcIixcbiAgICAgICAgdmlkZW86IFwiUmVwbGFjZSB2aWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJSZXBsYWNlIGF1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiUmVwbGFjZSBmaWxlXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfcmVuYW1lOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIlJlbmFtZSBpbWFnZVwiLFxuICAgICAgICB2aWRlbzogXCJSZW5hbWUgdmlkZW9cIixcbiAgICAgICAgYXVkaW86IFwiUmVuYW1lIGF1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiUmVuYW1lIGZpbGVcIlxuICAgICAgfSxcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIlJlbmFtZSBpbWFnZVwiLFxuICAgICAgICB2aWRlbzogXCJSZW5hbWUgdmlkZW9cIixcbiAgICAgICAgYXVkaW86IFwiUmVuYW1lIGF1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiUmVuYW1lIGZpbGVcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kb3dubG9hZDoge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJEb3dubG9hZCBpbWFnZVwiLFxuICAgICAgICB2aWRlbzogXCJEb3dubG9hZCB2aWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJEb3dubG9hZCBhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIkRvd25sb2FkIGZpbGVcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kZWxldGU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwiRGVsZXRlIGltYWdlXCIsXG4gICAgICAgIHZpZGVvOiBcIkRlbGV0ZSB2aWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJEZWxldGUgYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJEZWxldGUgZmlsZVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX3ByZXZpZXdfdG9nZ2xlOiB7XG4gICAgICB0b29sdGlwOiBcIlRvZ2dsZSBwcmV2aWV3XCJcbiAgICB9LFxuICAgIG5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwiTmVzdCBibG9ja1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiVGFiXCJcbiAgICB9LFxuICAgIHVubmVzdDoge1xuICAgICAgdG9vbHRpcDogXCJVbm5lc3QgYmxvY2tcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlNoaWZ0K1RhYlwiXG4gICAgfSxcbiAgICBhbGlnbl9sZWZ0OiB7XG4gICAgICB0b29sdGlwOiBcIkFsaWduIHRleHQgbGVmdFwiXG4gICAgfSxcbiAgICBhbGlnbl9jZW50ZXI6IHtcbiAgICAgIHRvb2x0aXA6IFwiQWxpZ24gdGV4dCBjZW50ZXJcIlxuICAgIH0sXG4gICAgYWxpZ25fcmlnaHQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiQWxpZ24gdGV4dCByaWdodFwiXG4gICAgfSxcbiAgICBhbGlnbl9qdXN0aWZ5OiB7XG4gICAgICB0b29sdGlwOiBcIkp1c3RpZnkgdGV4dFwiXG4gICAgfVxuICB9LFxuICBmaWxlX3BhbmVsOiB7XG4gICAgdXBsb2FkOiB7XG4gICAgICB0aXRsZTogXCJVcGxvYWRcIixcbiAgICAgIGZpbGVfcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgaW1hZ2U6IFwiVXBsb2FkIGltYWdlXCIsXG4gICAgICAgIHZpZGVvOiBcIlVwbG9hZCB2aWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJVcGxvYWQgYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJVcGxvYWQgZmlsZVwiXG4gICAgICB9LFxuICAgICAgdXBsb2FkX2Vycm9yOiBcIkVycm9yOiBVcGxvYWQgZmFpbGVkXCJcbiAgICB9LFxuICAgIGVtYmVkOiB7XG4gICAgICB0aXRsZTogXCJFbWJlZFwiLFxuICAgICAgZW1iZWRfYnV0dG9uOiB7XG4gICAgICAgIGltYWdlOiBcIkVtYmVkIGltYWdlXCIsXG4gICAgICAgIHZpZGVvOiBcIkVtYmVkIHZpZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIkVtYmVkIGF1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiRW1iZWQgZmlsZVwiXG4gICAgICB9LFxuICAgICAgdXJsX3BsYWNlaG9sZGVyOiBcIkVudGVyIFVSTFwiXG4gICAgfVxuICB9LFxuICBsaW5rX3Rvb2xiYXI6IHtcbiAgICBkZWxldGU6IHtcbiAgICAgIHRvb2x0aXA6IFwiUmVtb3ZlIGxpbmtcIlxuICAgIH0sXG4gICAgZWRpdDoge1xuICAgICAgdGV4dDogXCJFZGl0IGxpbmtcIixcbiAgICAgIHRvb2x0aXA6IFwiRWRpdFwiXG4gICAgfSxcbiAgICBvcGVuOiB7XG4gICAgICB0b29sdGlwOiBcIk9wZW4gaW4gbmV3IHRhYlwiXG4gICAgfSxcbiAgICBmb3JtOiB7XG4gICAgICB0aXRsZV9wbGFjZWhvbGRlcjogXCJFZGl0IHRpdGxlXCIsXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiRWRpdCBVUkxcIlxuICAgIH1cbiAgfSxcbiAgZ2VuZXJpYzoge1xuICAgIGN0cmxfc2hvcnRjdXQ6IFwiQ3RybFwiXG4gIH1cbn0sIG1vID0ge1xuICBzbGFzaF9tZW51OiB7XG4gICAgaGVhZGluZzoge1xuICAgICAgdGl0bGU6IFwiVGl0cmUgMVwiLFxuICAgICAgc3VidGV4dDogXCJVdGlsaXPDqSBwb3VyIHVuIHRpdHJlIGRlIHByZW1pZXIgbml2ZWF1XCIsXG4gICAgICBhbGlhc2VzOiBbXCJoXCIsIFwidGl0cmUxXCIsIFwiaDFcIl0sXG4gICAgICBncm91cDogXCJUaXRyZXNcIlxuICAgIH0sXG4gICAgaGVhZGluZ18yOiB7XG4gICAgICB0aXRsZTogXCJUaXRyZSAyXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlV0aWxpc8OpIHBvdXIgbGVzIHNlY3Rpb25zIGNsw6lzXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoMlwiLCBcInRpdHJlMlwiLCBcInNvdXMtdGl0cmVcIl0sXG4gICAgICBncm91cDogXCJUaXRyZXNcIlxuICAgIH0sXG4gICAgaGVhZGluZ18zOiB7XG4gICAgICB0aXRsZTogXCJUaXRyZSAzXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlV0aWxpc8OpIHBvdXIgbGVzIHNvdXMtc2VjdGlvbnMgZXQgbGVzIHRpdHJlcyBkZSBncm91cGVcIixcbiAgICAgIGFsaWFzZXM6IFtcImgzXCIsIFwidGl0cmUzXCIsIFwic291cy10aXRyZVwiXSxcbiAgICAgIGdyb3VwOiBcIlRpdHJlc1wiXG4gICAgfSxcbiAgICBudW1iZXJlZF9saXN0OiB7XG4gICAgICB0aXRsZTogXCJMaXN0ZSBOdW3DqXJvdMOpZVwiLFxuICAgICAgc3VidGV4dDogXCJVdGlsaXPDqSBwb3VyIGFmZmljaGVyIHVuZSBsaXN0ZSBudW3DqXJvdMOpZVwiLFxuICAgICAgYWxpYXNlczogW1wib2xcIiwgXCJsaVwiLCBcImxpc3RlXCIsIFwibGlzdGVudW3DqXJvdMOpZVwiLCBcImxpc3RlIG51bcOpcm90w6llXCJdLFxuICAgICAgZ3JvdXA6IFwiQmxvY3MgZGUgYmFzZVwiXG4gICAgfSxcbiAgICBidWxsZXRfbGlzdDoge1xuICAgICAgdGl0bGU6IFwiTGlzdGUgw6AgUHVjZXNcIixcbiAgICAgIHN1YnRleHQ6IFwiVXRpbGlzw6kgcG91ciBhZmZpY2hlciB1bmUgbGlzdGUgbm9uIG9yZG9ubsOpZVwiLFxuICAgICAgYWxpYXNlczogW1widWxcIiwgXCJsaVwiLCBcImxpc3RlXCIsIFwibGlzdGXDoHB1Y2VzXCIsIFwibGlzdGUgw6AgcHVjZXNcIl0sXG4gICAgICBncm91cDogXCJCbG9jcyBkZSBiYXNlXCJcbiAgICB9LFxuICAgIGNoZWNrX2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIkxpc3RlIGRlIHbDqXJpZmljYXRpb25cIixcbiAgICAgIHN1YnRleHQ6IFwiVXRpbGlzw6kgcG91ciBhZmZpY2hlciB1bmUgbGlzdGUgYXZlYyBkZXMgY2FzZXMgw6AgY29jaGVyXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwidWxcIixcbiAgICAgICAgXCJsaVwiLFxuICAgICAgICBcImxpc3RlXCIsXG4gICAgICAgIFwibGlzdGUgZGUgdsOpcmlmaWNhdGlvblwiLFxuICAgICAgICBcImxpc3RlIGNvY2jDqWVcIixcbiAgICAgICAgXCJjYXNlIMOgIGNvY2hlclwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiQmxvY3MgZGUgYmFzZVwiXG4gICAgfSxcbiAgICBwYXJhZ3JhcGg6IHtcbiAgICAgIHRpdGxlOiBcIlBhcmFncmFwaGVcIixcbiAgICAgIHN1YnRleHQ6IFwiVXRpbGlzw6kgcG91ciBsZSBjb3JwcyBkZSB2b3RyZSBkb2N1bWVudFwiLFxuICAgICAgYWxpYXNlczogW1wicFwiLCBcInBhcmFncmFwaGVcIl0sXG4gICAgICBncm91cDogXCJCbG9jcyBkZSBiYXNlXCJcbiAgICB9LFxuICAgIHRhYmxlOiB7XG4gICAgICB0aXRsZTogXCJUYWJsZWF1XCIsXG4gICAgICBzdWJ0ZXh0OiBcIlV0aWxpc8OpIHBvdXIgbGVzIHRhYmxlYXV4XCIsXG4gICAgICBhbGlhc2VzOiBbXCJ0YWJsZWF1XCJdLFxuICAgICAgZ3JvdXA6IFwiQXZhbmPDqVwiXG4gICAgfSxcbiAgICBpbWFnZToge1xuICAgICAgdGl0bGU6IFwiSW1hZ2VcIixcbiAgICAgIHN1YnRleHQ6IFwiSW5zw6lyZXIgdW5lIGltYWdlXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwiaW1hZ2VcIixcbiAgICAgICAgXCJ1cGxvYWRJbWFnZVwiLFxuICAgICAgICBcInTDqWzDqWNoYXJnZXJcIixcbiAgICAgICAgXCJpbWdcIixcbiAgICAgICAgXCJwaG90b1wiLFxuICAgICAgICBcIm3DqWRpYVwiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiTcOpZGlhc1wiXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgdGl0bGU6IFwiVmlkw6lvXCIsXG4gICAgICBzdWJ0ZXh0OiBcIkluc8OpcmVyIHVuZSB2aWTDqW9cIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJ2aWTDqW9cIixcbiAgICAgICAgXCJ0w6lsw6ljaGFyZ2VyVmlkw6lvXCIsXG4gICAgICAgIFwidMOpbMOpdmVyc2VyXCIsXG4gICAgICAgIFwibXA0XCIsXG4gICAgICAgIFwiZmlsbVwiLFxuICAgICAgICBcIm3DqWRpYVwiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiTcOpZGlhXCJcbiAgICB9LFxuICAgIGF1ZGlvOiB7XG4gICAgICB0aXRsZTogXCJBdWRpb1wiLFxuICAgICAgc3VidGV4dDogXCJJbnPDqXJlciB1biBhdWRpb1wiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcImF1ZGlvXCIsXG4gICAgICAgIFwidMOpbMOpY2hhcmdlckF1ZGlvXCIsXG4gICAgICAgIFwidMOpbMOpdmVyc2VyXCIsXG4gICAgICAgIFwibXAzXCIsXG4gICAgICAgIFwic29uXCIsXG4gICAgICAgIFwibcOpZGlhXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCJNw6lkaWFcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgdGl0bGU6IFwiRmljaGllclwiLFxuICAgICAgc3VidGV4dDogXCJJbnPDqXJlciB1biBmaWNoaWVyXCIsXG4gICAgICBhbGlhc2VzOiBbXCJmaWNoaWVyXCIsIFwidMOpbMOpdmVyc2VyXCIsIFwiaW50w6lncmVyXCIsIFwibcOpZGlhXCIsIFwidXJsXCJdLFxuICAgICAgZ3JvdXA6IFwiTcOpZGlhXCJcbiAgICB9XG4gIH0sXG4gIHBsYWNlaG9sZGVyczoge1xuICAgIGRlZmF1bHQ6IFwiRW50cmV6IGR1IHRleHRlIG91IHRhcGV6ICcvJyBwb3VyIGxlcyBjb21tYW5kZXNcIixcbiAgICBoZWFkaW5nOiBcIlRpdHJlXCIsXG4gICAgYnVsbGV0TGlzdEl0ZW06IFwiTGlzdGVcIixcbiAgICBudW1iZXJlZExpc3RJdGVtOiBcIkxpc3RlXCIsXG4gICAgY2hlY2tMaXN0SXRlbTogXCJMaXN0ZVwiXG4gIH0sXG4gIGZpbGVfYmxvY2tzOiB7XG4gICAgaW1hZ2U6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJBam91dGVyIHVuZSBpbWFnZVwiXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkFqb3V0ZXIgdW5lIHZpZMOpb1wiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkFqb3V0ZXIgdW4gYXVkaW9cIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkFqb3V0ZXIgdW4gZmljaGllclwiXG4gICAgfVxuICB9LFxuICAvLyBmcm9tIHJlYWN0IHBhY2thZ2U6XG4gIHNpZGVfbWVudToge1xuICAgIGFkZF9ibG9ja19sYWJlbDogXCJBam91dGVyIHVuIGJsb2NcIixcbiAgICBkcmFnX2hhbmRsZV9sYWJlbDogXCJPdXZyaXIgbGUgbWVudSBkdSBibG9jXCJcbiAgfSxcbiAgZHJhZ19oYW5kbGU6IHtcbiAgICBkZWxldGVfbWVudWl0ZW06IFwiU3VwcHJpbWVyXCIsXG4gICAgY29sb3JzX21lbnVpdGVtOiBcIkNvdWxldXJzXCJcbiAgfSxcbiAgdGFibGVfaGFuZGxlOiB7XG4gICAgZGVsZXRlX2NvbHVtbl9tZW51aXRlbTogXCJTdXBwcmltZXIgbGEgY29sb25uZVwiLFxuICAgIGRlbGV0ZV9yb3dfbWVudWl0ZW06IFwiU3VwcHJpbWVyIGxhIGxpZ25lXCIsXG4gICAgYWRkX2xlZnRfbWVudWl0ZW06IFwiQWpvdXRlciB1bmUgY29sb25uZSDDoCBnYXVjaGVcIixcbiAgICBhZGRfcmlnaHRfbWVudWl0ZW06IFwiQWpvdXRlciB1bmUgY29sb25uZSDDoCBkcm9pdGVcIixcbiAgICBhZGRfYWJvdmVfbWVudWl0ZW06IFwiQWpvdXRlciB1bmUgbGlnbmUgYXUtZGVzc3VzXCIsXG4gICAgYWRkX2JlbG93X21lbnVpdGVtOiBcIkFqb3V0ZXIgdW5lIGxpZ25lIGVuIGRlc3NvdXNcIlxuICB9LFxuICBzdWdnZXN0aW9uX21lbnU6IHtcbiAgICBub19pdGVtc190aXRsZTogXCJBdWN1biDDqWzDqW1lbnQgdHJvdXbDqVwiLFxuICAgIGxvYWRpbmc6IFwiQ2hhcmdlbWVudOKAplwiXG4gIH0sXG4gIGNvbG9yX3BpY2tlcjoge1xuICAgIHRleHRfdGl0bGU6IFwiVGV4dGVcIixcbiAgICBiYWNrZ3JvdW5kX3RpdGxlOiBcIkZvbmRcIixcbiAgICBjb2xvcnM6IHtcbiAgICAgIGRlZmF1bHQ6IFwiRMOpZmF1dFwiLFxuICAgICAgZ3JheTogXCJHcmlzXCIsXG4gICAgICBicm93bjogXCJNYXJyb25cIixcbiAgICAgIHJlZDogXCJSb3VnZVwiLFxuICAgICAgb3JhbmdlOiBcIk9yYW5nZVwiLFxuICAgICAgeWVsbG93OiBcIkphdW5lXCIsXG4gICAgICBncmVlbjogXCJWZXJ0XCIsXG4gICAgICBibHVlOiBcIkJsZXVcIixcbiAgICAgIHB1cnBsZTogXCJWaW9sZXRcIixcbiAgICAgIHBpbms6IFwiUm9zZVwiXG4gICAgfVxuICB9LFxuICBmb3JtYXR0aW5nX3Rvb2xiYXI6IHtcbiAgICBib2xkOiB7XG4gICAgICB0b29sdGlwOiBcIkdyYXNcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtCXCJcbiAgICB9LFxuICAgIGl0YWxpYzoge1xuICAgICAgdG9vbHRpcDogXCJJdGFsaXF1ZVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0lcIlxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICB0b29sdGlwOiBcIlNvdWxpZ25lclwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1VcIlxuICAgIH0sXG4gICAgc3RyaWtlOiB7XG4gICAgICB0b29sdGlwOiBcIkJhcnLDqVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1NoaWZ0K1hcIlxuICAgIH0sXG4gICAgY29kZToge1xuICAgICAgdG9vbHRpcDogXCJDb2RlXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJcIlxuICAgIH0sXG4gICAgY29sb3JzOiB7XG4gICAgICB0b29sdGlwOiBcIkNvdWxldXJzXCJcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIHRvb2x0aXA6IFwiQ3LDqWVyIHVuIGxpZW5cIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtLXCJcbiAgICB9LFxuICAgIGZpbGVfY2FwdGlvbjoge1xuICAgICAgdG9vbHRpcDogXCJNb2RpZmllciBsYSBsw6lnZW5kZVwiLFxuICAgICAgaW5wdXRfcGxhY2Vob2xkZXI6IFwiTW9kaWZpZXIgbGEgbMOpZ2VuZGVcIlxuICAgIH0sXG4gICAgZmlsZV9yZXBsYWNlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIlJlbXBsYWNlciBsJ2ltYWdlXCIsXG4gICAgICAgIHZpZGVvOiBcIlJlbXBsYWNlciBsYSB2aWTDqW9cIixcbiAgICAgICAgYXVkaW86IFwiUmVtcGxhY2VyIGwnYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJSZW1wbGFjZXIgbGUgZmljaGllclwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX3JlbmFtZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJSZW5vbW1lciBsJ2ltYWdlXCIsXG4gICAgICAgIHZpZGVvOiBcIlJlbm9tbWVyIGxhIHZpZMOpb1wiLFxuICAgICAgICBhdWRpbzogXCJSZW5vbW1lciBsJ2F1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiUmVub21tZXIgbGUgZmljaGllclwiXG4gICAgICB9LFxuICAgICAgaW5wdXRfcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgaW1hZ2U6IFwiUmVub21tZXIgbCdpbWFnZVwiLFxuICAgICAgICB2aWRlbzogXCJSZW5vbW1lciBsYSB2aWTDqW9cIixcbiAgICAgICAgYXVkaW86IFwiUmVub21tZXIgbCdhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIlJlbm9tbWVyIGxlIGZpY2hpZXJcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kb3dubG9hZDoge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJUw6lsw6ljaGFyZ2VyIGwnaW1hZ2VcIixcbiAgICAgICAgdmlkZW86IFwiVMOpbMOpY2hhcmdlciBsYSB2aWTDqW9cIixcbiAgICAgICAgYXVkaW86IFwiVMOpbMOpY2hhcmdlciBsJ2F1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiVMOpbMOpY2hhcmdlciBsZSBmaWNoaWVyXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfZGVsZXRlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIlN1cHByaW1lciBsJ2ltYWdlXCIsXG4gICAgICAgIHZpZGVvOiBcIlN1cHByaW1lciBsYSB2aWTDqW9cIixcbiAgICAgICAgYXVkaW86IFwiU3VwcHJpbWVyIGwnYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJTdXBwcmltZXIgbGUgZmljaGllclwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX3ByZXZpZXdfdG9nZ2xlOiB7XG4gICAgICB0b29sdGlwOiBcIkJhc2N1bGVyIGwnYXBlcsOndVwiXG4gICAgfSxcbiAgICBuZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIkVtYm/DrnRlciBsZSBibG9jXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJUYWJcIlxuICAgIH0sXG4gICAgdW5uZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIkTDqW1ib8OudGVyIGxlIGJsb2NcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlNoaWZ0K1RhYlwiXG4gICAgfSxcbiAgICBhbGlnbl9sZWZ0OiB7XG4gICAgICB0b29sdGlwOiBcIkFsaWduZXIgbGUgdGV4dGUgw6AgZ2F1Y2hlXCJcbiAgICB9LFxuICAgIGFsaWduX2NlbnRlcjoge1xuICAgICAgdG9vbHRpcDogXCJBbGlnbmVyIGxlIHRleHRlIGF1IGNlbnRyZVwiXG4gICAgfSxcbiAgICBhbGlnbl9yaWdodDoge1xuICAgICAgdG9vbHRpcDogXCJBbGlnbmVyIGxlIHRleHRlIMOgIGRyb2l0ZVwiXG4gICAgfSxcbiAgICBhbGlnbl9qdXN0aWZ5OiB7XG4gICAgICB0b29sdGlwOiBcIkp1c3RpZmllciBsZSB0ZXh0ZVwiXG4gICAgfVxuICB9LFxuICBmaWxlX3BhbmVsOiB7XG4gICAgdXBsb2FkOiB7XG4gICAgICB0aXRsZTogXCJUw6lsw6ljaGFyZ2VyXCIsXG4gICAgICBmaWxlX3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIlTDqWzDqWNoYXJnZXIgdW5lIGltYWdlXCIsXG4gICAgICAgIHZpZGVvOiBcIlTDqWzDqWNoYXJnZXIgdW5lIHZpZMOpb1wiLFxuICAgICAgICBhdWRpbzogXCJUw6lsw6ljaGFyZ2VyIHVuIGZpY2hpZXIgYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJUw6lsw6ljaGFyZ2VyIHVuIGZpY2hpZXJcIlxuICAgICAgfSxcbiAgICAgIHVwbG9hZF9lcnJvcjogXCJFcnJldXIgOiDDiWNoZWMgZHUgdMOpbMOpY2hhcmdlbWVudFwiXG4gICAgfSxcbiAgICBlbWJlZDoge1xuICAgICAgdGl0bGU6IFwiSW50w6lncmVyXCIsXG4gICAgICBlbWJlZF9idXR0b246IHtcbiAgICAgICAgaW1hZ2U6IFwiSW50w6lncmVyIHVuZSBpbWFnZVwiLFxuICAgICAgICB2aWRlbzogXCJJbnTDqWdyZXIgdW5lIHZpZMOpb1wiLFxuICAgICAgICBhdWRpbzogXCJJbnTDqWdyZXIgdW4gZmljaGllciBhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIkludMOpZ3JlciB1biBmaWNoaWVyXCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiRW50cmV6IGwnVVJMXCJcbiAgICB9XG4gIH0sXG4gIGxpbmtfdG9vbGJhcjoge1xuICAgIGRlbGV0ZToge1xuICAgICAgdG9vbHRpcDogXCJTdXBwcmltZXIgbGUgbGllblwiXG4gICAgfSxcbiAgICBlZGl0OiB7XG4gICAgICB0ZXh0OiBcIk1vZGlmaWVyIGxlIGxpZW5cIixcbiAgICAgIHRvb2x0aXA6IFwiTW9kaWZpZXJcIlxuICAgIH0sXG4gICAgb3Blbjoge1xuICAgICAgdG9vbHRpcDogXCJPdXZyaXIgZGFucyB1biBub3V2ZWwgb25nbGV0XCJcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIHRpdGxlX3BsYWNlaG9sZGVyOiBcIk1vZGlmaWVyIGxlIHRpdHJlXCIsXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiTW9kaWZpZXIgbCdVUkxcIlxuICAgIH1cbiAgfSxcbiAgZ2VuZXJpYzoge1xuICAgIGN0cmxfc2hvcnRjdXQ6IFwiQ3RybFwiXG4gIH1cbn0sIGZvID0ge1xuICBzbGFzaF9tZW51OiB7XG4gICAgaGVhZGluZzoge1xuICAgICAgdGl0bGU6IFwiRnlyaXJzw7ZnbiAxXCIsXG4gICAgICBzdWJ0ZXh0OiBcIk5vdGHDsCBmeXJpciBlZnN0dSBmeXJpcnPDtmduXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoXCIsIFwiZnlyaXJzb2duMVwiLCBcImgxXCJdLFxuICAgICAgZ3JvdXA6IFwiRnlyaXJzYWduaXJcIlxuICAgIH0sXG4gICAgaGVhZGluZ18yOiB7XG4gICAgICB0aXRsZTogXCJGeXJpcnPDtmduIDJcIixcbiAgICAgIHN1YnRleHQ6IFwiTm90YcOwIGZ5cmlyIGx5a2lsaGx1dGFcIixcbiAgICAgIGFsaWFzZXM6IFtcImgyXCIsIFwiZnlyaXJzb2duMlwiLCBcInVuZGlyZnlyaXJzb2duXCJdLFxuICAgICAgZ3JvdXA6IFwiRnlyaXJzYWduaXJcIlxuICAgIH0sXG4gICAgaGVhZGluZ18zOiB7XG4gICAgICB0aXRsZTogXCJGeXJpcnPDtmduIDNcIixcbiAgICAgIHN1YnRleHQ6IFwiTm90YcOwIGZ5cmlyIHVuZGlyaGx1dGEgb2cgaMOzcGZ5cmlyc2FnbmlyXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoM1wiLCBcImZ5cmlyc29nbjNcIiwgXCJ1bmRpcmZ5cmlyc29nblwiXSxcbiAgICAgIGdyb3VwOiBcIkZ5cmlyc2FnbmlyXCJcbiAgICB9LFxuICAgIG51bWJlcmVkX2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIk7Dum1lcnXDsCBsaXN0aVwiLFxuICAgICAgc3VidGV4dDogXCJOb3Rhw7AgdGlsIGHDsCBiaXJ0YSBuw7ptZXJhw7BhbiBsaXN0YVwiLFxuICAgICAgYWxpYXNlczogW1wib2xcIiwgXCJsaVwiLCBcImxpc3RpXCIsIFwibnVtZXJhZHVybGlzdGlcIl0sXG4gICAgICBncm91cDogXCJHcnVubmJsb2trYXJcIlxuICAgIH0sXG4gICAgYnVsbGV0X2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIlB1bmt0YWxpc3RpXCIsXG4gICAgICBzdWJ0ZXh0OiBcIk5vdGHDsCB0aWwgYcOwIGJpcnRhIMOzcmHDsGHDsGFuIGxpc3RhXCIsXG4gICAgICBhbGlhc2VzOiBbXCJ1bFwiLCBcImxpXCIsIFwibGlzdGlcIiwgXCJwdW5rdGFsaXN0aVwiXSxcbiAgICAgIGdyb3VwOiBcIkdydW5uYmxva2thclwiXG4gICAgfSxcbiAgICBjaGVja19saXN0OiB7XG4gICAgICB0aXRsZTogXCJBdGh1Z3VuYXJsaXN0aVwiLFxuICAgICAgc3VidGV4dDogXCJOb3Rhw7AgdGlsIGHDsCBzw71uYSBsaXN0YSBtZcOwIGfDoXRyZWl0dW1cIixcbiAgICAgIGFsaWFzZXM6IFtcInVsXCIsIFwibGlcIiwgXCJsaXN0aVwiLCBcImF0aHVndW5hcmxpc3RpXCIsIFwibWVya3R1ciBsaXN0aVwiXSxcbiAgICAgIGdyb3VwOiBcIkdydW5uYmxva2thclwiXG4gICAgfSxcbiAgICBwYXJhZ3JhcGg6IHtcbiAgICAgIHRpdGxlOiBcIk3DoWxzZ3JlaW5cIixcbiAgICAgIHN1YnRleHQ6IFwiTm90YcOwIGZ5cmlyIG1lZ2lubcOhbCBza2phbHNpbnNcIixcbiAgICAgIGFsaWFzZXM6IFtcInBcIiwgXCJtYWxzZ3JlaW5cIl0sXG4gICAgICBncm91cDogXCJHcnVubmJsb2trYXJcIlxuICAgIH0sXG4gICAgdGFibGU6IHtcbiAgICAgIHRpdGxlOiBcIlRhZmxhXCIsXG4gICAgICBzdWJ0ZXh0OiBcIk5vdGHDsCBmeXJpciB0w7ZmbHVyXCIsXG4gICAgICBhbGlhc2VzOiBbXCJ0YWZsYVwiXSxcbiAgICAgIGdyb3VwOiBcIsONdGFybGVndFwiXG4gICAgfSxcbiAgICBpbWFnZToge1xuICAgICAgdGl0bGU6IFwiTXluZFwiLFxuICAgICAgc3VidGV4dDogXCJTZXR0dSBpbm4gbXluZFwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcIm15bmRcIixcbiAgICAgICAgXCJteW5kYXVwcGhsYWVkXCIsXG4gICAgICAgIFwidXBwaGxhZWRcIixcbiAgICAgICAgXCJpbWdcIixcbiAgICAgICAgXCJteW5kXCIsXG4gICAgICAgIFwibWVkaWFcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIk1pw7BsYXJcIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIHRpdGxlOiBcIk15bmRiYW5kXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlNldGphIGlubiBteW5kYmFuZFwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcIm15bmRiYW5kXCIsXG4gICAgICAgIFwidmlkZW9VcHBoYWxhXCIsXG4gICAgICAgIFwiaGxhw7BhIHVwcFwiLFxuICAgICAgICBcIm1wNFwiLFxuICAgICAgICBcImt2aWtteW5kXCIsXG4gICAgICAgIFwibWnDsGlsbFwiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiTWnDsGlsbFwiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgdGl0bGU6IFwiSGxqw7PDsFwiLFxuICAgICAgc3VidGV4dDogXCJTZXRqYSBpbm4gaGxqw7PDsFwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcImhsasOzw7BcIixcbiAgICAgICAgXCJhdWRpb1VwcGhhbGFcIixcbiAgICAgICAgXCJobGHDsGEgdXBwXCIsXG4gICAgICAgIFwibXAzXCIsXG4gICAgICAgIFwiaGxqw7PDsFwiLFxuICAgICAgICBcIm1pw7BpbGxcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIk1pw7BsYXJcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgdGl0bGU6IFwiU2tyw6FcIixcbiAgICAgIHN1YnRleHQ6IFwiU2V0amEgaW5uIHNrcsOhXCIsXG4gICAgICBhbGlhc2VzOiBbXCJza3LDoVwiLCBcImhsYcOwYSB1cHBcIiwgXCJmZWxsYSBpbm5cIiwgXCJtacOwaWxsXCIsIFwidXJsXCJdLFxuICAgICAgZ3JvdXA6IFwiTWnDsGxhclwiXG4gICAgfVxuICB9LFxuICBwbGFjZWhvbGRlcnM6IHtcbiAgICBkZWZhdWx0OiBcIlNsw6HDsHUgaW5uIHRleHRhIGXDsGEgc2tyaWZhw7B1ICcvJyBmeXJpciBza2lwYW5pclwiLFxuICAgIGhlYWRpbmc6IFwiRnlyaXJzw7ZnblwiLFxuICAgIGJ1bGxldExpc3RJdGVtOiBcIkxpc3RpXCIsXG4gICAgbnVtYmVyZWRMaXN0SXRlbTogXCJMaXN0aVwiLFxuICAgIGNoZWNrTGlzdEl0ZW06IFwiTGlzdGlcIlxuICB9LFxuICBmaWxlX2Jsb2Nrczoge1xuICAgIGltYWdlOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiQsOmdGEgdmnDsCBteW5kXCJcbiAgICB9LFxuICAgIHZpZGVvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiQsOmdGEgdmnDsCBteW5kYmFuZGlcIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJCw6Z0YSB2acOwIGhsasOzw7BpXCJcbiAgICB9LFxuICAgIGZpbGU6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJCw6Z0YSB2acOwIHNrcsOhXCJcbiAgICB9XG4gIH0sXG4gIHNpZGVfbWVudToge1xuICAgIGFkZF9ibG9ja19sYWJlbDogXCJCw6Z0YSB2acOwIGJsb2traVwiLFxuICAgIGRyYWdfaGFuZGxlX2xhYmVsOiBcIk9wbmEgYmxva2thcnZhbG15bmRcIlxuICB9LFxuICBkcmFnX2hhbmRsZToge1xuICAgIGRlbGV0ZV9tZW51aXRlbTogXCJFecOwYVwiLFxuICAgIGNvbG9yc19tZW51aXRlbTogXCJMaXRpclwiXG4gIH0sXG4gIHRhYmxlX2hhbmRsZToge1xuICAgIGRlbGV0ZV9jb2x1bW5fbWVudWl0ZW06IFwiRXnDsGEgZMOhbGtpXCIsXG4gICAgZGVsZXRlX3Jvd19tZW51aXRlbTogXCJFecOwYSByw7bDsFwiLFxuICAgIGFkZF9sZWZ0X21lbnVpdGVtOiBcIkLDpnRhIGTDoWxraSB2acOwIHRpbCB2aW5zdHJpXCIsXG4gICAgYWRkX3JpZ2h0X21lbnVpdGVtOiBcIkLDpnRhIGTDoWxraSB2acOwIHRpbCBow6ZncmlcIixcbiAgICBhZGRfYWJvdmVfbWVudWl0ZW06IFwiQsOmdGEgcsO2w7AgdmnDsCBmeXJpciBvZmFuXCIsXG4gICAgYWRkX2JlbG93X21lbnVpdGVtOiBcIkLDpnRhIHLDtsOwIHZpw7AgZnlyaXIgbmXDsGFuXCJcbiAgfSxcbiAgc3VnZ2VzdGlvbl9tZW51OiB7XG4gICAgbm9faXRlbXNfdGl0bGU6IFwiRW5naXIgaGx1dGlyIGZ1bmR1c3RcIixcbiAgICBsb2FkaW5nOiBcIkhsZcOwdXLigKZcIlxuICB9LFxuICBjb2xvcl9waWNrZXI6IHtcbiAgICB0ZXh0X3RpdGxlOiBcIlRleHRpXCIsXG4gICAgYmFja2dyb3VuZF90aXRsZTogXCJCYWtncnVubnVyXCIsXG4gICAgY29sb3JzOiB7XG4gICAgICBkZWZhdWx0OiBcIlNqw6FsZmdlZmnDsFwiLFxuICAgICAgZ3JheTogXCJHcsOhclwiLFxuICAgICAgYnJvd246IFwiQnLDum5uXCIsXG4gICAgICByZWQ6IFwiUmF1w7B1clwiLFxuICAgICAgb3JhbmdlOiBcIkFwcGVsc8OtbnVndWx1clwiLFxuICAgICAgeWVsbG93OiBcIkd1bHVyXCIsXG4gICAgICBncmVlbjogXCJHcsOmbm5cIixcbiAgICAgIGJsdWU6IFwiQmzDoXJcIixcbiAgICAgIHB1cnBsZTogXCJGasOzbHVibMOhclwiLFxuICAgICAgcGluazogXCJCbGVpa3VyXCJcbiAgICB9XG4gIH0sXG4gIGZvcm1hdHRpbmdfdG9vbGJhcjoge1xuICAgIGJvbGQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiRmVpdGxldHJhw7BcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtCXCJcbiAgICB9LFxuICAgIGl0YWxpYzoge1xuICAgICAgdG9vbHRpcDogXCJTa8OhbGV0cmHDsFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0lcIlxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICB0b29sdGlwOiBcIlVuZGlyc3RyaWthw7BcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtVXCJcbiAgICB9LFxuICAgIHN0cmlrZToge1xuICAgICAgdG9vbHRpcDogXCJZZmlyc3RyaWthw7BcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtTaGlmdCtYXCJcbiAgICB9LFxuICAgIGNvZGU6IHtcbiAgICAgIHRvb2x0aXA6IFwiS8Ozw7BpXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJcIlxuICAgIH0sXG4gICAgY29sb3JzOiB7XG4gICAgICB0b29sdGlwOiBcIkxpdGlyXCJcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIHRvb2x0aXA6IFwiQsO6YSB0aWwgdGVuZ2lsXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrS1wiXG4gICAgfSxcbiAgICBmaWxlX2NhcHRpb246IHtcbiAgICAgIHRvb2x0aXA6IFwiQnJleXRhIG15bmRhdGV4dGFcIixcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiBcIkJyZXl0YSBteW5kYXRleHRhXCJcbiAgICB9LFxuICAgIGZpbGVfcmVwbGFjZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJTa2lwdGEgdW0gbXluZFwiLFxuICAgICAgICB2aWRlbzogXCJTa2lwdGEgdW0gbXluZGJhbmRcIixcbiAgICAgICAgYXVkaW86IFwiU2tpcHRhIHVtIGhsasOzw7BcIixcbiAgICAgICAgZmlsZTogXCJTa2lwdGEgdW0gc2tyw6FcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9yZW5hbWU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwiRW5kdXJuZWZuYSBteW5kXCIsXG4gICAgICAgIHZpZGVvOiBcIkVuZHVybmVmbmEgbXluZGJhbmRcIixcbiAgICAgICAgYXVkaW86IFwiRW5kdXJuZWZuYSBobGrDs8OwXCIsXG4gICAgICAgIGZpbGU6IFwiRW5kdXJuZWZuYSBza3LDoVwiXG4gICAgICB9LFxuICAgICAgaW5wdXRfcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgaW1hZ2U6IFwiRW5kdXJuZWZuYSBteW5kXCIsXG4gICAgICAgIHZpZGVvOiBcIkVuZHVybmVmbmEgbXluZGJhbmRcIixcbiAgICAgICAgYXVkaW86IFwiRW5kdXJuZWZuYSBobGrDs8OwXCIsXG4gICAgICAgIGZpbGU6IFwiRW5kdXJuZWZuYSBza3LDoVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX2Rvd25sb2FkOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIlPDpmtqYSBteW5kXCIsXG4gICAgICAgIHZpZGVvOiBcIlPDpmtqYSBteW5kYmFuZFwiLFxuICAgICAgICBhdWRpbzogXCJTw6ZramEgaGxqw7PDsFwiLFxuICAgICAgICBmaWxlOiBcIlPDpmtqYSBza3LDoVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX2RlbGV0ZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJFecOwYSBteW5kXCIsXG4gICAgICAgIHZpZGVvOiBcIkV5w7BhIG15bmRiYW5kaVwiLFxuICAgICAgICBhdWRpbzogXCJFecOwYSBobGrDs8OwaVwiLFxuICAgICAgICBmaWxlOiBcIkV5w7BhIHNrcsOhXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfcHJldmlld190b2dnbGU6IHtcbiAgICAgIHRvb2x0aXA6IFwiU2tpcHRhIHVtIGZvcnNrb8OwdW5cIlxuICAgIH0sXG4gICAgbmVzdDoge1xuICAgICAgdG9vbHRpcDogXCJGZWxsYSBibG9rayBzYW1hblwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiVGFiXCJcbiAgICB9LFxuICAgIHVubmVzdDoge1xuICAgICAgdG9vbHRpcDogXCJBZsO+w73DsGEgYmxva2tcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlNoaWZ0K1RhYlwiXG4gICAgfSxcbiAgICBhbGlnbl9sZWZ0OiB7XG4gICAgICB0b29sdGlwOiBcIlZpbnN0cmlqYWZuYSB0ZXh0YVwiXG4gICAgfSxcbiAgICBhbGlnbl9jZW50ZXI6IHtcbiAgICAgIHRvb2x0aXA6IFwiTWnDsGp1c3RpbGxhIHRleHRhXCJcbiAgICB9LFxuICAgIGFsaWduX3JpZ2h0OiB7XG4gICAgICB0b29sdGlwOiBcIkjDpmdyaWphZm5hIHRleHRhXCJcbiAgICB9LFxuICAgIGFsaWduX2p1c3RpZnk6IHtcbiAgICAgIHRvb2x0aXA6IFwiSmFmbmEgdGV4dGFcIlxuICAgIH1cbiAgfSxcbiAgZmlsZV9wYW5lbDoge1xuICAgIHVwbG9hZDoge1xuICAgICAgdGl0bGU6IFwiSGxhw7BhIHVwcFwiLFxuICAgICAgZmlsZV9wbGFjZWhvbGRlcjoge1xuICAgICAgICBpbWFnZTogXCJIbGHDsGEgdXBwIG15bmRcIixcbiAgICAgICAgdmlkZW86IFwiSGxhw7BhIHVwcCBteW5kYmFuZFwiLFxuICAgICAgICBhdWRpbzogXCJIbGHDsGEgdXBwIGhsasOzw7BcIixcbiAgICAgICAgZmlsZTogXCJIbGHDsGEgdXBwIHNrcsOhXCJcbiAgICAgIH0sXG4gICAgICB1cGxvYWRfZXJyb3I6IFwiVmlsbGE6IFVwcGhsZcOwc2xhIG1pc3TDs2tzdFwiXG4gICAgfSxcbiAgICBlbWJlZDoge1xuICAgICAgdGl0bGU6IFwiSW5uc2V0amFcIixcbiAgICAgIGVtYmVkX2J1dHRvbjoge1xuICAgICAgICBpbWFnZTogXCJJbm5zZXRqYSBteW5kXCIsXG4gICAgICAgIHZpZGVvOiBcIklubnNldGphIG15bmRiYW5kXCIsXG4gICAgICAgIGF1ZGlvOiBcIklubnNldGphIGhsasOzw7BcIixcbiAgICAgICAgZmlsZTogXCJJbm5zZXRqYSBza3LDoVwiXG4gICAgICB9LFxuICAgICAgdXJsX3BsYWNlaG9sZGVyOiBcIlNsw6HDsHUgaW5uIFVSTFwiXG4gICAgfVxuICB9LFxuICBsaW5rX3Rvb2xiYXI6IHtcbiAgICBkZWxldGU6IHtcbiAgICAgIHRvb2x0aXA6IFwiRmphcmzDpmdqYSB0ZW5naWxcIlxuICAgIH0sXG4gICAgZWRpdDoge1xuICAgICAgdGV4dDogXCJCcmV5dGEgdGVuZ2xpXCIsXG4gICAgICB0b29sdGlwOiBcIkJyZXl0YVwiXG4gICAgfSxcbiAgICBvcGVuOiB7XG4gICAgICB0b29sdGlwOiBcIk9wbmEgw60gbsO9anVtIGZsaXBhXCJcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIHRpdGxlX3BsYWNlaG9sZGVyOiBcIkJyZXl0YSB0aXRsaVwiLFxuICAgICAgdXJsX3BsYWNlaG9sZGVyOiBcIkJyZXl0YSBVUkxcIlxuICAgIH1cbiAgfSxcbiAgZ2VuZXJpYzoge1xuICAgIGN0cmxfc2hvcnRjdXQ6IFwiQ3RybFwiXG4gIH1cbn0sIGdvID0ge1xuICBzbGFzaF9tZW51OiB7XG4gICAgaGVhZGluZzoge1xuICAgICAgdGl0bGU6IFwi6KaL5Ye644GX77yRXCIsXG4gICAgICBzdWJ0ZXh0OiBcIuODiOODg+ODl+ODrOODmeODq+OBruimi+WHuuOBl+OBq+S9v+eUqFwiLFxuICAgICAgYWxpYXNlczogW1wiaFwiLCBcIuimi+WHuuOBl++8kVwiLCBcImgxXCIsIFwi5aSn6KaL5Ye644GXXCJdLFxuICAgICAgZ3JvdXA6IFwi6KaL5Ye644GXXCJcbiAgICB9LFxuICAgIGhlYWRpbmdfMjoge1xuICAgICAgdGl0bGU6IFwi6KaL5Ye644GX77ySXCIsXG4gICAgICBzdWJ0ZXh0OiBcIumHjeimgeOBquOCu+OCr+OCt+ODp+ODs+OBq+S9v+eUqFwiLFxuICAgICAgYWxpYXNlczogW1wiaDJcIiwgXCLopovlh7rjgZcyXCIsIFwic3ViaGVhZGluZ1wiLCBcIuS4reimi+WHuuOBl1wiXSxcbiAgICAgIGdyb3VwOiBcIuimi+WHuuOBl1wiXG4gICAgfSxcbiAgICBoZWFkaW5nXzM6IHtcbiAgICAgIHRpdGxlOiBcIuimi+WHuuOBl++8k1wiLFxuICAgICAgc3VidGV4dDogXCLjgrvjgq/jgrfjg6fjg7PjgoTjgrDjg6vjg7zjg5fjga7opovlh7rjgZfjgavkvb/nlKhcIixcbiAgICAgIGFsaWFzZXM6IFtcImgzXCIsIFwi6KaL5Ye644GXM1wiLCBcInN1YmhlYWRpbmdcIiwgXCLlsI/opovlh7rjgZdcIl0sXG4gICAgICBncm91cDogXCLopovlh7rjgZdcIlxuICAgIH0sXG4gICAgbnVtYmVyZWRfbGlzdDoge1xuICAgICAgdGl0bGU6IFwi55Wq5Y+35LuY44Oq44K544OIXCIsXG4gICAgICBzdWJ0ZXh0OiBcIueVquWPt+S7mOODquOCueODiOOCkuihqOekuuOBmeOCi+OBn+OCgeOBq+S9v+eUqFwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcIm9sXCIsXG4gICAgICAgIFwibGlcIixcbiAgICAgICAgXCJudW1iZXJlZGxpc3RcIixcbiAgICAgICAgXCJudW1iZXJlZCBsaXN0XCIsXG4gICAgICAgIFwi44Oq44K544OIXCIsXG4gICAgICAgIFwi55Wq5Y+35LuY44Oq44K544OIXCIsXG4gICAgICAgIFwi55Wq5Y+3IOODquOCueODiFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwi5Z+65pys44OW44Ot44OD44KvXCJcbiAgICB9LFxuICAgIGJ1bGxldF9saXN0OiB7XG4gICAgICB0aXRsZTogXCLnrofmnaHmm7jjgY1cIixcbiAgICAgIHN1YnRleHQ6IFwi566H5p2h5pu444GN44KS6KGo56S644GZ44KL44Gf44KB44Gr5L2/55SoXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwidWxcIixcbiAgICAgICAgXCJsaVwiLFxuICAgICAgICBcImJ1bGxldGxpc3RcIixcbiAgICAgICAgXCJidWxsZXQgbGlzdFwiLFxuICAgICAgICBcIuODquOCueODiFwiLFxuICAgICAgICBcIueuh+adoeabuOOBjeODquOCueODiFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwi5Z+65pys44OW44Ot44OD44KvXCJcbiAgICB9LFxuICAgIGNoZWNrX2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIuODgeOCp+ODg+OCr+ODquOCueODiFwiLFxuICAgICAgc3VidGV4dDogXCLjg4Hjgqfjg4Pjgq/jg5zjg4Pjgq/jgrnku5jjgY3jg6rjgrnjg4jjgpLooajnpLrjgZnjgovjgZ/jgoHjgavkvb/nlKjjgZXjgozjgb7jgZlcIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJ1bFwiLFxuICAgICAgICBcImxpXCIsXG4gICAgICAgIFwibGlzdFwiLFxuICAgICAgICBcImNoZWNrbGlzdFwiLFxuICAgICAgICBcImNoZWNrZWQgbGlzdFwiLFxuICAgICAgICBcIuODquOCueODiFwiLFxuICAgICAgICBcIuODgeOCp+ODg+OCr+ODquOCueODiFwiLFxuICAgICAgICBcIuODgeOCp+ODg+OCr+OBleOCjOOBn+ODquOCueODiFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwi5Z+65pys44OW44Ot44OD44KvXCJcbiAgICB9LFxuICAgIHBhcmFncmFwaDoge1xuICAgICAgdGl0bGU6IFwi5qiZ5rqW44OG44Kt44K544OIXCIsXG4gICAgICBzdWJ0ZXh0OiBcIuacrOaWh+OBq+S9v+eUqFwiLFxuICAgICAgYWxpYXNlczogW1wicFwiLCBcInBhcmFncmFwaFwiLCBcIuaomea6luODhuOCreOCueODiFwiXSxcbiAgICAgIGdyb3VwOiBcIuWfuuacrOODluODreODg+OCr1wiXG4gICAgfSxcbiAgICB0YWJsZToge1xuICAgICAgdGl0bGU6IFwi6KGoXCIsXG4gICAgICBzdWJ0ZXh0OiBcIuihqOOBq+S9v+eUqFwiLFxuICAgICAgYWxpYXNlczogW1widGFibGVcIiwgXCLooahcIiwgXCLjg4bjg7zjg5bjg6tcIl0sXG4gICAgICBncm91cDogXCLpq5jluqbjgarjg5bjg63jg4Pjgq9cIlxuICAgIH0sXG4gICAgaW1hZ2U6IHtcbiAgICAgIHRpdGxlOiBcIueUu+WDj1wiLFxuICAgICAgc3VidGV4dDogXCLnlLvlg4/jgpLmjL/lhaVcIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJpbWFnZVwiLFxuICAgICAgICBcImltYWdlVXBsb2FkXCIsXG4gICAgICAgIFwidXBsb2FkXCIsXG4gICAgICAgIFwiaW1nXCIsXG4gICAgICAgIFwicGljdHVyZVwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCIsXG4gICAgICAgIFwi55S75YOPXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLjg6Hjg4fjgqPjgqJcIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIHRpdGxlOiBcIuODk+ODh+OCqlwiLFxuICAgICAgc3VidGV4dDogXCLjg5Pjg4fjgqrjgpLmjL/lhaVcIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJ2aWRlb1wiLFxuICAgICAgICBcInZpZGVvVXBsb2FkXCIsXG4gICAgICAgIFwidXBsb2FkXCIsXG4gICAgICAgIFwibXA0XCIsXG4gICAgICAgIFwiZmlsbVwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCIsXG4gICAgICAgIFwi44OT44OH44KqXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLjg6Hjg4fjgqPjgqJcIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIHRpdGxlOiBcIuOCquODvOODh+OCo+OCqlwiLFxuICAgICAgc3VidGV4dDogXCLjgqrjg7zjg4fjgqPjgqrjgpLmjL/lhaVcIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJhdWRpb1wiLFxuICAgICAgICBcImF1ZGlvVXBsb2FkXCIsXG4gICAgICAgIFwidXBsb2FkXCIsXG4gICAgICAgIFwibXAzXCIsXG4gICAgICAgIFwic291bmRcIixcbiAgICAgICAgXCJtZWRpYVwiLFxuICAgICAgICBcInVybFwiLFxuICAgICAgICBcIuOCquODvOODh+OCo+OCqlwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwi44Oh44OH44Kj44KiXCJcbiAgICB9LFxuICAgIGZpbGU6IHtcbiAgICAgIHRpdGxlOiBcIuODleOCoeOCpOODq1wiLFxuICAgICAgc3VidGV4dDogXCLjg5XjgqHjgqTjg6vjgpLmjL/lhaVcIixcbiAgICAgIGFsaWFzZXM6IFtcImZpbGVcIiwgXCJ1cGxvYWRcIiwgXCJlbWJlZFwiLCBcIm1lZGlhXCIsIFwidXJsXCIsIFwi44OV44Kh44Kk44OrXCJdLFxuICAgICAgZ3JvdXA6IFwi44Oh44OH44Kj44KiXCJcbiAgICB9XG4gIH0sXG4gIHBsYWNlaG9sZGVyczoge1xuICAgIGRlZmF1bHQ6IFwi44OG44Kt44K544OI44KS5YWl5Yqb44GZ44KL44GLJy8nIOOCkuWFpeWKm+OBl+OBpuOCs+ODnuODs+ODiemBuOaKnlwiLFxuICAgIGhlYWRpbmc6IFwi6KaL5Ye644GXXCIsXG4gICAgYnVsbGV0TGlzdEl0ZW06IFwi44Oq44K544OI44KS6L+95YqgXCIsXG4gICAgbnVtYmVyZWRMaXN0SXRlbTogXCLjg6rjgrnjg4jjgpLov73liqBcIixcbiAgICBjaGVja0xpc3RJdGVtOiBcIuODquOCueODiOOCkui/veWKoFwiXG4gIH0sXG4gIGZpbGVfYmxvY2tzOiB7XG4gICAgaW1hZ2U6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCLnlLvlg4/jgpLov73liqBcIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCLjg5Pjg4fjgqrjgpLov73liqBcIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCLjgqrjg7zjg4fjgqPjgqrjgpLov73liqBcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIuODleOCoeOCpOODq+OCkui/veWKoFwiXG4gICAgfVxuICB9LFxuICAvLyBmcm9tIHJlYWN0IHBhY2thZ2U6XG4gIHNpZGVfbWVudToge1xuICAgIGFkZF9ibG9ja19sYWJlbDogXCLjg5bjg63jg4Pjgq/jgpLov73liqBcIixcbiAgICBkcmFnX2hhbmRsZV9sYWJlbDogXCLjg5bjg63jg4Pjgq/jg6Hjg4vjg6Xjg7xcIlxuICB9LFxuICBkcmFnX2hhbmRsZToge1xuICAgIGRlbGV0ZV9tZW51aXRlbTogXCLliYrpmaRcIixcbiAgICBjb2xvcnNfbWVudWl0ZW06IFwi6Imy44KS5aSJ5pu0XCJcbiAgfSxcbiAgdGFibGVfaGFuZGxlOiB7XG4gICAgZGVsZXRlX2NvbHVtbl9tZW51aXRlbTogXCLliJfjgpLliYrpmaRcIixcbiAgICBkZWxldGVfcm93X21lbnVpdGVtOiBcIuihjOOCkuWJiumZpFwiLFxuICAgIGFkZF9sZWZ0X21lbnVpdGVtOiBcIuW3puOBq+WIl+OCkui/veWKoFwiLFxuICAgIGFkZF9yaWdodF9tZW51aXRlbTogXCLlj7PjgavliJfjgpLov73liqBcIixcbiAgICBhZGRfYWJvdmVfbWVudWl0ZW06IFwi5LiK44Gr6KGM44KS6L+95YqgXCIsXG4gICAgYWRkX2JlbG93X21lbnVpdGVtOiBcIuS4i+OBq+ihjOOCkui/veWKoFwiXG4gIH0sXG4gIHN1Z2dlc3Rpb25fbWVudToge1xuICAgIG5vX2l0ZW1zX3RpdGxlOiBcIuOCouOCpOODhuODoOOBjOimi+OBpOOBi+OCiuOBvuOBm+OCk1wiLFxuICAgIGxvYWRpbmc6IFwi6Kqt6L685Lit4oCmXCJcbiAgfSxcbiAgY29sb3JfcGlja2VyOiB7XG4gICAgdGV4dF90aXRsZTogXCLmloflrZfoibJcIixcbiAgICBiYWNrZ3JvdW5kX3RpdGxlOiBcIuiDjOaZr+iJslwiLFxuICAgIGNvbG9yczoge1xuICAgICAgZGVmYXVsdDogXCLjg4fjg5Xjgqnjg6vjg4hcIixcbiAgICAgIGdyYXk6IFwi44Kw44Os44O8XCIsXG4gICAgICBicm93bjogXCLojLboibJcIixcbiAgICAgIHJlZDogXCLotaRcIixcbiAgICAgIG9yYW5nZTogXCLjgqrjg6zjg7PjgrhcIixcbiAgICAgIHllbGxvdzogXCLpu4ToibJcIixcbiAgICAgIGdyZWVuOiBcIue3kVwiLFxuICAgICAgYmx1ZTogXCLpnZJcIixcbiAgICAgIHB1cnBsZTogXCLntKtcIixcbiAgICAgIHBpbms6IFwi44OU44Oz44KvXCJcbiAgICB9XG4gIH0sXG4gIGZvcm1hdHRpbmdfdG9vbGJhcjoge1xuICAgIGJvbGQ6IHtcbiAgICAgIHRvb2x0aXA6IFwi5aSq5a2XXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrQlwiXG4gICAgfSxcbiAgICBpdGFsaWM6IHtcbiAgICAgIHRvb2x0aXA6IFwi5pac5L2TXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrSVwiXG4gICAgfSxcbiAgICB1bmRlcmxpbmU6IHtcbiAgICAgIHRvb2x0aXA6IFwi5LiL57eaXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrVVwiXG4gICAgfSxcbiAgICBzdHJpa2U6IHtcbiAgICAgIHRvb2x0aXA6IFwi5omT44Gh5raI44GXXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrU2hpZnQrWFwiXG4gICAgfSxcbiAgICBjb2RlOiB7XG4gICAgICB0b29sdGlwOiBcIuOCs+ODvOODiVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiXCJcbiAgICB9LFxuICAgIGNvbG9yczoge1xuICAgICAgdG9vbHRpcDogXCLoibJcIlxuICAgIH0sXG4gICAgbGluazoge1xuICAgICAgdG9vbHRpcDogXCLjg6rjg7Pjgq9cIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtLXCJcbiAgICB9LFxuICAgIGZpbGVfY2FwdGlvbjoge1xuICAgICAgdG9vbHRpcDogXCLjgq3jg6Pjg5fjgrfjg6fjg7PjgpLnt6jpm4ZcIixcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiBcIuOCreODo+ODl+OCt+ODp+ODs+OCkue3qOmbhlwiXG4gICAgfSxcbiAgICBmaWxlX3JlcGxhY2U6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi55S75YOP44KS572u5o+bXCIsXG4gICAgICAgIHZpZGVvOiBcIuODk+ODh+OCquOCkue9ruaPm1wiLFxuICAgICAgICBhdWRpbzogXCLjgqrjg7zjg4fjgqPjgqrjgpLnva7mj5tcIixcbiAgICAgICAgZmlsZTogXCLjg5XjgqHjgqTjg6vjgpLnva7mj5tcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9yZW5hbWU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi55S75YOP44Gu5ZCN5YmN44KS5aSJ5pu0XCIsXG4gICAgICAgIHZpZGVvOiBcIuODk+ODh+OCquOBruWQjeWJjeOCkuWkieabtFwiLFxuICAgICAgICBhdWRpbzogXCLjgqrjg7zjg4fjgqPjgqrjga7lkI3liY3jgpLlpInmm7RcIixcbiAgICAgICAgZmlsZTogXCLjg5XjgqHjgqTjg6vjga7lkI3liY3jgpLlpInmm7RcIlxuICAgICAgfSxcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIueUu+WDj+OBruWQjeWJjeOCkuWkieabtFwiLFxuICAgICAgICB2aWRlbzogXCLjg5Pjg4fjgqrjga7lkI3liY3jgpLlpInmm7RcIixcbiAgICAgICAgYXVkaW86IFwi44Kq44O844OH44Kj44Kq44Gu5ZCN5YmN44KS5aSJ5pu0XCIsXG4gICAgICAgIGZpbGU6IFwi44OV44Kh44Kk44Or44Gu5ZCN5YmN44KS5aSJ5pu0XCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfZG93bmxvYWQ6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi55S75YOP44KS44OA44Km44Oz44Ot44O844OJXCIsXG4gICAgICAgIHZpZGVvOiBcIuODk+ODh+OCquOCkuODgOOCpuODs+ODreODvOODiVwiLFxuICAgICAgICBhdWRpbzogXCLjgqrjg7zjg4fjgqPjgqrjgpLjg4Djgqbjg7Pjg63jg7zjg4lcIixcbiAgICAgICAgZmlsZTogXCLjg5XjgqHjgqTjg6vjgpLjg4Djgqbjg7Pjg63jg7zjg4lcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kZWxldGU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi55S75YOP44KS5YmK6ZmkXCIsXG4gICAgICAgIHZpZGVvOiBcIuODk+ODh+OCquOCkuWJiumZpFwiLFxuICAgICAgICBhdWRpbzogXCLjgqrjg7zjg4fjgqPjgqrjgpLliYrpmaRcIixcbiAgICAgICAgZmlsZTogXCLjg5XjgqHjgqTjg6vjgpLliYrpmaRcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9wcmV2aWV3X3RvZ2dsZToge1xuICAgICAgdG9vbHRpcDogXCLjg5fjg6zjg5Pjg6Xjg7zjga7liIfjgormm7/jgYhcIlxuICAgIH0sXG4gICAgbmVzdDoge1xuICAgICAgdG9vbHRpcDogXCLjgqTjg7Pjg4fjg7Pjg4jlopdcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlRhYlwiXG4gICAgfSxcbiAgICB1bm5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwi44Kk44Oz44OH44Oz44OI5ribXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJTaGlmdCtUYWJcIlxuICAgIH0sXG4gICAgYWxpZ25fbGVmdDoge1xuICAgICAgdG9vbHRpcDogXCLlt6bmj4PjgYhcIlxuICAgIH0sXG4gICAgYWxpZ25fY2VudGVyOiB7XG4gICAgICB0b29sdGlwOiBcIuS4reWkruaPg+OBiFwiXG4gICAgfSxcbiAgICBhbGlnbl9yaWdodDoge1xuICAgICAgdG9vbHRpcDogXCLlj7Pmj4PjgYhcIlxuICAgIH0sXG4gICAgYWxpZ25fanVzdGlmeToge1xuICAgICAgdG9vbHRpcDogXCLkuKHnq6/mj4PjgYhcIlxuICAgIH1cbiAgfSxcbiAgZmlsZV9wYW5lbDoge1xuICAgIHVwbG9hZDoge1xuICAgICAgdGl0bGU6IFwi44Ki44OD44OX44Ot44O844OJXCIsXG4gICAgICBmaWxlX3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIueUu+WDj+OCkuOCouODg+ODl+ODreODvOODiVwiLFxuICAgICAgICB2aWRlbzogXCLjg5Pjg4fjgqrjgpLjgqLjg4Pjg5fjg63jg7zjg4lcIixcbiAgICAgICAgYXVkaW86IFwi44Kq44O844OH44Kj44Kq44KS44Ki44OD44OX44Ot44O844OJXCIsXG4gICAgICAgIGZpbGU6IFwi44OV44Kh44Kk44Or44KS44Ki44OD44OX44Ot44O844OJXCJcbiAgICAgIH0sXG4gICAgICB1cGxvYWRfZXJyb3I6IFwi44Ko44Op44O8OiDjgqLjg4Pjg5fjg63jg7zjg4njgYzlpLHmlZfjgZfjgb7jgZfjgZ9cIlxuICAgIH0sXG4gICAgZW1iZWQ6IHtcbiAgICAgIHRpdGxlOiBcIuWfi+OCgei+vOOBv1wiLFxuICAgICAgZW1iZWRfYnV0dG9uOiB7XG4gICAgICAgIGltYWdlOiBcIueUu+WDj+OCkuWfi+OCgei+vOOCgFwiLFxuICAgICAgICB2aWRlbzogXCLjg5Pjg4fjgqrjgpLln4vjgoHovrzjgoBcIixcbiAgICAgICAgYXVkaW86IFwi44Kq44O844OH44Kj44Kq44KS5Z+L44KB6L6844KAXCIsXG4gICAgICAgIGZpbGU6IFwi44OV44Kh44Kk44Or44KS5Z+L44KB6L6844KAXCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiVVJM44KS5YWl5YqbXCJcbiAgICB9XG4gIH0sXG4gIGxpbmtfdG9vbGJhcjoge1xuICAgIGRlbGV0ZToge1xuICAgICAgdG9vbHRpcDogXCLjg6rjg7Pjgq/jgpLop6PpmaRcIlxuICAgIH0sXG4gICAgZWRpdDoge1xuICAgICAgdGV4dDogXCLjg6rjg7Pjgq/jgpLnt6jpm4ZcIixcbiAgICAgIHRvb2x0aXA6IFwi57eo6ZuGXCJcbiAgICB9LFxuICAgIG9wZW46IHtcbiAgICAgIHRvb2x0aXA6IFwi5paw44GX44GE44K/44OW44Gn44Oq44Oz44Kv44KS6ZaL44GPXCJcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIHRpdGxlX3BsYWNlaG9sZGVyOiBcIuOCv+OCpOODiOODq+OCkue3qOmbhlwiLFxuICAgICAgdXJsX3BsYWNlaG9sZGVyOiBcIlVSTOOCkue3qOmbhlwiXG4gICAgfVxuICB9LFxuICBnZW5lcmljOiB7XG4gICAgY3RybF9zaG9ydGN1dDogXCJDdHJsXCJcbiAgfVxufSwgYm8gPSB7XG4gIHNsYXNoX21lbnU6IHtcbiAgICBoZWFkaW5nOiB7XG4gICAgICB0aXRsZTogXCLsoJzrqqkxXCIsXG4gICAgICBzdWJ0ZXh0OiBcIuyEueyFmCDsoJzrqqko64yAKVwiLFxuICAgICAgYWxpYXNlczogW1wiaFwiLCBcIuygnOuqqTFcIiwgXCJoMVwiLCBcIuuMgOygnOuqqVwiXSxcbiAgICAgIGdyb3VwOiBcIuygnOuqqVwiXG4gICAgfSxcbiAgICBoZWFkaW5nXzI6IHtcbiAgICAgIHRpdGxlOiBcIuygnOuqqTJcIixcbiAgICAgIHN1YnRleHQ6IFwi7IS57IWYIOygnOuqqSjspJEpXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoMlwiLCBcIuygnOuqqTJcIiwgXCLspJHsoJzrqqlcIl0sXG4gICAgICBncm91cDogXCLsoJzrqqlcIlxuICAgIH0sXG4gICAgaGVhZGluZ18zOiB7XG4gICAgICB0aXRsZTogXCLsoJzrqqkzXCIsXG4gICAgICBzdWJ0ZXh0OiBcIuyEueyFmCDsoJzrqqko7IaMKVwiLFxuICAgICAgYWxpYXNlczogW1wiaDNcIiwgXCLsoJzrqqkzXCIsIFwic3ViaGVhZGluZ1wiXSxcbiAgICAgIGdyb3VwOiBcIuygnOuqqVwiXG4gICAgfSxcbiAgICBudW1iZXJlZF9saXN0OiB7XG4gICAgICB0aXRsZTogXCLrsojtmLgg66ek6riw6riwIOuqqeuhnVwiLFxuICAgICAgc3VidGV4dDogXCLrsojtmLjqsIAg66ek6rKo7KeEIOuqqeuhneydhCDstpTqsIDtlanri4jri6QuXCIsXG4gICAgICBhbGlhc2VzOiBbXCJvbFwiLCBcImxpXCIsIFwi66qp66GdXCIsIFwi67KI7Zi4IOunpOq4sOq4sCDrqqnroZ1cIiwgXCLrsojtmLgg66qp66GdXCJdLFxuICAgICAgZ3JvdXA6IFwi6riw67O4IOu4lOuhnVwiXG4gICAgfSxcbiAgICBidWxsZXRfbGlzdDoge1xuICAgICAgdGl0bGU6IFwi6riA66i466asIOq4sO2YuCDrqqnroZ1cIixcbiAgICAgIHN1YnRleHQ6IFwi6rCE64uo7ZWcIOq4gOuouOumrCDquLDtmLjrpbwg7LaU6rCA7ZWp64uI64ukLlwiLFxuICAgICAgYWxpYXNlczogW1widWxcIiwgXCJsaVwiLCBcIuuqqeuhnVwiLCBcIuq4gOuouOumrCDquLDtmLgg66qp66GdXCIsIFwi6riA66i466asIOuqqeuhnVwiXSxcbiAgICAgIGdyb3VwOiBcIuq4sOuzuCDruJTroZ1cIlxuICAgIH0sXG4gICAgY2hlY2tfbGlzdDoge1xuICAgICAgdGl0bGU6IFwi7LK07YGs66as7Iqk7Yq4XCIsXG4gICAgICBzdWJ0ZXh0OiBcIuyytO2BrOuwleyKpOqwgCDsnojripQg66qp66Gd7J2EIO2RnOyLnO2VmOuKlCDrjbAg7IKs7JqpXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwidWxcIixcbiAgICAgICAgXCJsaVwiLFxuICAgICAgICBcIuuqqeuhnVwiLFxuICAgICAgICBcIuyytO2BrOumrOyKpO2KuFwiLFxuICAgICAgICBcIuyytO2BrCDrpqzsiqTtirhcIixcbiAgICAgICAgXCLssrTtgazrkJwg66qp66GdXCIsXG4gICAgICAgIFwi7LK07YGs67CV7IqkXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLquLDrs7gg67iU66GdXCJcbiAgICB9LFxuICAgIHBhcmFncmFwaDoge1xuICAgICAgdGl0bGU6IFwi67O466y4XCIsXG4gICAgICBzdWJ0ZXh0OiBcIuydvOuwmCDthY3siqTtirhcIixcbiAgICAgIGFsaWFzZXM6IFtcInBcIiwgXCJwYXJhZ3JhcGhcIiwgXCLrs7jrrLhcIl0sXG4gICAgICBncm91cDogXCLquLDrs7gg67iU66GdXCJcbiAgICB9LFxuICAgIHRhYmxlOiB7XG4gICAgICB0aXRsZTogXCLtkZxcIixcbiAgICAgIHN1YnRleHQ6IFwi6rCE64uo7ZWcIO2RnOulvCDstpTqsIDtlanri4jri6QuXCIsXG4gICAgICBhbGlhc2VzOiBbXCLtkZxcIl0sXG4gICAgICBncm91cDogXCLqs6DquIlcIlxuICAgIH0sXG4gICAgaW1hZ2U6IHtcbiAgICAgIHRpdGxlOiBcIuydtOuvuOyngFwiLFxuICAgICAgc3VidGV4dDogXCLsnbTrr7jsp4Ag7YyM7J287J2EIOyXheuhnOuTnO2VqeuLiOuLpC5cIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJpbWFnZVwiLFxuICAgICAgICBcImltYWdlVXBsb2FkXCIsXG4gICAgICAgIFwidXBsb2FkXCIsXG4gICAgICAgIFwiaW1nXCIsXG4gICAgICAgIFwicGljdHVyZVwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwi7J2066+47KeAXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLrr7jrlJTslrRcIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIHRpdGxlOiBcIuu5hOuUlOyYpFwiLFxuICAgICAgc3VidGV4dDogXCLruYTrlJTsmKQg7IK97J6FXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwidmlkZW9cIixcbiAgICAgICAgXCJ2aWRlb1VwbG9hZFwiLFxuICAgICAgICBcInVwbG9hZFwiLFxuICAgICAgICBcIm1wNFwiLFxuICAgICAgICBcImZpbG1cIixcbiAgICAgICAgXCJtZWRpYVwiLFxuICAgICAgICBcIuuPmeyYgeyDgVwiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwi66+465SU7Ja0XCJcbiAgICB9LFxuICAgIGF1ZGlvOiB7XG4gICAgICB0aXRsZTogXCLsmKTrlJTsmKRcIixcbiAgICAgIHN1YnRleHQ6IFwi7Jik65SU7JikIOyCveyehVwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcImF1ZGlvXCIsXG4gICAgICAgIFwiYXVkaW9VcGxvYWRcIixcbiAgICAgICAgXCJ1cGxvYWRcIixcbiAgICAgICAgXCJtcDNcIixcbiAgICAgICAgXCJzb3VuZFwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwi7Jik65SU7JikXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLrr7jrlJTslrRcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgdGl0bGU6IFwi7YyM7J28XCIsXG4gICAgICBzdWJ0ZXh0OiBcIu2MjOydvCDsgr3snoVcIixcbiAgICAgIGFsaWFzZXM6IFtcImZpbGVcIiwgXCJ1cGxvYWRcIiwgXCJlbWJlZFwiLCBcIm1lZGlhXCIsIFwi7YyM7J28XCIsIFwidXJsXCJdLFxuICAgICAgZ3JvdXA6IFwi66+465SU7Ja0XCJcbiAgICB9XG4gIH0sXG4gIHBsYWNlaG9sZGVyczoge1xuICAgIGRlZmF1bHQ6IFwi7YWN7Iqk7Yq466W8IOyeheugpe2VmOqxsOuCmCAv66W8IOyeheugpe2VmOyXrCDrqoXroLnsnYQg7J6F66Cl7ZWY7IS47JqULlwiLFxuICAgIGhlYWRpbmc6IFwi7KCc66qpXCIsXG4gICAgYnVsbGV0TGlzdEl0ZW06IFwi66qp66GdXCIsXG4gICAgbnVtYmVyZWRMaXN0SXRlbTogXCLrqqnroZ1cIixcbiAgICBjaGVja0xpc3RJdGVtOiBcIuuqqeuhnVwiXG4gIH0sXG4gIGZpbGVfYmxvY2tzOiB7XG4gICAgaW1hZ2U6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCLsnbTrr7jsp4Ag7LaU6rCAXCJcbiAgICB9LFxuICAgIHZpZGVvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwi67mE65SU7JikIOy2lOqwgFwiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIuyYpOuUlOyYpCDstpTqsIBcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIu2MjOydvCDstpTqsIBcIlxuICAgIH1cbiAgfSxcbiAgLy8gZnJvbSByZWFjdCBwYWNrYWdlOlxuICBzaWRlX21lbnU6IHtcbiAgICBhZGRfYmxvY2tfbGFiZWw6IFwi67iU66GdIOy2lOqwgFwiLFxuICAgIGRyYWdfaGFuZGxlX2xhYmVsOiBcIuu4lOuhnSDrqZTribQg7Je06riwXCJcbiAgfSxcbiAgZHJhZ19oYW5kbGU6IHtcbiAgICBkZWxldGVfbWVudWl0ZW06IFwi7IKt7KCcXCIsXG4gICAgY29sb3JzX21lbnVpdGVtOiBcIuyDieq5lFwiXG4gIH0sXG4gIHRhYmxlX2hhbmRsZToge1xuICAgIGRlbGV0ZV9jb2x1bW5fbWVudWl0ZW06IFwi7Je0IDHqsJwg7IKt7KCcXCIsXG4gICAgZGVsZXRlX3Jvd19tZW51aXRlbTogXCLtlokg7IKt7KCcXCIsXG4gICAgYWRkX2xlZnRfbWVudWl0ZW06IFwi7Jm87Kq97JeQIOyXtCAx6rCcIOy2lOqwgFwiLFxuICAgIGFkZF9yaWdodF9tZW51aXRlbTogXCLsmKTrpbjsqr3sl5Ag7Je0IDHqsJwg7LaU6rCAXCIsXG4gICAgYWRkX2Fib3ZlX21lbnVpdGVtOiBcIuychOyXkCDtlokgMeqwnCDstpTqsIBcIixcbiAgICBhZGRfYmVsb3dfbWVudWl0ZW06IFwi7JWE656Y7JeQIO2WiSAx6rCcIOy2lOqwgFwiXG4gIH0sXG4gIHN1Z2dlc3Rpb25fbWVudToge1xuICAgIG5vX2l0ZW1zX3RpdGxlOiBcIu2VreuqqeydhCDssL7snYQg7IiYIOyXhuydjFwiLFxuICAgIGxvYWRpbmc6IFwi66Gc65SpIOykkeKAplwiXG4gIH0sXG4gIGNvbG9yX3BpY2tlcjoge1xuICAgIHRleHRfdGl0bGU6IFwi7YWN7Iqk7Yq4XCIsXG4gICAgYmFja2dyb3VuZF90aXRsZTogXCLrsLDqsr1cIixcbiAgICBjb2xvcnM6IHtcbiAgICAgIGRlZmF1bHQ6IFwi6riw67O4XCIsXG4gICAgICBncmF5OiBcIu2ajOyDiVwiLFxuICAgICAgYnJvd246IFwi6rCI7IOJXCIsXG4gICAgICByZWQ6IFwi67mo6rCE7IOJXCIsXG4gICAgICBvcmFuZ2U6IFwi7KO87Zmp7IOJXCIsXG4gICAgICB5ZWxsb3c6IFwi64W4656A7IOJXCIsXG4gICAgICBncmVlbjogXCLrhbnsg4lcIixcbiAgICAgIGJsdWU6IFwi7YyM656A7IOJXCIsXG4gICAgICBwdXJwbGU6IFwi67O065287IOJXCIsXG4gICAgICBwaW5rOiBcIuu2hO2ZjeyDiVwiXG4gICAgfVxuICB9LFxuICBmb3JtYXR0aW5nX3Rvb2xiYXI6IHtcbiAgICBib2xkOiB7XG4gICAgICB0b29sdGlwOiBcIuynhO2VmOqyjFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0JcIlxuICAgIH0sXG4gICAgaXRhbGljOiB7XG4gICAgICB0b29sdGlwOiBcIuq4sOyauOyehFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0lcIlxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICB0b29sdGlwOiBcIuuwkeykhFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1VcIlxuICAgIH0sXG4gICAgc3RyaWtlOiB7XG4gICAgICB0b29sdGlwOiBcIuy3qOyGjOyEoFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1NoaWZ0K1hcIlxuICAgIH0sXG4gICAgY29kZToge1xuICAgICAgdG9vbHRpcDogXCLsvZTrk5xcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlwiXG4gICAgfSxcbiAgICBjb2xvcnM6IHtcbiAgICAgIHRvb2x0aXA6IFwi7IOJ6rmUXCJcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIHRvb2x0aXA6IFwi66eB7YGsIOunjOuTpOq4sFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0tcIlxuICAgIH0sXG4gICAgZmlsZV9jYXB0aW9uOiB7XG4gICAgICB0b29sdGlwOiBcIuydtOuvuOyngCDsuqHshZgg7IiY7KCVXCIsXG4gICAgICBpbnB1dF9wbGFjZWhvbGRlcjogXCLsnbTrr7jsp4Ag7Lqh7IWYIOyImOyglVwiXG4gICAgfSxcbiAgICBmaWxlX3JlcGxhY2U6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi7J2066+47KeAIOq1kOyytFwiLFxuICAgICAgICB2aWRlbzogXCLruYTrlJTsmKQg6rWQ7LK0XCIsXG4gICAgICAgIGF1ZGlvOiBcIuyYpOuUlOyYpCDqtZDssrRcIixcbiAgICAgICAgZmlsZTogXCLtjIzsnbwg6rWQ7LK0XCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfcmVuYW1lOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIuydtOuvuOyngCDsnbTrpoQg67OA6rK9XCIsXG4gICAgICAgIHZpZGVvOiBcIuu5hOuUlOyYpCDsnbTrpoQg67OA6rK9XCIsXG4gICAgICAgIGF1ZGlvOiBcIuyYpOuUlOyYpCDsnbTrpoQg67OA6rK9XCIsXG4gICAgICAgIGZpbGU6IFwi7YyM7J28IOydtOumhCDrs4Dqsr1cIlxuICAgICAgfSxcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIuydtOuvuOyngCDsnbTrpoQg67OA6rK9XCIsXG4gICAgICAgIHZpZGVvOiBcIuu5hOuUlOyYpCDsnbTrpoQg67OA6rK9XCIsXG4gICAgICAgIGF1ZGlvOiBcIuyYpOuUlOyYpCDsnbTrpoQg67OA6rK9XCIsXG4gICAgICAgIGZpbGU6IFwi7YyM7J28IOydtOumhCDrs4Dqsr1cIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kb3dubG9hZDoge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCLsnbTrr7jsp4Ag64uk7Jq066Gc65OcXCIsXG4gICAgICAgIHZpZGVvOiBcIuu5hOuUlOyYpCDri6TsmrTroZzrk5xcIixcbiAgICAgICAgYXVkaW86IFwi7Jik65SU7JikIOuLpOyatOuhnOuTnFwiLFxuICAgICAgICBmaWxlOiBcIu2MjOydvCDri6TsmrTroZzrk5xcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kZWxldGU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwi7J2066+47KeAIOyCreygnFwiLFxuICAgICAgICB2aWRlbzogXCLruYTrlJTsmKQg7IKt7KCcXCIsXG4gICAgICAgIGF1ZGlvOiBcIuyYpOuUlOyYpCDsgq3soJxcIixcbiAgICAgICAgZmlsZTogXCLtjIzsnbwg7IKt7KCcXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfcHJldmlld190b2dnbGU6IHtcbiAgICAgIHRvb2x0aXA6IFwi66+466as67O06riwIOyghO2ZmFwiXG4gICAgfSxcbiAgICBuZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIuykkeyyqSDruJTroZ1cIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlRhYlwiXG4gICAgfSxcbiAgICB1bm5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwi67mE7KSR7LKpIOu4lOuhnVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiU2hpZnQrVGFiXCJcbiAgICB9LFxuICAgIGFsaWduX2xlZnQ6IHtcbiAgICAgIHRvb2x0aXA6IFwi7YWN7Iqk7Yq4IOyZvOyqvSDrp57stqRcIlxuICAgIH0sXG4gICAgYWxpZ25fY2VudGVyOiB7XG4gICAgICB0b29sdGlwOiBcIu2FjeyKpO2KuCDqsIDsmrTrjbAg66ee7LakXCJcbiAgICB9LFxuICAgIGFsaWduX3JpZ2h0OiB7XG4gICAgICB0b29sdGlwOiBcIu2FjeyKpO2KuCDsmKTrpbjsqr0g66ee7LakXCJcbiAgICB9LFxuICAgIGFsaWduX2p1c3RpZnk6IHtcbiAgICAgIHRvb2x0aXA6IFwi7YWN7Iqk7Yq4IOyWkeyqvSDrp57stqRcIlxuICAgIH1cbiAgfSxcbiAgZmlsZV9wYW5lbDoge1xuICAgIHVwbG9hZDoge1xuICAgICAgdGl0bGU6IFwi7JeF66Gc65OcXCIsXG4gICAgICBmaWxlX3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIuydtOuvuOyngCDsl4XroZzrk5xcIixcbiAgICAgICAgdmlkZW86IFwi67mE65SU7JikIOyXheuhnOuTnFwiLFxuICAgICAgICBhdWRpbzogXCLsmKTrlJTsmKQg7JeF66Gc65OcXCIsXG4gICAgICAgIGZpbGU6IFwi7YyM7J28IOyXheuhnOuTnFwiXG4gICAgICB9LFxuICAgICAgdXBsb2FkX2Vycm9yOiBcIuyYpOulmDog7JeF66Gc65OcIOyLpO2MqFwiXG4gICAgfSxcbiAgICBlbWJlZDoge1xuICAgICAgdGl0bGU6IFwi7J6E67Kg65OcXCIsXG4gICAgICBlbWJlZF9idXR0b246IHtcbiAgICAgICAgaW1hZ2U6IFwi7J2066+47KeAIOyCveyehVwiLFxuICAgICAgICB2aWRlbzogXCLruYTrlJTsmKQg7IK97J6FXCIsXG4gICAgICAgIGF1ZGlvOiBcIuyYpOuUlOyYpCDsgr3snoVcIixcbiAgICAgICAgZmlsZTogXCLtjIzsnbwg7IK97J6FXCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiVVJM7J2EIOyeheugpe2VmOyEuOyalC5cIlxuICAgIH1cbiAgfSxcbiAgbGlua190b29sYmFyOiB7XG4gICAgZGVsZXRlOiB7XG4gICAgICB0b29sdGlwOiBcIuunge2BrCDsgq3soJxcIlxuICAgIH0sXG4gICAgZWRpdDoge1xuICAgICAgdGV4dDogXCLrp4Htgawg7IiY7KCVXCIsXG4gICAgICB0b29sdGlwOiBcIuyImOyglVwiXG4gICAgfSxcbiAgICBvcGVuOiB7XG4gICAgICB0b29sdGlwOiBcIuyDiCDtg63snLzroZwg7Je06riwXCJcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIHRpdGxlX3BsYWNlaG9sZGVyOiBcIuygnOuqqSDsiJjsoJVcIixcbiAgICAgIHVybF9wbGFjZWhvbGRlcjogXCJVUkwg7IiY7KCVXCJcbiAgICB9XG4gIH0sXG4gIGdlbmVyaWM6IHtcbiAgICBjdHJsX3Nob3J0Y3V0OiBcIkN0cmxcIlxuICB9XG59LCBrbyA9IHtcbiAgc2xhc2hfbWVudToge1xuICAgIGhlYWRpbmc6IHtcbiAgICAgIHRpdGxlOiBcIktvcCAxXCIsXG4gICAgICBzdWJ0ZXh0OiBcIkdlYnJ1aWt0IHZvb3IgZWVuIGhvb2Zka29wXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoXCIsIFwia29wMVwiLCBcImgxXCJdLFxuICAgICAgZ3JvdXA6IFwiS29wcGVuXCJcbiAgICB9LFxuICAgIGhlYWRpbmdfMjoge1xuICAgICAgdGl0bGU6IFwiS29wIDJcIixcbiAgICAgIHN1YnRleHQ6IFwiR2VicnVpa3Qgdm9vciBiZWxhbmdyaWprZSBzZWN0aWVzXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoMlwiLCBcImtvcDJcIiwgXCJzdWJrb3BcIl0sXG4gICAgICBncm91cDogXCJLb3BwZW5cIlxuICAgIH0sXG4gICAgaGVhZGluZ18zOiB7XG4gICAgICB0aXRsZTogXCJLb3AgM1wiLFxuICAgICAgc3VidGV4dDogXCJHZWJydWlrdCB2b29yIHN1YnNlY3RpZXMgZW4gZ3JvZXBza29wcGVuXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoM1wiLCBcImtvcDNcIiwgXCJzdWJrb3BcIl0sXG4gICAgICBncm91cDogXCJLb3BwZW5cIlxuICAgIH0sXG4gICAgbnVtYmVyZWRfbGlzdDoge1xuICAgICAgdGl0bGU6IFwiR2VudW1tZXJkZSBMaWpzdFwiLFxuICAgICAgc3VidGV4dDogXCJHZWJydWlrdCBvbSBlZW4gZ2VudW1tZXJkZSBsaWpzdCB3ZWVyIHRlIGdldmVuXCIsXG4gICAgICBhbGlhc2VzOiBbXCJvbFwiLCBcImxpXCIsIFwibGlqc3RcIiwgXCJnZW51bW1lcmRlbGlqc3RcIiwgXCJnZW51bW1lcmRlIGxpanN0XCJdLFxuICAgICAgZ3JvdXA6IFwiQmFzaXNibG9ra2VuXCJcbiAgICB9LFxuICAgIGJ1bGxldF9saXN0OiB7XG4gICAgICB0aXRsZTogXCJQdW50ZW5saWpzdFwiLFxuICAgICAgc3VidGV4dDogXCJHZWJydWlrdCBvbSBlZW4gb25nZW9yZGVuZGUgbGlqc3Qgd2VlciB0ZSBnZXZlblwiLFxuICAgICAgYWxpYXNlczogW1widWxcIiwgXCJsaVwiLCBcImxpanN0XCIsIFwicHVudGVubGlqc3RcIiwgXCJwdW50ZW4gbGlqc3RcIl0sXG4gICAgICBncm91cDogXCJCYXNpc2Jsb2trZW5cIlxuICAgIH0sXG4gICAgY2hlY2tfbGlzdDoge1xuICAgICAgdGl0bGU6IFwiQ29udHJvbGVsaWpzdFwiLFxuICAgICAgc3VidGV4dDogXCJHZWJydWlrdCBvbSBlZW4gbGlqc3QgbWV0IHNlbGVjdGlldmFramVzIHdlZXIgdGUgZ2V2ZW5cIixcbiAgICAgIGFsaWFzZXM6IFtcInVsXCIsIFwibGlcIiwgXCJsaWpzdFwiLCBcImFhbmdldmlua3RlIGxpanN0XCIsIFwic2VsZWN0aWV2YWtqZVwiXSxcbiAgICAgIGdyb3VwOiBcIkJhc2lzYmxva2tlblwiXG4gICAgfSxcbiAgICBwYXJhZ3JhcGg6IHtcbiAgICAgIHRpdGxlOiBcIlBhcmFncmFhZlwiLFxuICAgICAgc3VidGV4dDogXCJHZWJydWlrdCB2b29yIGRlIGhvb2ZkdGVrc3QgdmFuIHV3IGRvY3VtZW50XCIsXG4gICAgICBhbGlhc2VzOiBbXCJwXCIsIFwicGFyYWdyYWFmXCJdLFxuICAgICAgZ3JvdXA6IFwiQmFzaXNibG9ra2VuXCJcbiAgICB9LFxuICAgIHRhYmxlOiB7XG4gICAgICB0aXRsZTogXCJUYWJlbFwiLFxuICAgICAgc3VidGV4dDogXCJHZWJydWlrdCB2b29yIHRhYmVsbGVuXCIsXG4gICAgICBhbGlhc2VzOiBbXCJ0YWJlbFwiXSxcbiAgICAgIGdyb3VwOiBcIkdlYXZhbmNlZXJkXCJcbiAgICB9LFxuICAgIGltYWdlOiB7XG4gICAgICB0aXRsZTogXCJBZmJlZWxkaW5nXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlZvZWcgZWVuIGFmYmVlbGRpbmcgaW5cIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJhZmJlZWxkaW5nXCIsXG4gICAgICAgIFwiaW1hZ2VVcGxvYWRcIixcbiAgICAgICAgXCJ1cGxvYWRcIixcbiAgICAgICAgXCJpbWdcIixcbiAgICAgICAgXCJmb3RvXCIsXG4gICAgICAgIFwibWVkaWFcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIk1lZGlhXCJcbiAgICB9LFxuICAgIHZpZGVvOiB7XG4gICAgICB0aXRsZTogXCJWaWRlb1wiLFxuICAgICAgc3VidGV4dDogXCJWb2VnIGVlbiB2aWRlbyBpblwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcInZpZGVvXCIsXG4gICAgICAgIFwidmlkZW9VcGxvYWRlblwiLFxuICAgICAgICBcInVwbG9hZFwiLFxuICAgICAgICBcIm1wNFwiLFxuICAgICAgICBcImZpbG1cIixcbiAgICAgICAgXCJtZWRpYVwiLFxuICAgICAgICBcInVybFwiLFxuICAgICAgICBcImRyaXZlXCIsXG4gICAgICAgIFwiZHJvcGJveFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiTWVkaWFcIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIHRpdGxlOiBcIkF1ZGlvXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlZvZWcgYXVkaW8gaW5cIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJhdWRpb1wiLFxuICAgICAgICBcImF1ZGlvVXBsb2FkZW5cIixcbiAgICAgICAgXCJ1cGxvYWRcIixcbiAgICAgICAgXCJtcDNcIixcbiAgICAgICAgXCJnZWx1aWRcIixcbiAgICAgICAgXCJtZWRpYVwiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiTWVkaWFcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgdGl0bGU6IFwiQmVzdGFuZFwiLFxuICAgICAgc3VidGV4dDogXCJWb2VnIGVlbiBiZXN0YW5kIGluXCIsXG4gICAgICBhbGlhc2VzOiBbXCJiZXN0YW5kXCIsIFwidXBsb2FkXCIsIFwiaW5zbHVpdGVuXCIsIFwibWVkaWFcIiwgXCJ1cmxcIl0sXG4gICAgICBncm91cDogXCJNZWRpYVwiXG4gICAgfVxuICB9LFxuICBwbGFjZWhvbGRlcnM6IHtcbiAgICBkZWZhdWx0OiBcIlZvZXIgdGVrc3QgaW4gb2YgdHlwZSAnLycgdm9vciBjb21tYW5kbydzXCIsXG4gICAgaGVhZGluZzogXCJLb3BcIixcbiAgICBidWxsZXRMaXN0SXRlbTogXCJMaWpzdFwiLFxuICAgIG51bWJlcmVkTGlzdEl0ZW06IFwiTGlqc3RcIixcbiAgICBjaGVja0xpc3RJdGVtOiBcIkxpanN0XCJcbiAgfSxcbiAgZmlsZV9ibG9ja3M6IHtcbiAgICBpbWFnZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkFmYmVlbGRpbmcgdG9ldm9lZ2VuXCJcbiAgICB9LFxuICAgIHZpZGVvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiVmlkZW8gdG9ldm9lZ2VuXCJcbiAgICB9LFxuICAgIGF1ZGlvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiQXVkaW8gdG9ldm9lZ2VuXCJcbiAgICB9LFxuICAgIGZpbGU6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJCZXN0YW5kIHRvZXZvZWdlblwiXG4gICAgfVxuICB9LFxuICAvLyBmcm9tIHJlYWN0IHBhY2thZ2U6XG4gIHNpZGVfbWVudToge1xuICAgIGFkZF9ibG9ja19sYWJlbDogXCJOaWV1dyBibG9rXCIsXG4gICAgZHJhZ19oYW5kbGVfbGFiZWw6IFwiT3BlbiBibG9rIG1lbnVcIlxuICB9LFxuICBkcmFnX2hhbmRsZToge1xuICAgIGRlbGV0ZV9tZW51aXRlbTogXCJWZXJ3aWpkZXJcIixcbiAgICBjb2xvcnNfbWVudWl0ZW06IFwiS2xldXJlblwiXG4gIH0sXG4gIHRhYmxlX2hhbmRsZToge1xuICAgIGRlbGV0ZV9jb2x1bW5fbWVudWl0ZW06IFwiVmVyd2lqZGVyIGtvbG9tXCIsXG4gICAgZGVsZXRlX3Jvd19tZW51aXRlbTogXCJWZXJ3aWpkZXIgcmlqXCIsXG4gICAgYWRkX2xlZnRfbWVudWl0ZW06IFwiVm9lZyBrb2xvbSBsaW5rcyB0b2VcIixcbiAgICBhZGRfcmlnaHRfbWVudWl0ZW06IFwiVm9lZyBrb2xvbSByZWNodHMgdG9lXCIsXG4gICAgYWRkX2Fib3ZlX21lbnVpdGVtOiBcIlZvZWcgcmlqIGJvdmVuIHRvZVwiLFxuICAgIGFkZF9iZWxvd19tZW51aXRlbTogXCJWb2VnIHJpaiBvbmRlciB0b2VcIlxuICB9LFxuICBzdWdnZXN0aW9uX21lbnU6IHtcbiAgICBub19pdGVtc190aXRsZTogXCJHZWVuIGl0ZW1zIGdldm9uZGVuXCIsXG4gICAgbG9hZGluZzogXCJMYWRlbuKAplwiXG4gIH0sXG4gIGNvbG9yX3BpY2tlcjoge1xuICAgIHRleHRfdGl0bGU6IFwiVGVrc3RcIixcbiAgICBiYWNrZ3JvdW5kX3RpdGxlOiBcIkFjaHRlcmdyb25kXCIsXG4gICAgY29sb3JzOiB7XG4gICAgICBkZWZhdWx0OiBcIlN0YW5kYWFyZFwiLFxuICAgICAgZ3JheTogXCJHcmlqc1wiLFxuICAgICAgYnJvd246IFwiQnJ1aW5cIixcbiAgICAgIHJlZDogXCJSb29kXCIsXG4gICAgICBvcmFuZ2U6IFwiT3JhbmplXCIsXG4gICAgICB5ZWxsb3c6IFwiR2VlbFwiLFxuICAgICAgZ3JlZW46IFwiR3JvZW5cIixcbiAgICAgIGJsdWU6IFwiQmxhdXdcIixcbiAgICAgIHB1cnBsZTogXCJQYWFyc1wiLFxuICAgICAgcGluazogXCJSb3plXCJcbiAgICB9XG4gIH0sXG4gIGZvcm1hdHRpbmdfdG9vbGJhcjoge1xuICAgIGJvbGQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiVmV0XCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrQlwiXG4gICAgfSxcbiAgICBpdGFsaWM6IHtcbiAgICAgIHRvb2x0aXA6IFwiQ3Vyc2llZlwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0lcIlxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICB0b29sdGlwOiBcIk9uZGVyc3RyZXBlblwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1VcIlxuICAgIH0sXG4gICAgc3RyaWtlOiB7XG4gICAgICB0b29sdGlwOiBcIkRvb3JzdHJlcGVuXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrU2hpZnQrWFwiXG4gICAgfSxcbiAgICBjb2RlOiB7XG4gICAgICB0b29sdGlwOiBcIkNvZGVcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlwiXG4gICAgfSxcbiAgICBjb2xvcnM6IHtcbiAgICAgIHRvb2x0aXA6IFwiS2xldXJlblwiXG4gICAgfSxcbiAgICBsaW5rOiB7XG4gICAgICB0b29sdGlwOiBcIk1hYWsgbGlua1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0tcIlxuICAgIH0sXG4gICAgZmlsZV9jYXB0aW9uOiB7XG4gICAgICB0b29sdGlwOiBcIkJld2VyayBvbmRlcnNjaHJpZnRcIixcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiBcIkJld2VyayBvbmRlcnNjaHJpZnRcIlxuICAgIH0sXG4gICAgZmlsZV9yZXBsYWNlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIkFmYmVlbGRpbmcgdmVydmFuZ2VuXCIsXG4gICAgICAgIHZpZGVvOiBcIlZpZGVvIHZlcnZhbmdlblwiLFxuICAgICAgICBhdWRpbzogXCJBdWRpbyB2ZXJ2YW5nZW5cIixcbiAgICAgICAgZmlsZTogXCJCZXN0YW5kIHZlcnZhbmdlblwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX3JlbmFtZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJBZmJlZWxkaW5nIGhlcm5vZW1lblwiLFxuICAgICAgICB2aWRlbzogXCJWaWRlbyBoZXJub2VtZW5cIixcbiAgICAgICAgYXVkaW86IFwiQXVkaW8gaGVybm9lbWVuXCIsXG4gICAgICAgIGZpbGU6IFwiQmVzdGFuZCBoZXJub2VtZW5cIlxuICAgICAgfSxcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIkFmYmVlbGRpbmcgaGVybm9lbWVuXCIsXG4gICAgICAgIHZpZGVvOiBcIlZpZGVvIGhlcm5vZW1lblwiLFxuICAgICAgICBhdWRpbzogXCJBdWRpbyBoZXJub2VtZW5cIixcbiAgICAgICAgZmlsZTogXCJCZXN0YW5kIGhlcm5vZW1lblwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX2Rvd25sb2FkOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIkFmYmVlbGRpbmcgZG93bmxvYWRlblwiLFxuICAgICAgICB2aWRlbzogXCJWaWRlbyBkb3dubG9hZGVuXCIsXG4gICAgICAgIGF1ZGlvOiBcIkF1ZGlvIGRvd25sb2FkZW5cIixcbiAgICAgICAgZmlsZTogXCJCZXN0YW5kIGRvd25sb2FkZW5cIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kZWxldGU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwiQWZiZWVsZGluZyB2ZXJ3aWpkZXJlblwiLFxuICAgICAgICB2aWRlbzogXCJWaWRlbyB2ZXJ3aWpkZXJlblwiLFxuICAgICAgICBhdWRpbzogXCJBdWRpbyB2ZXJ3aWpkZXJlblwiLFxuICAgICAgICBmaWxlOiBcIkJlc3RhbmQgdmVyd2lqZGVyZW5cIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9wcmV2aWV3X3RvZ2dsZToge1xuICAgICAgdG9vbHRpcDogXCJWb29yYmVlbGRzY2hha2VsYWFyXCJcbiAgICB9LFxuICAgIG5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwiTmVzdCBibG9rXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJUYWJcIlxuICAgIH0sXG4gICAgdW5uZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIk9udG5lc3QgYmxva1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiU2hpZnQrVGFiXCJcbiAgICB9LFxuICAgIGFsaWduX2xlZnQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiVGVrc3QgbGlua3MgdWl0bGlqbmVuXCJcbiAgICB9LFxuICAgIGFsaWduX2NlbnRlcjoge1xuICAgICAgdG9vbHRpcDogXCJUZWtzdCBjZW50cmVyZW5cIlxuICAgIH0sXG4gICAgYWxpZ25fcmlnaHQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiVGVrc3QgcmVjaHRzIHVpdGxpam5lblwiXG4gICAgfSxcbiAgICBhbGlnbl9qdXN0aWZ5OiB7XG4gICAgICB0b29sdGlwOiBcIlRla3N0IHVpdHZ1bGxlblwiXG4gICAgfVxuICB9LFxuICBmaWxlX3BhbmVsOiB7XG4gICAgdXBsb2FkOiB7XG4gICAgICB0aXRsZTogXCJVcGxvYWRcIixcbiAgICAgIGZpbGVfcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgaW1hZ2U6IFwiQWZiZWVsZGluZyB1cGxvYWRlblwiLFxuICAgICAgICB2aWRlbzogXCJWaWRlbyB1cGxvYWRlblwiLFxuICAgICAgICBhdWRpbzogXCJBdWRpbyB1cGxvYWRlblwiLFxuICAgICAgICBmaWxlOiBcIkJlc3RhbmQgdXBsb2FkZW5cIlxuICAgICAgfSxcbiAgICAgIHVwbG9hZF9lcnJvcjogXCJGb3V0OiBVcGxvYWQgbWlzbHVrdFwiXG4gICAgfSxcbiAgICBlbWJlZDoge1xuICAgICAgdGl0bGU6IFwiSW5zbHVpdGVuXCIsXG4gICAgICBlbWJlZF9idXR0b246IHtcbiAgICAgICAgaW1hZ2U6IFwiQWZiZWVsZGluZyBpbnNsdWl0ZW5cIixcbiAgICAgICAgdmlkZW86IFwiVmlkZW8gaW5zbHVpdGVuXCIsXG4gICAgICAgIGF1ZGlvOiBcIkF1ZGlvIGluc2x1aXRlblwiLFxuICAgICAgICBmaWxlOiBcIkJlc3RhbmQgaW5zbHVpdGVuXCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiVm9lciBVUkwgaW5cIlxuICAgIH1cbiAgfSxcbiAgbGlua190b29sYmFyOiB7XG4gICAgZGVsZXRlOiB7XG4gICAgICB0b29sdGlwOiBcIlZlcndpamRlciBsaW5rXCJcbiAgICB9LFxuICAgIGVkaXQ6IHtcbiAgICAgIHRleHQ6IFwiQmV3ZXJrIGxpbmtcIixcbiAgICAgIHRvb2x0aXA6IFwiQmV3ZXJrXCJcbiAgICB9LFxuICAgIG9wZW46IHtcbiAgICAgIHRvb2x0aXA6IFwiT3BlbiBpbiBuaWV1dyB0YWJibGFkXCJcbiAgICB9LFxuICAgIGZvcm06IHtcbiAgICAgIHRpdGxlX3BsYWNlaG9sZGVyOiBcIkJld2VyayB0aXRlbFwiLFxuICAgICAgdXJsX3BsYWNlaG9sZGVyOiBcIkJld2VyayBVUkxcIlxuICAgIH1cbiAgfSxcbiAgZ2VuZXJpYzoge1xuICAgIGN0cmxfc2hvcnRjdXQ6IFwiQ3RybFwiXG4gIH1cbn0sIF9vID0ge1xuICBzbGFzaF9tZW51OiB7XG4gICAgaGVhZGluZzoge1xuICAgICAgdGl0bGU6IFwiTmFnxYLDs3dlayAxXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlXFvHl3YW55IGRsYSBuYWfFgsOzd2thIG5hand5xbxzemVnbyBwb3ppb211XCIsXG4gICAgICBhbGlhc2VzOiBbXCJoXCIsIFwibmFnbG93ZWsxXCIsIFwiaDFcIl0sXG4gICAgICBncm91cDogXCJOYWfFgsOzd2tpXCJcbiAgICB9LFxuICAgIGhlYWRpbmdfMjoge1xuICAgICAgdGl0bGU6IFwiTmFnxYLDs3dlayAyXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlXFvHl3YW55IGRsYSBrbHVjem93eWNoIHNla2NqaVwiLFxuICAgICAgYWxpYXNlczogW1wiaDJcIiwgXCJuYWdsb3dlazJcIiwgXCJwb2RuYWdsb3dla1wiXSxcbiAgICAgIGdyb3VwOiBcIk5hZ8WCw7N3a2lcIlxuICAgIH0sXG4gICAgaGVhZGluZ18zOiB7XG4gICAgICB0aXRsZTogXCJOYWfFgsOzd2VrIDNcIixcbiAgICAgIHN1YnRleHQ6IFwiVcW8eXdhbnkgZGxhIHBvZHNla2NqaSBpIGdydXAgbmFnxYLDs3drw7N3XCIsXG4gICAgICBhbGlhc2VzOiBbXCJoM1wiLCBcIm5hZ2xvd2VrM1wiLCBcInBvZG5hZ2xvd2VrXCJdLFxuICAgICAgZ3JvdXA6IFwiTmFnxYLDs3draVwiXG4gICAgfSxcbiAgICBudW1iZXJlZF9saXN0OiB7XG4gICAgICB0aXRsZTogXCJMaXN0YSBudW1lcm93YW5hXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlXFvHl3YW5hIGRvIHd5xZt3aWV0bGFuaWEgbGlzdHkgbnVtZXJvd2FuZWpcIixcbiAgICAgIGFsaWFzZXM6IFtcIm9sXCIsIFwibGlcIiwgXCJsaXN0YVwiLCBcIm51bWVyb3dhbmEgbGlzdGFcIl0sXG4gICAgICBncm91cDogXCJQb2RzdGF3b3dlIGJsb2tpXCJcbiAgICB9LFxuICAgIGJ1bGxldF9saXN0OiB7XG4gICAgICB0aXRsZTogXCJMaXN0YSBwdW5rdG93YW5hXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlXFvHl3YW5hIGRvIHd5xZt3aWV0bGFuaWEgbGlzdHkgYmV6IG51bWVyYWNqaVwiLFxuICAgICAgYWxpYXNlczogW1widWxcIiwgXCJsaVwiLCBcImxpc3RhXCIsIFwicHVua3Rvd2FuYSBsaXN0YVwiXSxcbiAgICAgIGdyb3VwOiBcIlBvZHN0YXdvd2UgYmxva2lcIlxuICAgIH0sXG4gICAgY2hlY2tfbGlzdDoge1xuICAgICAgdGl0bGU6IFwiTGlzdGEgeiBwb2xhbWkgd3lib3J1XCIsXG4gICAgICBzdWJ0ZXh0OiBcIlXFvHl3YW5hIGRvIHd5xZt3aWV0bGFuaWEgbGlzdHkgeiBwb2xhbWkgd3lib3J1XCIsXG4gICAgICBhbGlhc2VzOiBbXCJ1bFwiLCBcImxpXCIsIFwibGlzdGFcIiwgXCJsaXN0YSB6IHBvbGFtaSB3eWJvcnVcIiwgXCJwb2xlIHd5Ym9ydVwiXSxcbiAgICAgIGdyb3VwOiBcIlBvZHN0YXdvd2UgYmxva2lcIlxuICAgIH0sXG4gICAgcGFyYWdyYXBoOiB7XG4gICAgICB0aXRsZTogXCJBa2FwaXRcIixcbiAgICAgIHN1YnRleHQ6IFwiVcW8eXdhbnkgZGxhIHRyZcWbY2kgZG9rdW1lbnR1XCIsXG4gICAgICBhbGlhc2VzOiBbXCJwXCIsIFwiYWthcGl0XCJdLFxuICAgICAgZ3JvdXA6IFwiUG9kc3Rhd293ZSBibG9raVwiXG4gICAgfSxcbiAgICB0YWJsZToge1xuICAgICAgdGl0bGU6IFwiVGFiZWxhXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlXFvHl3YW5hIGRvIHR3b3J6ZW5pYSB0YWJlbFwiLFxuICAgICAgYWxpYXNlczogW1widGFiZWxhXCJdLFxuICAgICAgZ3JvdXA6IFwiWmFhd2Fuc293YW5lXCJcbiAgICB9LFxuICAgIGltYWdlOiB7XG4gICAgICB0aXRsZTogXCJaZGrEmWNpZVwiLFxuICAgICAgc3VidGV4dDogXCJXc3RhdyB6ZGrEmWNpZVwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcIm9icmF6XCIsXG4gICAgICAgIFwid3J6dcSHWmRqxJljaWVcIixcbiAgICAgICAgXCJ3cnp1xIdcIixcbiAgICAgICAgXCJpbWdcIixcbiAgICAgICAgXCJ6ZGrEmWNpZVwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCJNZWRpYVwiXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgdGl0bGU6IFwiV2lkZW9cIixcbiAgICAgIHN1YnRleHQ6IFwiV3N0YXcgd2lkZW9cIixcbiAgICAgIGFsaWFzZXM6IFtcIndpZGVvXCIsIFwid3J6dcSHV2lkZW9cIiwgXCJ3cnp1xIdcIiwgXCJtcDRcIiwgXCJmaWxtXCIsIFwibWVkaWFcIiwgXCJ1cmxcIl0sXG4gICAgICBncm91cDogXCJNZWRpYVwiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgdGl0bGU6IFwiQXVkaW9cIixcbiAgICAgIHN1YnRleHQ6IFwiV3N0YXcgYXVkaW9cIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJhdWRpb1wiLFxuICAgICAgICBcIndyenXEh0F1ZGlvXCIsXG4gICAgICAgIFwid3J6dcSHXCIsXG4gICAgICAgIFwibXAzXCIsXG4gICAgICAgIFwiZMW6d2nEmWtcIixcbiAgICAgICAgXCJtZWRpYVwiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiTWVkaWFcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgdGl0bGU6IFwiUGxpa1wiLFxuICAgICAgc3VidGV4dDogXCJXc3RhdyBwbGlrXCIsXG4gICAgICBhbGlhc2VzOiBbXCJwbGlrXCIsIFwid3J6dcSHXCIsIFwid3N0YXdcIiwgXCJtZWRpYVwiLCBcInVybFwiXSxcbiAgICAgIGdyb3VwOiBcIk1lZGlhXCJcbiAgICB9XG4gIH0sXG4gIHBsYWNlaG9sZGVyczoge1xuICAgIGRlZmF1bHQ6IFwiV3Byb3dhZMW6IHRla3N0IGx1YiB3cGlzeiAnLycgYWJ5IHXFvHnEhyBwb2xlY2XFhFwiLFxuICAgIGhlYWRpbmc6IFwiTmFnxYLDs3dla1wiLFxuICAgIGJ1bGxldExpc3RJdGVtOiBcIkxpc3RhXCIsXG4gICAgbnVtYmVyZWRMaXN0SXRlbTogXCJMaXN0YVwiLFxuICAgIGNoZWNrTGlzdEl0ZW06IFwiTGlzdGFcIlxuICB9LFxuICBmaWxlX2Jsb2Nrczoge1xuICAgIGltYWdlOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiRG9kYWogemRqxJljaWVcIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJEb2RhaiB3aWRlb1wiXG4gICAgfSxcbiAgICBhdWRpbzoge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkRvZGFqIGF1ZGlvXCJcbiAgICB9LFxuICAgIGZpbGU6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJEb2RhaiBwbGlrXCJcbiAgICB9XG4gIH0sXG4gIHNpZGVfbWVudToge1xuICAgIGFkZF9ibG9ja19sYWJlbDogXCJEb2RhaiBibG9rXCIsXG4gICAgZHJhZ19oYW5kbGVfbGFiZWw6IFwiT3R3w7NyeiBtZW51IGJsb2vDs3dcIlxuICB9LFxuICBkcmFnX2hhbmRsZToge1xuICAgIGRlbGV0ZV9tZW51aXRlbTogXCJVc3XFhFwiLFxuICAgIGNvbG9yc19tZW51aXRlbTogXCJLb2xvcnlcIlxuICB9LFxuICB0YWJsZV9oYW5kbGU6IHtcbiAgICBkZWxldGVfY29sdW1uX21lbnVpdGVtOiBcIlVzdcWEIGtvbHVtbsSZXCIsXG4gICAgZGVsZXRlX3Jvd19tZW51aXRlbTogXCJVc3XFhCB3aWVyc3pcIixcbiAgICBhZGRfbGVmdF9tZW51aXRlbTogXCJEb2RhaiBrb2x1bW7EmSBwbyBsZXdlalwiLFxuICAgIGFkZF9yaWdodF9tZW51aXRlbTogXCJEb2RhaiBrb2x1bW7EmSBwbyBwcmF3ZWpcIixcbiAgICBhZGRfYWJvdmVfbWVudWl0ZW06IFwiRG9kYWogd2llcnN6IHBvd3nFvGVqXCIsXG4gICAgYWRkX2JlbG93X21lbnVpdGVtOiBcIkRvZGFqIHdpZXJzeiBwb25pxbxlalwiXG4gIH0sXG4gIHN1Z2dlc3Rpb25fbWVudToge1xuICAgIG5vX2l0ZW1zX3RpdGxlOiBcIk5pZSB6bmFsZXppb25vIGVsZW1lbnTDs3dcIixcbiAgICBsb2FkaW5nOiBcIsWBYWRvd2FuaWXigKZcIlxuICB9LFxuICBjb2xvcl9waWNrZXI6IHtcbiAgICB0ZXh0X3RpdGxlOiBcIlRla3N0XCIsXG4gICAgYmFja2dyb3VuZF90aXRsZTogXCJUxYJvXCIsXG4gICAgY29sb3JzOiB7XG4gICAgICBkZWZhdWx0OiBcIkRvbXnFm2xueVwiLFxuICAgICAgZ3JheTogXCJTemFyeVwiLFxuICAgICAgYnJvd246IFwiQnLEhXpvd3lcIixcbiAgICAgIHJlZDogXCJDemVyd29ueVwiLFxuICAgICAgb3JhbmdlOiBcIlBvbWFyYcWEY3pvd3lcIixcbiAgICAgIHllbGxvdzogXCLFu8OzxYJ0eVwiLFxuICAgICAgZ3JlZW46IFwiWmllbG9ueVwiLFxuICAgICAgYmx1ZTogXCJOaWViaWVza2lcIixcbiAgICAgIHB1cnBsZTogXCJGaW9sZXRvd3lcIixcbiAgICAgIHBpbms6IFwiUsOzxbxvd3lcIlxuICAgIH1cbiAgfSxcbiAgZm9ybWF0dGluZ190b29sYmFyOiB7XG4gICAgYm9sZDoge1xuICAgICAgdG9vbHRpcDogXCJQb2dydWJpZW5pZVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0JcIlxuICAgIH0sXG4gICAgaXRhbGljOiB7XG4gICAgICB0b29sdGlwOiBcIkt1cnN5d2FcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtJXCJcbiAgICB9LFxuICAgIHVuZGVybGluZToge1xuICAgICAgdG9vbHRpcDogXCJQb2RrcmXFm2xlbmllXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrVVwiXG4gICAgfSxcbiAgICBzdHJpa2U6IHtcbiAgICAgIHRvb2x0aXA6IFwiUHJ6ZWtyZcWbbGVuaWVcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtTaGlmdCtYXCJcbiAgICB9LFxuICAgIGNvZGU6IHtcbiAgICAgIHRvb2x0aXA6IFwiS29kXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJcIlxuICAgIH0sXG4gICAgY29sb3JzOiB7XG4gICAgICB0b29sdGlwOiBcIktvbG9yeVwiXG4gICAgfSxcbiAgICBsaW5rOiB7XG4gICAgICB0b29sdGlwOiBcIlV0d8OzcnogbGlua1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0tcIlxuICAgIH0sXG4gICAgZmlsZV9jYXB0aW9uOiB7XG4gICAgICB0b29sdGlwOiBcIlptaWXFhCBwb2RwaXNcIixcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiBcIlptaWXFhCBwb2RwaXNcIlxuICAgIH0sXG4gICAgZmlsZV9yZXBsYWNlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIlptaWXFhCBvYnJhelwiLFxuICAgICAgICB2aWRlbzogXCJabWllxYQgd2lkZW9cIixcbiAgICAgICAgYXVkaW86IFwiWm1pZcWEIGF1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiWm1pZcWEIHBsaWtcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9yZW5hbWU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwiWm1pZcWEIG5henfEmSB6ZGrEmWNpYVwiLFxuICAgICAgICB2aWRlbzogXCJabWllxYQgbmF6d8SZIHdpZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIlptaWXFhCBuYXp3xJkgYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJabWllxYQgbmF6d8SZIHBsaWt1XCJcbiAgICAgIH0sXG4gICAgICBpbnB1dF9wbGFjZWhvbGRlcjoge1xuICAgICAgICBpbWFnZTogXCJabWllxYQgbmF6d8SZIHpkasSZY2lhXCIsXG4gICAgICAgIHZpZGVvOiBcIlptaWXFhCBuYXp3xJkgd2lkZW9cIixcbiAgICAgICAgYXVkaW86IFwiWm1pZcWEIG5henfEmSBhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIlptaWXFhCBuYXp3xJkgcGxpa3VcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kb3dubG9hZDoge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJQb2JpZXJ6IHpkasSZY2llXCIsXG4gICAgICAgIHZpZGVvOiBcIlBvYmllcnogd2lkZW9cIixcbiAgICAgICAgYXVkaW86IFwiUG9iaWVyeiBhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIlBvYmllcnogcGxpa1wiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX2RlbGV0ZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJVc3XFhCB6ZGrEmWNpZVwiLFxuICAgICAgICB2aWRlbzogXCJVc3XFhCB3aWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJVc3XFhCBhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIlVzdcWEIHBsaWtcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9wcmV2aWV3X3RvZ2dsZToge1xuICAgICAgdG9vbHRpcDogXCJQcnplxYLEhWN6IHBvZGdsxIVkXCJcbiAgICB9LFxuICAgIG5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwiWmFnbmllxbpkxbogYmxva1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiVGFiXCJcbiAgICB9LFxuICAgIHVubmVzdDoge1xuICAgICAgdG9vbHRpcDogXCJPZGdhZ25pZcW6ZMW6IGJsb2tcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlNoaWZ0K1RhYlwiXG4gICAgfSxcbiAgICBhbGlnbl9sZWZ0OiB7XG4gICAgICB0b29sdGlwOiBcIld5csOzd25haiB0ZWtzdCBkbyBsZXdlalwiXG4gICAgfSxcbiAgICBhbGlnbl9jZW50ZXI6IHtcbiAgICAgIHRvb2x0aXA6IFwiV3nFm3JvZGt1aiB0ZWtzdFwiXG4gICAgfSxcbiAgICBhbGlnbl9yaWdodDoge1xuICAgICAgdG9vbHRpcDogXCJXeXLDs3duYWogdGVrc3QgZG8gcHJhd2VqXCJcbiAgICB9LFxuICAgIGFsaWduX2p1c3RpZnk6IHtcbiAgICAgIHRvb2x0aXA6IFwiV3lqdXN0dWogdGVrc3RcIlxuICAgIH1cbiAgfSxcbiAgZmlsZV9wYW5lbDoge1xuICAgIHVwbG9hZDoge1xuICAgICAgdGl0bGU6IFwiV3J6dcSHXCIsXG4gICAgICBmaWxlX3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIldyenXEhyB6ZGrEmWNpZVwiLFxuICAgICAgICB2aWRlbzogXCJXcnp1xIcgd2lkZW9cIixcbiAgICAgICAgYXVkaW86IFwiV3J6dcSHIGF1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiV3J6dcSHIHBsaWtcIlxuICAgICAgfSxcbiAgICAgIHVwbG9hZF9lcnJvcjogXCJCxYLEhWQ6IFByemVzecWCYW5pZSBuaWUgcG93aW9kxYJvIHNpxJlcIlxuICAgIH0sXG4gICAgZW1iZWQ6IHtcbiAgICAgIHRpdGxlOiBcIldzdGF3XCIsXG4gICAgICBlbWJlZF9idXR0b246IHtcbiAgICAgICAgaW1hZ2U6IFwiV3N0YXcgemRqxJlpY2VcIixcbiAgICAgICAgdmlkZW86IFwiV3N0YXcgd2lkZW9cIixcbiAgICAgICAgYXVkaW86IFwiV3N0YXcgYXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJXc3RhdyBwbGlrXCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiV3Byb3dhZMW6IFVSTFwiXG4gICAgfVxuICB9LFxuICBsaW5rX3Rvb2xiYXI6IHtcbiAgICBkZWxldGU6IHtcbiAgICAgIHRvb2x0aXA6IFwiVXN1xYQgbGlua1wiXG4gICAgfSxcbiAgICBlZGl0OiB7XG4gICAgICB0ZXh0OiBcIkVkeXR1aiBsaW5rXCIsXG4gICAgICB0b29sdGlwOiBcIkVkeXR1alwiXG4gICAgfSxcbiAgICBvcGVuOiB7XG4gICAgICB0b29sdGlwOiBcIk90d8OzcnogdyBub3dlaiBrYXJjaWVcIlxuICAgIH0sXG4gICAgZm9ybToge1xuICAgICAgdGl0bGVfcGxhY2Vob2xkZXI6IFwiRWR5dHVqIHR5dHXFglwiLFxuICAgICAgdXJsX3BsYWNlaG9sZGVyOiBcIkVkeXR1aiBVUkxcIlxuICAgIH1cbiAgfSxcbiAgZ2VuZXJpYzoge1xuICAgIGN0cmxfc2hvcnRjdXQ6IFwiQ3RybFwiXG4gIH1cbn0sIHlvID0ge1xuICBzbGFzaF9tZW51OiB7XG4gICAgaGVhZGluZzoge1xuICAgICAgdGl0bGU6IFwiVMOtdHVsb1wiLFxuICAgICAgc3VidGV4dDogXCJVc2FkbyBwYXJhIHVtIHTDrXR1bG8gZGUgbsOtdmVsIHN1cGVyaW9yXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoXCIsIFwidGl0dWxvMVwiLCBcImgxXCJdLFxuICAgICAgZ3JvdXA6IFwiVMOtdHVsb3NcIlxuICAgIH0sXG4gICAgaGVhZGluZ18yOiB7XG4gICAgICB0aXRsZTogXCJUw610dWxvIDJcIixcbiAgICAgIHN1YnRleHQ6IFwiVXNhZG8gcGFyYSBzZcOnw7VlcyBwcmluY2lwYWlzXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoMlwiLCBcInRpdHVsbzJcIiwgXCJzdWJ0aXR1bG9cIl0sXG4gICAgICBncm91cDogXCJUw610dWxvc1wiXG4gICAgfSxcbiAgICBoZWFkaW5nXzM6IHtcbiAgICAgIHRpdGxlOiBcIlTDrXR1bG8gM1wiLFxuICAgICAgc3VidGV4dDogXCJVc2FkbyBwYXJhIHN1YnNlw6fDtWVzIGUgdMOtdHVsb3MgZGUgZ3J1cG9cIixcbiAgICAgIGFsaWFzZXM6IFtcImgzXCIsIFwidGl0dWxvM1wiLCBcInN1YnRpdHVsb1wiXSxcbiAgICAgIGdyb3VwOiBcIlTDrXR1bG9zXCJcbiAgICB9LFxuICAgIG51bWJlcmVkX2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIkxpc3RhIE51bWVyYWRhXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlVzYWRvIHBhcmEgZXhpYmlyIHVtYSBsaXN0YSBudW1lcmFkYVwiLFxuICAgICAgYWxpYXNlczogW1wib2xcIiwgXCJsaVwiLCBcImxpc3RhXCIsIFwibGlzdGFudW1lcmFkYVwiLCBcImxpc3RhIG51bWVyYWRhXCJdLFxuICAgICAgZ3JvdXA6IFwiQmxvY29zIELDoXNpY29zXCJcbiAgICB9LFxuICAgIGJ1bGxldF9saXN0OiB7XG4gICAgICB0aXRsZTogXCJMaXN0YSBjb20gTWFyY2Fkb3Jlc1wiLFxuICAgICAgc3VidGV4dDogXCJVc2FkbyBwYXJhIGV4aWJpciB1bWEgbGlzdGEgbsOjbyBvcmRlbmFkYVwiLFxuICAgICAgYWxpYXNlczogW1widWxcIiwgXCJsaVwiLCBcImxpc3RhXCIsIFwibGlzdGFtYXJjYWRvcmVzXCIsIFwibGlzdGEgY29tIG1hcmNhZG9yZXNcIl0sXG4gICAgICBncm91cDogXCJCbG9jb3MgQsOhc2ljb3NcIlxuICAgIH0sXG4gICAgY2hlY2tfbGlzdDoge1xuICAgICAgdGl0bGU6IFwiTGlzdGEgZGUgdmVyaWZpY2HDp8Ojb1wiLFxuICAgICAgc3VidGV4dDogXCJVc2FkbyBwYXJhIGV4aWJpciB1bWEgbGlzdGEgY29tIGNhaXhhcyBkZSBzZWxlw6fDo29cIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJ1bFwiLFxuICAgICAgICBcImxpXCIsXG4gICAgICAgIFwibGlzdGFcIixcbiAgICAgICAgXCJsaXN0YSBkZSB2ZXJpZmljYcOnw6NvXCIsXG4gICAgICAgIFwibGlzdGEgbWFyY2FkYVwiLFxuICAgICAgICBcImNhaXhhIGRlIHNlbGXDp8Ojb1wiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiQmxvY29zIELDoXNpY29zXCJcbiAgICB9LFxuICAgIHBhcmFncmFwaDoge1xuICAgICAgdGl0bGU6IFwiUGFyw6FncmFmb1wiLFxuICAgICAgc3VidGV4dDogXCJVc2FkbyBwYXJhIG8gY29ycG8gZG8gc2V1IGRvY3VtZW50b1wiLFxuICAgICAgYWxpYXNlczogW1wicFwiLCBcInBhcmFncmFmb1wiXSxcbiAgICAgIGdyb3VwOiBcIkJsb2NvcyBCw6FzaWNvc1wiXG4gICAgfSxcbiAgICB0YWJsZToge1xuICAgICAgdGl0bGU6IFwiVGFiZWxhXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlVzYWRvIHBhcmEgdGFiZWxhc1wiLFxuICAgICAgYWxpYXNlczogW1widGFiZWxhXCJdLFxuICAgICAgZ3JvdXA6IFwiQXZhbsOnYWRvXCJcbiAgICB9LFxuICAgIGltYWdlOiB7XG4gICAgICB0aXRsZTogXCJJbWFnZW1cIixcbiAgICAgIHN1YnRleHQ6IFwiSW5zZXJpciB1bWEgaW1hZ2VtXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwiaW1hZ2VtXCIsXG4gICAgICAgIFwidXBsb2FkSW1hZ2VtXCIsXG4gICAgICAgIFwidXBsb2FkXCIsXG4gICAgICAgIFwiaW1nXCIsXG4gICAgICAgIFwiZm90b1wiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCJNw61kaWFcIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIHRpdGxlOiBcIlbDrWRlb1wiLFxuICAgICAgc3VidGV4dDogXCJJbnNlcmlyIHVtIHbDrWRlb1wiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcInbDrWRlb1wiLFxuICAgICAgICBcInVwbG9hZFbDrWRlb1wiLFxuICAgICAgICBcInVwbG9hZFwiLFxuICAgICAgICBcIm1wNFwiLFxuICAgICAgICBcImZpbG1lXCIsXG4gICAgICAgIFwibcOtZGlhXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCJNw61kaWFcIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIHRpdGxlOiBcIsOBdWRpb1wiLFxuICAgICAgc3VidGV4dDogXCJJbnNlcmlyIHVtIMOhdWRpb1wiLFxuICAgICAgYWxpYXNlczogW1wiw6F1ZGlvXCIsIFwidXBsb2Fkw4F1ZGlvXCIsIFwidXBsb2FkXCIsIFwibXAzXCIsIFwic29tXCIsIFwibcOtZGlhXCIsIFwidXJsXCJdLFxuICAgICAgZ3JvdXA6IFwiTcOtZGlhXCJcbiAgICB9LFxuICAgIGZpbGU6IHtcbiAgICAgIHRpdGxlOiBcIkFycXVpdm9cIixcbiAgICAgIHN1YnRleHQ6IFwiSW5zZXJpciB1bSBhcnF1aXZvXCIsXG4gICAgICBhbGlhc2VzOiBbXCJhcnF1aXZvXCIsIFwidXBsb2FkXCIsIFwiaW5jb3Jwb3JhclwiLCBcIm3DrWRpYVwiLCBcInVybFwiXSxcbiAgICAgIGdyb3VwOiBcIk3DrWRpYVwiXG4gICAgfVxuICB9LFxuICBwbGFjZWhvbGRlcnM6IHtcbiAgICBkZWZhdWx0OiBcIkRpZ2l0ZSB0ZXh0byBvdSB1c2UgJy8nIHBhcmEgY29tYW5kb3NcIixcbiAgICBoZWFkaW5nOiBcIlTDrXR1bG9cIixcbiAgICBidWxsZXRMaXN0SXRlbTogXCJMaXN0YVwiLFxuICAgIG51bWJlcmVkTGlzdEl0ZW06IFwiTGlzdGFcIixcbiAgICBjaGVja0xpc3RJdGVtOiBcIkxpc3RhXCJcbiAgfSxcbiAgZmlsZV9ibG9ja3M6IHtcbiAgICBpbWFnZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIkFkaWNpb25hciBpbWFnZW1cIlxuICAgIH0sXG4gICAgdmlkZW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJBZGljaW9uYXIgdsOtZGVvXCJcbiAgICB9LFxuICAgIGF1ZGlvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiQWRpY2lvbmFyIMOhdWRpb1wiXG4gICAgfSxcbiAgICBmaWxlOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiQWRpY2lvbmFyIGFycXVpdm9cIlxuICAgIH1cbiAgfSxcbiAgLy8gZnJvbSByZWFjdCBwYWNrYWdlOlxuICBzaWRlX21lbnU6IHtcbiAgICBhZGRfYmxvY2tfbGFiZWw6IFwiQWRpY2lvbmFyIGJsb2NvXCIsXG4gICAgZHJhZ19oYW5kbGVfbGFiZWw6IFwiQWJyaXIgbWVudSBkbyBibG9jb1wiXG4gIH0sXG4gIGRyYWdfaGFuZGxlOiB7XG4gICAgZGVsZXRlX21lbnVpdGVtOiBcIkV4Y2x1aXJcIixcbiAgICBjb2xvcnNfbWVudWl0ZW06IFwiQ29yZXNcIlxuICB9LFxuICB0YWJsZV9oYW5kbGU6IHtcbiAgICBkZWxldGVfY29sdW1uX21lbnVpdGVtOiBcIkV4Y2x1aXIgY29sdW5hXCIsXG4gICAgZGVsZXRlX3Jvd19tZW51aXRlbTogXCJFeGNsdWlyIGxpbmhhXCIsXG4gICAgYWRkX2xlZnRfbWVudWl0ZW06IFwiQWRpY2lvbmFyIGNvbHVuYSDDoCBlc3F1ZXJkYVwiLFxuICAgIGFkZF9yaWdodF9tZW51aXRlbTogXCJBZGljaW9uYXIgY29sdW5hIMOgIGRpcmVpdGFcIixcbiAgICBhZGRfYWJvdmVfbWVudWl0ZW06IFwiQWRpY2lvbmFyIGxpbmhhIGFjaW1hXCIsXG4gICAgYWRkX2JlbG93X21lbnVpdGVtOiBcIkFkaWNpb25hciBsaW5oYSBhYmFpeG9cIlxuICB9LFxuICBzdWdnZXN0aW9uX21lbnU6IHtcbiAgICBub19pdGVtc190aXRsZTogXCJOZW5odW0gaXRlbSBlbmNvbnRyYWRvXCIsXG4gICAgbG9hZGluZzogXCJDYXJyZWdhbmRv4oCmXCJcbiAgfSxcbiAgY29sb3JfcGlja2VyOiB7XG4gICAgdGV4dF90aXRsZTogXCJUZXh0b1wiLFxuICAgIGJhY2tncm91bmRfdGl0bGU6IFwiRnVuZG9cIixcbiAgICBjb2xvcnM6IHtcbiAgICAgIGRlZmF1bHQ6IFwiUGFkcsOjb1wiLFxuICAgICAgZ3JheTogXCJDaW56YVwiLFxuICAgICAgYnJvd246IFwiTWFycm9tXCIsXG4gICAgICByZWQ6IFwiVmVybWVsaG9cIixcbiAgICAgIG9yYW5nZTogXCJMYXJhbmphXCIsXG4gICAgICB5ZWxsb3c6IFwiQW1hcmVsb1wiLFxuICAgICAgZ3JlZW46IFwiVmVyZGVcIixcbiAgICAgIGJsdWU6IFwiQXp1bFwiLFxuICAgICAgcHVycGxlOiBcIlJveG9cIixcbiAgICAgIHBpbms6IFwiUm9zYVwiXG4gICAgfVxuICB9LFxuICBmb3JtYXR0aW5nX3Rvb2xiYXI6IHtcbiAgICBib2xkOiB7XG4gICAgICB0b29sdGlwOiBcIk5lZ3JpdG9cIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtCXCJcbiAgICB9LFxuICAgIGl0YWxpYzoge1xuICAgICAgdG9vbHRpcDogXCJJdMOhbGljb1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0lcIlxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICB0b29sdGlwOiBcIlN1YmxpbmhhZG9cIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtVXCJcbiAgICB9LFxuICAgIHN0cmlrZToge1xuICAgICAgdG9vbHRpcDogXCJSaXNjYWRvXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrU2hpZnQrWFwiXG4gICAgfSxcbiAgICBjb2RlOiB7XG4gICAgICB0b29sdGlwOiBcIkPDs2RpZ29cIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlwiXG4gICAgfSxcbiAgICBjb2xvcnM6IHtcbiAgICAgIHRvb2x0aXA6IFwiQ29yZXNcIlxuICAgIH0sXG4gICAgbGluazoge1xuICAgICAgdG9vbHRpcDogXCJDcmlhciBsaW5rXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrS1wiXG4gICAgfSxcbiAgICBmaWxlX2NhcHRpb246IHtcbiAgICAgIHRvb2x0aXA6IFwiRWRpdGFyIGxlZ2VuZGFcIixcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiBcIkVkaXRhciBsZWdlbmRhXCJcbiAgICB9LFxuICAgIGZpbGVfcmVwbGFjZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJTdWJzdGl0dWlyIGltYWdlbVwiLFxuICAgICAgICB2aWRlbzogXCJTdWJzdGl0dWlyIHbDrWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJTdWJzdGl0dWlyIMOhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIlN1YnN0aXR1aXIgYXJxdWl2b1wiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX3JlbmFtZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJSZW5vbWVhciBpbWFnZW1cIixcbiAgICAgICAgdmlkZW86IFwiUmVub21lYXIgdsOtZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIlJlbm9tZWFyIMOhdWRpb1wiLFxuICAgICAgICBmaWxlOiBcIlJlbm9tZWFyIGFycXVpdm9cIlxuICAgICAgfSxcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIlJlbm9tZWFyIGltYWdlbVwiLFxuICAgICAgICB2aWRlbzogXCJSZW5vbWVhciB2w61kZW9cIixcbiAgICAgICAgYXVkaW86IFwiUmVub21lYXIgw6F1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiUmVub21lYXIgYXJxdWl2b1wiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX2Rvd25sb2FkOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIkJhaXhhciBpbWFnZW1cIixcbiAgICAgICAgdmlkZW86IFwiQmFpeGFyIHbDrWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJCYWl4YXIgw6F1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiQmFpeGFyIGFycXVpdm9cIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9kZWxldGU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwiRXhjbHVpciBpbWFnZW1cIixcbiAgICAgICAgdmlkZW86IFwiRXhjbHVpciB2w61kZW9cIixcbiAgICAgICAgYXVkaW86IFwiRXhjbHVpciDDoXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJFeGNsdWlyIGFycXVpdm9cIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9wcmV2aWV3X3RvZ2dsZToge1xuICAgICAgdG9vbHRpcDogXCJBbHRlcm5hciB2aXN1YWxpemHDp8Ojb1wiXG4gICAgfSxcbiAgICBuZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIkFuaW5oYXIgYmxvY29cIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlRhYlwiXG4gICAgfSxcbiAgICB1bm5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwiRGVzYW5pbmhhciBibG9jb1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiU2hpZnQrVGFiXCJcbiAgICB9LFxuICAgIGFsaWduX2xlZnQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiQWxpbmhhciDDoCBlc3F1ZXJkYVwiXG4gICAgfSxcbiAgICBhbGlnbl9jZW50ZXI6IHtcbiAgICAgIHRvb2x0aXA6IFwiQWxpbmhhciBhbyBjZW50cm9cIlxuICAgIH0sXG4gICAgYWxpZ25fcmlnaHQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiQWxpbmhhciDDoCBkaXJlaXRhXCJcbiAgICB9LFxuICAgIGFsaWduX2p1c3RpZnk6IHtcbiAgICAgIHRvb2x0aXA6IFwiSnVzdGlmaWNhciB0ZXh0b1wiXG4gICAgfVxuICB9LFxuICBmaWxlX3BhbmVsOiB7XG4gICAgdXBsb2FkOiB7XG4gICAgICB0aXRsZTogXCJVcGxvYWRcIixcbiAgICAgIGZpbGVfcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgaW1hZ2U6IFwiVXBsb2FkIGRlIGltYWdlbVwiLFxuICAgICAgICB2aWRlbzogXCJVcGxvYWQgZGUgdsOtZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIlVwbG9hZCBkZSDDoXVkaW9cIixcbiAgICAgICAgZmlsZTogXCJVcGxvYWQgZGUgYXJxdWl2b1wiXG4gICAgICB9LFxuICAgICAgdXBsb2FkX2Vycm9yOiBcIkVycm86IEZhbGhhIG5vIHVwbG9hZFwiXG4gICAgfSxcbiAgICBlbWJlZDoge1xuICAgICAgdGl0bGU6IFwiSW5jb3Jwb3JhclwiLFxuICAgICAgZW1iZWRfYnV0dG9uOiB7XG4gICAgICAgIGltYWdlOiBcIkluY29ycG9yYXIgaW1hZ2VtXCIsXG4gICAgICAgIHZpZGVvOiBcIkluY29ycG9yYXIgdsOtZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIkluY29ycG9yYXIgw6F1ZGlvXCIsXG4gICAgICAgIGZpbGU6IFwiSW5jb3Jwb3JhciBhcnF1aXZvXCJcbiAgICAgIH0sXG4gICAgICB1cmxfcGxhY2Vob2xkZXI6IFwiSW5zaXJhIGEgVVJMXCJcbiAgICB9XG4gIH0sXG4gIGxpbmtfdG9vbGJhcjoge1xuICAgIGRlbGV0ZToge1xuICAgICAgdG9vbHRpcDogXCJSZW1vdmVyIGxpbmtcIlxuICAgIH0sXG4gICAgZWRpdDoge1xuICAgICAgdGV4dDogXCJFZGl0YXIgbGlua1wiLFxuICAgICAgdG9vbHRpcDogXCJFZGl0YXJcIlxuICAgIH0sXG4gICAgb3Blbjoge1xuICAgICAgdG9vbHRpcDogXCJBYnJpciBlbSBub3ZhIGFiYVwiXG4gICAgfSxcbiAgICBmb3JtOiB7XG4gICAgICB0aXRsZV9wbGFjZWhvbGRlcjogXCJFZGl0YXIgdMOtdHVsb1wiLFxuICAgICAgdXJsX3BsYWNlaG9sZGVyOiBcIkVkaXRhciBVUkxcIlxuICAgIH1cbiAgfSxcbiAgZ2VuZXJpYzoge1xuICAgIGN0cmxfc2hvcnRjdXQ6IFwiQ3RybFwiXG4gIH1cbn0sIHZvID0ge1xuICBzbGFzaF9tZW51OiB7XG4gICAgaGVhZGluZzoge1xuICAgICAgdGl0bGU6IFwiVGnDqnUgxJHhu4EgSDFcIixcbiAgICAgIHN1YnRleHQ6IFwiU+G7rSBk4bulbmcgY2hvIHRpw6p1IMSR4buBIGPhuqVwIGNhbyBuaOG6pXRcIixcbiAgICAgIGFsaWFzZXM6IFtcImhcIiwgXCJ0aWV1ZGUxXCIsIFwiZGQxXCJdLFxuICAgICAgZ3JvdXA6IFwiVGnDqnUgxJHhu4FcIlxuICAgIH0sXG4gICAgaGVhZGluZ18yOiB7XG4gICAgICB0aXRsZTogXCJUacOqdSDEkeG7gSBIMlwiLFxuICAgICAgc3VidGV4dDogXCJT4butIGThu6VuZyBjaG8gY8OhYyBwaOG6p24gY2jDrW5oXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoMlwiLCBcInRpZXVkZTJcIiwgXCJ0aWV1ZGVwaHVcIl0sXG4gICAgICBncm91cDogXCJUacOqdSDEkeG7gVwiXG4gICAgfSxcbiAgICBoZWFkaW5nXzM6IHtcbiAgICAgIHRpdGxlOiBcIlRpw6p1IMSR4buBIEgzXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlPhu60gZOG7pW5nIGNobyBwaOG7pSDEkeG7gSB2w6AgdGnDqnUgxJHhu4EgbmjDs21cIixcbiAgICAgIGFsaWFzZXM6IFtcImgzXCIsIFwidGlldWRlM1wiLCBcInRpZXVkZXBodVwiXSxcbiAgICAgIGdyb3VwOiBcIlRpw6p1IMSR4buBXCJcbiAgICB9LFxuICAgIG51bWJlcmVkX2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIkRhbmggc8OhY2ggxJHDoW5oIHPhu5FcIixcbiAgICAgIHN1YnRleHQ6IFwiU+G7rSBk4bulbmcgxJHhu4MgaGnhu4NuIHRo4buLIGRhbmggc8OhY2ggY8OzIMSRw6FuaCBz4buRXCIsXG4gICAgICBhbGlhc2VzOiBbXCJvbFwiLCBcImxpXCIsIFwiZHNcIiwgXCJkYW5oc2FjaGRzb1wiLCBcImRhbmggc2FjaCBkYW5oIHNvXCJdLFxuICAgICAgZ3JvdXA6IFwiS2jhu5FpIGPGoSBi4bqjblwiXG4gICAgfSxcbiAgICBidWxsZXRfbGlzdDoge1xuICAgICAgdGl0bGU6IFwiRGFuaCBzw6FjaFwiLFxuICAgICAgc3VidGV4dDogXCJT4butIGThu6VuZyDEkeG7gyBoaeG7g24gdGjhu4sgZGFuaCBzw6FjaCBraMO0bmcgxJHDoW5oIHPhu5FcIixcbiAgICAgIGFsaWFzZXM6IFtcInVsXCIsIFwibGlcIiwgXCJkc1wiLCBcImRhbmhzYWNoXCIsIFwiZGFuaCBzYWNoXCJdLFxuICAgICAgZ3JvdXA6IFwiS2jhu5FpIGPGoSBi4bqjblwiXG4gICAgfSxcbiAgICBjaGVja19saXN0OiB7XG4gICAgICB0aXRsZTogXCJEYW5oIHPDoWNoIGtp4buDbSB0cmFcIixcbiAgICAgIHN1YnRleHQ6IFwiRMO5bmcgxJHhu4MgaGnhu4NuIHRo4buLIGRhbmggc8OhY2ggY8OzIGjhu5lwIGtp4buDbVwiLFxuICAgICAgYWxpYXNlczogW1xuICAgICAgICBcInVsXCIsXG4gICAgICAgIFwibGlcIixcbiAgICAgICAgXCJkYW5oIHNhY2hcIixcbiAgICAgICAgXCJkYW5oIHNhY2gga2llbSB0cmFcIixcbiAgICAgICAgXCJkYW5oIHNhY2ggZGEga2llbSB0cmFcIixcbiAgICAgICAgXCJob3Aga2llbVwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwiS2jhu5FpIGPGoSBi4bqjblwiXG4gICAgfSxcbiAgICBwYXJhZ3JhcGg6IHtcbiAgICAgIHRpdGxlOiBcIsSQb+G6oW4gdsSDblwiLFxuICAgICAgc3VidGV4dDogXCJT4butIGThu6VuZyBjaG8gbuG7mWkgZHVuZyBjaMOtbmggY+G7p2EgdMOgaSBsaeG7h3VcIixcbiAgICAgIGFsaWFzZXM6IFtcInBcIiwgXCJkb2FudmFuXCJdLFxuICAgICAgZ3JvdXA6IFwiS2jhu5FpIGPGoSBi4bqjblwiXG4gICAgfSxcbiAgICB0YWJsZToge1xuICAgICAgdGl0bGU6IFwiQuG6o25nXCIsXG4gICAgICBzdWJ0ZXh0OiBcIlPhu60gZOG7pW5nIMSR4buDIHThuqFvIGLhuqNuZ1wiLFxuICAgICAgYWxpYXNlczogW1wiYmFuZ1wiXSxcbiAgICAgIGdyb3VwOiBcIk7Dom5nIGNhb1wiXG4gICAgfSxcbiAgICBpbWFnZToge1xuICAgICAgdGl0bGU6IFwiSMOsbmgg4bqjbmhcIixcbiAgICAgIHN1YnRleHQ6IFwiQ2jDqG4gaMOsbmgg4bqjbmhcIixcbiAgICAgIGFsaWFzZXM6IFtcImFuaFwiLCBcInRhaS1sZW4tYW5oXCIsIFwidGFpLWxlblwiLCBcImltZ1wiLCBcImhpbmhcIiwgXCJtZWRpYVwiLCBcInVybFwiXSxcbiAgICAgIGdyb3VwOiBcIlBoxrDGoW5nIHRp4buHblwiXG4gICAgfSxcbiAgICB2aWRlbzoge1xuICAgICAgdGl0bGU6IFwiVmlkZW9cIixcbiAgICAgIHN1YnRleHQ6IFwiQ2jDqG4gdmlkZW9cIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJ2aWRlb1wiLFxuICAgICAgICBcInRhaS1sZW4tdmlkZW9cIixcbiAgICAgICAgXCJ0YWktbGVuXCIsXG4gICAgICAgIFwibXA0XCIsXG4gICAgICAgIFwicGhpbVwiLFxuICAgICAgICBcIm1lZGlhXCIsXG4gICAgICAgIFwidXJsXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCJQaMawxqFuZyB0aeG7h25cIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIHRpdGxlOiBcIsOCbSB0aGFuaFwiLFxuICAgICAgc3VidGV4dDogXCJDaMOobiDDom0gdGhhbmhcIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCLDom0gdGhhbmhcIixcbiAgICAgICAgXCJ0YWktbGVuLWFtLXRoYW5oXCIsXG4gICAgICAgIFwidGFpLWxlblwiLFxuICAgICAgICBcIm1wM1wiLFxuICAgICAgICBcImFtIHRoYW5oXCIsXG4gICAgICAgIFwibWVkaWFcIixcbiAgICAgICAgXCJ1cmxcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIlBoxrDGoW5nIHRp4buHblwiXG4gICAgfSxcbiAgICBmaWxlOiB7XG4gICAgICB0aXRsZTogXCJU4buHcFwiLFxuICAgICAgc3VidGV4dDogXCJDaMOobiB04buHcFwiLFxuICAgICAgYWxpYXNlczogW1widGVwXCIsIFwidGFpLWxlblwiLCBcIm5odW5nXCIsIFwibWVkaWFcIiwgXCJ1cmxcIl0sXG4gICAgICBncm91cDogXCJQaMawxqFuZyB0aeG7h25cIlxuICAgIH1cbiAgfSxcbiAgcGxhY2Vob2xkZXJzOiB7XG4gICAgZGVmYXVsdDogXCJOaOG6rXAgdsSDbiBi4bqjbiBob+G6t2MgZ8O1ICcvJyDEkeG7gyB0aMOqbSDEkeG7i25oIGThuqFuZ1wiLFxuICAgIGhlYWRpbmc6IFwiVGnDqnUgxJHhu4FcIixcbiAgICBidWxsZXRMaXN0SXRlbTogXCJEYW5oIHPDoWNoXCIsXG4gICAgbnVtYmVyZWRMaXN0SXRlbTogXCJEYW5oIHPDoWNoXCIsXG4gICAgY2hlY2tMaXN0SXRlbTogXCJEYW5oIHPDoWNoXCJcbiAgfSxcbiAgZmlsZV9ibG9ja3M6IHtcbiAgICBpbWFnZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIlRow6ptIOG6o25oXCJcbiAgICB9LFxuICAgIHZpZGVvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwiVGjDqm0gdmlkZW9cIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCJUaMOqbSDDom0gdGhhbmhcIlxuICAgIH0sXG4gICAgZmlsZToge1xuICAgICAgYWRkX2J1dHRvbl90ZXh0OiBcIlRow6ptIHThu4dwXCJcbiAgICB9XG4gIH0sXG4gIC8vIHThu6sgZ8OzaSBwaOG6o24g4bupbmc6XG4gIHNpZGVfbWVudToge1xuICAgIGFkZF9ibG9ja19sYWJlbDogXCJUaMOqbSBraOG7kWlcIixcbiAgICBkcmFnX2hhbmRsZV9sYWJlbDogXCJN4bufIHRyw6xuaCDEkcahbiBraOG7kWlcIlxuICB9LFxuICBkcmFnX2hhbmRsZToge1xuICAgIGRlbGV0ZV9tZW51aXRlbTogXCJYw7NhXCIsXG4gICAgY29sb3JzX21lbnVpdGVtOiBcIk3DoHUgc+G6r2NcIlxuICB9LFxuICB0YWJsZV9oYW5kbGU6IHtcbiAgICBkZWxldGVfY29sdW1uX21lbnVpdGVtOiBcIljDs2EgY+G7mXRcIixcbiAgICBkZWxldGVfcm93X21lbnVpdGVtOiBcIljDs2EgaMOgbmdcIixcbiAgICBhZGRfbGVmdF9tZW51aXRlbTogXCJUaMOqbSBj4buZdCBiw6puIHRyw6FpXCIsXG4gICAgYWRkX3JpZ2h0X21lbnVpdGVtOiBcIlRow6ptIGPhu5l0IGLDqm4gcGjhuqNpXCIsXG4gICAgYWRkX2Fib3ZlX21lbnVpdGVtOiBcIlRow6ptIGjDoG5nIHBow61hIHRyw6puXCIsXG4gICAgYWRkX2JlbG93X21lbnVpdGVtOiBcIlRow6ptIGjDoG5nIHBow61hIGTGsOG7m2lcIlxuICB9LFxuICBzdWdnZXN0aW9uX21lbnU6IHtcbiAgICBub19pdGVtc190aXRsZTogXCJLaMO0bmcgdMOsbSB0aOG6pXkgbeG7pWMgbsOgb1wiLFxuICAgIGxvYWRpbmc6IFwixJBhbmcgdOG6o2kuLi5cIlxuICB9LFxuICBjb2xvcl9waWNrZXI6IHtcbiAgICB0ZXh0X3RpdGxlOiBcIlbEg24gYuG6o25cIixcbiAgICBiYWNrZ3JvdW5kX3RpdGxlOiBcIk7hu4FuXCIsXG4gICAgY29sb3JzOiB7XG4gICAgICBkZWZhdWx0OiBcIk3hurdjIMSR4buLbmhcIixcbiAgICAgIGdyYXk6IFwiWMOhbVwiLFxuICAgICAgYnJvd246IFwiTsOidVwiLFxuICAgICAgcmVkOiBcIsSQ4buPXCIsXG4gICAgICBvcmFuZ2U6IFwiQ2FtXCIsXG4gICAgICB5ZWxsb3c6IFwiVsOgbmdcIixcbiAgICAgIGdyZWVuOiBcIlhhbmggbMOhXCIsXG4gICAgICBibHVlOiBcIlhhbmggZMawxqFuZ1wiLFxuICAgICAgcHVycGxlOiBcIlTDrW1cIixcbiAgICAgIHBpbms6IFwiSOG7k25nXCJcbiAgICB9XG4gIH0sXG4gIGZvcm1hdHRpbmdfdG9vbGJhcjoge1xuICAgIGJvbGQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiSW4gxJHhuq1tXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrQlwiXG4gICAgfSxcbiAgICBpdGFsaWM6IHtcbiAgICAgIHRvb2x0aXA6IFwiSW4gbmdoacOqbmdcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIk1vZCtJXCJcbiAgICB9LFxuICAgIHVuZGVybGluZToge1xuICAgICAgdG9vbHRpcDogXCJH4bqhY2ggZMaw4bubaVwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1VcIlxuICAgIH0sXG4gICAgc3RyaWtlOiB7XG4gICAgICB0b29sdGlwOiBcIkfhuqFjaCBuZ2FuZ1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1NoaWZ0K1hcIlxuICAgIH0sXG4gICAgY29kZToge1xuICAgICAgdG9vbHRpcDogXCJDb2RlXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJcIlxuICAgIH0sXG4gICAgY29sb3JzOiB7XG4gICAgICB0b29sdGlwOiBcIk3DoHUgc+G6r2NcIlxuICAgIH0sXG4gICAgbGluazoge1xuICAgICAgdG9vbHRpcDogXCJU4bqhbyBsacOqbiBr4bq/dFwiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0tcIlxuICAgIH0sXG4gICAgZmlsZV9jYXB0aW9uOiB7XG4gICAgICB0b29sdGlwOiBcIkNo4buJbmggc+G7rWEgY2jDuiB0aMOtY2hcIixcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiBcIkNo4buJbmggc+G7rWEgY2jDuiB0aMOtY2hcIlxuICAgIH0sXG4gICAgZmlsZV9yZXBsYWNlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIlRoYXkgdGjhur8gaMOsbmgg4bqjbmhcIixcbiAgICAgICAgdmlkZW86IFwiVGhheSB0aOG6vyB2aWRlb1wiLFxuICAgICAgICBhdWRpbzogXCJUaGF5IHRo4bq/IMOibSB0aGFuaFwiLFxuICAgICAgICBmaWxlOiBcIlRoYXkgdGjhur8gdOG7h3BcIlxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsZV9yZW5hbWU6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwixJDhu5VpIHTDqm4gaMOsbmgg4bqjbmhcIixcbiAgICAgICAgdmlkZW86IFwixJDhu5VpIHTDqm4gdmlkZW9cIixcbiAgICAgICAgYXVkaW86IFwixJDhu5VpIHTDqm4gw6JtIHRoYW5oXCIsXG4gICAgICAgIGZpbGU6IFwixJDhu5VpIHTDqm4gdOG7h3BcIlxuICAgICAgfSxcbiAgICAgIGlucHV0X3BsYWNlaG9sZGVyOiB7XG4gICAgICAgIGltYWdlOiBcIsSQ4buVaSB0w6puIGjDrG5oIOG6o25oXCIsXG4gICAgICAgIHZpZGVvOiBcIsSQ4buVaSB0w6puIHZpZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIsSQ4buVaSB0w6puIMOibSB0aGFuaFwiLFxuICAgICAgICBmaWxlOiBcIsSQ4buVaSB0w6puIHThu4dwXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfZG93bmxvYWQ6IHtcbiAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgaW1hZ2U6IFwiVOG6o2kgeHXhu5FuZyBow6xuaCDhuqNuaFwiLFxuICAgICAgICB2aWRlbzogXCJU4bqjaSB4deG7kW5nIHZpZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIlThuqNpIHh14buRbmcgw6JtIHRoYW5oXCIsXG4gICAgICAgIGZpbGU6IFwiVOG6o2kgeHXhu5FuZyB04buHcFwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX2RlbGV0ZToge1xuICAgICAgdG9vbHRpcDoge1xuICAgICAgICBpbWFnZTogXCJYw7NhIGjDrG5oIOG6o25oXCIsXG4gICAgICAgIHZpZGVvOiBcIljDs2EgdmlkZW9cIixcbiAgICAgICAgYXVkaW86IFwiWMOzYSDDom0gdGhhbmhcIixcbiAgICAgICAgZmlsZTogXCJYw7NhIHThu4dwXCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfcHJldmlld190b2dnbGU6IHtcbiAgICAgIHRvb2x0aXA6IFwiQ2h1eeG7g24gxJHhu5VpIHhlbSB0csaw4bubY1wiXG4gICAgfSxcbiAgICBuZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIkzhu5NuZyBraOG7kWlcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlRhYlwiXG4gICAgfSxcbiAgICB1bm5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwiQuG7jyBs4buTbmcga2jhu5FpXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJTaGlmdCtUYWJcIlxuICAgIH0sXG4gICAgYWxpZ25fbGVmdDoge1xuICAgICAgdG9vbHRpcDogXCJDxINuIHRyw6FpIHbEg24gYuG6o25cIlxuICAgIH0sXG4gICAgYWxpZ25fY2VudGVyOiB7XG4gICAgICB0b29sdGlwOiBcIkPEg24gZ2nhu69hIHbEg24gYuG6o25cIlxuICAgIH0sXG4gICAgYWxpZ25fcmlnaHQ6IHtcbiAgICAgIHRvb2x0aXA6IFwiQ8SDbiBwaOG6o2kgdsSDbiBi4bqjblwiXG4gICAgfSxcbiAgICBhbGlnbl9qdXN0aWZ5OiB7XG4gICAgICB0b29sdGlwOiBcIkPEg24gxJHhu4F1IHbEg24gYuG6o25cIlxuICAgIH1cbiAgfSxcbiAgZmlsZV9wYW5lbDoge1xuICAgIHVwbG9hZDoge1xuICAgICAgdGl0bGU6IFwiVOG6o2kgbMOqblwiLFxuICAgICAgZmlsZV9wbGFjZWhvbGRlcjoge1xuICAgICAgICBpbWFnZTogXCJU4bqjaSBsw6puIGjDrG5oIOG6o25oXCIsXG4gICAgICAgIHZpZGVvOiBcIlThuqNpIGzDqm4gdmlkZW9cIixcbiAgICAgICAgYXVkaW86IFwiVOG6o2kgbMOqbiDDom0gdGhhbmhcIixcbiAgICAgICAgZmlsZTogXCJU4bqjaSBsw6puIHThu4dwXCJcbiAgICAgIH0sXG4gICAgICB1cGxvYWRfZXJyb3I6IFwiTOG7l2k6IFThuqNpIGzDqm4gdGjhuqV0IGLhuqFpXCJcbiAgICB9LFxuICAgIGVtYmVkOiB7XG4gICAgICB0aXRsZTogXCJOaMO6bmdcIixcbiAgICAgIGVtYmVkX2J1dHRvbjoge1xuICAgICAgICBpbWFnZTogXCJOaMO6bmcgaMOsbmgg4bqjbmhcIixcbiAgICAgICAgdmlkZW86IFwiTmjDum5nIHZpZGVvXCIsXG4gICAgICAgIGF1ZGlvOiBcIk5ow7puZyDDom0gdGhhbmhcIixcbiAgICAgICAgZmlsZTogXCJOaMO6bmcgdOG7h3BcIlxuICAgICAgfSxcbiAgICAgIHVybF9wbGFjZWhvbGRlcjogXCJOaOG6rXAgVVJMXCJcbiAgICB9XG4gIH0sXG4gIGxpbmtfdG9vbGJhcjoge1xuICAgIGRlbGV0ZToge1xuICAgICAgdG9vbHRpcDogXCJYw7NhIGxpw6puIGvhur90XCJcbiAgICB9LFxuICAgIGVkaXQ6IHtcbiAgICAgIHRleHQ6IFwiQ2jhu4luaCBz4butYSBsacOqbiBr4bq/dFwiLFxuICAgICAgdG9vbHRpcDogXCJDaOG7iW5oIHPhu61hXCJcbiAgICB9LFxuICAgIG9wZW46IHtcbiAgICAgIHRvb2x0aXA6IFwiTeG7nyB0cm9uZyB0YWIgbeG7m2lcIlxuICAgIH0sXG4gICAgZm9ybToge1xuICAgICAgdGl0bGVfcGxhY2Vob2xkZXI6IFwiQ2jhu4luaCBz4butYSB0acOqdSDEkeG7gVwiLFxuICAgICAgdXJsX3BsYWNlaG9sZGVyOiBcIkNo4buJbmggc+G7rWEgVVJMXCJcbiAgICB9XG4gIH0sXG4gIGdlbmVyaWM6IHtcbiAgICBjdHJsX3Nob3J0Y3V0OiBcIkN0cmxcIlxuICB9XG59LCB3byA9IHtcbiAgc2xhc2hfbWVudToge1xuICAgIGhlYWRpbmc6IHtcbiAgICAgIHRpdGxlOiBcIuS4gOe6p+agh+mimFwiLFxuICAgICAgc3VidGV4dDogXCLnlKjkuo7pobbnuqfmoIfpophcIixcbiAgICAgIGFsaWFzZXM6IFtcImhcIiwgXCJoZWFkaW5nMVwiLCBcImgxXCIsIFwi5qCH6aKYXCIsIFwi5LiA57qn5qCH6aKYXCJdLFxuICAgICAgZ3JvdXA6IFwi5qCH6aKYXCJcbiAgICB9LFxuICAgIGhlYWRpbmdfMjoge1xuICAgICAgdGl0bGU6IFwi5LqM57qn5qCH6aKYXCIsXG4gICAgICBzdWJ0ZXh0OiBcIueUqOS6juWFs+mUrumDqOWIhlwiLFxuICAgICAgYWxpYXNlczogW1wiaDJcIiwgXCJoZWFkaW5nMlwiLCBcInN1YmhlYWRpbmdcIiwgXCLmoIfpophcIiwgXCLkuoznuqfmoIfpophcIiwgXCLlia/moIfpophcIl0sXG4gICAgICBncm91cDogXCLmoIfpophcIlxuICAgIH0sXG4gICAgaGVhZGluZ18zOiB7XG4gICAgICB0aXRsZTogXCLkuInnuqfmoIfpophcIixcbiAgICAgIHN1YnRleHQ6IFwi55So5LqO5bCP6IqC5ZKM5YiG57uE5qCH6aKYXCIsXG4gICAgICBhbGlhc2VzOiBbXCJoM1wiLCBcImhlYWRpbmczXCIsIFwic3ViaGVhZGluZ1wiLCBcIuagh+mimFwiLCBcIuS4iee6p+agh+mimFwiXSxcbiAgICAgIGdyb3VwOiBcIuagh+mimFwiXG4gICAgfSxcbiAgICBudW1iZXJlZF9saXN0OiB7XG4gICAgICB0aXRsZTogXCLmnInluo/liJfooahcIixcbiAgICAgIHN1YnRleHQ6IFwi55So5LqO5pi+56S65pyJ5bqP5YiX6KGoXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwib2xcIixcbiAgICAgICAgXCJsaVwiLFxuICAgICAgICBcImxpc3RcIixcbiAgICAgICAgXCJudW1iZXJlZGxpc3RcIixcbiAgICAgICAgXCJudW1iZXJlZCBsaXN0XCIsXG4gICAgICAgIFwi5YiX6KGoXCIsXG4gICAgICAgIFwi5pyJ5bqP5YiX6KGoXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLln7rnoYBcIlxuICAgIH0sXG4gICAgYnVsbGV0X2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIuaXoOW6j+WIl+ihqFwiLFxuICAgICAgc3VidGV4dDogXCLnlKjkuo7mmL7npLrml6Dluo/liJfooahcIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJ1bFwiLFxuICAgICAgICBcImxpXCIsXG4gICAgICAgIFwibGlzdFwiLFxuICAgICAgICBcImJ1bGxldGxpc3RcIixcbiAgICAgICAgXCJidWxsZXQgbGlzdFwiLFxuICAgICAgICBcIuWIl+ihqFwiLFxuICAgICAgICBcIuaXoOW6j+WIl+ihqFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwi5Z+656GAXCJcbiAgICB9LFxuICAgIGNoZWNrX2xpc3Q6IHtcbiAgICAgIHRpdGxlOiBcIuajgOafpea4heWNlVwiLFxuICAgICAgc3VidGV4dDogXCLnlKjkuo7mmL7npLrluKbmnInlpI3pgInmoYbnmoTliJfooahcIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCJ1bFwiLFxuICAgICAgICBcImxpXCIsXG4gICAgICAgIFwiY2hlY2tsaXN0XCIsXG4gICAgICAgIFwiY2hlY2tlZCBsaXN0XCIsXG4gICAgICAgIFwi5YiX6KGoXCIsXG4gICAgICAgIFwi5qOA5p+l5riF5Y2VXCIsXG4gICAgICAgIFwi5Yu+6YCJ5YiX6KGoXCIsXG4gICAgICAgIFwi5aSN6YCJ5qGGXCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLln7rnoYBcIlxuICAgIH0sXG4gICAgcGFyYWdyYXBoOiB7XG4gICAgICB0aXRsZTogXCLmrrXokL1cIixcbiAgICAgIHN1YnRleHQ6IFwi55So5LqO5paH5qGj5q2j5paHXCIsXG4gICAgICBhbGlhc2VzOiBbXCJwXCIsIFwicGFyYWdyYXBoXCIsIFwidGV4dFwiLCBcIuato+aWh1wiXSxcbiAgICAgIGdyb3VwOiBcIuWfuuehgFwiXG4gICAgfSxcbiAgICB0YWJsZToge1xuICAgICAgdGl0bGU6IFwi6KGo5qC8XCIsXG4gICAgICBzdWJ0ZXh0OiBcIuS9v+eUqOihqOagvFwiLFxuICAgICAgYWxpYXNlczogW1widGFibGVcIiwgXCLooajmoLxcIl0sXG4gICAgICBncm91cDogXCLpq5jnuqflip/og71cIlxuICAgIH0sXG4gICAgaW1hZ2U6IHtcbiAgICAgIHRpdGxlOiBcIuWbvueJh1wiLFxuICAgICAgc3VidGV4dDogXCLmj5LlhaXlm77niYdcIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCLlm77niYdcIixcbiAgICAgICAgXCLkuIrkvKDlm77niYdcIixcbiAgICAgICAgXCLkuIrkvKBcIixcbiAgICAgICAgXCJpbWFnZVwiLFxuICAgICAgICBcImltZ1wiLFxuICAgICAgICBcIuebuOWGjFwiLFxuICAgICAgICBcIuWqkuS9k1wiLFxuICAgICAgICBcInVybFwiXG4gICAgICBdLFxuICAgICAgZ3JvdXA6IFwi5aqS5L2TXCJcbiAgICB9LFxuICAgIHZpZGVvOiB7XG4gICAgICB0aXRsZTogXCLop4bpopFcIixcbiAgICAgIHN1YnRleHQ6IFwi5o+S5YWl6KeG6aKRXCIsXG4gICAgICBhbGlhc2VzOiBbXG4gICAgICAgIFwi6KeG6aKRXCIsXG4gICAgICAgIFwi6KeG6aKR5LiK5LygXCIsXG4gICAgICAgIFwi5LiK5LygXCIsXG4gICAgICAgIFwidmlkZW9cIixcbiAgICAgICAgXCJtcDRcIixcbiAgICAgICAgXCLnlLXlvbFcIixcbiAgICAgICAgXCLlqpLkvZNcIixcbiAgICAgICAgXCJ1cmxcIixcbiAgICAgICAgXCLpqbHliqhcIixcbiAgICAgICAgXCJkcm9wYm94XCJcbiAgICAgIF0sXG4gICAgICBncm91cDogXCLlqpLkvZNcIlxuICAgIH0sXG4gICAgYXVkaW86IHtcbiAgICAgIHRpdGxlOiBcIumfs+mikVwiLFxuICAgICAgc3VidGV4dDogXCLmj5LlhaXpn7PpopFcIixcbiAgICAgIGFsaWFzZXM6IFtcbiAgICAgICAgXCLpn7PpopFcIixcbiAgICAgICAgXCLpn7PpopHkuIrkvKBcIixcbiAgICAgICAgXCLkuIrkvKBcIixcbiAgICAgICAgXCJhdWRpb1wiLFxuICAgICAgICBcIm1wM1wiLFxuICAgICAgICBcIuWjsOmfs1wiLFxuICAgICAgICBcIuWqkuS9k1wiLFxuICAgICAgICBcInVybFwiLFxuICAgICAgICBcIumpseWKqFwiLFxuICAgICAgICBcImRyb3Bib3hcIlxuICAgICAgXSxcbiAgICAgIGdyb3VwOiBcIuWqkuS9k1wiXG4gICAgfSxcbiAgICBmaWxlOiB7XG4gICAgICB0aXRsZTogXCLmlofku7ZcIixcbiAgICAgIHN1YnRleHQ6IFwi5o+S5YWl5paH5Lu2XCIsXG4gICAgICBhbGlhc2VzOiBbXCLmlofku7ZcIiwgXCLkuIrkvKBcIiwgXCJmaWxlXCIsIFwi5bWM5YWlXCIsIFwi5aqS5L2TXCIsIFwidXJsXCJdLFxuICAgICAgZ3JvdXA6IFwi5aqS5L2TXCJcbiAgICB9XG4gIH0sXG4gIHBsYWNlaG9sZGVyczoge1xuICAgIGRlZmF1bHQ6IFwi6L6T5YWlICcvJyDku6Xkvb/nlKjlkb3ku6RcIixcbiAgICBoZWFkaW5nOiBcIuagh+mimFwiLFxuICAgIGJ1bGxldExpc3RJdGVtOiBcIuWIl+ihqFwiLFxuICAgIG51bWJlcmVkTGlzdEl0ZW06IFwi5YiX6KGoXCIsXG4gICAgY2hlY2tMaXN0SXRlbTogXCLliJfooahcIlxuICB9LFxuICBmaWxlX2Jsb2Nrczoge1xuICAgIGltYWdlOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwi5re75Yqg5Zu+54mHXCJcbiAgICB9LFxuICAgIHZpZGVvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwi5re75Yqg6KeG6aKRXCJcbiAgICB9LFxuICAgIGF1ZGlvOiB7XG4gICAgICBhZGRfYnV0dG9uX3RleHQ6IFwi5re75Yqg6Z+z6aKRXCJcbiAgICB9LFxuICAgIGZpbGU6IHtcbiAgICAgIGFkZF9idXR0b25fdGV4dDogXCLmt7vliqDmlofku7ZcIlxuICAgIH1cbiAgfSxcbiAgLy8gZnJvbSByZWFjdCBwYWNrYWdlOlxuICBzaWRlX21lbnU6IHtcbiAgICBhZGRfYmxvY2tfbGFiZWw6IFwi5re75Yqg5Z2XXCIsXG4gICAgZHJhZ19oYW5kbGVfbGFiZWw6IFwi5omT5byA6I+c5Y2VXCJcbiAgfSxcbiAgZHJhZ19oYW5kbGU6IHtcbiAgICBkZWxldGVfbWVudWl0ZW06IFwi5Yig6ZmkXCIsXG4gICAgY29sb3JzX21lbnVpdGVtOiBcIuminOiJslwiXG4gIH0sXG4gIHRhYmxlX2hhbmRsZToge1xuICAgIGRlbGV0ZV9jb2x1bW5fbWVudWl0ZW06IFwi5Yig6Zmk5YiXXCIsXG4gICAgZGVsZXRlX3Jvd19tZW51aXRlbTogXCLliKDpmaTooYxcIixcbiAgICBhZGRfbGVmdF9tZW51aXRlbTogXCLlt6bkvqfmt7vliqDliJdcIixcbiAgICBhZGRfcmlnaHRfbWVudWl0ZW06IFwi5Y+z5L6n5re75Yqg5YiXXCIsXG4gICAgYWRkX2Fib3ZlX21lbnVpdGVtOiBcIuS4iuaWuea3u+WKoOihjFwiLFxuICAgIGFkZF9iZWxvd19tZW51aXRlbTogXCLkuIvmlrnmt7vliqDooYxcIlxuICB9LFxuICBzdWdnZXN0aW9uX21lbnU6IHtcbiAgICBub19pdGVtc190aXRsZTogXCLml6DljLnphY3poblcIixcbiAgICBsb2FkaW5nOiBcIuWKoOi9veS4reKAplwiXG4gIH0sXG4gIGNvbG9yX3BpY2tlcjoge1xuICAgIHRleHRfdGl0bGU6IFwi5paH5pysXCIsXG4gICAgYmFja2dyb3VuZF90aXRsZTogXCLog4zmma/oibJcIixcbiAgICBjb2xvcnM6IHtcbiAgICAgIGRlZmF1bHQ6IFwi6buY6K6kXCIsXG4gICAgICBncmF5OiBcIueBsOiJslwiLFxuICAgICAgYnJvd246IFwi5qOV6ImyXCIsXG4gICAgICByZWQ6IFwi57qi6ImyXCIsXG4gICAgICBvcmFuZ2U6IFwi5qmZ6ImyXCIsXG4gICAgICB5ZWxsb3c6IFwi6buE6ImyXCIsXG4gICAgICBncmVlbjogXCLnu7/oibJcIixcbiAgICAgIGJsdWU6IFwi6JOd6ImyXCIsXG4gICAgICBwdXJwbGU6IFwi57Sr6ImyXCIsXG4gICAgICBwaW5rOiBcIueyieiJslwiXG4gICAgfVxuICB9LFxuICBmb3JtYXR0aW5nX3Rvb2xiYXI6IHtcbiAgICBib2xkOiB7XG4gICAgICB0b29sdGlwOiBcIuWKoOeyl1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0JcIlxuICAgIH0sXG4gICAgaXRhbGljOiB7XG4gICAgICB0b29sdGlwOiBcIuaWnOS9k1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK0lcIlxuICAgIH0sXG4gICAgdW5kZXJsaW5lOiB7XG4gICAgICB0b29sdGlwOiBcIuS4i+WIkue6v1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1VcIlxuICAgIH0sXG4gICAgc3RyaWtlOiB7XG4gICAgICB0b29sdGlwOiBcIuWIoOmZpOe6v1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiTW9kK1NoaWZ0K1hcIlxuICAgIH0sXG4gICAgY29kZToge1xuICAgICAgdG9vbHRpcDogXCLku6PnoIHmoIforrBcIixcbiAgICAgIHNlY29uZGFyeV90b29sdGlwOiBcIlwiXG4gICAgfSxcbiAgICBjb2xvcnM6IHtcbiAgICAgIHRvb2x0aXA6IFwi6aKc6ImyXCJcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIHRvb2x0aXA6IFwi5re75Yqg6ZO+5o6lXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJNb2QrS1wiXG4gICAgfSxcbiAgICBmaWxlX2NhcHRpb246IHtcbiAgICAgIHRvb2x0aXA6IFwi57yW6L6R5qCH6aKYXCIsXG4gICAgICBpbnB1dF9wbGFjZWhvbGRlcjogXCLnvJbovpHmoIfpophcIlxuICAgIH0sXG4gICAgZmlsZV9yZXBsYWNlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIuabv+aNouWbvueJh1wiLFxuICAgICAgICB2aWRlbzogXCLmm7/mjaLop4bpopFcIixcbiAgICAgICAgYXVkaW86IFwi5pu/5o2i6Z+z6aKRXCIsXG4gICAgICAgIGZpbGU6IFwi5pu/5o2i5paH5Lu2XCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfcmVuYW1lOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIumHjeWRveWQjeWbvueJh1wiLFxuICAgICAgICB2aWRlbzogXCLph43lkb3lkI3op4bpopFcIixcbiAgICAgICAgYXVkaW86IFwi6YeN5ZG95ZCN6Z+z6aKRXCIsXG4gICAgICAgIGZpbGU6IFwi6YeN5ZG95ZCN5paH5Lu2XCJcbiAgICAgIH0sXG4gICAgICBpbnB1dF9wbGFjZWhvbGRlcjoge1xuICAgICAgICBpbWFnZTogXCLph43lkb3lkI3lm77niYdcIixcbiAgICAgICAgdmlkZW86IFwi6YeN5ZG95ZCN6KeG6aKRXCIsXG4gICAgICAgIGF1ZGlvOiBcIumHjeWRveWQjemfs+mikVwiLFxuICAgICAgICBmaWxlOiBcIumHjeWRveWQjeaWh+S7tlwiXG4gICAgICB9XG4gICAgfSxcbiAgICBmaWxlX2Rvd25sb2FkOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIuS4i+i9veWbvueJh1wiLFxuICAgICAgICB2aWRlbzogXCLkuIvovb3op4bpopFcIixcbiAgICAgICAgYXVkaW86IFwi5LiL6L296Z+z6aKRXCIsXG4gICAgICAgIGZpbGU6IFwi5LiL6L295paH5Lu2XCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfZGVsZXRlOiB7XG4gICAgICB0b29sdGlwOiB7XG4gICAgICAgIGltYWdlOiBcIuWIoOmZpOWbvueJh1wiLFxuICAgICAgICB2aWRlbzogXCLliKDpmaTop4bpopFcIixcbiAgICAgICAgYXVkaW86IFwi5Yig6Zmk6Z+z6aKRXCIsXG4gICAgICAgIGZpbGU6IFwi5Yig6Zmk5paH5Lu2XCJcbiAgICAgIH1cbiAgICB9LFxuICAgIGZpbGVfcHJldmlld190b2dnbGU6IHtcbiAgICAgIHRvb2x0aXA6IFwi5YiH5o2i6aKE6KeIXCJcbiAgICB9LFxuICAgIG5lc3Q6IHtcbiAgICAgIHRvb2x0aXA6IFwi5bWM5aWXXCIsXG4gICAgICBzZWNvbmRhcnlfdG9vbHRpcDogXCJUYWJcIlxuICAgIH0sXG4gICAgdW5uZXN0OiB7XG4gICAgICB0b29sdGlwOiBcIuWPlua2iOW1jOWll1wiLFxuICAgICAgc2Vjb25kYXJ5X3Rvb2x0aXA6IFwiU2hpZnQrVGFiXCJcbiAgICB9LFxuICAgIGFsaWduX2xlZnQ6IHtcbiAgICAgIHRvb2x0aXA6IFwi5bem5a+56b2QXCJcbiAgICB9LFxuICAgIGFsaWduX2NlbnRlcjoge1xuICAgICAgdG9vbHRpcDogXCLlsYXkuK1cIlxuICAgIH0sXG4gICAgYWxpZ25fcmlnaHQ6IHtcbiAgICAgIHRvb2x0aXA6IFwi5Y+z5a+56b2QXCJcbiAgICB9LFxuICAgIGFsaWduX2p1c3RpZnk6IHtcbiAgICAgIHRvb2x0aXA6IFwi5paH5pys5a+56b2QXCJcbiAgICB9XG4gIH0sXG4gIGZpbGVfcGFuZWw6IHtcbiAgICB1cGxvYWQ6IHtcbiAgICAgIHRpdGxlOiBcIuS4iuS8oFwiLFxuICAgICAgZmlsZV9wbGFjZWhvbGRlcjoge1xuICAgICAgICBpbWFnZTogXCLkuIrkvKDlm77niYdcIixcbiAgICAgICAgdmlkZW86IFwi5LiK5Lyg6KeG6aKRXCIsXG4gICAgICAgIGF1ZGlvOiBcIuS4iuS8oOmfs+mikVwiLFxuICAgICAgICBmaWxlOiBcIuS4iuS8oOaWh+S7tlwiXG4gICAgICB9LFxuICAgICAgdXBsb2FkX2Vycm9yOiBcIkVycm9y77ya5LiK5Lyg5aSx6LSlXCJcbiAgICB9LFxuICAgIGVtYmVkOiB7XG4gICAgICB0aXRsZTogXCLltYzlhaVcIixcbiAgICAgIGVtYmVkX2J1dHRvbjoge1xuICAgICAgICBpbWFnZTogXCLltYzlhaXlm77niYdcIixcbiAgICAgICAgdmlkZW86IFwi5bWM5YWl6KeG6aKRXCIsXG4gICAgICAgIGF1ZGlvOiBcIuW1jOWFpemfs+mikVwiLFxuICAgICAgICBmaWxlOiBcIuW1jOWFpeaWh+S7tlwiXG4gICAgICB9LFxuICAgICAgdXJsX3BsYWNlaG9sZGVyOiBcIui+k+WFpeWbvueJh+WcsOWdgFwiXG4gICAgfVxuICB9LFxuICBsaW5rX3Rvb2xiYXI6IHtcbiAgICBkZWxldGU6IHtcbiAgICAgIHRvb2x0aXA6IFwi5riF6Zmk6ZO+5o6lXCJcbiAgICB9LFxuICAgIGVkaXQ6IHtcbiAgICAgIHRleHQ6IFwi57yW6L6R6ZO+5o6lXCIsXG4gICAgICB0b29sdGlwOiBcIue8lui+kVwiXG4gICAgfSxcbiAgICBvcGVuOiB7XG4gICAgICB0b29sdGlwOiBcIuaWsOeql+WPo+aJk+W8gFwiXG4gICAgfSxcbiAgICBmb3JtOiB7XG4gICAgICB0aXRsZV9wbGFjZWhvbGRlcjogXCLnvJbovpHmoIfpophcIixcbiAgICAgIHVybF9wbGFjZWhvbGRlcjogXCLnvJbovpHpk77mjqXlnLDlnYBcIlxuICAgIH1cbiAgfSxcbiAgZ2VuZXJpYzoge1xuICAgIGN0cmxfc2hvcnRjdXQ6IFwiQ3RybFwiXG4gIH1cbn0sIFRyID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgYXI6IGhvLFxuICBlbjogWmUsXG4gIGZyOiBtbyxcbiAgaXM6IGZvLFxuICBqYTogZ28sXG4gIGtvOiBibyxcbiAgbmw6IGtvLFxuICBwbDogX28sXG4gIHB0OiB5byxcbiAgdmk6IHZvLFxuICB6aDogd29cbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSk7XG5mdW5jdGlvbiB4byh0LCBlID0gSlNPTi5zdHJpbmdpZnkpIHtcbiAgY29uc3QgbyA9IHt9O1xuICByZXR1cm4gdC5maWx0ZXIoKGkpID0+IHtcbiAgICBjb25zdCBuID0gZShpKTtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIG4pID8gITEgOiBvW25dID0gITA7XG4gIH0pO1xufVxuZnVuY3Rpb24gRW8odCkge1xuICBjb25zdCBlID0gdC5maWx0ZXIoXG4gICAgKGksIG4pID0+IHQuaW5kZXhPZihpKSAhPT0gblxuICApO1xuICByZXR1cm4geG8oZSk7XG59XG5jb25zdCBvZSA9IEIuY3JlYXRlKHtcbiAgbmFtZTogXCJ1bmlxdWVJRFwiLFxuICAvLyB3ZeKAmWxsIHNldCBhIHZlcnkgaGlnaCBwcmlvcml0eSB0byBtYWtlIHN1cmUgdGhpcyBydW5zIGZpcnN0XG4gIC8vIGFuZCBpcyBjb21wYXRpYmxlIHdpdGggYGFwcGVuZFRyYW5zYWN0aW9uYCBob29rcyBvZiBvdGhlciBleHRlbnNpb25zXG4gIHByaW9yaXR5OiAxZTQsXG4gIGFkZE9wdGlvbnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF0dHJpYnV0ZU5hbWU6IFwiaWRcIixcbiAgICAgIHR5cGVzOiBbXSxcbiAgICAgIGdlbmVyYXRlSUQ6ICgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPCBcInVcIiAmJiB3aW5kb3cuX19URVNUX09QVElPTlMpIHtcbiAgICAgICAgICBjb25zdCB0ID0gd2luZG93Ll9fVEVTVF9PUFRJT05TO1xuICAgICAgICAgIHJldHVybiB0Lm1vY2tJRCA9PT0gdm9pZCAwID8gdC5tb2NrSUQgPSAwIDogdC5tb2NrSUQrKywgdC5tb2NrSUQudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ganQoKTtcbiAgICAgIH0sXG4gICAgICBmaWx0ZXJUcmFuc2FjdGlvbjogbnVsbFxuICAgIH07XG4gIH0sXG4gIGFkZEdsb2JhbEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdHlwZXM6IHRoaXMub3B0aW9ucy50eXBlcyxcbiAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgIFt0aGlzLm9wdGlvbnMuYXR0cmlidXRlTmFtZV06IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IG51bGwsXG4gICAgICAgICAgICBwYXJzZUhUTUw6ICh0KSA9PiB0LmdldEF0dHJpYnV0ZShgZGF0YS0ke3RoaXMub3B0aW9ucy5hdHRyaWJ1dGVOYW1lfWApLFxuICAgICAgICAgICAgcmVuZGVySFRNTDogKHQpID0+ICh7XG4gICAgICAgICAgICAgIFtgZGF0YS0ke3RoaXMub3B0aW9ucy5hdHRyaWJ1dGVOYW1lfWBdOiB0W3RoaXMub3B0aW9ucy5hdHRyaWJ1dGVOYW1lXVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdO1xuICB9LFxuICAvLyBjaGVjayBpbml0aWFsIGNvbnRlbnQgZm9yIG1pc3NpbmcgaWRzXG4gIC8vIG9uQ3JlYXRlKCkge1xuICAvLyAgIC8vIERvbuKAmXQgZG8gdGhpcyB3aGVuIHRoZSBjb2xsYWJvcmF0aW9uIGV4dGVuc2lvbiBpcyBhY3RpdmVcbiAgLy8gICAvLyBiZWNhdXNlIHRoaXMgbWF5IHVwZGF0ZSB0aGUgY29udGVudCwgc28gWS5qcyB0cmllcyB0byBtZXJnZSB0aGVzZSBjaGFuZ2VzLlxuICAvLyAgIC8vIFRoaXMgbGVhZHMgdG8gZW1wdHkgYmxvY2sgbm9kZXMuXG4gIC8vICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vdWViZXJkb3Npcy90aXB0YXAvaXNzdWVzLzI0MDBcbiAgLy8gICBpZiAoXG4gIC8vICAgICB0aGlzLmVkaXRvci5leHRlbnNpb25NYW5hZ2VyLmV4dGVuc2lvbnMuZmluZChcbiAgLy8gICAgICAgKGV4dGVuc2lvbikgPT4gZXh0ZW5zaW9uLm5hbWUgPT09IFwiY29sbGFib3JhdGlvblwiXG4gIC8vICAgICApXG4gIC8vICAgKSB7XG4gIC8vICAgICByZXR1cm47XG4gIC8vICAgfVxuICAvLyAgIGNvbnN0IHsgdmlldywgc3RhdGUgfSA9IHRoaXMuZWRpdG9yO1xuICAvLyAgIGNvbnN0IHsgdHIsIGRvYyB9ID0gc3RhdGU7XG4gIC8vICAgY29uc3QgeyB0eXBlcywgYXR0cmlidXRlTmFtZSwgZ2VuZXJhdGVJRCB9ID0gdGhpcy5vcHRpb25zO1xuICAvLyAgIGNvbnN0IG5vZGVzV2l0aG91dElkID0gZmluZENoaWxkcmVuKGRvYywgKG5vZGUpID0+IHtcbiAgLy8gICAgIHJldHVybiAoXG4gIC8vICAgICAgIHR5cGVzLmluY2x1ZGVzKG5vZGUudHlwZS5uYW1lKSAmJiBub2RlLmF0dHJzW2F0dHJpYnV0ZU5hbWVdID09PSBudWxsXG4gIC8vICAgICApO1xuICAvLyAgIH0pO1xuICAvLyAgIG5vZGVzV2l0aG91dElkLmZvckVhY2goKHsgbm9kZSwgcG9zIH0pID0+IHtcbiAgLy8gICAgIHRyLnNldE5vZGVNYXJrdXAocG9zLCB1bmRlZmluZWQsIHtcbiAgLy8gICAgICAgLi4ubm9kZS5hdHRycyxcbiAgLy8gICAgICAgW2F0dHJpYnV0ZU5hbWVdOiBnZW5lcmF0ZUlEKCksXG4gIC8vICAgICB9KTtcbiAgLy8gICB9KTtcbiAgLy8gICB0ci5zZXRNZXRhKFwiYWRkVG9IaXN0b3J5XCIsIGZhbHNlKTtcbiAgLy8gICB2aWV3LmRpc3BhdGNoKHRyKTtcbiAgLy8gfSxcbiAgYWRkUHJvc2VNaXJyb3JQbHVnaW5zKCkge1xuICAgIGxldCB0ID0gbnVsbCwgZSA9ICExO1xuICAgIHJldHVybiBbXG4gICAgICBuZXcgdih7XG4gICAgICAgIGtleTogbmV3IFMoXCJ1bmlxdWVJRFwiKSxcbiAgICAgICAgYXBwZW5kVHJhbnNhY3Rpb246IChvLCBpLCBuKSA9PiB7XG4gICAgICAgICAgY29uc3QgciA9IG8uc29tZSgoZikgPT4gZi5kb2NDaGFuZ2VkKSAmJiAhaS5kb2MuZXEobi5kb2MpLCBhID0gdGhpcy5vcHRpb25zLmZpbHRlclRyYW5zYWN0aW9uICYmIG8uc29tZSgoZikgPT4ge1xuICAgICAgICAgICAgbGV0IGcsIGs7XG4gICAgICAgICAgICByZXR1cm4gISghKChrID0gKGcgPSB0aGlzLm9wdGlvbnMpLmZpbHRlclRyYW5zYWN0aW9uKSA9PT0gbnVsbCB8fCBrID09PSB2b2lkIDApICYmIGsuY2FsbChnLCBmKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKCFyIHx8IGEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgeyB0cjogcyB9ID0gbiwgeyB0eXBlczogbCwgYXR0cmlidXRlTmFtZTogZCwgZ2VuZXJhdGVJRDogdSB9ID0gdGhpcy5vcHRpb25zLCBwID0gVHQoXG4gICAgICAgICAgICBpLmRvYyxcbiAgICAgICAgICAgIG9cbiAgICAgICAgICApLCB7IG1hcHBpbmc6IGggfSA9IHA7XG4gICAgICAgICAgaWYgKEJ0KHApLmZvckVhY2goKHsgbmV3UmFuZ2U6IGYgfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZyA9IEx0KFxuICAgICAgICAgICAgICBuLmRvYyxcbiAgICAgICAgICAgICAgZixcbiAgICAgICAgICAgICAgKE0pID0+IGwuaW5jbHVkZXMoTS50eXBlLm5hbWUpXG4gICAgICAgICAgICApLCBrID0gZy5tYXAoKHsgbm9kZTogTSB9KSA9PiBNLmF0dHJzW2RdKS5maWx0ZXIoKE0pID0+IE0gIT09IG51bGwpLCBJID0gRW8oayk7XG4gICAgICAgICAgICBnLmZvckVhY2goKHsgbm9kZTogTSwgcG9zOiBBIH0pID0+IHtcbiAgICAgICAgICAgICAgbGV0IFo7XG4gICAgICAgICAgICAgIGNvbnN0IExlID0gKFogPSBzLmRvYy5ub2RlQXQoQSkpID09PSBudWxsIHx8IFogPT09IHZvaWQgMCA/IHZvaWQgMCA6IFouYXR0cnNbZF07XG4gICAgICAgICAgICAgIGlmIChMZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IEllID0gaS5kb2MudHlwZS5jcmVhdGVBbmRGaWxsKCkuY29udGVudDtcbiAgICAgICAgICAgICAgICBpZiAoaS5kb2MuY29udGVudC5maW5kRGlmZlN0YXJ0KEllKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgQWUgPSBKU09OLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShuLmRvYy50b0pTT04oKSlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBpZiAoQWUuY29udGVudFswXS5jb250ZW50WzBdLmF0dHJzLmlkID0gXCJpbml0aWFsQmxvY2tJZFwiLCBKU09OLnN0cmluZ2lmeShBZS5jb250ZW50KSA9PT0gSlNPTi5zdHJpbmdpZnkoSWUudG9KU09OKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHMuc2V0Tm9kZU1hcmt1cChBLCB2b2lkIDAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAuLi5NLmF0dHJzLFxuICAgICAgICAgICAgICAgICAgICAgIFtkXTogXCJpbml0aWFsQmxvY2tJZFwiXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHMuc2V0Tm9kZU1hcmt1cChBLCB2b2lkIDAsIHtcbiAgICAgICAgICAgICAgICAgIC4uLk0uYXR0cnMsXG4gICAgICAgICAgICAgICAgICBbZF06IHUoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCB7IGRlbGV0ZWQ6IHh0IH0gPSBoLmludmVydCgpLm1hcFJlc3VsdChBKTtcbiAgICAgICAgICAgICAgeHQgJiYgSS5pbmNsdWRlcyhMZSkgJiYgcy5zZXROb2RlTWFya3VwKEEsIHZvaWQgMCwge1xuICAgICAgICAgICAgICAgIC4uLk0uYXR0cnMsXG4gICAgICAgICAgICAgICAgW2RdOiB1KClcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KSwgISFzLnN0ZXBzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBzO1xuICAgICAgICB9LFxuICAgICAgICAvLyB3ZSByZWdpc3RlciBhIGdsb2JhbCBkcmFnIGhhbmRsZXIgdG8gdHJhY2sgdGhlIGN1cnJlbnQgZHJhZyBzb3VyY2UgZWxlbWVudFxuICAgICAgICB2aWV3KG8pIHtcbiAgICAgICAgICBjb25zdCBpID0gKG4pID0+IHtcbiAgICAgICAgICAgIGxldCByO1xuICAgICAgICAgICAgdCA9ICEoKHIgPSBvLmRvbS5wYXJlbnRFbGVtZW50KSA9PT0gbnVsbCB8fCByID09PSB2b2lkIDApICYmIHIuY29udGFpbnMobi50YXJnZXQpID8gby5kb20ucGFyZW50RWxlbWVudCA6IG51bGw7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgaSksIHtcbiAgICAgICAgICAgIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgLy8gYGhhbmRsZURPTUV2ZW50c2AgaXMgY2FsbGVkIGJlZm9yZSBgdHJhbnNmb3JtUGFzdGVkYFxuICAgICAgICAgIC8vIHNvIHdlIGNhbiBkbyBzb21lIGNoZWNrcyBiZWZvcmVcbiAgICAgICAgICBoYW5kbGVET01FdmVudHM6IHtcbiAgICAgICAgICAgIC8vIG9ubHkgY3JlYXRlIG5ldyBpZHMgZm9yIGRyb3BwZWQgY29udGVudCB3aGlsZSBob2xkaW5nIGBhbHRgXG4gICAgICAgICAgICAvLyBvciBjb250ZW50IGlzIGRyYWdnZWQgZnJvbSBhbm90aGVyIGVkaXRvclxuICAgICAgICAgICAgZHJvcDogKG8sIGkpID0+IHtcbiAgICAgICAgICAgICAgbGV0IG47XG4gICAgICAgICAgICAgIHJldHVybiAodCAhPT0gby5kb20ucGFyZW50RWxlbWVudCB8fCAoKG4gPSBpLmRhdGFUcmFuc2ZlcikgPT09IG51bGwgfHwgbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogbi5lZmZlY3RBbGxvd2VkKSA9PT0gXCJjb3B5XCIpICYmICh0ID0gbnVsbCwgZSA9ICEwKSwgITE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gYWx3YXlzIGNyZWF0ZSBuZXcgaWRzIG9uIHBhc3RlZCBjb250ZW50XG4gICAgICAgICAgICBwYXN0ZTogKCkgPT4gKGUgPSAhMCwgITEpXG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyB3ZeKAmWxsIHJlbW92ZSBpZHMgZm9yIGV2ZXJ5IHBhc3RlZCBub2RlXG4gICAgICAgICAgLy8gc28gd2UgY2FuIGNyZWF0ZSBhIG5ldyBvbmUgd2l0aGluIGBhcHBlbmRUcmFuc2FjdGlvbmBcbiAgICAgICAgICB0cmFuc2Zvcm1QYXN0ZWQ6IChvKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWUpXG4gICAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICAgICAgY29uc3QgeyB0eXBlczogaSwgYXR0cmlidXRlTmFtZTogbiB9ID0gdGhpcy5vcHRpb25zLCByID0gKGEpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgcyA9IFtdO1xuICAgICAgICAgICAgICByZXR1cm4gYS5mb3JFYWNoKChsKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGwuaXNUZXh0KSB7XG4gICAgICAgICAgICAgICAgICBzLnB1c2gobCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghaS5pbmNsdWRlcyhsLnR5cGUubmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgIHMucHVzaChsLmNvcHkocihsLmNvbnRlbnQpKSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGQgPSBsLnR5cGUuY3JlYXRlKFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAuLi5sLmF0dHJzLFxuICAgICAgICAgICAgICAgICAgICBbbl06IG51bGxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICByKGwuY29udGVudCksXG4gICAgICAgICAgICAgICAgICBsLm1hcmtzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBzLnB1c2goZCk7XG4gICAgICAgICAgICAgIH0pLCBULmZyb20ocyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGUgPSAhMSwgbmV3IEQoXG4gICAgICAgICAgICAgIHIoby5jb250ZW50KSxcbiAgICAgICAgICAgICAgby5vcGVuU3RhcnQsXG4gICAgICAgICAgICAgIG8ub3BlbkVuZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgXTtcbiAgfVxufSk7XG5mdW5jdGlvbiBKZSh0KSB7XG4gIGNvbnN0IGUgPSB0LmF0dHJzLmlkLCBvID0gdC5maXJzdENoaWxkLCBpID0gby50eXBlLCBuID0gdC5jaGlsZENvdW50ID09PSAyID8gdC5sYXN0Q2hpbGQuY2hpbGRDb3VudCA6IDA7XG4gIHJldHVybiB7XG4gICAgaWQ6IGUsXG4gICAgbm9kZTogdCxcbiAgICBjb250ZW50Tm9kZTogbyxcbiAgICBjb250ZW50VHlwZTogaSxcbiAgICBudW1DaGlsZEJsb2NrczogblxuICB9O1xufVxuZnVuY3Rpb24gYih0LCBlKSB7XG4gIGNvbnN0IGkgPSB0Lm5vZGVTaXplIC0gMjtcbiAgaWYgKGUgPD0gMSlcbiAgICBmb3IgKGUgPSAxICsgMTsgdC5yZXNvbHZlKGUpLnBhcmVudC50eXBlLm5hbWUgIT09IFwiYmxvY2tDb250YWluZXJcIiAmJiBlIDwgaTsgKVxuICAgICAgZSsrO1xuICBlbHNlIGlmIChlID49IGkpXG4gICAgZm9yIChlID0gaSAtIDE7IHQucmVzb2x2ZShlKS5wYXJlbnQudHlwZS5uYW1lICE9PSBcImJsb2NrQ29udGFpbmVyXCIgJiYgZSA+IDE7IClcbiAgICAgIGUtLTtcbiAgdC5yZXNvbHZlKGUpLnBhcmVudC50eXBlLm5hbWUgPT09IFwiYmxvY2tHcm91cFwiICYmIGUrKztcbiAgY29uc3QgbiA9IHQucmVzb2x2ZShlKSwgciA9IG4uZGVwdGg7XG4gIGxldCBhID0gbi5ub2RlKHIpLCBzID0gcjtcbiAgZm9yICg7IDsgKSB7XG4gICAgaWYgKHMgPCAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkNvdWxkIG5vdCBmaW5kIGJsb2NrQ29udGFpbmVyIG5vZGUuIFRoaXMgY2FuIG9ubHkgaGFwcGVuIGlmIHRoZSB1bmRlcmx5aW5nIEJsb2NrTm90ZSBzY2hlbWEgaGFzIGJlZW4gZWRpdGVkLlwiXG4gICAgICApO1xuICAgIGlmIChhLnR5cGUubmFtZSA9PT0gXCJibG9ja0NvbnRhaW5lclwiKVxuICAgICAgYnJlYWs7XG4gICAgcyAtPSAxLCBhID0gbi5ub2RlKHMpO1xuICB9XG4gIGNvbnN0IHsgaWQ6IGwsIGNvbnRlbnROb2RlOiBkLCBjb250ZW50VHlwZTogdSwgbnVtQ2hpbGRCbG9ja3M6IHAgfSA9IEplKGEpLCBoID0gbi5zdGFydChzKSwgbSA9IG4uZW5kKHMpO1xuICByZXR1cm4ge1xuICAgIGlkOiBsLFxuICAgIG5vZGU6IGEsXG4gICAgY29udGVudE5vZGU6IGQsXG4gICAgY29udGVudFR5cGU6IHUsXG4gICAgbnVtQ2hpbGRCbG9ja3M6IHAsXG4gICAgc3RhcnRQb3M6IGgsXG4gICAgZW5kUG9zOiBtLFxuICAgIGRlcHRoOiBzXG4gIH07XG59XG5mdW5jdGlvbiBIZSh0KSB7XG4gIHJldHVybiB0LnR5cGUgPT09IFwibGlua1wiO1xufVxuZnVuY3Rpb24gWWUodCkge1xuICByZXR1cm4gdHlwZW9mIHQgIT0gXCJzdHJpbmdcIiAmJiB0LnR5cGUgPT09IFwibGlua1wiO1xufVxuZnVuY3Rpb24gdGUodCkge1xuICByZXR1cm4gdHlwZW9mIHQgIT0gXCJzdHJpbmdcIiAmJiB0LnR5cGUgPT09IFwidGV4dFwiO1xufVxuY2xhc3MgTCBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHN1cGVyKGBVbnJlYWNoYWJsZSBjYXNlOiAke2V9YCk7XG4gIH1cbn1cbmZ1bmN0aW9uIEJyKHQsIGUgPSAhMCkge1xuICBjb25zdCB7IFwiZGF0YS10ZXN0XCI6IG8sIC4uLmkgfSA9IHQ7XG4gIGlmIChPYmplY3Qua2V5cyhpKS5sZW5ndGggPiAwICYmIGUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiT2JqZWN0IG11c3QgYmUgZW1wdHkgXCIgKyBKU09OLnN0cmluZ2lmeSh0KSk7XG59XG5mdW5jdGlvbiBVZSh0LCBlLCBvKSB7XG4gIGNvbnN0IGkgPSBbXTtcbiAgZm9yIChjb25zdCBbbiwgcl0gb2YgT2JqZWN0LmVudHJpZXModC5zdHlsZXMpKSB7XG4gICAgY29uc3QgYSA9IG9bbl07XG4gICAgaWYgKCFhKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBzdHlsZSAke259IG5vdCBmb3VuZCBpbiBzdHlsZVNjaGVtYWApO1xuICAgIGlmIChhLnByb3BTY2hlbWEgPT09IFwiYm9vbGVhblwiKVxuICAgICAgaS5wdXNoKGUubWFyayhuKSk7XG4gICAgZWxzZSBpZiAoYS5wcm9wU2NoZW1hID09PSBcInN0cmluZ1wiKVxuICAgICAgaS5wdXNoKGUubWFyayhuLCB7IHN0cmluZ1ZhbHVlOiByIH0pKTtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgTChhLnByb3BTY2hlbWEpO1xuICB9XG4gIHJldHVybiB0LnRleHQuc3BsaXQoLyhcXG4pL2cpLmZpbHRlcigobikgPT4gbi5sZW5ndGggPiAwKS5tYXAoKG4pID0+IG4gPT09IGBcbmAgPyBlLm5vZGVzLmhhcmRCcmVhay5jcmVhdGUoKSA6IGUudGV4dChuLCBpKSk7XG59XG5mdW5jdGlvbiBDbyh0LCBlLCBvKSB7XG4gIGNvbnN0IGkgPSBlLm1hcmtzLmxpbmsuY3JlYXRlKHtcbiAgICBocmVmOiB0LmhyZWZcbiAgfSk7XG4gIHJldHVybiB5ZSh0LmNvbnRlbnQsIGUsIG8pLm1hcChcbiAgICAobikgPT4ge1xuICAgICAgaWYgKG4udHlwZS5uYW1lID09PSBcInRleHRcIilcbiAgICAgICAgcmV0dXJuIG4ubWFyayhbLi4ubi5tYXJrcywgaV0pO1xuICAgICAgaWYgKG4udHlwZS5uYW1lID09PSBcImhhcmRCcmVha1wiKVxuICAgICAgICByZXR1cm4gbjtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInVuZXhwZWN0ZWQgbm9kZSB0eXBlXCIpO1xuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIHllKHQsIGUsIG8pIHtcbiAgY29uc3QgaSA9IFtdO1xuICBpZiAodHlwZW9mIHQgPT0gXCJzdHJpbmdcIilcbiAgICByZXR1cm4gaS5wdXNoKFxuICAgICAgLi4uVWUoXG4gICAgICAgIHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IHQsIHN0eWxlczoge30gfSxcbiAgICAgICAgZSxcbiAgICAgICAgb1xuICAgICAgKVxuICAgICksIGk7XG4gIGZvciAoY29uc3QgbiBvZiB0KVxuICAgIGkucHVzaCguLi5VZShuLCBlLCBvKSk7XG4gIHJldHVybiBpO1xufVxuZnVuY3Rpb24gSyh0LCBlLCBvKSB7XG4gIGNvbnN0IGkgPSBbXTtcbiAgZm9yIChjb25zdCBuIG9mIHQpXG4gICAgdHlwZW9mIG4gPT0gXCJzdHJpbmdcIiA/IGkucHVzaCguLi55ZShuLCBlLCBvKSkgOiBZZShuKSA/IGkucHVzaCguLi5DbyhuLCBlLCBvKSkgOiB0ZShuKSA/IGkucHVzaCguLi55ZShbbl0sIGUsIG8pKSA6IGkucHVzaChcbiAgICAgIGV0KG4sIGUsIG8pXG4gICAgKTtcbiAgcmV0dXJuIGk7XG59XG5mdW5jdGlvbiBRZSh0LCBlLCBvKSB7XG4gIGNvbnN0IGkgPSBbXTtcbiAgZm9yIChjb25zdCBuIG9mIHQucm93cykge1xuICAgIGNvbnN0IHIgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHMgb2Ygbi5jZWxscykge1xuICAgICAgbGV0IGw7XG4gICAgICBpZiAoIXMpXG4gICAgICAgIGwgPSBlLm5vZGVzLnRhYmxlUGFyYWdyYXBoLmNyZWF0ZSh7fSk7XG4gICAgICBlbHNlIGlmICh0eXBlb2YgcyA9PSBcInN0cmluZ1wiKVxuICAgICAgICBsID0gZS5ub2Rlcy50YWJsZVBhcmFncmFwaC5jcmVhdGUoe30sIGUudGV4dChzKSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgdSA9IEsocywgZSwgbyk7XG4gICAgICAgIGwgPSBlLm5vZGVzLnRhYmxlUGFyYWdyYXBoLmNyZWF0ZSh7fSwgdSk7XG4gICAgICB9XG4gICAgICBjb25zdCBkID0gZS5ub2Rlcy50YWJsZUNlbGwuY3JlYXRlKHt9LCBsKTtcbiAgICAgIHIucHVzaChkKTtcbiAgICB9XG4gICAgY29uc3QgYSA9IGUubm9kZXMudGFibGVSb3cuY3JlYXRlKHt9LCByKTtcbiAgICBpLnB1c2goYSk7XG4gIH1cbiAgcmV0dXJuIGk7XG59XG5mdW5jdGlvbiBldCh0LCBlLCBvKSB7XG4gIGxldCBpLCBuID0gdC50eXBlO1xuICBpZiAobiA9PT0gdm9pZCAwICYmIChuID0gXCJwYXJhZ3JhcGhcIiksICFlLm5vZGVzW25dKVxuICAgIHRocm93IG5ldyBFcnJvcihgbm9kZSB0eXBlICR7bn0gbm90IGZvdW5kIGluIHNjaGVtYWApO1xuICBpZiAoIXQuY29udGVudClcbiAgICBpID0gZS5ub2Rlc1tuXS5jcmVhdGUodC5wcm9wcyk7XG4gIGVsc2UgaWYgKHR5cGVvZiB0LmNvbnRlbnQgPT0gXCJzdHJpbmdcIikge1xuICAgIGNvbnN0IHIgPSBLKFt0LmNvbnRlbnRdLCBlLCBvKTtcbiAgICBpID0gZS5ub2Rlc1tuXS5jcmVhdGUodC5wcm9wcywgcik7XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0LmNvbnRlbnQpKSB7XG4gICAgY29uc3QgciA9IEsodC5jb250ZW50LCBlLCBvKTtcbiAgICBpID0gZS5ub2Rlc1tuXS5jcmVhdGUodC5wcm9wcywgcik7XG4gIH0gZWxzZSBpZiAodC5jb250ZW50LnR5cGUgPT09IFwidGFibGVDb250ZW50XCIpIHtcbiAgICBjb25zdCByID0gUWUodC5jb250ZW50LCBlLCBvKTtcbiAgICBpID0gZS5ub2Rlc1tuXS5jcmVhdGUodC5wcm9wcywgcik7XG4gIH0gZWxzZVxuICAgIHRocm93IG5ldyBMKHQuY29udGVudC50eXBlKTtcbiAgcmV0dXJuIGk7XG59XG5mdW5jdGlvbiBQKHQsIGUsIG8pIHtcbiAgbGV0IGkgPSB0LmlkO1xuICBpID09PSB2b2lkIDAgJiYgKGkgPSBvZS5vcHRpb25zLmdlbmVyYXRlSUQoKSk7XG4gIGNvbnN0IG4gPSBldChcbiAgICB0LFxuICAgIGUsXG4gICAgb1xuICApLCByID0gW107XG4gIGlmICh0LmNoaWxkcmVuKVxuICAgIGZvciAoY29uc3QgcyBvZiB0LmNoaWxkcmVuKVxuICAgICAgci5wdXNoKFAocywgZSwgbykpO1xuICBjb25zdCBhID0gZS5ub2Rlcy5ibG9ja0dyb3VwLmNyZWF0ZSh7fSwgcik7XG4gIHJldHVybiBlLm5vZGVzLmJsb2NrQ29udGFpbmVyLmNyZWF0ZShcbiAgICB7XG4gICAgICBpZDogaSxcbiAgICAgIC4uLnQucHJvcHNcbiAgICB9LFxuICAgIHIubGVuZ3RoID4gMCA/IFtuLCBhXSA6IG5cbiAgKTtcbn1cbmZ1bmN0aW9uIFNvKHQsIGUsIG8pIHtcbiAgY29uc3QgaSA9IHtcbiAgICB0eXBlOiBcInRhYmxlQ29udGVudFwiLFxuICAgIHJvd3M6IFtdXG4gIH07XG4gIHJldHVybiB0LmNvbnRlbnQuZm9yRWFjaCgobikgPT4ge1xuICAgIGNvbnN0IHIgPSB7XG4gICAgICBjZWxsczogW11cbiAgICB9O1xuICAgIG4uY29udGVudC5mb3JFYWNoKChhKSA9PiB7XG4gICAgICByLmNlbGxzLnB1c2goXG4gICAgICAgIEVlKFxuICAgICAgICAgIGEuZmlyc3RDaGlsZCxcbiAgICAgICAgICBlLFxuICAgICAgICAgIG9cbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KSwgaS5yb3dzLnB1c2gocik7XG4gIH0pLCBpO1xufVxuZnVuY3Rpb24gRWUodCwgZSwgbykge1xuICBjb25zdCBpID0gW107XG4gIGxldCBuO1xuICByZXR1cm4gdC5jb250ZW50LmZvckVhY2goKHIpID0+IHtcbiAgICBpZiAoci50eXBlLm5hbWUgPT09IFwiaGFyZEJyZWFrXCIpIHtcbiAgICAgIGlmIChuKVxuICAgICAgICBpZiAodGUobikpXG4gICAgICAgICAgbi50ZXh0ICs9IGBcbmA7XG4gICAgICAgIGVsc2UgaWYgKEhlKG4pKVxuICAgICAgICAgIG4uY29udGVudFtuLmNvbnRlbnQubGVuZ3RoIC0gMV0udGV4dCArPSBgXG5gO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZFwiKTtcbiAgICAgIGVsc2VcbiAgICAgICAgbiA9IHtcbiAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICB0ZXh0OiBgXG5gLFxuICAgICAgICAgIHN0eWxlczoge31cbiAgICAgICAgfTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHIudHlwZS5uYW1lICE9PSBcImxpbmtcIiAmJiByLnR5cGUubmFtZSAhPT0gXCJ0ZXh0XCIgJiYgZVtyLnR5cGUubmFtZV0pIHtcbiAgICAgIG4gJiYgKGkucHVzaChuKSwgbiA9IHZvaWQgMCksIGkucHVzaChcbiAgICAgICAgdHQociwgZSwgbylcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGEgPSB7fTtcbiAgICBsZXQgcztcbiAgICBmb3IgKGNvbnN0IGwgb2Ygci5tYXJrcylcbiAgICAgIGlmIChsLnR5cGUubmFtZSA9PT0gXCJsaW5rXCIpXG4gICAgICAgIHMgPSBsO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGQgPSBvW2wudHlwZS5uYW1lXTtcbiAgICAgICAgaWYgKCFkKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc3R5bGUgJHtsLnR5cGUubmFtZX0gbm90IGZvdW5kIGluIHN0eWxlU2NoZW1hYCk7XG4gICAgICAgIGlmIChkLnByb3BTY2hlbWEgPT09IFwiYm9vbGVhblwiKVxuICAgICAgICAgIGFbZC50eXBlXSA9ICEwO1xuICAgICAgICBlbHNlIGlmIChkLnByb3BTY2hlbWEgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgYVtkLnR5cGVdID0gbC5hdHRycy5zdHJpbmdWYWx1ZTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRocm93IG5ldyBMKGQucHJvcFNjaGVtYSk7XG4gICAgICB9XG4gICAgbiA/IHRlKG4pID8gcyA/IChpLnB1c2gobiksIG4gPSB7XG4gICAgICB0eXBlOiBcImxpbmtcIixcbiAgICAgIGhyZWY6IHMuYXR0cnMuaHJlZixcbiAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgIHRleHQ6IHIudGV4dENvbnRlbnQsXG4gICAgICAgICAgc3R5bGVzOiBhXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9KSA6IEpTT04uc3RyaW5naWZ5KG4uc3R5bGVzKSA9PT0gSlNPTi5zdHJpbmdpZnkoYSkgPyBuLnRleHQgKz0gci50ZXh0Q29udGVudCA6IChpLnB1c2gobiksIG4gPSB7XG4gICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgIHRleHQ6IHIudGV4dENvbnRlbnQsXG4gICAgICBzdHlsZXM6IGFcbiAgICB9KSA6IEhlKG4pICYmIChzID8gbi5ocmVmID09PSBzLmF0dHJzLmhyZWYgPyBKU09OLnN0cmluZ2lmeShcbiAgICAgIG4uY29udGVudFtuLmNvbnRlbnQubGVuZ3RoIC0gMV0uc3R5bGVzXG4gICAgKSA9PT0gSlNPTi5zdHJpbmdpZnkoYSkgPyBuLmNvbnRlbnRbbi5jb250ZW50Lmxlbmd0aCAtIDFdLnRleHQgKz0gci50ZXh0Q29udGVudCA6IG4uY29udGVudC5wdXNoKHtcbiAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgdGV4dDogci50ZXh0Q29udGVudCxcbiAgICAgIHN0eWxlczogYVxuICAgIH0pIDogKGkucHVzaChuKSwgbiA9IHtcbiAgICAgIHR5cGU6IFwibGlua1wiLFxuICAgICAgaHJlZjogcy5hdHRycy5ocmVmLFxuICAgICAgY29udGVudDogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgdGV4dDogci50ZXh0Q29udGVudCxcbiAgICAgICAgICBzdHlsZXM6IGFcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0pIDogKGkucHVzaChuKSwgbiA9IHtcbiAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgdGV4dDogci50ZXh0Q29udGVudCxcbiAgICAgIHN0eWxlczogYVxuICAgIH0pKSA6IHMgPyBuID0ge1xuICAgICAgdHlwZTogXCJsaW5rXCIsXG4gICAgICBocmVmOiBzLmF0dHJzLmhyZWYsXG4gICAgICBjb250ZW50OiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICB0ZXh0OiByLnRleHRDb250ZW50LFxuICAgICAgICAgIHN0eWxlczogYVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSA6IG4gPSB7XG4gICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgIHRleHQ6IHIudGV4dENvbnRlbnQsXG4gICAgICBzdHlsZXM6IGFcbiAgICB9O1xuICB9KSwgbiAmJiBpLnB1c2gobiksIGk7XG59XG5mdW5jdGlvbiB0dCh0LCBlLCBvKSB7XG4gIGlmICh0LnR5cGUubmFtZSA9PT0gXCJ0ZXh0XCIgfHwgdC50eXBlLm5hbWUgPT09IFwibGlua1wiKVxuICAgIHRocm93IG5ldyBFcnJvcihcInVuZXhwZWN0ZWRcIik7XG4gIGNvbnN0IGkgPSB7fSwgbiA9IGVbdC50eXBlLm5hbWVdO1xuICBmb3IgKGNvbnN0IFtzLCBsXSBvZiBPYmplY3QuZW50cmllcyh0LmF0dHJzKSkge1xuICAgIGlmICghbilcbiAgICAgIHRocm93IEVycm9yKFwiaWMgbm9kZSBpcyBvZiBhbiB1bnJlY29nbml6ZWQgdHlwZTogXCIgKyB0LnR5cGUubmFtZSk7XG4gICAgY29uc3QgZCA9IG4ucHJvcFNjaGVtYTtcbiAgICBzIGluIGQgJiYgKGlbc10gPSBsKTtcbiAgfVxuICBsZXQgcjtcbiAgcmV0dXJuIG4uY29udGVudCA9PT0gXCJzdHlsZWRcIiA/IHIgPSBFZShcbiAgICB0LFxuICAgIGUsXG4gICAgb1xuICApIDogciA9IHZvaWQgMCwge1xuICAgIHR5cGU6IHQudHlwZS5uYW1lLFxuICAgIHByb3BzOiBpLFxuICAgIGNvbnRlbnQ6IHJcbiAgfTtcbn1cbmZ1bmN0aW9uIHkodCwgZSwgbywgaSwgbikge1xuICBpZiAodC50eXBlLm5hbWUgIT09IFwiYmxvY2tDb250YWluZXJcIilcbiAgICB0aHJvdyBFcnJvcihcbiAgICAgIFwiTm9kZSBtdXN0IGJlIG9mIHR5cGUgYmxvY2tDb250YWluZXIsIGJ1dCBpcyBvZiB0eXBlXCIgKyB0LnR5cGUubmFtZSArIFwiLlwiXG4gICAgKTtcbiAgY29uc3QgciA9IG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4uZ2V0KHQpO1xuICBpZiAocilcbiAgICByZXR1cm4gcjtcbiAgY29uc3QgYSA9IEplKHQpO1xuICBsZXQgcyA9IGEuaWQ7XG4gIHMgPT09IG51bGwgJiYgKHMgPSBvZS5vcHRpb25zLmdlbmVyYXRlSUQoKSk7XG4gIGNvbnN0IGwgPSB7fTtcbiAgZm9yIChjb25zdCBbbSwgZl0gb2YgT2JqZWN0LmVudHJpZXMoe1xuICAgIC4uLnQuYXR0cnMsXG4gICAgLi4uYS5jb250ZW50Tm9kZS5hdHRyc1xuICB9KSkge1xuICAgIGNvbnN0IGcgPSBlW2EuY29udGVudFR5cGUubmFtZV07XG4gICAgaWYgKCFnKVxuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIFwiQmxvY2sgaXMgb2YgYW4gdW5yZWNvZ25pemVkIHR5cGU6IFwiICsgYS5jb250ZW50VHlwZS5uYW1lXG4gICAgICApO1xuICAgIGNvbnN0IGsgPSBnLnByb3BTY2hlbWE7XG4gICAgbSBpbiBrICYmIChsW21dID0gZik7XG4gIH1cbiAgY29uc3QgZCA9IGVbYS5jb250ZW50VHlwZS5uYW1lXSwgdSA9IFtdO1xuICBmb3IgKGxldCBtID0gMDsgbSA8IGEubnVtQ2hpbGRCbG9ja3M7IG0rKylcbiAgICB1LnB1c2goXG4gICAgICB5KFxuICAgICAgICB0Lmxhc3RDaGlsZC5jaGlsZChtKSxcbiAgICAgICAgZSxcbiAgICAgICAgbyxcbiAgICAgICAgaSxcbiAgICAgICAgblxuICAgICAgKVxuICAgICk7XG4gIGxldCBwO1xuICBpZiAoZC5jb250ZW50ID09PSBcImlubGluZVwiKVxuICAgIHAgPSBFZShcbiAgICAgIGEuY29udGVudE5vZGUsXG4gICAgICBvLFxuICAgICAgaVxuICAgICk7XG4gIGVsc2UgaWYgKGQuY29udGVudCA9PT0gXCJ0YWJsZVwiKVxuICAgIHAgPSBTbyhcbiAgICAgIGEuY29udGVudE5vZGUsXG4gICAgICBvLFxuICAgICAgaVxuICAgICk7XG4gIGVsc2UgaWYgKGQuY29udGVudCA9PT0gXCJub25lXCIpXG4gICAgcCA9IHZvaWQgMDtcbiAgZWxzZVxuICAgIHRocm93IG5ldyBMKGQuY29udGVudCk7XG4gIGNvbnN0IGggPSB7XG4gICAgaWQ6IHMsXG4gICAgdHlwZTogZC50eXBlLFxuICAgIHByb3BzOiBsLFxuICAgIGNvbnRlbnQ6IHAsXG4gICAgY2hpbGRyZW46IHVcbiAgfTtcbiAgcmV0dXJuIG4gPT0gbnVsbCB8fCBuLnNldCh0LCBoKSwgaDtcbn1cbmZ1bmN0aW9uIE1vKHQpIHtcbiAgcmV0dXJuIHQuZG9jdW1lbnQgfHwgd2luZG93LmRvY3VtZW50O1xufVxuY29uc3Qgb3QgPSAodCwgZSwgbywgaSwgbikgPT4ge1xuICBpZiAoIW8ubm9kZXNbdC50eXBlLm5hbWVdKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlNlcmlhbGl6ZXIgaXMgbWlzc2luZyBhIG5vZGUgdHlwZTogXCIgKyB0LnR5cGUubmFtZSk7XG4gIGNvbnN0IHsgZG9tOiByLCBjb250ZW50RE9NOiBhIH0gPSB2ZS5yZW5kZXJTcGVjKFxuICAgIE1vKGUpLFxuICAgIG8ubm9kZXNbdC50eXBlLm5hbWVdKHQpXG4gICk7XG4gIGlmIChhKSB7XG4gICAgaWYgKHQuaXNMZWFmKVxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJDb250ZW50IGhvbGUgbm90IGFsbG93ZWQgaW4gYSBsZWFmIG5vZGUgc3BlY1wiKTtcbiAgICBpZiAodC50eXBlLm5hbWUgPT09IFwiYmxvY2tDb250YWluZXJcIikge1xuICAgICAgY29uc3QgcyA9IHQuY2hpbGRDb3VudCA+IDAgJiYgdC5maXJzdENoaWxkLnR5cGUuc3BlYy5ncm91cCA9PT0gXCJibG9ja0NvbnRlbnRcIiA/IHQuZmlyc3RDaGlsZCA6IHZvaWQgMCwgbCA9IHQuY2hpbGRDb3VudCA+IDAgJiYgdC5sYXN0Q2hpbGQudHlwZS5zcGVjLmdyb3VwID09PSBcImJsb2NrR3JvdXBcIiA/IHQubGFzdENoaWxkIDogdm9pZCAwO1xuICAgICAgaWYgKHMgIT09IHZvaWQgMCkge1xuICAgICAgICBjb25zdCBkID0gaS5ibG9ja0ltcGxlbWVudGF0aW9uc1tzLnR5cGUubmFtZV0uaW1wbGVtZW50YXRpb24sIHAgPSAobiA/IGQudG9FeHRlcm5hbEhUTUwgOiBkLnRvSW50ZXJuYWxIVE1MKShcbiAgICAgICAgICB5KFxuICAgICAgICAgICAgdCxcbiAgICAgICAgICAgIGkuc2NoZW1hLmJsb2NrU2NoZW1hLFxuICAgICAgICAgICAgaS5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgICAgICAgIGkuc2NoZW1hLnN0eWxlU2NoZW1hLFxuICAgICAgICAgICAgaS5ibG9ja0NhY2hlXG4gICAgICAgICAgKSxcbiAgICAgICAgICBpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChwLmNvbnRlbnRET00gIT09IHZvaWQgMCkge1xuICAgICAgICAgIGlmICh0LmlzTGVhZilcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFxuICAgICAgICAgICAgICBcIkNvbnRlbnQgaG9sZSBub3QgYWxsb3dlZCBpbiBhIGxlYWYgbm9kZSBzcGVjXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcC5jb250ZW50RE9NLmFwcGVuZENoaWxkKFxuICAgICAgICAgICAgby5zZXJpYWxpemVGcmFnbWVudChzLmNvbnRlbnQsIGUpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBhLmFwcGVuZENoaWxkKHAuZG9tKTtcbiAgICAgIH1cbiAgICAgIGwgIT09IHZvaWQgMCAmJiBvLnNlcmlhbGl6ZUZyYWdtZW50KFxuICAgICAgICBULmZyb20obCksXG4gICAgICAgIGUsXG4gICAgICAgIGFcbiAgICAgICk7XG4gICAgfSBlbHNlXG4gICAgICBvLnNlcmlhbGl6ZUZyYWdtZW50KHQuY29udGVudCwgZSwgYSk7XG4gIH1cbiAgcmV0dXJuIHI7XG59LCBpdCA9ICh0LCBlKSA9PiB7XG4gIGNvbnN0IG8gPSBlLnNlcmlhbGl6ZUZyYWdtZW50KHQpLCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgcmV0dXJuIGkuYXBwZW5kQ2hpbGQobyksIGkuaW5uZXJIVE1MO1xufTtcbmZ1bmN0aW9uIFRvKHQpIHtcbiAgY29uc3QgZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcbiAgICAuLi50Lm9yZGVyZWRMaXN0SXRlbUJsb2NrVHlwZXMsXG4gICAgLi4udC51bm9yZGVyZWRMaXN0SXRlbUJsb2NrVHlwZXNcbiAgXSksIG8gPSAoaSkgPT4ge1xuICAgIHZhciBhO1xuICAgIGlmIChpLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiAoKGEgPSBpLmNoaWxkcmVuWzBdLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBhLmRhdGFOb2RlVHlwZSkgPT09IFwiYmxvY2tHcm91cFwiKSB7XG4gICAgICBjb25zdCBzID0gaS5jaGlsZHJlblswXTtcbiAgICAgIGkuY2hpbGRyZW4ucG9wKCksIGkuY2hpbGRyZW4ucHVzaCguLi5zLmNoaWxkcmVuKTtcbiAgICB9XG4gICAgbGV0IG4gPSBpLmNoaWxkcmVuLmxlbmd0aCwgcjtcbiAgICBmb3IgKGxldCBzID0gMDsgcyA8IG47IHMrKykge1xuICAgICAgY29uc3QgZCA9IGkuY2hpbGRyZW5bc10uY2hpbGRyZW5bMF0sIHUgPSBkLmNoaWxkcmVuWzBdLCBwID0gZC5jaGlsZHJlbi5sZW5ndGggPT09IDIgPyBkLmNoaWxkcmVuWzFdIDogbnVsbCwgaCA9IGUuaGFzKFxuICAgICAgICB1LnByb3BlcnRpZXMuZGF0YUNvbnRlbnRUeXBlXG4gICAgICApLCBtID0gaCA/IHQub3JkZXJlZExpc3RJdGVtQmxvY2tUeXBlcy5oYXMoXG4gICAgICAgIHUucHJvcGVydGllcy5kYXRhQ29udGVudFR5cGVcbiAgICAgICkgPyBcIm9sXCIgOiBcInVsXCIgOiBudWxsO1xuICAgICAgaWYgKHAgIT09IG51bGwgJiYgbyhwKSwgciAmJiByLnRhZ05hbWUgIT09IG0pIHtcbiAgICAgICAgaS5jaGlsZHJlbi5zcGxpY2UoXG4gICAgICAgICAgcyAtIHIuY2hpbGRyZW4ubGVuZ3RoLFxuICAgICAgICAgIHIuY2hpbGRyZW4ubGVuZ3RoLFxuICAgICAgICAgIHJcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgZiA9IHIuY2hpbGRyZW4ubGVuZ3RoIC0gMTtcbiAgICAgICAgcyAtPSBmLCBuIC09IGYsIHIgPSB2b2lkIDA7XG4gICAgICB9XG4gICAgICBpZiAoaCkge1xuICAgICAgICByIHx8IChyID0gX2UoXG4gICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChtKVxuICAgICAgICApKTtcbiAgICAgICAgY29uc3QgZiA9IF9lKFxuICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKVxuICAgICAgICApO1xuICAgICAgICBmLmNoaWxkcmVuLnB1c2goLi4udS5jaGlsZHJlbiksIHAgIT09IG51bGwgJiYgZi5jaGlsZHJlbi5wdXNoKC4uLnAuY2hpbGRyZW4pLCByLmNoaWxkcmVuLnB1c2goZik7XG4gICAgICB9IGVsc2UgaWYgKHAgIT09IG51bGwpIHtcbiAgICAgICAgaS5jaGlsZHJlbi5zcGxpY2UocyArIDEsIDAsIC4uLnAuY2hpbGRyZW4pLCBpLmNoaWxkcmVuW3NdID0gdS5jaGlsZHJlblswXTtcbiAgICAgICAgY29uc3QgZiA9IHAuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICBzICs9IGYsIG4gKz0gZjtcbiAgICAgIH0gZWxzZVxuICAgICAgICBpLmNoaWxkcmVuW3NdID0gdS5jaGlsZHJlblswXTtcbiAgICB9XG4gICAgciAmJiBpLmNoaWxkcmVuLnNwbGljZShcbiAgICAgIG4gLSByLmNoaWxkcmVuLmxlbmd0aCxcbiAgICAgIHIuY2hpbGRyZW4ubGVuZ3RoLFxuICAgICAgclxuICAgICk7XG4gIH07XG4gIHJldHVybiBvO1xufVxuY29uc3QgYWUgPSAodCwgZSkgPT4ge1xuICBjb25zdCBvID0gdmUuZnJvbVNjaGVtYSh0KTtcbiAgcmV0dXJuIG8uc2VyaWFsaXplTm9kZUlubmVyID0gKGksIG4pID0+IG90KGksIG4sIG8sIGUsICEwKSwgby5leHBvcnRQcm9zZU1pcnJvckZyYWdtZW50ID0gKGkpID0+IHdlKCkudXNlKCRlLCB7IGZyYWdtZW50OiAhMCB9KS51c2UoVG8sIHtcbiAgICBvcmRlcmVkTGlzdEl0ZW1CbG9ja1R5cGVzOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXCJudW1iZXJlZExpc3RJdGVtXCJdKSxcbiAgICB1bm9yZGVyZWRMaXN0SXRlbUJsb2NrVHlwZXM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcbiAgICAgIFwiYnVsbGV0TGlzdEl0ZW1cIixcbiAgICAgIFwiY2hlY2tMaXN0SXRlbVwiXG4gICAgXSlcbiAgfSkudXNlKHFlKS5wcm9jZXNzU3luYyhpdChpLCBvKSkudmFsdWUsIG8uZXhwb3J0QmxvY2tzID0gKGkpID0+IHtcbiAgICBjb25zdCBuID0gaS5tYXAoXG4gICAgICAoYSkgPT4gUChhLCB0LCBlLnNjaGVtYS5zdHlsZVNjaGVtYSlcbiAgICApLCByID0gdC5ub2Rlcy5ibG9ja0dyb3VwLmNyZWF0ZShudWxsLCBuKTtcbiAgICByZXR1cm4gby5leHBvcnRQcm9zZU1pcnJvckZyYWdtZW50KFQuZnJvbShyKSk7XG4gIH0sIG87XG59LCBudCA9ICh0LCBlKSA9PiB7XG4gIGNvbnN0IG8gPSB2ZS5mcm9tU2NoZW1hKHQpO1xuICByZXR1cm4gby5zZXJpYWxpemVOb2RlSW5uZXIgPSAoaSwgbikgPT4gb3QoaSwgbiwgbywgZSwgITEpLCBvLnNlcmlhbGl6ZVByb3NlTWlycm9yRnJhZ21lbnQgPSAoaSkgPT4gaXQoaSwgbyksIG8uc2VyaWFsaXplQmxvY2tzID0gKGkpID0+IHtcbiAgICBjb25zdCBuID0gaS5tYXAoXG4gICAgICAoYSkgPT4gUChhLCB0LCBlLnNjaGVtYS5zdHlsZVNjaGVtYSlcbiAgICApLCByID0gdC5ub2Rlcy5ibG9ja0dyb3VwLmNyZWF0ZShudWxsLCBuKTtcbiAgICByZXR1cm4gby5zZXJpYWxpemVQcm9zZU1pcnJvckZyYWdtZW50KFQuZnJvbShyKSk7XG4gIH0sIG87XG59LCBCbyA9ICgpID0+IHR5cGVvZiBuYXZpZ2F0b3IgPCBcInVcIiAmJiAoL01hYy8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pIHx8IC9BcHBsZVdlYktpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAvTW9iaWxlXFwvXFx3Ky8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSk7XG5mdW5jdGlvbiBIKHQsIGUgPSBcIkN0cmxcIikge1xuICByZXR1cm4gQm8oKSA/IHQucmVwbGFjZShcIk1vZFwiLCBcIuKMmFwiKSA6IHQucmVwbGFjZShcIk1vZFwiLCBlKTtcbn1cbmZ1bmN0aW9uIFIoLi4udCkge1xuICByZXR1cm4gdC5maWx0ZXIoKGUpID0+IGUpLmpvaW4oXCIgXCIpO1xufVxuY29uc3QgTHIgPSAoKSA9PiAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuZnVuY3Rpb24gVih0LCBlLCBvLCBpKSB7XG4gIGNvbnN0IG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBuLmNsYXNzTmFtZSA9IFIoXG4gICAgXCJibi1ibG9jay1jb250ZW50XCIsXG4gICAgby5jbGFzc1xuICApLCBuLnNldEF0dHJpYnV0ZShcImRhdGEtY29udGVudC10eXBlXCIsIHQpO1xuICBmb3IgKGNvbnN0IFthLCBzXSBvZiBPYmplY3QuZW50cmllcyhvKSlcbiAgICBhICE9PSBcImNsYXNzXCIgJiYgbi5zZXRBdHRyaWJ1dGUoYSwgcyk7XG4gIGNvbnN0IHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO1xuICByLmNsYXNzTmFtZSA9IFIoXG4gICAgXCJibi1pbmxpbmUtY29udGVudFwiLFxuICAgIGkuY2xhc3NcbiAgKTtcbiAgZm9yIChjb25zdCBbYSwgc10gb2YgT2JqZWN0LmVudHJpZXMoXG4gICAgaVxuICApKVxuICAgIGEgIT09IFwiY2xhc3NcIiAmJiByLnNldEF0dHJpYnV0ZShhLCBzKTtcbiAgcmV0dXJuIG4uYXBwZW5kQ2hpbGQociksIHtcbiAgICBkb206IG4sXG4gICAgY29udGVudERPTTogclxuICB9O1xufVxuY29uc3QgRGUgPSAodCwgZSkgPT4ge1xuICBjb25zdCBvID0gUChcbiAgICB0LFxuICAgIGUuX3RpcHRhcEVkaXRvci5zY2hlbWEsXG4gICAgZS5zY2hlbWEuc3R5bGVTY2hlbWFcbiAgKS5maXJzdENoaWxkLCBpID0gZS5fdGlwdGFwRWRpdG9yLnNjaGVtYS5ub2Rlc1tvLnR5cGUubmFtZV0uc3BlYy50b0RPTTtcbiAgaWYgKGkgPT09IHZvaWQgMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlRoaXMgYmxvY2sgaGFzIG5vIGRlZmF1bHQgSFRNTCBzZXJpYWxpemF0aW9uIGFzIGl0cyBjb3JyZXNwb25kaW5nIFRpcFRhcCBub2RlIGRvZXNuJ3QgaW1wbGVtZW50IGByZW5kZXJIVE1MYC5cIlxuICAgICk7XG4gIGNvbnN0IG4gPSBpKG8pO1xuICBpZiAodHlwZW9mIG4gIT0gXCJvYmplY3RcIiB8fCAhKFwiZG9tXCIgaW4gbikpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJDYW5ub3QgdXNlIHRoaXMgYmxvY2sncyBkZWZhdWx0IEhUTUwgc2VyaWFsaXphdGlvbiBhcyBpdHMgY29ycmVzcG9uZGluZyBUaXBUYXAgbm9kZSdzIGByZW5kZXJIVE1MYCBmdW5jdGlvbiBkb2VzIG5vdCByZXR1cm4gYW4gb2JqZWN0IHdpdGggdGhlIGBkb21gIHByb3BlcnR5LlwiXG4gICAgKTtcbiAgcmV0dXJuIG47XG59LCBfID0ge1xuICBiYWNrZ3JvdW5kQ29sb3I6IHtcbiAgICBkZWZhdWx0OiBcImRlZmF1bHRcIlxuICB9LFxuICB0ZXh0Q29sb3I6IHtcbiAgICBkZWZhdWx0OiBcImRlZmF1bHRcIlxuICB9LFxuICB0ZXh0QWxpZ25tZW50OiB7XG4gICAgZGVmYXVsdDogXCJsZWZ0XCIsXG4gICAgdmFsdWVzOiBbXCJsZWZ0XCIsIFwiY2VudGVyXCIsIFwicmlnaHRcIiwgXCJqdXN0aWZ5XCJdXG4gIH1cbn0sIHJ0ID0gW1wiYmFja2dyb3VuZENvbG9yXCIsIFwidGV4dENvbG9yXCJdO1xuZnVuY3Rpb24gcmUodCkge1xuICByZXR1cm4gXCJkYXRhLVwiICsgdC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiBJcih0KSB7XG4gIGNvbnN0IGUgPSB0LnNwbGl0KFwiL1wiKTtcbiAgcmV0dXJuICFlLmxlbmd0aCB8fCAvLyBpbnZhbGlkP1xuICBlW2UubGVuZ3RoIC0gMV0gPT09IFwiXCIgPyB0IDogZVtlLmxlbmd0aCAtIDFdO1xufVxuZnVuY3Rpb24gYXQodCkge1xuICBjb25zdCBlID0ge307XG4gIHJldHVybiBPYmplY3QuZW50cmllcyh0KS5maWx0ZXIoKFtvLCBpXSkgPT4gIXJ0LmluY2x1ZGVzKG8pKS5mb3JFYWNoKChbbywgaV0pID0+IHtcbiAgICBlW29dID0ge1xuICAgICAgZGVmYXVsdDogaS5kZWZhdWx0LFxuICAgICAga2VlcE9uU3BsaXQ6ICEwLFxuICAgICAgLy8gUHJvcHMgYXJlIGRpc3BsYXllZCBpbiBrZWJhYi1jYXNlIGFzIEhUTUwgYXR0cmlidXRlcy4gSWYgYSBwcm9wJ3NcbiAgICAgIC8vIHZhbHVlIGlzIHRoZSBzYW1lIGFzIGl0cyBkZWZhdWx0LCB3ZSBkb24ndCBkaXNwbGF5IGFuIEhUTUxcbiAgICAgIC8vIGF0dHJpYnV0ZSBmb3IgaXQuXG4gICAgICBwYXJzZUhUTUw6IChuKSA9PiB7XG4gICAgICAgIGNvbnN0IHIgPSBuLmdldEF0dHJpYnV0ZShyZShvKSk7XG4gICAgICAgIGlmIChyID09PSBudWxsKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIGkuZGVmYXVsdCA9PSBcImJvb2xlYW5cIilcbiAgICAgICAgICByZXR1cm4gciA9PT0gXCJ0cnVlXCIgPyAhMCA6IHIgPT09IFwiZmFsc2VcIiA/ICExIDogbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBpLmRlZmF1bHQgPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIGNvbnN0IGEgPSBwYXJzZUZsb2F0KHIpO1xuICAgICAgICAgIHJldHVybiAhTnVtYmVyLmlzTmFOKGEpICYmIE51bWJlci5pc0Zpbml0ZShhKSA/IGEgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfSxcbiAgICAgIHJlbmRlckhUTUw6IChuKSA9PiBuW29dICE9PSBpLmRlZmF1bHQgPyB7XG4gICAgICAgIFtyZShvKV06IG5bb11cbiAgICAgIH0gOiB7fVxuICAgIH07XG4gIH0pLCBlO1xufVxuZnVuY3Rpb24gTG8odCwgZSwgbywgaSkge1xuICBpZiAodHlwZW9mIHQgPT0gXCJib29sZWFuXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJDYW5ub3QgZmluZCBub2RlIHBvc2l0aW9uIGFzIGdldFBvcyBpcyBhIGJvb2xlYW4sIG5vdCBhIGZ1bmN0aW9uLlwiXG4gICAgKTtcbiAgY29uc3QgbiA9IHQoKSwgYSA9IG8uc3RhdGUuZG9jLnJlc29sdmUobikubm9kZSgpLmF0dHJzLmlkO1xuICBpZiAoIWEpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQmxvY2sgZG9lc24ndCBoYXZlIGlkXCIpO1xuICBjb25zdCBzID0gZS5nZXRCbG9jayhhKTtcbiAgaWYgKHMudHlwZSAhPT0gaSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCbG9jayB0eXBlIGRvZXMgbm90IG1hdGNoXCIpO1xuICByZXR1cm4gcztcbn1cbmZ1bmN0aW9uIG1lKHQsIGUsIG8sIGksIG4gPSAhMSwgcikge1xuICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgaWYgKHIgIT09IHZvaWQgMClcbiAgICBmb3IgKGNvbnN0IFtzLCBsXSBvZiBPYmplY3QuZW50cmllcyhyKSlcbiAgICAgIHMgIT09IFwiY2xhc3NcIiAmJiBhLnNldEF0dHJpYnV0ZShzLCBsKTtcbiAgYS5jbGFzc05hbWUgPSBSKFxuICAgIFwiYm4tYmxvY2stY29udGVudFwiLFxuICAgIChyID09IG51bGwgPyB2b2lkIDAgOiByLmNsYXNzKSB8fCBcIlwiXG4gICksIGEuc2V0QXR0cmlidXRlKFwiZGF0YS1jb250ZW50LXR5cGVcIiwgZSk7XG4gIGZvciAoY29uc3QgW3MsIGxdIG9mIE9iamVjdC5lbnRyaWVzKG8pKVxuICAgICFydC5pbmNsdWRlcyhzKSAmJiBsICE9PSBpW3NdLmRlZmF1bHQgJiYgYS5zZXRBdHRyaWJ1dGUocmUocyksIGwpO1xuICByZXR1cm4gbiAmJiBhLnNldEF0dHJpYnV0ZShcImRhdGEtZmlsZS1ibG9ja1wiLCBcIlwiKSwgYS5hcHBlbmRDaGlsZCh0LmRvbSksIHQuY29udGVudERPTSAhPT0gdm9pZCAwICYmICh0LmNvbnRlbnRET00uY2xhc3NOYW1lID0gUihcbiAgICBcImJuLWlubGluZS1jb250ZW50XCIsXG4gICAgdC5jb250ZW50RE9NLmNsYXNzTmFtZVxuICApLCB0LmNvbnRlbnRET00uc2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0YWJsZVwiLCBcIlwiKSksIHtcbiAgICAuLi50LFxuICAgIGRvbTogYVxuICB9O1xufVxuZnVuY3Rpb24geih0KSB7XG4gIHJldHVybiAkLmNyZWF0ZSh0KTtcbn1cbmZ1bmN0aW9uIHN0KHQsIGUpIHtcbiAgcmV0dXJuIHtcbiAgICBjb25maWc6IHQsXG4gICAgaW1wbGVtZW50YXRpb246IGVcbiAgfTtcbn1cbmZ1bmN0aW9uIHEodCwgZSwgbykge1xuICByZXR1cm4gc3QoXG4gICAge1xuICAgICAgdHlwZTogdC5uYW1lLFxuICAgICAgY29udGVudDogdC5jb25maWcuY29udGVudCA9PT0gXCJpbmxpbmUqXCIgPyBcImlubGluZVwiIDogdC5jb25maWcuY29udGVudCA9PT0gXCJ0YWJsZVJvdytcIiA/IFwidGFibGVcIiA6IFwibm9uZVwiLFxuICAgICAgcHJvcFNjaGVtYTogZVxuICAgIH0sXG4gICAge1xuICAgICAgbm9kZTogdCxcbiAgICAgIHJlcXVpcmVkRXh0ZW5zaW9uczogbyxcbiAgICAgIHRvSW50ZXJuYWxIVE1MOiBEZSxcbiAgICAgIHRvRXh0ZXJuYWxIVE1MOiBEZVxuICAgICAgLy8gcGFyc2U6ICgpID0+IHVuZGVmaW5lZCwgLy8gcGFyc2UgcnVsZXMgYXJlIGluIG5vZGUgYWxyZWFkeVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIGx0KHQpIHtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBPYmplY3QuZW50cmllcyh0KS5tYXAoKFtlLCBvXSkgPT4gW2UsIG8uY29uZmlnXSlcbiAgKTtcbn1cbmZ1bmN0aW9uIElvKHQsIGUpIHtcbiAgY29uc3QgbyA9IFtcbiAgICB7XG4gICAgICB0YWc6IFwiW2RhdGEtY29udGVudC10eXBlPVwiICsgdC50eXBlICsgXCJdXCIsXG4gICAgICBjb250ZW50RWxlbWVudDogXCJbZGF0YS1lZGl0YWJsZV1cIlxuICAgIH1cbiAgXTtcbiAgcmV0dXJuIGUgJiYgby5wdXNoKHtcbiAgICB0YWc6IFwiKlwiLFxuICAgIGdldEF0dHJzKGkpIHtcbiAgICAgIGlmICh0eXBlb2YgaSA9PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICBjb25zdCBuID0gZSA9PSBudWxsID8gdm9pZCAwIDogZShpKTtcbiAgICAgIHJldHVybiBuID09PSB2b2lkIDAgPyAhMSA6IG47XG4gICAgfVxuICB9KSwgbztcbn1cbmZ1bmN0aW9uIHNlKHQsIGUpIHtcbiAgY29uc3QgbyA9IHooe1xuICAgIG5hbWU6IHQudHlwZSxcbiAgICBjb250ZW50OiB0LmNvbnRlbnQgPT09IFwiaW5saW5lXCIgPyBcImlubGluZSpcIiA6IFwiXCIsXG4gICAgZ3JvdXA6IFwiYmxvY2tDb250ZW50XCIsXG4gICAgc2VsZWN0YWJsZTogITAsXG4gICAgYWRkQXR0cmlidXRlcygpIHtcbiAgICAgIHJldHVybiBhdCh0LnByb3BTY2hlbWEpO1xuICAgIH0sXG4gICAgcGFyc2VIVE1MKCkge1xuICAgICAgcmV0dXJuIElvKHQsIGUucGFyc2UpO1xuICAgIH0sXG4gICAgcmVuZGVySFRNTCgpIHtcbiAgICAgIGNvbnN0IGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgcmV0dXJuIGkuc2V0QXR0cmlidXRlKFwiZGF0YS10bXAtcGxhY2Vob2xkZXJcIiwgXCJ0cnVlXCIpLCB7XG4gICAgICAgIGRvbTogaVxuICAgICAgfTtcbiAgICB9LFxuICAgIGFkZE5vZGVWaWV3KCkge1xuICAgICAgcmV0dXJuICh7IGdldFBvczogaSB9KSA9PiB7XG4gICAgICAgIHZhciBsO1xuICAgICAgICBjb25zdCBuID0gdGhpcy5vcHRpb25zLmVkaXRvciwgciA9IExvKFxuICAgICAgICAgIGksXG4gICAgICAgICAgbixcbiAgICAgICAgICB0aGlzLmVkaXRvcixcbiAgICAgICAgICB0LnR5cGVcbiAgICAgICAgKSwgYSA9ICgobCA9IHRoaXMub3B0aW9ucy5kb21BdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogbC5ibG9ja0NvbnRlbnQpIHx8IHt9LCBzID0gZS5yZW5kZXIociwgbik7XG4gICAgICAgIHJldHVybiBtZShcbiAgICAgICAgICBzLFxuICAgICAgICAgIHIudHlwZSxcbiAgICAgICAgICByLnByb3BzLFxuICAgICAgICAgIHQucHJvcFNjaGVtYSxcbiAgICAgICAgICBhXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG4gIGlmIChvLm5hbWUgIT09IHQudHlwZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIk5vZGUgbmFtZSBkb2VzIG5vdCBtYXRjaCBibG9jayB0eXBlLiBUaGlzIGlzIGEgYnVnIGluIEJsb2NrTm90ZS5cIlxuICAgICk7XG4gIHJldHVybiBzdCh0LCB7XG4gICAgbm9kZTogbyxcbiAgICB0b0ludGVybmFsSFRNTDogKGksIG4pID0+IHtcbiAgICAgIHZhciBzO1xuICAgICAgY29uc3QgciA9ICgocyA9IG8ub3B0aW9ucy5kb21BdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogcy5ibG9ja0NvbnRlbnQpIHx8IHt9LCBhID0gZS5yZW5kZXIoaSwgbik7XG4gICAgICByZXR1cm4gbWUoXG4gICAgICAgIGEsXG4gICAgICAgIGkudHlwZSxcbiAgICAgICAgaS5wcm9wcyxcbiAgICAgICAgdC5wcm9wU2NoZW1hLFxuICAgICAgICB0LmlzRmlsZUJsb2NrLFxuICAgICAgICByXG4gICAgICApO1xuICAgIH0sXG4gICAgdG9FeHRlcm5hbEhUTUw6IChpLCBuKSA9PiB7XG4gICAgICB2YXIgcywgbDtcbiAgICAgIGNvbnN0IHIgPSAoKHMgPSBvLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IHMuYmxvY2tDb250ZW50KSB8fCB7fTtcbiAgICAgIGxldCBhID0gKGwgPSBlLnRvRXh0ZXJuYWxIVE1MKSA9PSBudWxsID8gdm9pZCAwIDogbC5jYWxsKFxuICAgICAgICBlLFxuICAgICAgICBpLFxuICAgICAgICBuXG4gICAgICApO1xuICAgICAgcmV0dXJuIGEgPT09IHZvaWQgMCAmJiAoYSA9IGUucmVuZGVyKGksIG4pKSwgbWUoXG4gICAgICAgIGEsXG4gICAgICAgIGkudHlwZSxcbiAgICAgICAgaS5wcm9wcyxcbiAgICAgICAgdC5wcm9wU2NoZW1hLFxuICAgICAgICByXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBBbyh0LCBlLCBvLCBpKSB7XG4gIHJldHVybiB0LmRvbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlubGluZS1jb250ZW50LXR5cGVcIiwgZSksIE9iamVjdC5lbnRyaWVzKG8pLmZpbHRlcigoW24sIHJdKSA9PiByICE9PSBpW25dLmRlZmF1bHQpLm1hcCgoW24sIHJdKSA9PiBbcmUobiksIHJdKS5mb3JFYWNoKChbbiwgcl0pID0+IHQuZG9tLnNldEF0dHJpYnV0ZShuLCByKSksIHQuY29udGVudERPTSAhPT0gdm9pZCAwICYmIHQuY29udGVudERPTS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRhYmxlXCIsIFwiXCIpLCB0O1xufVxuZnVuY3Rpb24gTm8odCkge1xuICByZXR1cm4ge1xuICAgIEJhY2tzcGFjZTogKHsgZWRpdG9yOiBlIH0pID0+IHtcbiAgICAgIGNvbnN0IG8gPSBlLnN0YXRlLnNlbGVjdGlvbi4kZnJvbTtcbiAgICAgIHJldHVybiBlLnN0YXRlLnNlbGVjdGlvbi5lbXB0eSAmJiBvLm5vZGUoKS50eXBlLm5hbWUgPT09IHQudHlwZSAmJiBvLnBhcmVudE9mZnNldCA9PT0gMDtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBQbyh0LCBlKSB7XG4gIHJldHVybiB7XG4gICAgY29uZmlnOiB0LFxuICAgIGltcGxlbWVudGF0aW9uOiBlXG4gIH07XG59XG5mdW5jdGlvbiBIbyh0LCBlKSB7XG4gIHJldHVybiBQbyhcbiAgICB7XG4gICAgICB0eXBlOiB0Lm5hbWUsXG4gICAgICBwcm9wU2NoZW1hOiBlLFxuICAgICAgY29udGVudDogdC5jb25maWcuY29udGVudCA9PT0gXCJpbmxpbmUqXCIgPyBcInN0eWxlZFwiIDogXCJub25lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIG5vZGU6IHRcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBkdCh0KSB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmVudHJpZXModCkubWFwKChbZSwgb10pID0+IFtlLCBvLmNvbmZpZ10pXG4gICk7XG59XG5mdW5jdGlvbiBVbyh0KSB7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgdGFnOiBgW2RhdGEtaW5saW5lLWNvbnRlbnQtdHlwZT1cIiR7dC50eXBlfVwiXWAsXG4gICAgICBjb250ZW50RWxlbWVudDogKGUpID0+IHtcbiAgICAgICAgY29uc3QgbyA9IGU7XG4gICAgICAgIHJldHVybiBvLm1hdGNoZXMoXCJbZGF0YS1lZGl0YWJsZV1cIikgPyBvIDogby5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZWRpdGFibGVdXCIpIHx8IG87XG4gICAgICB9XG4gICAgfVxuICBdO1xufVxuZnVuY3Rpb24gQXIodCwgZSkge1xuICBjb25zdCBvID0gJC5jcmVhdGUoe1xuICAgIG5hbWU6IHQudHlwZSxcbiAgICBpbmxpbmU6ICEwLFxuICAgIGdyb3VwOiBcImlubGluZVwiLFxuICAgIHNlbGVjdGFibGU6IHQuY29udGVudCA9PT0gXCJzdHlsZWRcIixcbiAgICBhdG9tOiB0LmNvbnRlbnQgPT09IFwibm9uZVwiLFxuICAgIGNvbnRlbnQ6IHQuY29udGVudCA9PT0gXCJzdHlsZWRcIiA/IFwiaW5saW5lKlwiIDogXCJcIixcbiAgICBhZGRBdHRyaWJ1dGVzKCkge1xuICAgICAgcmV0dXJuIGF0KHQucHJvcFNjaGVtYSk7XG4gICAgfSxcbiAgICBhZGRLZXlib2FyZFNob3J0Y3V0cygpIHtcbiAgICAgIHJldHVybiBObyh0KTtcbiAgICB9LFxuICAgIHBhcnNlSFRNTCgpIHtcbiAgICAgIHJldHVybiBVbyh0KTtcbiAgICB9LFxuICAgIHJlbmRlckhUTUwoeyBub2RlOiBpIH0pIHtcbiAgICAgIGNvbnN0IG4gPSB0aGlzLm9wdGlvbnMuZWRpdG9yLCByID0gZS5yZW5kZXIoXG4gICAgICAgIHR0KFxuICAgICAgICAgIGksXG4gICAgICAgICAgbi5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgICAgICBuLnNjaGVtYS5zdHlsZVNjaGVtYVxuICAgICAgICApXG4gICAgICAgIC8vIFRPRE86IGZpeCBjYXN0XG4gICAgICApO1xuICAgICAgcmV0dXJuIEFvKFxuICAgICAgICByLFxuICAgICAgICB0LnR5cGUsXG4gICAgICAgIGkuYXR0cnMsXG4gICAgICAgIHQucHJvcFNjaGVtYVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gSG8oXG4gICAgbyxcbiAgICB0LnByb3BTY2hlbWFcbiAgKTtcbn1cbmZ1bmN0aW9uIERvKHQpIHtcbiAgcmV0dXJuIHQgPT09IFwiYm9vbGVhblwiID8ge30gOiB7XG4gICAgc3RyaW5nVmFsdWU6IHtcbiAgICAgIGRlZmF1bHQ6IHZvaWQgMCxcbiAgICAgIGtlZXBPblNwbGl0OiAhMCxcbiAgICAgIHBhcnNlSFRNTDogKGUpID0+IGUuZ2V0QXR0cmlidXRlKFwiZGF0YS12YWx1ZVwiKSxcbiAgICAgIHJlbmRlckhUTUw6IChlKSA9PiBlLnN0cmluZ1ZhbHVlICE9PSB2b2lkIDAgPyB7XG4gICAgICAgIFwiZGF0YS12YWx1ZVwiOiBlLnN0cmluZ1ZhbHVlXG4gICAgICB9IDoge31cbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBPbyh0LCBlLCBvLCBpKSB7XG4gIHJldHVybiB0LmRvbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN0eWxlLXR5cGVcIiwgZSksIGkgPT09IFwic3RyaW5nXCIgJiYgdC5kb20uc2V0QXR0cmlidXRlKFwiZGF0YS12YWx1ZVwiLCBvKSwgdC5jb250ZW50RE9NICE9PSB2b2lkIDAgJiYgdC5jb250ZW50RE9NLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGFibGVcIiwgXCJcIiksIHQ7XG59XG5mdW5jdGlvbiBjdCh0LCBlKSB7XG4gIHJldHVybiB7XG4gICAgY29uZmlnOiB0LFxuICAgIGltcGxlbWVudGF0aW9uOiBlXG4gIH07XG59XG5mdW5jdGlvbiBVKHQsIGUpIHtcbiAgcmV0dXJuIGN0KFxuICAgIHtcbiAgICAgIHR5cGU6IHQubmFtZSxcbiAgICAgIHByb3BTY2hlbWE6IGVcbiAgICB9LFxuICAgIHtcbiAgICAgIG1hcms6IHRcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiB1dCh0KSB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmVudHJpZXModCkubWFwKChbZSwgb10pID0+IFtlLCBvLmNvbmZpZ10pXG4gICk7XG59XG5mdW5jdGlvbiBSbyh0KSB7XG4gIHJldHVybiBbXG4gICAge1xuICAgICAgdGFnOiBgW2RhdGEtc3R5bGUtdHlwZT1cIiR7dC50eXBlfVwiXWAsXG4gICAgICBjb250ZW50RWxlbWVudDogKGUpID0+IHtcbiAgICAgICAgY29uc3QgbyA9IGU7XG4gICAgICAgIHJldHVybiBvLm1hdGNoZXMoXCJbZGF0YS1lZGl0YWJsZV1cIikgPyBvIDogby5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZWRpdGFibGVdXCIpIHx8IG87XG4gICAgICB9XG4gICAgfVxuICBdO1xufVxuZnVuY3Rpb24gTnIodCwgZSkge1xuICBjb25zdCBvID0geGUuY3JlYXRlKHtcbiAgICBuYW1lOiB0LnR5cGUsXG4gICAgYWRkQXR0cmlidXRlcygpIHtcbiAgICAgIHJldHVybiBEbyh0LnByb3BTY2hlbWEpO1xuICAgIH0sXG4gICAgcGFyc2VIVE1MKCkge1xuICAgICAgcmV0dXJuIFJvKHQpO1xuICAgIH0sXG4gICAgcmVuZGVySFRNTCh7IG1hcms6IGkgfSkge1xuICAgICAgbGV0IG47XG4gICAgICBpZiAodC5wcm9wU2NoZW1hID09PSBcImJvb2xlYW5cIilcbiAgICAgICAgbiA9IGUucmVuZGVyKCk7XG4gICAgICBlbHNlIGlmICh0LnByb3BTY2hlbWEgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIG4gPSBlLnJlbmRlcihpLmF0dHJzLnN0cmluZ1ZhbHVlKTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IEwodC5wcm9wU2NoZW1hKTtcbiAgICAgIHJldHVybiBPbyhcbiAgICAgICAgbixcbiAgICAgICAgdC50eXBlLFxuICAgICAgICBpLmF0dHJzLnN0cmluZ1ZhbHVlLFxuICAgICAgICB0LnByb3BTY2hlbWFcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGN0KHQsIHtcbiAgICBtYXJrOiBvXG4gIH0pO1xufVxuY29uc3QgbGUgPSAodCkgPT4ge1xuICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZS5jbGFzc05hbWUgPSBcImJuLWZpbGUtZGVmYXVsdC1wcmV2aWV3XCI7XG4gIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBvLmNsYXNzTmFtZSA9IFwiYm4tZmlsZS1kZWZhdWx0LXByZXZpZXctaWNvblwiLCBvLmlubmVySFRNTCA9ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiPjxwYXRoIGQ9XCJNMyA4TDkuMDAzMTkgMkgxOS45OTc4QzIwLjU1MTMgMiAyMSAyLjQ1NTMxIDIxIDIuOTkxOFYyMS4wMDgyQzIxIDIxLjU1NiAyMC41NTUxIDIyIDIwLjAwNjYgMjJIMy45OTM0QzMuNDQ0NzYgMjIgMyAyMS41NTAxIDMgMjAuOTkzMlY4Wk0xMCA0VjlINVYyMEgxOVY0SDEwWlwiPjwvcGF0aD48L3N2Zz4nO1xuICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gIHJldHVybiBpLmNsYXNzTmFtZSA9IFwiYm4tZmlsZS1kZWZhdWx0LXByZXZpZXctbmFtZVwiLCBpLnRleHRDb250ZW50ID0gdC5wcm9wcy5uYW1lIHx8IFwiXCIsIGUuYXBwZW5kQ2hpbGQobyksIGUuYXBwZW5kQ2hpbGQoaSksIHtcbiAgICBkb206IGVcbiAgfTtcbn0sIGogPSAodCwgZSkgPT4ge1xuICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgby5jbGFzc05hbWUgPSBcImJuLWZpbGUtYW5kLWNhcHRpb24td3JhcHBlclwiO1xuICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gIHJldHVybiBpLmNsYXNzTmFtZSA9IFwiYm4tZmlsZS1jYXB0aW9uXCIsIGkudGV4dENvbnRlbnQgPSB0LnByb3BzLmNhcHRpb24sIG8uYXBwZW5kQ2hpbGQoZSksIG8uYXBwZW5kQ2hpbGQoaSksIHtcbiAgICBkb206IG9cbiAgfTtcbn0sIGRlID0gKHQsIGUsIG8sIGkpID0+IHtcbiAgY29uc3QgbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIG4uY2xhc3NOYW1lID0gXCJibi1hZGQtZmlsZS1idXR0b25cIjtcbiAgY29uc3QgciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHIuY2xhc3NOYW1lID0gXCJibi1hZGQtZmlsZS1idXR0b24taWNvblwiLCBpID8gci5hcHBlbmRDaGlsZChpKSA6IHIuaW5uZXJIVE1MID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+PHBhdGggZD1cIk0zIDhMOS4wMDMxOSAySDE5Ljk5NzhDMjAuNTUxMyAyIDIxIDIuNDU1MzEgMjEgMi45OTE4VjIxLjAwODJDMjEgMjEuNTU2IDIwLjU1NTEgMjIgMjAuMDA2NiAyMkgzLjk5MzRDMy40NDQ3NiAyMiAzIDIxLjU1MDEgMyAyMC45OTMyVjhaTTEwIDRWOUg1VjIwSDE5VjRIMTBaXCI+PC9wYXRoPjwvc3ZnPic7XG4gIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgYS5jbGFzc05hbWUgPSBcImJuLWFkZC1maWxlLWJ1dHRvbi10ZXh0XCIsIGEuaW5uZXJIVE1MID0gbyB8fCBlLmRpY3Rpb25hcnkuZmlsZV9ibG9ja3MuZmlsZS5hZGRfYnV0dG9uX3RleHQ7XG4gIGNvbnN0IHMgPSAoZCkgPT4ge1xuICAgIGQucHJldmVudERlZmF1bHQoKTtcbiAgfSwgbCA9ICgpID0+IHtcbiAgICBlLl90aXB0YXBFZGl0b3Iudmlldy5kaXNwYXRjaChcbiAgICAgIGUuX3RpcHRhcEVkaXRvci5zdGF0ZS50ci5zZXRNZXRhKGUuZmlsZVBhbmVsLnBsdWdpbiwge1xuICAgICAgICBibG9jazogdFxuICAgICAgfSlcbiAgICApO1xuICB9O1xuICByZXR1cm4gbi5hcHBlbmRDaGlsZChyKSwgbi5hcHBlbmRDaGlsZChhKSwgbi5hZGRFdmVudExpc3RlbmVyKFxuICAgIFwibW91c2Vkb3duXCIsXG4gICAgcyxcbiAgICAhMFxuICApLCBuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsLCAhMCksIHtcbiAgICBkb206IG4sXG4gICAgZGVzdHJveTogKCkgPT4ge1xuICAgICAgbi5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBcIm1vdXNlZG93blwiLFxuICAgICAgICBzLFxuICAgICAgICAhMFxuICAgICAgKSwgbi5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgIGwsXG4gICAgICAgICEwXG4gICAgICApO1xuICAgIH1cbiAgfTtcbn0sIE9lID0gKHQpID0+ICh7IHVybDogdC5zcmMgfHwgdm9pZCAwIH0pLCBjZSA9ICh0LCBlKSA9PiB7XG4gIGNvbnN0IG8gPSB0LnF1ZXJ5U2VsZWN0b3IoXG4gICAgZVxuICApO1xuICBpZiAoIW8pXG4gICAgcmV0dXJuO1xuICBjb25zdCBpID0gdC5xdWVyeVNlbGVjdG9yKFwiZmlnY2FwdGlvblwiKSwgbiA9IChpID09IG51bGwgPyB2b2lkIDAgOiBpLnRleHRDb250ZW50KSA/PyB2b2lkIDA7XG4gIHJldHVybiB7IHRhcmdldEVsZW1lbnQ6IG8sIGNhcHRpb246IG4gfTtcbn0sIHVlID0gKHQsIGUpID0+IHtcbiAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgcmV0dXJuIGkudGV4dENvbnRlbnQgPSBlLCBvLmFwcGVuZENoaWxkKHQpLCBvLmFwcGVuZENoaWxkKGkpLCB7XG4gICAgZG9tOiBvXG4gIH07XG59LCBDZSA9ICh0LCBlKSA9PiB7XG4gIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmlndXJlXCIpLCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZ2NhcHRpb25cIik7XG4gIHJldHVybiBpLnRleHRDb250ZW50ID0gZSwgby5hcHBlbmRDaGlsZCh0KSwgby5hcHBlbmRDaGlsZChpKSwgeyBkb206IG8gfTtcbn0sIHB0ID0gKHQsIGUsIG8sIGksIG4pID0+IHtcbiAgaWYgKCF0LnByb3BzLnByZXZpZXdXaWR0aClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCbG9jayBtdXN0IGhhdmUgYSBgcHJldmlld1dpZHRoYCBwcm9wLlwiKTtcbiAgY29uc3QgciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHIuY2xhc3NOYW1lID0gXCJibi12aXN1YWwtbWVkaWEtd3JhcHBlclwiO1xuICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgYS5jbGFzc05hbWUgPSBcImJuLXZpc3VhbC1tZWRpYS1yZXNpemUtaGFuZGxlXCIsIGEuc3R5bGUubGVmdCA9IFwiNHB4XCI7XG4gIGNvbnN0IHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBzLmNsYXNzTmFtZSA9IFwiYm4tdmlzdWFsLW1lZGlhLXJlc2l6ZS1oYW5kbGVcIiwgcy5zdHlsZS5yaWdodCA9IFwiNHB4XCI7XG4gIGxldCBsO1xuICBjb25zdCBkID0gKGcpID0+IHtcbiAgICBpZiAoIWwpIHtcbiAgICAgICFlLmlzRWRpdGFibGUgJiYgci5jb250YWlucyhhKSAmJiByLmNvbnRhaW5zKHMpICYmIChyLnJlbW92ZUNoaWxkKGEpLCByLnJlbW92ZUNoaWxkKHMpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGs7XG4gICAgdC5wcm9wcy50ZXh0QWxpZ25tZW50ID09PSBcImNlbnRlclwiID8gbC5oYW5kbGVVc2VkID09PSBcImxlZnRcIiA/IGsgPSBsLmluaXRpYWxXaWR0aCArIChsLmluaXRpYWxDbGllbnRYIC0gZy5jbGllbnRYKSAqIDIgOiBrID0gbC5pbml0aWFsV2lkdGggKyAoZy5jbGllbnRYIC0gbC5pbml0aWFsQ2xpZW50WCkgKiAyIDogbC5oYW5kbGVVc2VkID09PSBcImxlZnRcIiA/IGsgPSBsLmluaXRpYWxXaWR0aCArIGwuaW5pdGlhbENsaWVudFggLSBnLmNsaWVudFggOiBrID0gbC5pbml0aWFsV2lkdGggKyBnLmNsaWVudFggLSBsLmluaXRpYWxDbGllbnRYO1xuICAgIGNvbnN0IEkgPSA2NDtcbiAgICBrIDwgSSA/IG4oSSkgOiBrID4gZS5kb21FbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLmNsaWVudFdpZHRoID8gbihlLmRvbUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xpZW50V2lkdGgpIDogbihrKTtcbiAgfSwgdSA9IChnKSA9PiB7XG4gICAgKCFnLnRhcmdldCB8fCAhci5jb250YWlucyhnLnRhcmdldCkgfHwgIWUuaXNFZGl0YWJsZSkgJiYgci5jb250YWlucyhhKSAmJiByLmNvbnRhaW5zKHMpICYmIChyLnJlbW92ZUNoaWxkKGEpLCByLnJlbW92ZUNoaWxkKHMpKSwgbCAmJiAobCA9IHZvaWQgMCwgZS51cGRhdGVCbG9jayh0LCB7XG4gICAgICBwcm9wczoge1xuICAgICAgICBwcmV2aWV3V2lkdGg6IGkoKVxuICAgICAgfVxuICAgIH0pKTtcbiAgfSwgcCA9ICgpID0+IHtcbiAgICBlLmlzRWRpdGFibGUgJiYgKHIuYXBwZW5kQ2hpbGQoYSksIHIuYXBwZW5kQ2hpbGQocykpO1xuICB9LCBoID0gKGcpID0+IHtcbiAgICBnLnJlbGF0ZWRUYXJnZXQgPT09IGEgfHwgZy5yZWxhdGVkVGFyZ2V0ID09PSBzIHx8IGwgfHwgZS5pc0VkaXRhYmxlICYmIHIuY29udGFpbnMoYSkgJiYgci5jb250YWlucyhzKSAmJiAoci5yZW1vdmVDaGlsZChhKSwgci5yZW1vdmVDaGlsZChzKSk7XG4gIH0sIG0gPSAoZykgPT4ge1xuICAgIGcucHJldmVudERlZmF1bHQoKSwgci5hcHBlbmRDaGlsZChhKSwgci5hcHBlbmRDaGlsZChzKSwgbCA9IHtcbiAgICAgIGhhbmRsZVVzZWQ6IFwibGVmdFwiLFxuICAgICAgaW5pdGlhbFdpZHRoOiB0LnByb3BzLnByZXZpZXdXaWR0aCxcbiAgICAgIGluaXRpYWxDbGllbnRYOiBnLmNsaWVudFhcbiAgICB9O1xuICB9LCBmID0gKGcpID0+IHtcbiAgICBnLnByZXZlbnREZWZhdWx0KCksIHIuYXBwZW5kQ2hpbGQoYSksIHIuYXBwZW5kQ2hpbGQocyksIGwgPSB7XG4gICAgICBoYW5kbGVVc2VkOiBcInJpZ2h0XCIsXG4gICAgICBpbml0aWFsV2lkdGg6IHQucHJvcHMucHJldmlld1dpZHRoLFxuICAgICAgaW5pdGlhbENsaWVudFg6IGcuY2xpZW50WFxuICAgIH07XG4gIH07XG4gIHJldHVybiByLmFwcGVuZENoaWxkKG8pLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBkKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHUpLCBvLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHApLCBvLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGgpLCBhLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgXCJtb3VzZWRvd25cIixcbiAgICBtXG4gICksIHMuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcIm1vdXNlZG93blwiLFxuICAgIGZcbiAgKSwge1xuICAgIGRvbTogcixcbiAgICBkZXN0cm95OiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBkKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHUpLCBvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsIHApLCBvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIGgpLCBhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwibW91c2Vkb3duXCIsXG4gICAgICAgIG1cbiAgICAgICksIHMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJtb3VzZWRvd25cIixcbiAgICAgICAgZlxuICAgICAgKTtcbiAgICB9XG4gIH07XG59LCBWbyA9IHtcbiAgYmFja2dyb3VuZENvbG9yOiBfLmJhY2tncm91bmRDb2xvcixcbiAgLy8gRmlsZSBuYW1lLlxuICBuYW1lOiB7XG4gICAgZGVmYXVsdDogXCJcIlxuICB9LFxuICAvLyBGaWxlIHVybC5cbiAgdXJsOiB7XG4gICAgZGVmYXVsdDogXCJcIlxuICB9LFxuICAvLyBGaWxlIGNhcHRpb24uXG4gIGNhcHRpb246IHtcbiAgICBkZWZhdWx0OiBcIlwiXG4gIH1cbn0sIGpvID0ge1xuICB0eXBlOiBcImZpbGVcIixcbiAgcHJvcFNjaGVtYTogVm8sXG4gIGNvbnRlbnQ6IFwibm9uZVwiLFxuICBpc0ZpbGVCbG9jazogITBcbn0sIHpvID0gKHQsIGUpID0+IHtcbiAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGlmIChvLmNsYXNzTmFtZSA9IFwiYm4tZmlsZS1ibG9jay1jb250ZW50LXdyYXBwZXJcIiwgdC5wcm9wcy51cmwgPT09IFwiXCIpIHtcbiAgICBjb25zdCBpID0gZGUodCwgZSk7XG4gICAgcmV0dXJuIG8uYXBwZW5kQ2hpbGQoaS5kb20pLCB7XG4gICAgICBkb206IG8sXG4gICAgICBkZXN0cm95OiBpLmRlc3Ryb3lcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGkgPSBsZSh0KS5kb20sIG4gPSBqKHQsIGkpO1xuICAgIHJldHVybiBvLmFwcGVuZENoaWxkKG4uZG9tKSwge1xuICAgICAgZG9tOiBvXG4gICAgfTtcbiAgfVxufSwgRm8gPSAodCkgPT4ge1xuICBpZiAodC50YWdOYW1lID09PSBcIkVNQkVEXCIpXG4gICAgcmV0dXJuIE9lKHQpO1xuICBpZiAodC50YWdOYW1lID09PSBcIkZJR1VSRVwiKSB7XG4gICAgY29uc3QgZSA9IGNlKHQsIFwiZW1iZWRcIik7XG4gICAgaWYgKCFlKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgdGFyZ2V0RWxlbWVudDogbywgY2FwdGlvbjogaSB9ID0gZTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uT2UobyksXG4gICAgICBjYXB0aW9uOiBpXG4gICAgfTtcbiAgfVxufSwgR28gPSAodCkgPT4ge1xuICBpZiAoIXQucHJvcHMudXJsKSB7XG4gICAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHJldHVybiBvLnRleHRDb250ZW50ID0gXCJBZGQgZmlsZVwiLCB7XG4gICAgICBkb206IG9cbiAgICB9O1xuICB9XG4gIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgcmV0dXJuIGUuaHJlZiA9IHQucHJvcHMudXJsLCBlLnRleHRDb250ZW50ID0gdC5wcm9wcy5uYW1lIHx8IHQucHJvcHMudXJsLCB0LnByb3BzLmNhcHRpb24gPyB1ZShlLCB0LnByb3BzLmNhcHRpb24pIDoge1xuICAgIGRvbTogZVxuICB9O1xufSwgV28gPSBzZShqbywge1xuICByZW5kZXI6IHpvLFxuICBwYXJzZTogRm8sXG4gIHRvRXh0ZXJuYWxIVE1MOiBHb1xufSksIFJlID0gKHQpID0+IHtcbiAgY29uc3QgZSA9IHQuc3JjIHx8IHZvaWQgMCwgbyA9IHQud2lkdGggfHwgdm9pZCAwO1xuICByZXR1cm4geyB1cmw6IGUsIHByZXZpZXdXaWR0aDogbyB9O1xufSwgS28gPSB7XG4gIHRleHRBbGlnbm1lbnQ6IF8udGV4dEFsaWdubWVudCxcbiAgYmFja2dyb3VuZENvbG9yOiBfLmJhY2tncm91bmRDb2xvcixcbiAgLy8gRmlsZSBuYW1lLlxuICBuYW1lOiB7XG4gICAgZGVmYXVsdDogXCJcIlxuICB9LFxuICAvLyBGaWxlIHVybC5cbiAgdXJsOiB7XG4gICAgZGVmYXVsdDogXCJcIlxuICB9LFxuICAvLyBGaWxlIGNhcHRpb24uXG4gIGNhcHRpb246IHtcbiAgICBkZWZhdWx0OiBcIlwiXG4gIH0sXG4gIHNob3dQcmV2aWV3OiB7XG4gICAgZGVmYXVsdDogITBcbiAgfSxcbiAgLy8gRmlsZSBwcmV2aWV3IHdpZHRoIGluIHB4LlxuICBwcmV2aWV3V2lkdGg6IHtcbiAgICBkZWZhdWx0OiA1MTJcbiAgfVxufSwgJG8gPSB7XG4gIHR5cGU6IFwiaW1hZ2VcIixcbiAgcHJvcFNjaGVtYTogS28sXG4gIGNvbnRlbnQ6IFwibm9uZVwiLFxuICBpc0ZpbGVCbG9jazogITAsXG4gIGZpbGVCbG9ja0FjY2VwdE1pbWVUeXBlczogW1wiaW1hZ2UvKlwiXVxufSwgcW8gPSAodCwgZSkgPT4ge1xuICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgaWYgKG8uY2xhc3NOYW1lID0gXCJibi1maWxlLWJsb2NrLWNvbnRlbnQtd3JhcHBlclwiLCB0LnByb3BzLnVybCA9PT0gXCJcIikge1xuICAgIGNvbnN0IGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGkuaW5uZXJIVE1MID0gJzxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+PHBhdGggZD1cIk01IDExLjEwMDVMNyA5LjEwMDVMMTIuNSAxNC42MDA1TDE2IDExLjEwMDVMMTkgMTQuMTAwNVY1SDVWMTEuMTAwNVpNNCAzSDIwQzIwLjU1MjMgMyAyMSAzLjQ0NzcyIDIxIDRWMjBDMjEgMjAuNTUyMyAyMC41NTIzIDIxIDIwIDIxSDRDMy40NDc3MiAyMSAzIDIwLjU1MjMgMyAyMFY0QzMgMy40NDc3MiAzLjQ0NzcyIDMgNCAzWk0xNS41IDEwQzE0LjY3MTYgMTAgMTQgOS4zMjg0MyAxNCA4LjVDMTQgNy42NzE1NyAxNC42NzE2IDcgMTUuNSA3QzE2LjMyODQgNyAxNyA3LjY3MTU3IDE3IDguNUMxNyA5LjMyODQzIDE2LjMyODQgMTAgMTUuNSAxMFpcIj48L3BhdGg+PC9zdmc+JztcbiAgICBjb25zdCBuID0gZGUoXG4gICAgICB0LFxuICAgICAgZSxcbiAgICAgIGUuZGljdGlvbmFyeS5maWxlX2Jsb2Nrcy5pbWFnZS5hZGRfYnV0dG9uX3RleHQsXG4gICAgICBpLmZpcnN0RWxlbWVudENoaWxkXG4gICAgKTtcbiAgICByZXR1cm4gby5hcHBlbmRDaGlsZChuLmRvbSksIHtcbiAgICAgIGRvbTogbyxcbiAgICAgIGRlc3Ryb3k6ICgpID0+IHtcbiAgICAgICAgdmFyIHI7XG4gICAgICAgIChyID0gbiA9PSBudWxsID8gdm9pZCAwIDogbi5kZXN0cm95KSA9PSBudWxsIHx8IHIuY2FsbChuKTtcbiAgICAgIH1cbiAgICB9O1xuICB9IGVsc2UgaWYgKHQucHJvcHMuc2hvd1ByZXZpZXcpIHtcbiAgICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICBpLmNsYXNzTmFtZSA9IFwiYm4tdmlzdWFsLW1lZGlhXCIsIGUucmVzb2x2ZUZpbGVVcmwodC5wcm9wcy51cmwpLnRoZW4oKGEpID0+IHtcbiAgICAgIGkuc3JjID0gYTtcbiAgICB9KSwgaS5hbHQgPSB0LnByb3BzLm5hbWUgfHwgdC5wcm9wcy5jYXB0aW9uIHx8IFwiQmxvY2tOb3RlIGltYWdlXCIsIGkuY29udGVudEVkaXRhYmxlID0gXCJmYWxzZVwiLCBpLmRyYWdnYWJsZSA9ICExLCBpLndpZHRoID0gTWF0aC5taW4oXG4gICAgICB0LnByb3BzLnByZXZpZXdXaWR0aCxcbiAgICAgIGUuZG9tRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZC5jbGllbnRXaWR0aFxuICAgICk7XG4gICAgY29uc3QgbiA9IHB0KFxuICAgICAgdCxcbiAgICAgIGUsXG4gICAgICBpLFxuICAgICAgKCkgPT4gaS53aWR0aCxcbiAgICAgIChhKSA9PiBpLndpZHRoID0gYVxuICAgICksIHIgPSBqKHQsIG4uZG9tKTtcbiAgICByZXR1cm4gby5hcHBlbmRDaGlsZChyLmRvbSksIHtcbiAgICAgIGRvbTogbyxcbiAgICAgIGRlc3Ryb3k6IG4uZGVzdHJveVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgaSA9IGxlKHQpLmRvbTtcbiAgICByZXR1cm4ge1xuICAgICAgZG9tOiBqKHQsIGkpLmRvbVxuICAgIH07XG4gIH1cbn0sIFhvID0gKHQpID0+IHtcbiAgaWYgKHQudGFnTmFtZSA9PT0gXCJJTUdcIilcbiAgICByZXR1cm4gUmUodCk7XG4gIGlmICh0LnRhZ05hbWUgPT09IFwiRklHVVJFXCIpIHtcbiAgICBjb25zdCBlID0gY2UodCwgXCJpbWdcIik7XG4gICAgaWYgKCFlKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgdGFyZ2V0RWxlbWVudDogbywgY2FwdGlvbjogaSB9ID0gZTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uUmUobyksXG4gICAgICBjYXB0aW9uOiBpXG4gICAgfTtcbiAgfVxufSwgWm8gPSAodCkgPT4ge1xuICBpZiAoIXQucHJvcHMudXJsKSB7XG4gICAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHJldHVybiBvLnRleHRDb250ZW50ID0gXCJBZGQgaW1hZ2VcIiwge1xuICAgICAgZG9tOiBvXG4gICAgfTtcbiAgfVxuICBsZXQgZTtcbiAgcmV0dXJuIHQucHJvcHMuc2hvd1ByZXZpZXcgPyAoZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiksIGUuc3JjID0gdC5wcm9wcy51cmwsIGUuYWx0ID0gdC5wcm9wcy5uYW1lIHx8IHQucHJvcHMuY2FwdGlvbiB8fCBcIkJsb2NrTm90ZSBpbWFnZVwiLCBlLndpZHRoID0gdC5wcm9wcy5wcmV2aWV3V2lkdGgpIDogKGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKSwgZS5ocmVmID0gdC5wcm9wcy51cmwsIGUudGV4dENvbnRlbnQgPSB0LnByb3BzLm5hbWUgfHwgdC5wcm9wcy51cmwpLCB0LnByb3BzLmNhcHRpb24gPyB0LnByb3BzLnNob3dQcmV2aWV3ID8gQ2UoZSwgdC5wcm9wcy5jYXB0aW9uKSA6IHVlKGUsIHQucHJvcHMuY2FwdGlvbikgOiB7XG4gICAgZG9tOiBlXG4gIH07XG59LCBKbyA9IHNlKCRvLCB7XG4gIHJlbmRlcjogcW8sXG4gIHBhcnNlOiBYbyxcbiAgdG9FeHRlcm5hbEhUTUw6IFpvXG59KSwgVmUgPSAodCkgPT4ge1xuICBjb25zdCBlID0gdC5zcmMgfHwgdm9pZCAwLCBvID0gdC53aWR0aCB8fCB2b2lkIDA7XG4gIHJldHVybiB7IHVybDogZSwgcHJldmlld1dpZHRoOiBvIH07XG59LCBZbyA9IHtcbiAgdGV4dEFsaWdubWVudDogXy50ZXh0QWxpZ25tZW50LFxuICBiYWNrZ3JvdW5kQ29sb3I6IF8uYmFja2dyb3VuZENvbG9yLFxuICAvLyBGaWxlIG5hbWUuXG4gIG5hbWU6IHtcbiAgICBkZWZhdWx0OiBcIlwiXG4gIH0sXG4gIC8vIEZpbGUgdXJsLlxuICB1cmw6IHtcbiAgICBkZWZhdWx0OiBcIlwiXG4gIH0sXG4gIC8vIEZpbGUgY2FwdGlvbi5cbiAgY2FwdGlvbjoge1xuICAgIGRlZmF1bHQ6IFwiXCJcbiAgfSxcbiAgc2hvd1ByZXZpZXc6IHtcbiAgICBkZWZhdWx0OiAhMFxuICB9LFxuICAvLyBGaWxlIHByZXZpZXcgd2lkdGggaW4gcHguXG4gIHByZXZpZXdXaWR0aDoge1xuICAgIGRlZmF1bHQ6IDUxMlxuICB9XG59LCBRbyA9IHtcbiAgdHlwZTogXCJ2aWRlb1wiLFxuICBwcm9wU2NoZW1hOiBZbyxcbiAgY29udGVudDogXCJub25lXCIsXG4gIGlzRmlsZUJsb2NrOiAhMCxcbiAgZmlsZUJsb2NrQWNjZXB0TWltZVR5cGVzOiBbXCJ2aWRlby8qXCJdXG59LCBlaSA9ICh0LCBlKSA9PiB7XG4gIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBpZiAoby5jbGFzc05hbWUgPSBcImJuLWZpbGUtYmxvY2stY29udGVudC13cmFwcGVyXCIsIHQucHJvcHMudXJsID09PSBcIlwiKSB7XG4gICAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaS5pbm5lckhUTUwgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj48cGF0aCBkPVwiTTIgMy45OTM0QzIgMy40NDQ3NiAyLjQ1NTMxIDMgMi45OTE4IDNIMjEuMDA4MkMyMS41NTYgMyAyMiAzLjQ0NDk1IDIyIDMuOTkzNFYyMC4wMDY2QzIyIDIwLjU1NTIgMjEuNTQ0NyAyMSAyMS4wMDgyIDIxSDIuOTkxOEMyLjQ0NDA1IDIxIDIgMjAuNTU1MSAyIDIwLjAwNjZWMy45OTM0Wk04IDVWMTlIMTZWNUg4Wk00IDVWN0g2VjVINFpNMTggNVY3SDIwVjVIMThaTTQgOVYxMUg2VjlINFpNMTggOVYxMUgyMFY5SDE4Wk00IDEzVjE1SDZWMTNINFpNMTggMTNWMTVIMjBWMTNIMThaTTQgMTdWMTlINlYxN0g0Wk0xOCAxN1YxOUgyMFYxN0gxOFpcIj48L3BhdGg+PC9zdmc+JztcbiAgICBjb25zdCBuID0gZGUoXG4gICAgICB0LFxuICAgICAgZSxcbiAgICAgIGUuZGljdGlvbmFyeS5maWxlX2Jsb2Nrcy52aWRlby5hZGRfYnV0dG9uX3RleHQsXG4gICAgICBpLmZpcnN0RWxlbWVudENoaWxkXG4gICAgKTtcbiAgICByZXR1cm4gby5hcHBlbmRDaGlsZChuLmRvbSksIHtcbiAgICAgIGRvbTogbyxcbiAgICAgIGRlc3Ryb3k6ICgpID0+IHtcbiAgICAgICAgdmFyIHI7XG4gICAgICAgIChyID0gbiA9PSBudWxsID8gdm9pZCAwIDogbi5kZXN0cm95KSA9PSBudWxsIHx8IHIuY2FsbChuKTtcbiAgICAgIH1cbiAgICB9O1xuICB9IGVsc2UgaWYgKHQucHJvcHMuc2hvd1ByZXZpZXcpIHtcbiAgICBjb25zdCBpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO1xuICAgIGkuY2xhc3NOYW1lID0gXCJibi12aXN1YWwtbWVkaWFcIiwgaS5zcmMgPSB0LnByb3BzLnVybCwgaS5jb250cm9scyA9ICEwLCBpLmNvbnRlbnRFZGl0YWJsZSA9IFwiZmFsc2VcIiwgaS5kcmFnZ2FibGUgPSAhMSwgaS53aWR0aCA9IE1hdGgubWluKFxuICAgICAgdC5wcm9wcy5wcmV2aWV3V2lkdGgsXG4gICAgICBlLmRvbUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xpZW50V2lkdGhcbiAgICApO1xuICAgIGNvbnN0IG4gPSBwdChcbiAgICAgIHQsXG4gICAgICBlLFxuICAgICAgaSxcbiAgICAgICgpID0+IGkud2lkdGgsXG4gICAgICAoYSkgPT4gaS53aWR0aCA9IGFcbiAgICApLCByID0gaih0LCBuLmRvbSk7XG4gICAgcmV0dXJuIG8uYXBwZW5kQ2hpbGQoci5kb20pLCB7XG4gICAgICBkb206IG8sXG4gICAgICBkZXN0cm95OiBuLmRlc3Ryb3lcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGkgPSBsZSh0KS5kb207XG4gICAgcmV0dXJuIHtcbiAgICAgIGRvbTogaih0LCBpKS5kb21cbiAgICB9O1xuICB9XG59LCB0aSA9ICh0KSA9PiB7XG4gIGlmICh0LnRhZ05hbWUgPT09IFwiVklERU9cIilcbiAgICByZXR1cm4gVmUodCk7XG4gIGlmICh0LnRhZ05hbWUgPT09IFwiRklHVVJFXCIpIHtcbiAgICBjb25zdCBlID0gY2UodCwgXCJ2aWRlb1wiKTtcbiAgICBpZiAoIWUpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgeyB0YXJnZXRFbGVtZW50OiBvLCBjYXB0aW9uOiBpIH0gPSBlO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5WZShvKSxcbiAgICAgIGNhcHRpb246IGlcbiAgICB9O1xuICB9XG59LCBvaSA9ICh0KSA9PiB7XG4gIGlmICghdC5wcm9wcy51cmwpIHtcbiAgICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgcmV0dXJuIG8udGV4dENvbnRlbnQgPSBcIkFkZCB2aWRlb1wiLCB7XG4gICAgICBkb206IG9cbiAgICB9O1xuICB9XG4gIGxldCBlO1xuICByZXR1cm4gdC5wcm9wcy5zaG93UHJldmlldyA/IChlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpLCBlLnNyYyA9IHQucHJvcHMudXJsLCBlLndpZHRoID0gdC5wcm9wcy5wcmV2aWV3V2lkdGgpIDogKGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKSwgZS5ocmVmID0gdC5wcm9wcy51cmwsIGUudGV4dENvbnRlbnQgPSB0LnByb3BzLm5hbWUgfHwgdC5wcm9wcy51cmwpLCB0LnByb3BzLmNhcHRpb24gPyB0LnByb3BzLnNob3dQcmV2aWV3ID8gQ2UoZSwgdC5wcm9wcy5jYXB0aW9uKSA6IHVlKGUsIHQucHJvcHMuY2FwdGlvbikgOiB7XG4gICAgZG9tOiBlXG4gIH07XG59LCBpaSA9IHNlKFFvLCB7XG4gIHJlbmRlcjogZWksXG4gIHBhcnNlOiB0aSxcbiAgdG9FeHRlcm5hbEhUTUw6IG9pXG59KSwgamUgPSAodCkgPT4gKHsgdXJsOiB0LnNyYyB8fCB2b2lkIDAgfSksIG5pID0ge1xuICBiYWNrZ3JvdW5kQ29sb3I6IF8uYmFja2dyb3VuZENvbG9yLFxuICAvLyBGaWxlIG5hbWUuXG4gIG5hbWU6IHtcbiAgICBkZWZhdWx0OiBcIlwiXG4gIH0sXG4gIC8vIEZpbGUgdXJsLlxuICB1cmw6IHtcbiAgICBkZWZhdWx0OiBcIlwiXG4gIH0sXG4gIC8vIEZpbGUgY2FwdGlvbi5cbiAgY2FwdGlvbjoge1xuICAgIGRlZmF1bHQ6IFwiXCJcbiAgfSxcbiAgc2hvd1ByZXZpZXc6IHtcbiAgICBkZWZhdWx0OiAhMFxuICB9XG59LCByaSA9IHtcbiAgdHlwZTogXCJhdWRpb1wiLFxuICBwcm9wU2NoZW1hOiBuaSxcbiAgY29udGVudDogXCJub25lXCIsXG4gIGlzRmlsZUJsb2NrOiAhMCxcbiAgZmlsZUJsb2NrQWNjZXB0TWltZVR5cGVzOiBbXCJhdWRpby8qXCJdXG59LCBhaSA9ICh0LCBlKSA9PiB7XG4gIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBpZiAoby5jbGFzc05hbWUgPSBcImJuLWZpbGUtYmxvY2stY29udGVudC13cmFwcGVyXCIsIHQucHJvcHMudXJsID09PSBcIlwiKSB7XG4gICAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaS5pbm5lckhUTUwgPSAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj48cGF0aCBkPVwiTTIgMTYuMDAwMUg1Ljg4ODg5TDExLjE4MzQgMjAuMzMxOUMxMS4yNzI3IDIwLjQwNSAxMS4zODQ2IDIwLjQ0NDkgMTEuNSAyMC40NDQ5QzExLjc3NjEgMjAuNDQ0OSAxMiAyMC4yMjExIDEyIDE5Ljk0NDlWNC4wNTUxOUMxMiAzLjkzOTc3IDExLjk2MDEgMy44Mjc5IDExLjg4NyAzLjczODU3QzExLjcxMjEgMy41MjQ4NSAxMS4zOTcxIDMuNDkzMzUgMTEuMTgzNCAzLjY2ODIxTDUuODg4ODkgOC4wMDAwN0gyQzEuNDQ3NzIgOC4wMDAwNyAxIDguNDQ3NzggMSA5LjAwMDA3VjE1LjAwMDFDMSAxNS41NTI0IDEuNDQ3NzIgMTYuMDAwMSAyIDE2LjAwMDFaTTIzIDEyQzIzIDE1LjI5MiAyMS41NTM5IDE4LjI0NjMgMTkuMjYyMiAyMC4yNjIyTDE3Ljg0NDUgMTguODQ0NEMxOS43NzU4IDE3LjE5MzcgMjEgMTQuNzM5OCAyMSAxMkMyMSA5LjI2MDE2IDE5Ljc3NTggNi44MDYyOSAxNy44NDQ1IDUuMTU1NTdMMTkuMjYyMiAzLjczNzc5QzIxLjU1MzkgNS43NTM2OCAyMyA4LjcwNzk1IDIzIDEyWk0xOCAxMkMxOCAxMC4wODgzIDE3LjEwNiA4LjM4NTQ4IDE1LjcxMzMgNy4yODY3M0wxNC4yODQyIDguNzE1ODRDMTUuMzIxMyA5LjQzODU1IDE2IDEwLjY0IDE2IDEyQzE2IDEzLjM2IDE1LjMyMTMgMTQuNTYxNCAxNC4yODQyIDE1LjI4NDFMMTUuNzEzMyAxNi43MTMyQzE3LjEwNiAxNS42MTQ1IDE4IDEzLjkxMTYgMTggMTJaXCI+PC9wYXRoPjwvc3ZnPic7XG4gICAgY29uc3QgbiA9IGRlKFxuICAgICAgdCxcbiAgICAgIGUsXG4gICAgICBlLmRpY3Rpb25hcnkuZmlsZV9ibG9ja3MuYXVkaW8uYWRkX2J1dHRvbl90ZXh0LFxuICAgICAgaS5maXJzdEVsZW1lbnRDaGlsZFxuICAgICk7XG4gICAgcmV0dXJuIG8uYXBwZW5kQ2hpbGQobi5kb20pLCB7XG4gICAgICBkb206IG8sXG4gICAgICBkZXN0cm95OiAoKSA9PiB7XG4gICAgICAgIHZhciByO1xuICAgICAgICAociA9IG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4uZGVzdHJveSkgPT0gbnVsbCB8fCByLmNhbGwobik7XG4gICAgICB9XG4gICAgfTtcbiAgfSBlbHNlIGlmICh0LnByb3BzLnNob3dQcmV2aWV3KSB7XG4gICAgY29uc3QgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKTtcbiAgICBpLmNsYXNzTmFtZSA9IFwiYm4tYXVkaW9cIiwgZS5yZXNvbHZlRmlsZVVybCh0LnByb3BzLnVybCkudGhlbigocikgPT4ge1xuICAgICAgaS5zcmMgPSByO1xuICAgIH0pLCBpLmNvbnRyb2xzID0gITAsIGkuY29udGVudEVkaXRhYmxlID0gXCJmYWxzZVwiLCBpLmRyYWdnYWJsZSA9ICExO1xuICAgIGNvbnN0IG4gPSBqKHQsIGkpO1xuICAgIHJldHVybiBvLmFwcGVuZENoaWxkKG4uZG9tKSwge1xuICAgICAgZG9tOiBvXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBpID0gbGUodCkuZG9tO1xuICAgIHJldHVybiB7XG4gICAgICBkb206IGoodCwgaSkuZG9tXG4gICAgfTtcbiAgfVxufSwgc2kgPSAodCkgPT4ge1xuICBpZiAodC50YWdOYW1lID09PSBcIkFVRElPXCIpXG4gICAgcmV0dXJuIGplKHQpO1xuICBpZiAodC50YWdOYW1lID09PSBcIkZJR1VSRVwiKSB7XG4gICAgY29uc3QgZSA9IGNlKHQsIFwiYXVkaW9cIik7XG4gICAgaWYgKCFlKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgdGFyZ2V0RWxlbWVudDogbywgY2FwdGlvbjogaSB9ID0gZTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uamUobyksXG4gICAgICBjYXB0aW9uOiBpXG4gICAgfTtcbiAgfVxufSwgbGkgPSAodCkgPT4ge1xuICBpZiAoIXQucHJvcHMudXJsKSB7XG4gICAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIHJldHVybiBvLnRleHRDb250ZW50ID0gXCJBZGQgYXVkaW9cIiwge1xuICAgICAgZG9tOiBvXG4gICAgfTtcbiAgfVxuICBsZXQgZTtcbiAgcmV0dXJuIHQucHJvcHMuc2hvd1ByZXZpZXcgPyAoZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhdWRpb1wiKSwgZS5zcmMgPSB0LnByb3BzLnVybCkgOiAoZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpLCBlLmhyZWYgPSB0LnByb3BzLnVybCwgZS50ZXh0Q29udGVudCA9IHQucHJvcHMubmFtZSB8fCB0LnByb3BzLnVybCksIHQucHJvcHMuY2FwdGlvbiA/IHQucHJvcHMuc2hvd1ByZXZpZXcgPyBDZShlLCB0LnByb3BzLmNhcHRpb24pIDogdWUoZSwgdC5wcm9wcy5jYXB0aW9uKSA6IHtcbiAgICBkb206IGVcbiAgfTtcbn0sIGRpID0gc2UocmksIHtcbiAgcmVuZGVyOiBhaSxcbiAgcGFyc2U6IHNpLFxuICB0b0V4dGVybmFsSFRNTDogbGlcbn0pLCBQciA9IGFzeW5jICh0KSA9PiB7XG4gIGNvbnN0IGUgPSBuZXcgRm9ybURhdGEoKTtcbiAgcmV0dXJuIGUuYXBwZW5kKFwiZmlsZVwiLCB0KSwgKGF3YWl0IChhd2FpdCBmZXRjaChcImh0dHBzOi8vdG1wZmlsZXMub3JnL2FwaS92MS91cGxvYWRcIiwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgYm9keTogZVxuICB9KSkuanNvbigpKS5kYXRhLnVybC5yZXBsYWNlKFxuICAgIFwidG1wZmlsZXMub3JnL1wiLFxuICAgIFwidG1wZmlsZXMub3JnL2RsL1wiXG4gICk7XG59LCBjaSA9IHhlLmNyZWF0ZSh7XG4gIG5hbWU6IFwiYmFja2dyb3VuZENvbG9yXCIsXG4gIGFkZEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0cmluZ1ZhbHVlOiB7XG4gICAgICAgIGRlZmF1bHQ6IHZvaWQgMCxcbiAgICAgICAgcGFyc2VIVE1MOiAodCkgPT4gdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJhY2tncm91bmQtY29sb3JcIiksXG4gICAgICAgIHJlbmRlckhUTUw6ICh0KSA9PiAoe1xuICAgICAgICAgIFwiZGF0YS1iYWNrZ3JvdW5kLWNvbG9yXCI6IHQuc3RyaW5nVmFsdWVcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBwYXJzZUhUTUwoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdGFnOiBcInNwYW5cIixcbiAgICAgICAgZ2V0QXR0cnM6ICh0KSA9PiB0eXBlb2YgdCA9PSBcInN0cmluZ1wiID8gITEgOiB0Lmhhc0F0dHJpYnV0ZShcImRhdGEtYmFja2dyb3VuZC1jb2xvclwiKSA/IHtcbiAgICAgICAgICBzdHJpbmdWYWx1ZTogdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJhY2tncm91bmQtY29sb3JcIilcbiAgICAgICAgfSA6ICExXG4gICAgICB9XG4gICAgXTtcbiAgfSxcbiAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzOiB0IH0pIHtcbiAgICByZXR1cm4gW1wic3BhblwiLCB0LCAwXTtcbiAgfVxufSksIHVpID0gVShcbiAgY2ksXG4gIFwic3RyaW5nXCJcbiksIHBpID0geGUuY3JlYXRlKHtcbiAgbmFtZTogXCJ0ZXh0Q29sb3JcIixcbiAgYWRkQXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RyaW5nVmFsdWU6IHtcbiAgICAgICAgZGVmYXVsdDogdm9pZCAwLFxuICAgICAgICBwYXJzZUhUTUw6ICh0KSA9PiB0LmdldEF0dHJpYnV0ZShcImRhdGEtdGV4dC1jb2xvclwiKSxcbiAgICAgICAgcmVuZGVySFRNTDogKHQpID0+ICh7XG4gICAgICAgICAgXCJkYXRhLXRleHQtY29sb3JcIjogdC5zdHJpbmdWYWx1ZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIHBhcnNlSFRNTCgpIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICB0YWc6IFwic3BhblwiLFxuICAgICAgICBnZXRBdHRyczogKHQpID0+IHR5cGVvZiB0ID09IFwic3RyaW5nXCIgPyAhMSA6IHQuaGFzQXR0cmlidXRlKFwiZGF0YS10ZXh0LWNvbG9yXCIpID8geyBzdHJpbmdWYWx1ZTogdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXRleHQtY29sb3JcIikgfSA6ICExXG4gICAgICB9XG4gICAgXTtcbiAgfSxcbiAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzOiB0IH0pIHtcbiAgICByZXR1cm4gW1wic3BhblwiLCB0LCAwXTtcbiAgfVxufSksIGhpID0gVShwaSwgXCJzdHJpbmdcIiksIEMgPSAodCkgPT4ge1xuICBjb25zdCB7IGNvbnRlbnRUeXBlOiBlIH0gPSBiKFxuICAgIHQuc3RhdGUuZG9jLFxuICAgIHQuc3RhdGUuc2VsZWN0aW9uLmZyb21cbiAgKTtcbiAgcmV0dXJuIGUuc3BlYy5jb250ZW50O1xufSwgbWkgPSB7XG4gIC4uLl8sXG4gIGxldmVsOiB7IGRlZmF1bHQ6IDEsIHZhbHVlczogWzEsIDIsIDNdIH1cbn0sIGZpID0geih7XG4gIG5hbWU6IFwiaGVhZGluZ1wiLFxuICBjb250ZW50OiBcImlubGluZSpcIixcbiAgZ3JvdXA6IFwiYmxvY2tDb250ZW50XCIsXG4gIGFkZEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxldmVsOiB7XG4gICAgICAgIGRlZmF1bHQ6IDEsXG4gICAgICAgIC8vIGluc3RlYWQgb2YgXCJsZXZlbFwiIGF0dHJpYnV0ZXMsIHVzZSBcImRhdGEtbGV2ZWxcIlxuICAgICAgICBwYXJzZUhUTUw6ICh0KSA9PiB7XG4gICAgICAgICAgY29uc3QgZSA9IHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1sZXZlbFwiKSwgbyA9IHBhcnNlSW50KGUpO1xuICAgICAgICAgIGlmIChpc0Zpbml0ZShvKSlcbiAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICB9LFxuICAgICAgICByZW5kZXJIVE1MOiAodCkgPT4gKHtcbiAgICAgICAgICBcImRhdGEtbGV2ZWxcIjogdC5sZXZlbC50b1N0cmluZygpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgYWRkSW5wdXRSdWxlcygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgLi4uWzEsIDIsIDNdLm1hcCgodCkgPT4gbmV3IGVlKHtcbiAgICAgICAgZmluZDogbmV3IFJlZ0V4cChgXigjeyR7dH19KVxcXFxzJGApLFxuICAgICAgICBoYW5kbGVyOiAoeyBzdGF0ZTogZSwgY2hhaW46IG8sIHJhbmdlOiBpIH0pID0+IHtcbiAgICAgICAgICBDKHRoaXMuZWRpdG9yKSA9PT0gXCJpbmxpbmUqXCIgJiYgbygpLkJOVXBkYXRlQmxvY2soZS5zZWxlY3Rpb24uZnJvbSwge1xuICAgICAgICAgICAgdHlwZTogXCJoZWFkaW5nXCIsXG4gICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICBsZXZlbDogdFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmRlbGV0ZVJhbmdlKHsgZnJvbTogaS5mcm9tLCB0bzogaS50byB9KTtcbiAgICAgICAgfVxuICAgICAgfSkpXG4gICAgXTtcbiAgfSxcbiAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFwiTW9kLUFsdC0xXCI6ICgpID0+IEModGhpcy5lZGl0b3IpICE9PSBcImlubGluZSpcIiA/ICEwIDogdGhpcy5lZGl0b3IuY29tbWFuZHMuQk5VcGRhdGVCbG9jayhcbiAgICAgICAgdGhpcy5lZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLmFuY2hvcixcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwiaGVhZGluZ1wiLFxuICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICBsZXZlbDogMVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIFwiTW9kLUFsdC0yXCI6ICgpID0+IEModGhpcy5lZGl0b3IpICE9PSBcImlubGluZSpcIiA/ICEwIDogdGhpcy5lZGl0b3IuY29tbWFuZHMuQk5VcGRhdGVCbG9jayhcbiAgICAgICAgdGhpcy5lZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLmFuY2hvcixcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwiaGVhZGluZ1wiLFxuICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICBsZXZlbDogMlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIFwiTW9kLUFsdC0zXCI6ICgpID0+IEModGhpcy5lZGl0b3IpICE9PSBcImlubGluZSpcIiA/ICEwIDogdGhpcy5lZGl0b3IuY29tbWFuZHMuQk5VcGRhdGVCbG9jayhcbiAgICAgICAgdGhpcy5lZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLmFuY2hvcixcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwiaGVhZGluZ1wiLFxuICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICBsZXZlbDogM1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgIH07XG4gIH0sXG4gIHBhcnNlSFRNTCgpIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICB0YWc6IFwiZGl2W2RhdGEtY29udGVudC10eXBlPVwiICsgdGhpcy5uYW1lICsgXCJdXCIsXG4gICAgICAgIGdldEF0dHJzOiAodCkgPT4gdHlwZW9mIHQgPT0gXCJzdHJpbmdcIiA/ICExIDoge1xuICAgICAgICAgIGxldmVsOiB0LmdldEF0dHJpYnV0ZShcImRhdGEtbGV2ZWxcIilcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGFnOiBcImgxXCIsXG4gICAgICAgIGF0dHJzOiB7IGxldmVsOiAxIH0sXG4gICAgICAgIG5vZGU6IFwiaGVhZGluZ1wiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB0YWc6IFwiaDJcIixcbiAgICAgICAgYXR0cnM6IHsgbGV2ZWw6IDIgfSxcbiAgICAgICAgbm9kZTogXCJoZWFkaW5nXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJoM1wiLFxuICAgICAgICBhdHRyczogeyBsZXZlbDogMyB9LFxuICAgICAgICBub2RlOiBcImhlYWRpbmdcIlxuICAgICAgfVxuICAgIF07XG4gIH0sXG4gIHJlbmRlckhUTUwoeyBub2RlOiB0LCBIVE1MQXR0cmlidXRlczogZSB9KSB7XG4gICAgdmFyIG8sIGk7XG4gICAgcmV0dXJuIFYoXG4gICAgICB0aGlzLm5hbWUsXG4gICAgICBgaCR7dC5hdHRycy5sZXZlbH1gLFxuICAgICAge1xuICAgICAgICAuLi4oKG8gPSB0aGlzLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IG8uYmxvY2tDb250ZW50KSB8fCB7fSxcbiAgICAgICAgLi4uZVxuICAgICAgfSxcbiAgICAgICgoaSA9IHRoaXMub3B0aW9ucy5kb21BdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogaS5pbmxpbmVDb250ZW50KSB8fCB7fVxuICAgICk7XG4gIH1cbn0pLCBnaSA9IHEoXG4gIGZpLFxuICBtaVxuKSwgU2UgPSAodCkgPT4ge1xuICBjb25zdCB7IGNvbnRlbnROb2RlOiBlLCBjb250ZW50VHlwZTogbyB9ID0gYihcbiAgICB0LnN0YXRlLmRvYyxcbiAgICB0LnN0YXRlLnNlbGVjdGlvbi5mcm9tXG4gICksIGkgPSB0LnN0YXRlLnNlbGVjdGlvbi5hbmNob3IgPT09IHQuc3RhdGUuc2VsZWN0aW9uLmhlYWQ7XG4gIHJldHVybiAhKG8ubmFtZSA9PT0gXCJidWxsZXRMaXN0SXRlbVwiIHx8IG8ubmFtZSA9PT0gXCJudW1iZXJlZExpc3RJdGVtXCIgfHwgby5uYW1lID09PSBcImNoZWNrTGlzdEl0ZW1cIikgfHwgIWkgPyAhMSA6IHQuY29tbWFuZHMuZmlyc3QoKHsgc3RhdGU6IG4sIGNoYWluOiByLCBjb21tYW5kczogYSB9KSA9PiBbXG4gICAgKCkgPT4gKFxuICAgICAgLy8gQ2hhbmdlcyBsaXN0IGl0ZW0gYmxvY2sgdG8gYSBwYXJhZ3JhcGggYmxvY2sgaWYgdGhlIGNvbnRlbnQgaXMgZW1wdHkuXG4gICAgICBhLmNvbW1hbmQoKCkgPT4gZS5jaGlsZENvdW50ID09PSAwID8gYS5CTlVwZGF0ZUJsb2NrKG4uc2VsZWN0aW9uLmZyb20sIHtcbiAgICAgICAgdHlwZTogXCJwYXJhZ3JhcGhcIixcbiAgICAgICAgcHJvcHM6IHt9XG4gICAgICB9KSA6ICExKVxuICAgICksXG4gICAgKCkgPT4gKFxuICAgICAgLy8gU3BsaXRzIHRoZSBjdXJyZW50IGJsb2NrLCBtb3ZpbmcgY29udGVudCBpbnNpZGUgdGhhdCdzIGFmdGVyIHRoZSBjdXJzb3JcbiAgICAgIC8vIHRvIGEgbmV3IGJsb2NrIG9mIHRoZSBzYW1lIHR5cGUgYmVsb3cuXG4gICAgICBhLmNvbW1hbmQoKCkgPT4gZS5jaGlsZENvdW50ID4gMCA/IChyKCkuZGVsZXRlU2VsZWN0aW9uKCkuQk5TcGxpdEJsb2NrKG4uc2VsZWN0aW9uLmZyb20sICEwKS5ydW4oKSwgITApIDogITEpXG4gICAgKVxuICBdKTtcbn0sIGJpID0ge1xuICAuLi5fXG59LCBraSA9IHooe1xuICBuYW1lOiBcImJ1bGxldExpc3RJdGVtXCIsXG4gIGNvbnRlbnQ6IFwiaW5saW5lKlwiLFxuICBncm91cDogXCJibG9ja0NvbnRlbnRcIixcbiAgLy8gVGhpcyBpcyB0byBtYWtlIHN1cmUgdGhhdCBjaGVjayBsaXN0IHBhcnNlIHJ1bGVzIHJ1biBiZWZvcmUsIHNpbmNlIHRoZXlcbiAgLy8gYm90aCBwYXJzZSBgbGlgIGVsZW1lbnRzIGJ1dCBjaGVjayBsaXN0cyBhcmUgbW9yZSBzcGVjaWZpYy5cbiAgcHJpb3JpdHk6IDkwLFxuICBhZGRJbnB1dFJ1bGVzKCkge1xuICAgIHJldHVybiBbXG4gICAgICAvLyBDcmVhdGVzIGFuIHVub3JkZXJlZCBsaXN0IHdoZW4gc3RhcnRpbmcgd2l0aCBcIi1cIiwgXCIrXCIsIG9yIFwiKlwiLlxuICAgICAgbmV3IGVlKHtcbiAgICAgICAgZmluZDogbmV3IFJlZ0V4cChcIl5bLSsqXVxcXFxzJFwiKSxcbiAgICAgICAgaGFuZGxlcjogKHsgc3RhdGU6IHQsIGNoYWluOiBlLCByYW5nZTogbyB9KSA9PiB7XG4gICAgICAgICAgQyh0aGlzLmVkaXRvcikgPT09IFwiaW5saW5lKlwiICYmIGUoKS5CTlVwZGF0ZUJsb2NrKHQuc2VsZWN0aW9uLmZyb20sIHtcbiAgICAgICAgICAgIHR5cGU6IFwiYnVsbGV0TGlzdEl0ZW1cIixcbiAgICAgICAgICAgIHByb3BzOiB7fVxuICAgICAgICAgIH0pLmRlbGV0ZVJhbmdlKHsgZnJvbTogby5mcm9tLCB0bzogby50byB9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICBdO1xuICB9LFxuICBhZGRLZXlib2FyZFNob3J0Y3V0cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgRW50ZXI6ICgpID0+IFNlKHRoaXMuZWRpdG9yKSxcbiAgICAgIFwiTW9kLVNoaWZ0LThcIjogKCkgPT4gQyh0aGlzLmVkaXRvcikgIT09IFwiaW5saW5lKlwiID8gITAgOiB0aGlzLmVkaXRvci5jb21tYW5kcy5CTlVwZGF0ZUJsb2NrKFxuICAgICAgICB0aGlzLmVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uYW5jaG9yLFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJidWxsZXRMaXN0SXRlbVwiLFxuICAgICAgICAgIHByb3BzOiB7fVxuICAgICAgICB9XG4gICAgICApXG4gICAgfTtcbiAgfSxcbiAgcGFyc2VIVE1MKCkge1xuICAgIHJldHVybiBbXG4gICAgICAvLyBDYXNlIGZvciByZWd1bGFyIEhUTUwgbGlzdCBzdHJ1Y3R1cmUuXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJkaXZbZGF0YS1jb250ZW50LXR5cGU9XCIgKyB0aGlzLm5hbWUgKyBcIl1cIlxuICAgICAgICAvLyBUT0RPOiByZW1vdmUgaWYgd2UgY2FuJ3QgY29tZSB1cCB3aXRoIHRlc3QgY2FzZSB0aGF0IG5lZWRzIHRoaXNcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJsaVwiLFxuICAgICAgICBnZXRBdHRyczogKHQpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIHQgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICBjb25zdCBlID0gdC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgIHJldHVybiBlID09PSBudWxsID8gITEgOiBlLnRhZ05hbWUgPT09IFwiVUxcIiB8fCBlLnRhZ05hbWUgPT09IFwiRElWXCIgJiYgZS5wYXJlbnRFbGVtZW50LnRhZ05hbWUgPT09IFwiVUxcIiA/IHt9IDogITE7XG4gICAgICAgIH0sXG4gICAgICAgIG5vZGU6IFwiYnVsbGV0TGlzdEl0ZW1cIlxuICAgICAgfSxcbiAgICAgIC8vIENhc2UgZm9yIEJsb2NrTm90ZSBsaXN0IHN0cnVjdHVyZS5cbiAgICAgIHtcbiAgICAgICAgdGFnOiBcInBcIixcbiAgICAgICAgZ2V0QXR0cnM6ICh0KSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgY29uc3QgZSA9IHQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICByZXR1cm4gZSA9PT0gbnVsbCA/ICExIDogZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbnRlbnQtdHlwZVwiKSA9PT0gXCJidWxsZXRMaXN0SXRlbVwiID8ge30gOiAhMTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJpb3JpdHk6IDMwMCxcbiAgICAgICAgbm9kZTogXCJidWxsZXRMaXN0SXRlbVwiXG4gICAgICB9XG4gICAgXTtcbiAgfSxcbiAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzOiB0IH0pIHtcbiAgICB2YXIgZSwgbztcbiAgICByZXR1cm4gVihcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIC8vIFdlIHVzZSBhIDxwPiB0YWcsIGJlY2F1c2UgZm9yIDxsaT4gdGFncyB3ZSdkIG5lZWQgYSA8dWw+IGVsZW1lbnQgdG8gcHV0XG4gICAgICAvLyB0aGVtIGluIHRvIGJlIHNlbWFudGljYWxseSBjb3JyZWN0LCB3aGljaCB3ZSBjYW4ndCBoYXZlIGR1ZSB0byB0aGVcbiAgICAgIC8vIHNjaGVtYS5cbiAgICAgIFwicFwiLFxuICAgICAge1xuICAgICAgICAuLi4oKGUgPSB0aGlzLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IGUuYmxvY2tDb250ZW50KSB8fCB7fSxcbiAgICAgICAgLi4udFxuICAgICAgfSxcbiAgICAgICgobyA9IHRoaXMub3B0aW9ucy5kb21BdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogby5pbmxpbmVDb250ZW50KSB8fCB7fVxuICAgICk7XG4gIH1cbn0pLCBfaSA9IHEoXG4gIGtpLFxuICBiaVxuKSwgeWkgPSBuZXcgUyhcIm51bWJlcmVkLWxpc3QtaW5kZXhpbmdcIiksIHZpID0gKCkgPT4gbmV3IHYoe1xuICBrZXk6IHlpLFxuICBhcHBlbmRUcmFuc2FjdGlvbjogKHQsIGUsIG8pID0+IHtcbiAgICBjb25zdCBpID0gby50cjtcbiAgICBpLnNldE1ldGEoXCJudW1iZXJlZExpc3RJbmRleGluZ1wiLCAhMCk7XG4gICAgbGV0IG4gPSAhMTtcbiAgICByZXR1cm4gby5kb2MuZGVzY2VuZGFudHMoKHIsIGEpID0+IHtcbiAgICAgIGlmIChyLnR5cGUubmFtZSA9PT0gXCJibG9ja0NvbnRhaW5lclwiICYmIHIuZmlyc3RDaGlsZC50eXBlLm5hbWUgPT09IFwibnVtYmVyZWRMaXN0SXRlbVwiKSB7XG4gICAgICAgIGxldCBzID0gXCIxXCI7XG4gICAgICAgIGNvbnN0IGwgPSBhID09PSAxLCBkID0gYihpLmRvYywgYSArIDEpO1xuICAgICAgICBpZiAoZCA9PT0gdm9pZCAwKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCFsKSB7XG4gICAgICAgICAgY29uc3QgaCA9IGIoaS5kb2MsIGEgLSAyKTtcbiAgICAgICAgICBpZiAoaCA9PT0gdm9pZCAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGlmICghKGQuZGVwdGggIT09IGguZGVwdGgpKSB7XG4gICAgICAgICAgICBjb25zdCBmID0gaC5jb250ZW50Tm9kZTtcbiAgICAgICAgICAgIGlmIChoLmNvbnRlbnRUeXBlLm5hbWUgPT09IFwibnVtYmVyZWRMaXN0SXRlbVwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IEkgPSBmLmF0dHJzLmluZGV4O1xuICAgICAgICAgICAgICBzID0gKHBhcnNlSW50KEkpICsgMSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZC5jb250ZW50Tm9kZS5hdHRycy5pbmRleCAhPT0gcyAmJiAobiA9ICEwLCBpLnNldE5vZGVNYXJrdXAoYSArIDEsIHZvaWQgMCwge1xuICAgICAgICAgIGluZGV4OiBzXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9KSwgbiA/IGkgOiBudWxsO1xuICB9XG59KSwgd2kgPSB7XG4gIC4uLl9cbn0sIHhpID0geih7XG4gIG5hbWU6IFwibnVtYmVyZWRMaXN0SXRlbVwiLFxuICBjb250ZW50OiBcImlubGluZSpcIixcbiAgZ3JvdXA6IFwiYmxvY2tDb250ZW50XCIsXG4gIHByaW9yaXR5OiA5MCxcbiAgYWRkQXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5kZXg6IHtcbiAgICAgICAgZGVmYXVsdDogbnVsbCxcbiAgICAgICAgcGFyc2VIVE1MOiAodCkgPT4gdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIpLFxuICAgICAgICByZW5kZXJIVE1MOiAodCkgPT4gKHtcbiAgICAgICAgICBcImRhdGEtaW5kZXhcIjogdC5pbmRleFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGFkZElucHV0UnVsZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIC8vIENyZWF0ZXMgYW4gb3JkZXJlZCBsaXN0IHdoZW4gc3RhcnRpbmcgd2l0aCBcIjEuXCIuXG4gICAgICBuZXcgZWUoe1xuICAgICAgICBmaW5kOiBuZXcgUmVnRXhwKFwiXjFcXFxcLlxcXFxzJFwiKSxcbiAgICAgICAgaGFuZGxlcjogKHsgc3RhdGU6IHQsIGNoYWluOiBlLCByYW5nZTogbyB9KSA9PiB7XG4gICAgICAgICAgQyh0aGlzLmVkaXRvcikgPT09IFwiaW5saW5lKlwiICYmIGUoKS5CTlVwZGF0ZUJsb2NrKHQuc2VsZWN0aW9uLmZyb20sIHtcbiAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyZWRMaXN0SXRlbVwiLFxuICAgICAgICAgICAgcHJvcHM6IHt9XG4gICAgICAgICAgfSkuZGVsZXRlUmFuZ2UoeyBmcm9tOiBvLmZyb20sIHRvOiBvLnRvIH0pO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIF07XG4gIH0sXG4gIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBFbnRlcjogKCkgPT4gU2UodGhpcy5lZGl0b3IpLFxuICAgICAgXCJNb2QtU2hpZnQtN1wiOiAoKSA9PiBDKHRoaXMuZWRpdG9yKSAhPT0gXCJpbmxpbmUqXCIgPyAhMCA6IHRoaXMuZWRpdG9yLmNvbW1hbmRzLkJOVXBkYXRlQmxvY2soXG4gICAgICAgIHRoaXMuZWRpdG9yLnN0YXRlLnNlbGVjdGlvbi5hbmNob3IsXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBcIm51bWJlcmVkTGlzdEl0ZW1cIixcbiAgICAgICAgICBwcm9wczoge31cbiAgICAgICAgfVxuICAgICAgKVxuICAgIH07XG4gIH0sXG4gIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcbiAgICByZXR1cm4gW3ZpKCldO1xuICB9LFxuICBwYXJzZUhUTUwoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdGFnOiBcImRpdltkYXRhLWNvbnRlbnQtdHlwZT1cIiArIHRoaXMubmFtZSArIFwiXVwiXG4gICAgICAgIC8vIFRPRE86IHJlbW92ZSBpZiB3ZSBjYW4ndCBjb21lIHVwIHdpdGggdGVzdCBjYXNlIHRoYXQgbmVlZHMgdGhpc1xuICAgICAgfSxcbiAgICAgIC8vIENhc2UgZm9yIHJlZ3VsYXIgSFRNTCBsaXN0IHN0cnVjdHVyZS5cbiAgICAgIC8vIChlLmcuOiB3aGVuIHBhc3RpbmcgZnJvbSBvdGhlciBhcHBzKVxuICAgICAge1xuICAgICAgICB0YWc6IFwibGlcIixcbiAgICAgICAgZ2V0QXR0cnM6ICh0KSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgY29uc3QgZSA9IHQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICByZXR1cm4gZSA9PT0gbnVsbCA/ICExIDogZS50YWdOYW1lID09PSBcIk9MXCIgfHwgZS50YWdOYW1lID09PSBcIkRJVlwiICYmIGUucGFyZW50RWxlbWVudC50YWdOYW1lID09PSBcIk9MXCIgPyB7fSA6ICExO1xuICAgICAgICB9LFxuICAgICAgICBub2RlOiBcIm51bWJlcmVkTGlzdEl0ZW1cIlxuICAgICAgfSxcbiAgICAgIC8vIENhc2UgZm9yIEJsb2NrTm90ZSBsaXN0IHN0cnVjdHVyZS5cbiAgICAgIC8vIChlLmcuOiB3aGVuIHBhc3RpbmcgZnJvbSBibG9ja25vdGUpXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJwXCIsXG4gICAgICAgIGdldEF0dHJzOiAodCkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgdCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgIGNvbnN0IGUgPSB0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgcmV0dXJuIGUgPT09IG51bGwgPyAhMSA6IGUuZ2V0QXR0cmlidXRlKFwiZGF0YS1jb250ZW50LXR5cGVcIikgPT09IFwibnVtYmVyZWRMaXN0SXRlbVwiID8ge30gOiAhMTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJpb3JpdHk6IDMwMCxcbiAgICAgICAgbm9kZTogXCJudW1iZXJlZExpc3RJdGVtXCJcbiAgICAgIH1cbiAgICBdO1xuICB9LFxuICByZW5kZXJIVE1MKHsgSFRNTEF0dHJpYnV0ZXM6IHQgfSkge1xuICAgIHZhciBlLCBvO1xuICAgIHJldHVybiBWKFxuICAgICAgdGhpcy5uYW1lLFxuICAgICAgLy8gV2UgdXNlIGEgPHA+IHRhZywgYmVjYXVzZSBmb3IgPGxpPiB0YWdzIHdlJ2QgbmVlZCBhbiA8b2w+IGVsZW1lbnQgdG9cbiAgICAgIC8vIHB1dCB0aGVtIGluIHRvIGJlIHNlbWFudGljYWxseSBjb3JyZWN0LCB3aGljaCB3ZSBjYW4ndCBoYXZlIGR1ZSB0byB0aGVcbiAgICAgIC8vIHNjaGVtYS5cbiAgICAgIFwicFwiLFxuICAgICAge1xuICAgICAgICAuLi4oKGUgPSB0aGlzLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IGUuYmxvY2tDb250ZW50KSB8fCB7fSxcbiAgICAgICAgLi4udFxuICAgICAgfSxcbiAgICAgICgobyA9IHRoaXMub3B0aW9ucy5kb21BdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogby5pbmxpbmVDb250ZW50KSB8fCB7fVxuICAgICk7XG4gIH1cbn0pLCBFaSA9IHEoXG4gIHhpLFxuICB3aVxuKSwgQ2kgPSB7XG4gIC4uLl8sXG4gIGNoZWNrZWQ6IHtcbiAgICBkZWZhdWx0OiAhMVxuICB9XG59LCBTaSA9IHooe1xuICBuYW1lOiBcImNoZWNrTGlzdEl0ZW1cIixcbiAgY29udGVudDogXCJpbmxpbmUqXCIsXG4gIGdyb3VwOiBcImJsb2NrQ29udGVudFwiLFxuICBhZGRBdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjaGVja2VkOiB7XG4gICAgICAgIGRlZmF1bHQ6ICExLFxuICAgICAgICAvLyBpbnN0ZWFkIG9mIFwiY2hlY2tlZFwiIGF0dHJpYnV0ZXMsIHVzZSBcImRhdGEtY2hlY2tlZFwiXG4gICAgICAgIHBhcnNlSFRNTDogKHQpID0+IHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIpID09PSBcInRydWVcIiB8fCB2b2lkIDAsXG4gICAgICAgIHJlbmRlckhUTUw6ICh0KSA9PiB0LmNoZWNrZWQgPyB7XG4gICAgICAgICAgXCJkYXRhLWNoZWNrZWRcIjogdC5jaGVja2VkLnRvU3RyaW5nKClcbiAgICAgICAgfSA6IHt9XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgYWRkSW5wdXRSdWxlcygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgLy8gQ3JlYXRlcyBhIGNoZWNrbGlzdCB3aGVuIHN0YXJ0aW5nIHdpdGggXCJbXVwiIG9yIFwiW1hdXCIuXG4gICAgICBuZXcgZWUoe1xuICAgICAgICBmaW5kOiBuZXcgUmVnRXhwKFwiXFxcXFtcXFxccypcXFxcXVxcXFxzJFwiKSxcbiAgICAgICAgaGFuZGxlcjogKHsgc3RhdGU6IHQsIGNoYWluOiBlLCByYW5nZTogbyB9KSA9PiB7XG4gICAgICAgICAgQyh0aGlzLmVkaXRvcikgPT09IFwiaW5saW5lKlwiICYmIGUoKS5CTlVwZGF0ZUJsb2NrKHQuc2VsZWN0aW9uLmZyb20sIHtcbiAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tMaXN0SXRlbVwiLFxuICAgICAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICAgICAgY2hlY2tlZDogITFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5kZWxldGVSYW5nZSh7IGZyb206IG8uZnJvbSwgdG86IG8udG8gfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgbmV3IGVlKHtcbiAgICAgICAgZmluZDogbmV3IFJlZ0V4cChcIlxcXFxbW1h4XVxcXFxdXFxcXHMkXCIpLFxuICAgICAgICBoYW5kbGVyOiAoeyBzdGF0ZTogdCwgY2hhaW46IGUsIHJhbmdlOiBvIH0pID0+IHtcbiAgICAgICAgICBDKHRoaXMuZWRpdG9yKSA9PT0gXCJpbmxpbmUqXCIgJiYgZSgpLkJOVXBkYXRlQmxvY2sodC5zZWxlY3Rpb24uZnJvbSwge1xuICAgICAgICAgICAgdHlwZTogXCJjaGVja0xpc3RJdGVtXCIsXG4gICAgICAgICAgICBwcm9wczoge1xuICAgICAgICAgICAgICBjaGVja2VkOiAhMFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmRlbGV0ZVJhbmdlKHsgZnJvbTogby5mcm9tLCB0bzogby50byB9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICBdO1xuICB9LFxuICBhZGRLZXlib2FyZFNob3J0Y3V0cygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgRW50ZXI6ICgpID0+IFNlKHRoaXMuZWRpdG9yKSxcbiAgICAgIFwiTW9kLVNoaWZ0LTlcIjogKCkgPT4gQyh0aGlzLmVkaXRvcikgIT09IFwiaW5saW5lKlwiID8gITAgOiB0aGlzLmVkaXRvci5jb21tYW5kcy5CTlVwZGF0ZUJsb2NrKFxuICAgICAgICB0aGlzLmVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uYW5jaG9yLFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJjaGVja0xpc3RJdGVtXCIsXG4gICAgICAgICAgcHJvcHM6IHt9XG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9O1xuICB9LFxuICBwYXJzZUhUTUwoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdGFnOiBcImRpdltkYXRhLWNvbnRlbnQtdHlwZT1cIiArIHRoaXMubmFtZSArIFwiXVwiXG4gICAgICAgIC8vIFRPRE86IHJlbW92ZSBpZiB3ZSBjYW4ndCBjb21lIHVwIHdpdGggdGVzdCBjYXNlIHRoYXQgbmVlZHMgdGhpc1xuICAgICAgfSxcbiAgICAgIC8vIENoZWNrYm94IG9ubHkuXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJpbnB1dFwiLFxuICAgICAgICBnZXRBdHRyczogKHQpID0+IHR5cGVvZiB0ID09IFwic3RyaW5nXCIgPyAhMSA6IHQudHlwZSA9PT0gXCJjaGVja2JveFwiID8geyBjaGVja2VkOiB0LmNoZWNrZWQgfSA6ICExLFxuICAgICAgICBub2RlOiBcImNoZWNrTGlzdEl0ZW1cIlxuICAgICAgfSxcbiAgICAgIC8vIENvbnRhaW5lciBlbGVtZW50IGZvciBjaGVja2JveCArIGxhYmVsLlxuICAgICAge1xuICAgICAgICB0YWc6IFwibGlcIixcbiAgICAgICAgZ2V0QXR0cnM6ICh0KSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0ID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgY29uc3QgZSA9IHQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICBpZiAoZSA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICBpZiAoZS50YWdOYW1lID09PSBcIlVMXCIgfHwgZS50YWdOYW1lID09PSBcIkRJVlwiICYmIGUucGFyZW50RWxlbWVudC50YWdOYW1lID09PSBcIlVMXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IG8gPSB0LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgIFwiaW5wdXRbdHlwZT1jaGVja2JveF1cIlxuICAgICAgICAgICAgKSB8fCBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIG8gPT09IG51bGwgPyAhMSA6IHsgY2hlY2tlZDogby5jaGVja2VkIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfSxcbiAgICAgICAgbm9kZTogXCJjaGVja0xpc3RJdGVtXCJcbiAgICAgIH1cbiAgICBdO1xuICB9LFxuICAvLyBTaW5jZSB0aGVyZSBpcyBubyBIVE1MIGNoZWNrbGlzdCBlbGVtZW50LCB0aGVyZSBpc24ndCByZWFsbHkgYW55XG4gIC8vIHN0YW5kYXJkaXphdGlvbiBmb3Igd2hhdCBjaGVja2xpc3RzIHNob3VsZCBsb29rIGxpa2UgaW4gdGhlIERPTS4gR0RvY3MnXG4gIC8vIGFuZCBOb3Rpb24ncyBhcmVuJ3QgY3Jvc3MgY29tcGF0aWJsZSwgZm9yIGV4YW1wbGUuIFRoaXMgaW1wbGVtZW50YXRpb25cbiAgLy8gaGFzIGEgc2VtYW50aWNhbGx5IGNvcnJlY3QgRE9NIHN0cnVjdHVyZSAodGhvdWdoIG1pc3NpbmcgYSBsYWJlbCBmb3IgdGhlXG4gIC8vIGNoZWNrYm94KSB3aGljaCBpcyBhbHNvIGNvbnZlcnRlZCBjb3JyZWN0bHkgdG8gTWFya2Rvd24gYnkgcmVtYXJrLlxuICByZW5kZXJIVE1MKHsgbm9kZTogdCwgSFRNTEF0dHJpYnV0ZXM6IGUgfSkge1xuICAgIHZhciByLCBhO1xuICAgIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgby50eXBlID0gXCJjaGVja2JveFwiLCBvLmNoZWNrZWQgPSB0LmF0dHJzLmNoZWNrZWQsIHQuYXR0cnMuY2hlY2tlZCAmJiBvLnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIiwgXCJcIik7XG4gICAgY29uc3QgeyBkb206IGksIGNvbnRlbnRET006IG4gfSA9IFYoXG4gICAgICB0aGlzLm5hbWUsXG4gICAgICBcInBcIixcbiAgICAgIHtcbiAgICAgICAgLi4uKChyID0gdGhpcy5vcHRpb25zLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiByLmJsb2NrQ29udGVudCkgfHwge30sXG4gICAgICAgIC4uLmVcbiAgICAgIH0sXG4gICAgICAoKGEgPSB0aGlzLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IGEuaW5saW5lQ29udGVudCkgfHwge31cbiAgICApO1xuICAgIHJldHVybiBpLmluc2VydEJlZm9yZShvLCBuKSwgeyBkb206IGksIGNvbnRlbnRET006IG4gfTtcbiAgfSxcbiAgLy8gTmVlZCB0byByZW5kZXIgbm9kZSB2aWV3IHNpbmNlIHRoZSBjaGVja2JveCBuZWVkcyB0byBiZSBhYmxlIHRvIHVwZGF0ZSB0aGVcbiAgLy8gbm9kZS4gVGhpcyBpcyBvbmx5IHBvc3NpYmxlIHdpdGggYSBub2RlIHZpZXcgYXMgaXQgZXhwb3NlcyBgZ2V0UG9zYC5cbiAgYWRkTm9kZVZpZXcoKSB7XG4gICAgcmV0dXJuICh7IG5vZGU6IHQsIGdldFBvczogZSwgZWRpdG9yOiBvLCBIVE1MQXR0cmlidXRlczogaSB9KSA9PiB7XG4gICAgICB2YXIgdSwgcDtcbiAgICAgIGNvbnN0IG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCByID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHIuY29udGVudEVkaXRhYmxlID0gXCJmYWxzZVwiO1xuICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIGEudHlwZSA9IFwiY2hlY2tib3hcIiwgYS5jaGVja2VkID0gdC5hdHRycy5jaGVja2VkLCB0LmF0dHJzLmNoZWNrZWQgJiYgYS5zZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIFwiXCIpO1xuICAgICAgY29uc3QgcyA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFvLmlzRWRpdGFibGUpIHtcbiAgICAgICAgICBhLmNoZWNrZWQgPSAhYS5jaGVja2VkO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0eXBlb2YgZSAhPSBcImJvb2xlYW5cIiAmJiB0aGlzLmVkaXRvci5jb21tYW5kcy5CTlVwZGF0ZUJsb2NrKGUoKSwge1xuICAgICAgICAgIHR5cGU6IFwiY2hlY2tMaXN0SXRlbVwiLFxuICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICBjaGVja2VkOiBhLmNoZWNrZWRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIGEuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBzKTtcbiAgICAgIGNvbnN0IHsgZG9tOiBsLCBjb250ZW50RE9NOiBkIH0gPSBWKFxuICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgIFwicFwiLFxuICAgICAgICB7XG4gICAgICAgICAgLi4uKCh1ID0gdGhpcy5vcHRpb25zLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiB1LmJsb2NrQ29udGVudCkgfHwge30sXG4gICAgICAgICAgLi4uaVxuICAgICAgICB9LFxuICAgICAgICAoKHAgPSB0aGlzLm9wdGlvbnMuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IHAuaW5saW5lQ29udGVudCkgfHwge31cbiAgICAgICk7XG4gICAgICBpZiAodHlwZW9mIGUgIT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgY29uc3QgbSA9IFwibGFiZWwtXCIgKyB0aGlzLmVkaXRvci5zdGF0ZS5kb2MucmVzb2x2ZShlKCkpLm5vZGUoKS5hdHRycy5pZDtcbiAgICAgICAgYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIiwgbSksIGQuaWQgPSBtO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGwucmVtb3ZlQ2hpbGQoZCksIGwuYXBwZW5kQ2hpbGQobiksIG4uYXBwZW5kQ2hpbGQociksIG4uYXBwZW5kQ2hpbGQoZCksIHIuYXBwZW5kQ2hpbGQoYSksIHtcbiAgICAgICAgZG9tOiBsLFxuICAgICAgICBjb250ZW50RE9NOiBkLFxuICAgICAgICBkZXN0cm95OiAoKSA9PiB7XG4gICAgICAgICAgYS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gIH1cbn0pLCBNaSA9IHEoXG4gIFNpLFxuICBDaVxuKSwgVGkgPSB7XG4gIC4uLl9cbn0sIEJpID0geih7XG4gIG5hbWU6IFwicGFyYWdyYXBoXCIsXG4gIGNvbnRlbnQ6IFwiaW5saW5lKlwiLFxuICBncm91cDogXCJibG9ja0NvbnRlbnRcIixcbiAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFwiTW9kLUFsdC0wXCI6ICgpID0+IEModGhpcy5lZGl0b3IpICE9PSBcImlubGluZSpcIiA/ICEwIDogdGhpcy5lZGl0b3IuY29tbWFuZHMuQk5VcGRhdGVCbG9jayhcbiAgICAgICAgdGhpcy5lZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLmFuY2hvcixcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwicGFyYWdyYXBoXCIsXG4gICAgICAgICAgcHJvcHM6IHt9XG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9O1xuICB9LFxuICBwYXJzZUhUTUwoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgdGFnOiBcImRpdltkYXRhLWNvbnRlbnQtdHlwZT1cIiArIHRoaXMubmFtZSArIFwiXVwiIH0sXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJwXCIsXG4gICAgICAgIHByaW9yaXR5OiAyMDAsXG4gICAgICAgIGdldEF0dHJzOiAodCkgPT4ge1xuICAgICAgICAgIHZhciBlO1xuICAgICAgICAgIHJldHVybiB0eXBlb2YgdCA9PSBcInN0cmluZ1wiIHx8ICEoKGUgPSB0LnRleHRDb250ZW50KSAhPSBudWxsICYmIGUudHJpbSgpKSA/ICExIDoge307XG4gICAgICAgIH0sXG4gICAgICAgIG5vZGU6IFwicGFyYWdyYXBoXCJcbiAgICAgIH1cbiAgICBdO1xuICB9LFxuICByZW5kZXJIVE1MKHsgSFRNTEF0dHJpYnV0ZXM6IHQgfSkge1xuICAgIHZhciBlLCBvO1xuICAgIHJldHVybiBWKFxuICAgICAgdGhpcy5uYW1lLFxuICAgICAgXCJwXCIsXG4gICAgICB7XG4gICAgICAgIC4uLigoZSA9IHRoaXMub3B0aW9ucy5kb21BdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogZS5ibG9ja0NvbnRlbnQpIHx8IHt9LFxuICAgICAgICAuLi50XG4gICAgICB9LFxuICAgICAgKChvID0gdGhpcy5vcHRpb25zLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBvLmlubGluZUNvbnRlbnQpIHx8IHt9XG4gICAgKTtcbiAgfVxufSksIExpID0gcShcbiAgQmksXG4gIFRpXG4pLCBJaSA9IEIuY3JlYXRlKHtcbiAgbmFtZTogXCJCbG9ja05vdGVUYWJsZUV4dGVuc2lvblwiLFxuICBhZGRQcm9zZU1pcnJvclBsdWdpbnM6ICgpID0+IFtcbiAgICBadCh7XG4gICAgICBjZWxsTWluV2lkdGg6IDEwMFxuICAgIH0pLFxuICAgIEp0KClcbiAgXSxcbiAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIE1ha2VzIGVudGVyIGNyZWF0ZSBhIG5ldyBsaW5lIHdpdGhpbiB0aGUgY2VsbC5cbiAgICAgIEVudGVyOiAoKSA9PiB0aGlzLmVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uZW1wdHkgJiYgdGhpcy5lZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLiRoZWFkLnBhcmVudC50eXBlLm5hbWUgPT09IFwidGFibGVQYXJhZ3JhcGhcIiA/ICh0aGlzLmVkaXRvci5jb21tYW5kcy5zZXRIYXJkQnJlYWsoKSwgITApIDogITEsXG4gICAgICAvLyBFbnN1cmVzIHRoYXQgYmFja3NwYWNlIHdvbid0IGRlbGV0ZSB0aGUgdGFibGUgaWYgdGhlIHRleHQgY3Vyc29yIGlzIGF0XG4gICAgICAvLyB0aGUgc3RhcnQgb2YgYSBjZWxsIGFuZCB0aGUgc2VsZWN0aW9uIGlzIGVtcHR5LlxuICAgICAgQmFja3NwYWNlOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmVkaXRvci5zdGF0ZS5zZWxlY3Rpb24sIGUgPSB0LmVtcHR5LCBvID0gdC4kaGVhZC5wYXJlbnRPZmZzZXQgPT09IDAsIGkgPSB0LiRoZWFkLm5vZGUoKS50eXBlLm5hbWUgPT09IFwidGFibGVQYXJhZ3JhcGhcIjtcbiAgICAgICAgcmV0dXJuIGUgJiYgbyAmJiBpO1xuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGV4dGVuZE5vZGVTY2hlbWEodCkge1xuICAgIGNvbnN0IGUgPSB7XG4gICAgICBuYW1lOiB0Lm5hbWUsXG4gICAgICBvcHRpb25zOiB0Lm9wdGlvbnMsXG4gICAgICBzdG9yYWdlOiB0LnN0b3JhZ2VcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICB0YWJsZVJvbGU6IEl0KFxuICAgICAgICBBdCh0LCBcInRhYmxlUm9sZVwiLCBlKVxuICAgICAgKVxuICAgIH07XG4gIH1cbn0pLCBBaSA9IHtcbiAgLi4uX1xufSwgTmkgPSB6KHtcbiAgbmFtZTogXCJ0YWJsZVwiLFxuICBjb250ZW50OiBcInRhYmxlUm93K1wiLFxuICBncm91cDogXCJibG9ja0NvbnRlbnRcIixcbiAgdGFibGVSb2xlOiBcInRhYmxlXCIsXG4gIGlzb2xhdGluZzogITAsXG4gIHBhcnNlSFRNTCgpIHtcbiAgICByZXR1cm4gW3sgdGFnOiBcInRhYmxlXCIgfV07XG4gIH0sXG4gIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlczogdCB9KSB7XG4gICAgdmFyIGUsIG87XG4gICAgcmV0dXJuIFYoXG4gICAgICB0aGlzLm5hbWUsXG4gICAgICBcInRhYmxlXCIsXG4gICAgICB7XG4gICAgICAgIC4uLigoZSA9IHRoaXMub3B0aW9ucy5kb21BdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogZS5ibG9ja0NvbnRlbnQpIHx8IHt9LFxuICAgICAgICAuLi50XG4gICAgICB9LFxuICAgICAgKChvID0gdGhpcy5vcHRpb25zLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBvLmlubGluZUNvbnRlbnQpIHx8IHt9XG4gICAgKTtcbiAgfVxufSksIFBpID0gJC5jcmVhdGUoe1xuICBuYW1lOiBcInRhYmxlUGFyYWdyYXBoXCIsXG4gIGdyb3VwOiBcInRhYmxlQ29udGVudFwiLFxuICBjb250ZW50OiBcImlubGluZSpcIixcbiAgcGFyc2VIVE1MKCkge1xuICAgIHJldHVybiBbXG4gICAgICB7IHRhZzogXCJ0ZFwiIH0sXG4gICAgICB7XG4gICAgICAgIHRhZzogXCJwXCIsXG4gICAgICAgIGdldEF0dHJzOiAodCkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgdCA9PSBcInN0cmluZ1wiIHx8ICF0LnRleHRDb250ZW50KVxuICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgIGNvbnN0IGUgPSB0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgcmV0dXJuIGUgPT09IG51bGwgPyAhMSA6IGUudGFnTmFtZSA9PT0gXCJURFwiID8ge30gOiAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gIH0sXG4gIHJlbmRlckhUTUwoeyBIVE1MQXR0cmlidXRlczogdCB9KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIFwicFwiLFxuICAgICAgTnQodGhpcy5vcHRpb25zLkhUTUxBdHRyaWJ1dGVzLCB0KSxcbiAgICAgIDBcbiAgICBdO1xuICB9XG59KSwgSGkgPSBxKFxuICBOaSxcbiAgQWksXG4gIFtcbiAgICBJaSxcbiAgICBQaSxcbiAgICBxdC5leHRlbmQoe1xuICAgICAgY29udGVudDogXCJ0YWJsZUNvbnRlbnRcIlxuICAgIH0pLFxuICAgICR0LmV4dGVuZCh7XG4gICAgICBjb250ZW50OiBcInRhYmxlQ29udGVudFwiXG4gICAgfSksXG4gICAgWHRcbiAgXVxuKSwgaHQgPSB7XG4gIHBhcmFncmFwaDogTGksXG4gIGhlYWRpbmc6IGdpLFxuICBidWxsZXRMaXN0SXRlbTogX2ksXG4gIG51bWJlcmVkTGlzdEl0ZW06IEVpLFxuICBjaGVja0xpc3RJdGVtOiBNaSxcbiAgdGFibGU6IEhpLFxuICBmaWxlOiBXbyxcbiAgaW1hZ2U6IEpvLFxuICB2aWRlbzogaWksXG4gIGF1ZGlvOiBkaVxufSwgVWkgPSBsdChodCksIG10ID0ge1xuICBib2xkOiBVKHp0LCBcImJvb2xlYW5cIiksXG4gIGl0YWxpYzogVShHdCwgXCJib29sZWFuXCIpLFxuICB1bmRlcmxpbmU6IFUoS3QsIFwiYm9vbGVhblwiKSxcbiAgc3RyaWtlOiBVKFd0LCBcImJvb2xlYW5cIiksXG4gIGNvZGU6IFUoRnQsIFwiYm9vbGVhblwiKSxcbiAgdGV4dENvbG9yOiBoaSxcbiAgYmFja2dyb3VuZENvbG9yOiB1aVxufSwgSHIgPSB1dChtdCksIGZ0ID0ge1xuICB0ZXh0OiB7IGNvbmZpZzogXCJ0ZXh0XCIsIGltcGxlbWVudGF0aW9uOiB7fSB9LFxuICBsaW5rOiB7IGNvbmZpZzogXCJsaW5rXCIsIGltcGxlbWVudGF0aW9uOiB7fSB9XG59LCBVciA9IGR0KFxuICBmdFxuKTtcbmZ1bmN0aW9uIHgodCwgZSkge1xuICByZXR1cm4gdCBpbiBlLnNjaGVtYS5ibG9ja1NjaGVtYSAmJiBlLnNjaGVtYS5ibG9ja1NjaGVtYVt0XSA9PT0gVWlbdF07XG59XG5mdW5jdGlvbiBEaSh0LCBlLCBvKSB7XG4gIHJldHVybiBlLnR5cGUgPT09IHQgJiYgZS50eXBlIGluIG8uc2NoZW1hLmJsb2NrU2NoZW1hICYmIHgoZS50eXBlLCBvKTtcbn1cbmZ1bmN0aW9uIERyKHQsIGUpIHtcbiAgcmV0dXJuIHQudHlwZSBpbiBlLnNjaGVtYS5ibG9ja1NjaGVtYSAmJiBlLnNjaGVtYS5ibG9ja1NjaGVtYVt0LnR5cGVdLmlzRmlsZUJsb2NrIHx8ICExO1xufVxuZnVuY3Rpb24gT3IodCwgZSkge1xuICByZXR1cm4gdC50eXBlIGluIGUuc2NoZW1hLmJsb2NrU2NoZW1hICYmIGUuc2NoZW1hLmJsb2NrU2NoZW1hW3QudHlwZV0uaXNGaWxlQmxvY2sgJiYgXCJzaG93UHJldmlld1wiIGluIGUuc2NoZW1hLmJsb2NrU2NoZW1hW3QudHlwZV0ucHJvcFNjaGVtYSB8fCAhMTtcbn1cbmZ1bmN0aW9uIFJyKHQsIGUpIHtcbiAgcmV0dXJuIGUuc2NoZW1hLmJsb2NrU2NoZW1hW3QudHlwZV0uaXNGaWxlQmxvY2sgJiYgIXQucHJvcHMudXJsO1xufVxuZnVuY3Rpb24gT2kodCwgZSwgbykge1xuICByZXR1cm4gZSBpbiBvLnNjaGVtYS5ibG9ja1NjaGVtYSAmJiB0IGluIG8uc2NoZW1hLmJsb2NrU2NoZW1hW2VdLnByb3BTY2hlbWEgJiYgby5zY2hlbWEuYmxvY2tTY2hlbWFbZV0ucHJvcFNjaGVtYVt0XSA9PT0gX1t0XTtcbn1cbmZ1bmN0aW9uIFZyKHQsIGUsIG8pIHtcbiAgcmV0dXJuIE9pKHQsIGUudHlwZSwgbyk7XG59XG5mdW5jdGlvbiBNZSh0LCBlKSB7XG4gIGxldCBvLCBpO1xuICBpZiAoZS5maXJzdENoaWxkLmRlc2NlbmRhbnRzKChuLCByKSA9PiBvID8gITEgOiBuLnR5cGUubmFtZSAhPT0gXCJibG9ja0NvbnRhaW5lclwiIHx8IG4uYXR0cnMuaWQgIT09IHQgPyAhMCA6IChvID0gbiwgaSA9IHIgKyAxLCAhMSkpLCBvID09PSB2b2lkIDAgfHwgaSA9PT0gdm9pZCAwKVxuICAgIHRocm93IEVycm9yKFwiQ291bGQgbm90IGZpbmQgYmxvY2sgaW4gdGhlIGVkaXRvciB3aXRoIG1hdGNoaW5nIElELlwiKTtcbiAgcmV0dXJuIHtcbiAgICBub2RlOiBvLFxuICAgIHBvc0JlZm9yZU5vZGU6IGlcbiAgfTtcbn1cbmZ1bmN0aW9uIFJpKHQsIGUsIG8gPSBcImJlZm9yZVwiLCBpKSB7XG4gIGNvbnN0IG4gPSBpLl90aXB0YXBFZGl0b3IsIHIgPSB0eXBlb2YgZSA9PSBcInN0cmluZ1wiID8gZSA6IGUuaWQsIGEgPSBbXTtcbiAgZm9yIChjb25zdCB1IG9mIHQpXG4gICAgYS5wdXNoKFxuICAgICAgUCh1LCBuLnNjaGVtYSwgaS5zY2hlbWEuc3R5bGVTY2hlbWEpXG4gICAgKTtcbiAgY29uc3QgeyBub2RlOiBzLCBwb3NCZWZvcmVOb2RlOiBsIH0gPSBNZShyLCBuLnN0YXRlLmRvYyk7XG4gIGlmIChvID09PSBcImJlZm9yZVwiICYmIG4udmlldy5kaXNwYXRjaChcbiAgICBuLnN0YXRlLnRyLmluc2VydChsLCBhKVxuICApLCBvID09PSBcImFmdGVyXCIgJiYgbi52aWV3LmRpc3BhdGNoKFxuICAgIG4uc3RhdGUudHIuaW5zZXJ0KGwgKyBzLm5vZGVTaXplLCBhKVxuICApLCBvID09PSBcIm5lc3RlZFwiICYmIHMuY2hpbGRDb3VudCA8IDIpIHtcbiAgICBjb25zdCB1ID0gbi5zdGF0ZS5zY2hlbWEubm9kZXMuYmxvY2tHcm91cC5jcmVhdGUoXG4gICAgICB7fSxcbiAgICAgIGFcbiAgICApO1xuICAgIG4udmlldy5kaXNwYXRjaChcbiAgICAgIG4uc3RhdGUudHIuaW5zZXJ0KFxuICAgICAgICBsICsgcy5maXJzdENoaWxkLm5vZGVTaXplICsgMSxcbiAgICAgICAgdVxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgY29uc3QgZCA9IFtdO1xuICBmb3IgKGNvbnN0IHUgb2YgYSlcbiAgICBkLnB1c2goXG4gICAgICB5KFxuICAgICAgICB1LFxuICAgICAgICBpLnNjaGVtYS5ibG9ja1NjaGVtYSxcbiAgICAgICAgaS5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgICAgaS5zY2hlbWEuc3R5bGVTY2hlbWEsXG4gICAgICAgIGkuYmxvY2tDYWNoZVxuICAgICAgKVxuICAgICk7XG4gIHJldHVybiBkO1xufVxuZnVuY3Rpb24gVmkodCwgZSwgbykge1xuICBjb25zdCBpID0gby5fdGlwdGFwRWRpdG9yLCBuID0gdHlwZW9mIHQgPT0gXCJzdHJpbmdcIiA/IHQgOiB0LmlkLCB7IHBvc0JlZm9yZU5vZGU6IHIgfSA9IE1lKG4sIGkuc3RhdGUuZG9jKTtcbiAgaS5jb21tYW5kcy5CTlVwZGF0ZUJsb2NrKHIgKyAxLCBlKTtcbiAgY29uc3QgYSA9IGkuc3RhdGUuZG9jLnJlc29sdmUociArIDEpLm5vZGUoKTtcbiAgcmV0dXJuIHkoXG4gICAgYSxcbiAgICBvLnNjaGVtYS5ibG9ja1NjaGVtYSxcbiAgICBvLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hLFxuICAgIG8uc2NoZW1hLnN0eWxlU2NoZW1hLFxuICAgIG8uYmxvY2tDYWNoZVxuICApO1xufVxuZnVuY3Rpb24gZ3QodCwgZSwgbykge1xuICBjb25zdCBpID0gZS5fdGlwdGFwRWRpdG9yLCBuID0gaS5zdGF0ZS50ciwgciA9IG5ldyBTZXQoXG4gICAgdC5tYXAoXG4gICAgICAobCkgPT4gdHlwZW9mIGwgPT0gXCJzdHJpbmdcIiA/IGwgOiBsLmlkXG4gICAgKVxuICApLCBhID0gW107XG4gIGxldCBzID0gMDtcbiAgaWYgKGkuc3RhdGUuZG9jLmRlc2NlbmRhbnRzKChsLCBkKSA9PiB7XG4gICAgaWYgKHIuc2l6ZSA9PT0gMClcbiAgICAgIHJldHVybiAhMTtcbiAgICBpZiAobC50eXBlLm5hbWUgIT09IFwiYmxvY2tDb250YWluZXJcIiB8fCAhci5oYXMobC5hdHRycy5pZCkpXG4gICAgICByZXR1cm4gITA7XG4gICAgYS5wdXNoKFxuICAgICAgeShcbiAgICAgICAgbCxcbiAgICAgICAgZS5zY2hlbWEuYmxvY2tTY2hlbWEsXG4gICAgICAgIGUuc2NoZW1hLmlubGluZUNvbnRlbnRTY2hlbWEsXG4gICAgICAgIGUuc2NoZW1hLnN0eWxlU2NoZW1hLFxuICAgICAgICBlLmJsb2NrQ2FjaGVcbiAgICAgIClcbiAgICApLCByLmRlbGV0ZShsLmF0dHJzLmlkKSwgcyA9IChvID09IG51bGwgPyB2b2lkIDAgOiBvKGwsIGQsIG4sIHMpKSB8fCBzO1xuICAgIGNvbnN0IHUgPSBuLmRvYy5ub2RlU2l6ZTtcbiAgICBuLmRlbGV0ZShkIC0gcyAtIDEsIGQgLSBzICsgbC5ub2RlU2l6ZSArIDEpO1xuICAgIGNvbnN0IHAgPSBuLmRvYy5ub2RlU2l6ZTtcbiAgICByZXR1cm4gcyArPSB1IC0gcCwgITE7XG4gIH0pLCByLnNpemUgPiAwKSB7XG4gICAgY29uc3QgbCA9IFsuLi5yXS5qb2luKGBcbmApO1xuICAgIHRocm93IEVycm9yKFxuICAgICAgXCJCbG9ja3Mgd2l0aCB0aGUgZm9sbG93aW5nIElEcyBjb3VsZCBub3QgYmUgZm91bmQgaW4gdGhlIGVkaXRvcjogXCIgKyBsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gaS52aWV3LmRpc3BhdGNoKG4pLCBhO1xufVxuZnVuY3Rpb24gamkodCwgZSkge1xuICByZXR1cm4gZ3QodCwgZSk7XG59XG5mdW5jdGlvbiB6aSh0LCBlLCBvKSB7XG4gIGNvbnN0IGkgPSBvLl90aXB0YXBFZGl0b3IsIG4gPSBbXTtcbiAgZm9yIChjb25zdCBsIG9mIGUpXG4gICAgbi5wdXNoKFxuICAgICAgUChsLCBpLnNjaGVtYSwgby5zY2hlbWEuc3R5bGVTY2hlbWEpXG4gICAgKTtcbiAgY29uc3QgciA9IHR5cGVvZiB0WzBdID09IFwic3RyaW5nXCIgPyB0WzBdIDogdFswXS5pZCwgYSA9IGd0KFxuICAgIHQsXG4gICAgbyxcbiAgICAobCwgZCwgdSwgcCkgPT4ge1xuICAgICAgaWYgKGwuYXR0cnMuaWQgPT09IHIpIHtcbiAgICAgICAgY29uc3QgaCA9IHUuZG9jLm5vZGVTaXplO1xuICAgICAgICB1Lmluc2VydChkLCBuKTtcbiAgICAgICAgY29uc3QgbSA9IHUuZG9jLm5vZGVTaXplO1xuICAgICAgICByZXR1cm4gcCArIGggLSBtO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuICApLCBzID0gW107XG4gIGZvciAoY29uc3QgbCBvZiBuKVxuICAgIHMucHVzaChcbiAgICAgIHkoXG4gICAgICAgIGwsXG4gICAgICAgIG8uc2NoZW1hLmJsb2NrU2NoZW1hLFxuICAgICAgICBvLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hLFxuICAgICAgICBvLnNjaGVtYS5zdHlsZVNjaGVtYSxcbiAgICAgICAgby5ibG9ja0NhY2hlXG4gICAgICApXG4gICAgKTtcbiAgcmV0dXJuIHsgaW5zZXJ0ZWRCbG9ja3M6IHMsIHJlbW92ZWRCbG9ja3M6IGEgfTtcbn1cbmZ1bmN0aW9uIEZpKHQsIGUsIG8sIGkgPSB7IHVwZGF0ZVNlbGVjdGlvbjogITAgfSkge1xuICBjb25zdCBuID0gby5fdGlwdGFwRWRpdG9yLCByID0gbi5zdGF0ZS50cjtcbiAgbGV0IHsgZnJvbTogYSwgdG86IHMgfSA9IHR5cGVvZiB0ID09IFwibnVtYmVyXCIgPyB7IGZyb206IHQsIHRvOiB0IH0gOiB7IGZyb206IHQuZnJvbSwgdG86IHQudG8gfSwgbCA9ICEwLCBkID0gITAsIHUgPSBcIlwiO1xuICBpZiAoZS5mb3JFYWNoKChwKSA9PiB7XG4gICAgcC5jaGVjaygpLCBsICYmIHAuaXNUZXh0ICYmIHAubWFya3MubGVuZ3RoID09PSAwID8gdSArPSBwLnRleHQgOiBsID0gITEsIGQgPSBkID8gcC5pc0Jsb2NrIDogITE7XG4gIH0pLCBhID09PSBzICYmIGQpIHtcbiAgICBjb25zdCB7IHBhcmVudDogcCB9ID0gci5kb2MucmVzb2x2ZShhKTtcbiAgICBwLmlzVGV4dGJsb2NrICYmICFwLnR5cGUuc3BlYy5jb2RlICYmICFwLmNoaWxkQ291bnQgJiYgKGEgLT0gMSwgcyArPSAxKTtcbiAgfVxuICByZXR1cm4gbCA/IHIuaW5zZXJ0VGV4dCh1LCBhLCBzKSA6IHIucmVwbGFjZVdpdGgoYSwgcywgZSksIGkudXBkYXRlU2VsZWN0aW9uICYmIFB0KHIsIHIuc3RlcHMubGVuZ3RoIC0gMSwgLTEpLCBuLnZpZXcuZGlzcGF0Y2gociksICEwO1xufVxuZnVuY3Rpb24gR2koKSB7XG4gIGNvbnN0IHQgPSAoZSkgPT4ge1xuICAgIGxldCBvID0gZS5jaGlsZHJlbi5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvOyBpKyspIHtcbiAgICAgIGNvbnN0IG4gPSBlLmNoaWxkcmVuW2ldO1xuICAgICAgaWYgKG4udHlwZSA9PT0gXCJlbGVtZW50XCIgJiYgKHQobiksIG4udGFnTmFtZSA9PT0gXCJ1XCIpKVxuICAgICAgICBpZiAobi5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZS5jaGlsZHJlbi5zcGxpY2UoaSwgMSwgLi4ubi5jaGlsZHJlbik7XG4gICAgICAgICAgY29uc3QgciA9IG4uY2hpbGRyZW4ubGVuZ3RoIC0gMTtcbiAgICAgICAgICBvICs9IHIsIGkgKz0gcjtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgZS5jaGlsZHJlbi5zcGxpY2UoaSwgMSksIG8tLSwgaS0tO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHQ7XG59XG5mdW5jdGlvbiBXaSgpIHtcbiAgY29uc3QgdCA9IChlKSA9PiB7XG4gICAgdmFyIG87XG4gICAgaWYgKGUuY2hpbGRyZW4gJiYgXCJsZW5ndGhcIiBpbiBlLmNoaWxkcmVuICYmIGUuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgZm9yIChsZXQgaSA9IGUuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgbiA9IGUuY2hpbGRyZW5baV0sIHIgPSBpICsgMSA8IGUuY2hpbGRyZW4ubGVuZ3RoID8gZS5jaGlsZHJlbltpICsgMV0gOiB2b2lkIDA7XG4gICAgICAgIG4udHlwZSA9PT0gXCJlbGVtZW50XCIgJiYgbi50YWdOYW1lID09PSBcImlucHV0XCIgJiYgKChvID0gbi5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogby50eXBlKSA9PT0gXCJjaGVja2JveFwiICYmIChyID09IG51bGwgPyB2b2lkIDAgOiByLnR5cGUpID09PSBcImVsZW1lbnRcIiAmJiByLnRhZ05hbWUgPT09IFwicFwiID8gKHIudGFnTmFtZSA9IFwic3BhblwiLCByLmNoaWxkcmVuLnNwbGljZShcbiAgICAgICAgICAwLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgX2UoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIgXCIpKVxuICAgICAgICApKSA6IHQobik7XG4gICAgICB9XG4gIH07XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gVGUodCkge1xuICByZXR1cm4gd2UoKS51c2UoJGUsIHsgZnJhZ21lbnQ6ICEwIH0pLnVzZShHaSkudXNlKFdpKS51c2UoWXQpLnVzZShYZSkudXNlKFF0KS5wcm9jZXNzU3luYyh0KS52YWx1ZTtcbn1cbmZ1bmN0aW9uIEtpKHQsIGUsIG8pIHtcbiAgY29uc3QgbiA9IGFlKGUsIG8pLmV4cG9ydEJsb2Nrcyh0KTtcbiAgcmV0dXJuIFRlKG4pO1xufVxuZnVuY3Rpb24gJGkodCkge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0LnBhcmVudEVsZW1lbnQuY2hpbGROb2RlcywgdCk7XG59XG5mdW5jdGlvbiBxaSh0KSB7XG4gIHJldHVybiB0Lm5vZGVUeXBlID09PSAzICYmICEvXFxTLy50ZXN0KHQubm9kZVZhbHVlIHx8IFwiXCIpO1xufVxuZnVuY3Rpb24gWGkodCkge1xuICB0LnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaSA+IHVsLCBsaSA+IG9sXCIpLmZvckVhY2goKGUpID0+IHtcbiAgICBjb25zdCBvID0gJGkoZSksIGkgPSBlLnBhcmVudEVsZW1lbnQsIG4gPSBBcnJheS5mcm9tKGkuY2hpbGROb2Rlcykuc2xpY2UoXG4gICAgICBvICsgMVxuICAgICk7XG4gICAgZS5yZW1vdmUoKSwgbi5mb3JFYWNoKChyKSA9PiB7XG4gICAgICByLnJlbW92ZSgpO1xuICAgIH0pLCBpLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIGUpLCBuLnJldmVyc2UoKS5mb3JFYWNoKChyKSA9PiB7XG4gICAgICBpZiAocWkocikpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICBhLmFwcGVuZChyKSwgZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCBhKTtcbiAgICB9KSwgaS5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMCAmJiBpLnJlbW92ZSgpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIFppKHQpIHtcbiAgdC5xdWVyeVNlbGVjdG9yQWxsKFwibGkgKyB1bCwgbGkgKyBvbFwiKS5mb3JFYWNoKChlKSA9PiB7XG4gICAgdmFyIHIsIGE7XG4gICAgY29uc3QgbyA9IGUucHJldmlvdXNFbGVtZW50U2libGluZywgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgby5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCBpKSwgaS5hcHBlbmQobyk7XG4gICAgY29uc3QgbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZm9yIChuLnNldEF0dHJpYnV0ZShcImRhdGEtbm9kZS10eXBlXCIsIFwiYmxvY2tHcm91cFwiKSwgaS5hcHBlbmQobik7ICgociA9IGkubmV4dEVsZW1lbnRTaWJsaW5nKSA9PSBudWxsID8gdm9pZCAwIDogci5ub2RlTmFtZSkgPT09IFwiVUxcIiB8fCAoKGEgPSBpLm5leHRFbGVtZW50U2libGluZykgPT0gbnVsbCA/IHZvaWQgMCA6IGEubm9kZU5hbWUpID09PSBcIk9MXCI7IClcbiAgICAgIG4uYXBwZW5kKGkubmV4dEVsZW1lbnRTaWJsaW5nKTtcbiAgfSk7XG59XG5sZXQgemUgPSBudWxsO1xuZnVuY3Rpb24gSmkoKSB7XG4gIHJldHVybiB6ZSB8fCAoemUgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoXCJ0aXRsZVwiKSk7XG59XG5mdW5jdGlvbiBidCh0KSB7XG4gIGlmICh0eXBlb2YgdCA9PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgZSA9IEppKCkuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBlLmlubmVySFRNTCA9IHQsIHQgPSBlO1xuICB9XG4gIHJldHVybiBYaSh0KSwgWmkodCksIHQ7XG59XG5hc3luYyBmdW5jdGlvbiBrdCh0LCBlLCBvLCBpLCBuKSB7XG4gIGNvbnN0IHIgPSBidCh0KSwgcyA9IFN0LmZyb21TY2hlbWEobikucGFyc2Uociwge1xuICAgIHRvcE5vZGU6IG4ubm9kZXMuYmxvY2tHcm91cC5jcmVhdGUoKVxuICB9KSwgbCA9IFtdO1xuICBmb3IgKGxldCBkID0gMDsgZCA8IHMuY2hpbGRDb3VudDsgZCsrKVxuICAgIGwucHVzaChcbiAgICAgIHkocy5jaGlsZChkKSwgZSwgbywgaSlcbiAgICApO1xuICByZXR1cm4gbDtcbn1cbmZ1bmN0aW9uIFlpKHQsIGUpIHtcbiAgY29uc3QgbyA9IGUudmFsdWUgPyBlLnZhbHVlICsgYFxuYCA6IFwiXCIsIGkgPSB7fTtcbiAgZS5sYW5nICYmIChpW1wiZGF0YS1sYW5ndWFnZVwiXSA9IGUubGFuZyk7XG4gIGxldCBuID0ge1xuICAgIHR5cGU6IFwiZWxlbWVudFwiLFxuICAgIHRhZ05hbWU6IFwiY29kZVwiLFxuICAgIHByb3BlcnRpZXM6IGksXG4gICAgY2hpbGRyZW46IFt7IHR5cGU6IFwidGV4dFwiLCB2YWx1ZTogbyB9XVxuICB9O1xuICByZXR1cm4gZS5tZXRhICYmIChuLmRhdGEgPSB7IG1ldGE6IGUubWV0YSB9KSwgdC5wYXRjaChlLCBuKSwgbiA9IHQuYXBwbHlEYXRhKGUsIG4pLCBuID0ge1xuICAgIHR5cGU6IFwiZWxlbWVudFwiLFxuICAgIHRhZ05hbWU6IFwicHJlXCIsXG4gICAgcHJvcGVydGllczoge30sXG4gICAgY2hpbGRyZW46IFtuXVxuICB9LCB0LnBhdGNoKGUsIG4pLCBuO1xufVxuZnVuY3Rpb24gUWkodCwgZSwgbywgaSwgbikge1xuICBjb25zdCByID0gd2UoKS51c2UoZW8pLnVzZShYZSkudXNlKHRvLCB7XG4gICAgaGFuZGxlcnM6IHtcbiAgICAgIC4uLm9vLFxuICAgICAgY29kZTogWWlcbiAgICB9XG4gIH0pLnVzZShxZSkucHJvY2Vzc1N5bmModCk7XG4gIHJldHVybiBrdChcbiAgICByLnZhbHVlLFxuICAgIGUsXG4gICAgbyxcbiAgICBpLFxuICAgIG5cbiAgKTtcbn1cbmNsYXNzIFgge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xuICAgIGModGhpcywgXCJjYWxsYmFja3NcIiwge30pO1xuICB9XG4gIG9uKGUsIG8pIHtcbiAgICByZXR1cm4gdGhpcy5jYWxsYmFja3NbZV0gfHwgKHRoaXMuY2FsbGJhY2tzW2VdID0gW10pLCB0aGlzLmNhbGxiYWNrc1tlXS5wdXNoKG8pLCAoKSA9PiB0aGlzLm9mZihlLCBvKTtcbiAgfVxuICBlbWl0KGUsIC4uLm8pIHtcbiAgICBjb25zdCBpID0gdGhpcy5jYWxsYmFja3NbZV07XG4gICAgaSAmJiBpLmZvckVhY2goKG4pID0+IG4uYXBwbHkodGhpcywgbykpO1xuICB9XG4gIG9mZihlLCBvKSB7XG4gICAgY29uc3QgaSA9IHRoaXMuY2FsbGJhY2tzW2VdO1xuICAgIGkgJiYgKG8gPyB0aGlzLmNhbGxiYWNrc1tlXSA9IGkuZmlsdGVyKChuKSA9PiBuICE9PSBvKSA6IGRlbGV0ZSB0aGlzLmNhbGxiYWNrc1tlXSk7XG4gIH1cbiAgcmVtb3ZlQWxsTGlzdGVuZXJzKCkge1xuICAgIHRoaXMuY2FsbGJhY2tzID0ge307XG4gIH1cbn1cbmNsYXNzIGVuIHtcbiAgY29uc3RydWN0b3IoZSwgbywgaSwgbikge1xuICAgIGModGhpcywgXCJzdGF0ZVwiKTtcbiAgICBjKHRoaXMsIFwiZW1pdFVwZGF0ZVwiKTtcbiAgICBjKHRoaXMsIFwibW91c2VEb3duSGFuZGxlclwiLCAoKSA9PiB7XG4gICAgICB2YXIgZTtcbiAgICAgIChlID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBlLnNob3cgJiYgKHRoaXMuc3RhdGUuc2hvdyA9ICExLCB0aGlzLmVtaXRVcGRhdGUoKSk7XG4gICAgfSk7XG4gICAgLy8gRm9yIGRyYWdnaW5nIHRoZSB3aG9sZSBlZGl0b3IuXG4gICAgYyh0aGlzLCBcImRyYWdzdGFydEhhbmRsZXJcIiwgKCkgPT4ge1xuICAgICAgdmFyIGU7XG4gICAgICAoZSA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgZS5zaG93ICYmICh0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKCkpO1xuICAgIH0pO1xuICAgIGModGhpcywgXCJzY3JvbGxIYW5kbGVyXCIsICgpID0+IHtcbiAgICAgIHZhciBlO1xuICAgICAgaWYgKChlID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBlLnNob3cpIHtcbiAgICAgICAgY29uc3QgbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYFtkYXRhLW5vZGUtdHlwZT1cImJsb2NrQ29udGFpbmVyXCJdW2RhdGEtaWQ9XCIke3RoaXMuc3RhdGUuYmxvY2suaWR9XCJdYFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnN0YXRlLnJlZmVyZW5jZVBvcyA9IG8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHRoaXMuZW1pdFVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGModGhpcywgXCJjbG9zZU1lbnVcIiwgKCkgPT4ge1xuICAgICAgdmFyIGU7XG4gICAgICAoZSA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgZS5zaG93ICYmICh0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKCkpO1xuICAgIH0pO1xuICAgIHRoaXMuZWRpdG9yID0gZSwgdGhpcy5wbHVnaW5LZXkgPSBvLCB0aGlzLnBtVmlldyA9IGksIHRoaXMuZW1pdFVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5zdGF0ZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGluZyB0byB1cGRhdGUgdW5pbml0aWFsaXplZCBmaWxlIHBhbmVsXCIpO1xuICAgICAgbih0aGlzLnN0YXRlKTtcbiAgICB9LCBpLmRvbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMubW91c2VEb3duSGFuZGxlciksIGkuZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgdGhpcy5kcmFnc3RhcnRIYW5kbGVyKSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLnNjcm9sbEhhbmRsZXIsICEwKTtcbiAgfVxuICB1cGRhdGUoZSwgbykge1xuICAgIHZhciBuLCByO1xuICAgIGNvbnN0IGkgPSB0aGlzLnBsdWdpbktleS5nZXRTdGF0ZShlLnN0YXRlKTtcbiAgICBpZiAoISgobiA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgbi5zaG93KSAmJiBpLmJsb2NrICYmIHRoaXMuZWRpdG9yLmlzRWRpdGFibGUpIHtcbiAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICBgW2RhdGEtbm9kZS10eXBlPVwiYmxvY2tDb250YWluZXJcIl1bZGF0YS1pZD1cIiR7aS5ibG9jay5pZH1cIl1gXG4gICAgICApO1xuICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgc2hvdzogITAsXG4gICAgICAgIHJlZmVyZW5jZVBvczogYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgYmxvY2s6IGkuYmxvY2tcbiAgICAgIH0sIHRoaXMuZW1pdFVwZGF0ZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAoIWUuc3RhdGUuc2VsZWN0aW9uLmVxKG8uc2VsZWN0aW9uKSB8fCAhZS5zdGF0ZS5kb2MuZXEoby5kb2MpIHx8ICF0aGlzLmVkaXRvci5pc0VkaXRhYmxlKSAmJiAociA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgci5zaG93ICYmICh0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKCkpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5wbVZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZURvd25IYW5kbGVyKSwgdGhpcy5wbVZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIiwgdGhpcy5kcmFnc3RhcnRIYW5kbGVyKSwgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLnNjcm9sbEhhbmRsZXIsICEwKTtcbiAgfVxufVxuY29uc3QgZmUgPSBuZXcgUyhcIkZpbGVQYW5lbFBsdWdpblwiKTtcbmNsYXNzIHRuIGV4dGVuZHMgWCB7XG4gIGNvbnN0cnVjdG9yKG8pIHtcbiAgICBzdXBlcigpO1xuICAgIGModGhpcywgXCJ2aWV3XCIpO1xuICAgIGModGhpcywgXCJwbHVnaW5cIik7XG4gICAgYyh0aGlzLCBcImNsb3NlTWVudVwiLCAoKSA9PiB0aGlzLnZpZXcuY2xvc2VNZW51KCkpO1xuICAgIHRoaXMucGx1Z2luID0gbmV3IHYoe1xuICAgICAga2V5OiBmZSxcbiAgICAgIHZpZXc6IChpKSA9PiAodGhpcy52aWV3ID0gbmV3IGVuKFxuICAgICAgICBvLFxuICAgICAgICBmZSxcbiAgICAgICAgaSxcbiAgICAgICAgKG4pID0+IHtcbiAgICAgICAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgbik7XG4gICAgICAgIH1cbiAgICAgICksIHRoaXMudmlldyksXG4gICAgICBwcm9wczoge1xuICAgICAgICBoYW5kbGVLZXlEb3duOiAoaSwgbikgPT4gbi5rZXkgPT09IFwiRXNjYXBlXCIgJiYgdGhpcy5zaG93biA/ICh0aGlzLnZpZXcuY2xvc2VNZW51KCksICEwKSA6ICExXG4gICAgICB9LFxuICAgICAgc3RhdGU6IHtcbiAgICAgICAgaW5pdDogKCkgPT4gKHtcbiAgICAgICAgICBibG9jazogdm9pZCAwXG4gICAgICAgIH0pLFxuICAgICAgICBhcHBseTogKGkpID0+IHtcbiAgICAgICAgICB2YXIgcjtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmxvY2s6IChyID0gaS5nZXRNZXRhKGZlKSkgPT0gbnVsbCA/IHZvaWQgMCA6IHIuYmxvY2tcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZ2V0IHNob3duKCkge1xuICAgIHZhciBvLCBpO1xuICAgIHJldHVybiAoKGkgPSAobyA9IHRoaXMudmlldykgPT0gbnVsbCA/IHZvaWQgMCA6IG8uc3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBpLnNob3cpIHx8ICExO1xuICB9XG4gIG9uVXBkYXRlKG8pIHtcbiAgICByZXR1cm4gdGhpcy5vbihcInVwZGF0ZVwiLCBvKTtcbiAgfVxufVxuY2xhc3Mgb24ge1xuICBjb25zdHJ1Y3RvcihlLCBvLCBpKSB7XG4gICAgYyh0aGlzLCBcInN0YXRlXCIpO1xuICAgIGModGhpcywgXCJlbWl0VXBkYXRlXCIpO1xuICAgIGModGhpcywgXCJwcmV2ZW50SGlkZVwiLCAhMSk7XG4gICAgYyh0aGlzLCBcInByZXZlbnRTaG93XCIsICExKTtcbiAgICBjKHRoaXMsIFwic2hvdWxkU2hvd1wiLCAoeyBzdGF0ZTogZSwgZnJvbTogbywgdG86IGksIHZpZXc6IG4gfSkgPT4ge1xuICAgICAgY29uc3QgeyBkb2M6IHIsIHNlbGVjdGlvbjogYSB9ID0gZSwgeyBlbXB0eTogcyB9ID0gYSwgbCA9ICFyLnRleHRCZXR3ZWVuKG8sIGkpLmxlbmd0aCAmJiBIdChlLnNlbGVjdGlvbik7XG4gICAgICByZXR1cm4gISghbi5oYXNGb2N1cygpIHx8IHMgfHwgbCk7XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcInZpZXdNb3VzZWRvd25IYW5kbGVyXCIsICgpID0+IHtcbiAgICAgIHRoaXMucHJldmVudFNob3cgPSAhMDtcbiAgICB9KTtcbiAgICBjKHRoaXMsIFwidmlld01vdXNldXBIYW5kbGVyXCIsICgpID0+IHtcbiAgICAgIHRoaXMucHJldmVudFNob3cgPSAhMSwgc2V0VGltZW91dCgoKSA9PiB0aGlzLnVwZGF0ZSh0aGlzLnBtVmlldykpO1xuICAgIH0pO1xuICAgIC8vIEZvciBkcmFnZ2luZyB0aGUgd2hvbGUgZWRpdG9yLlxuICAgIGModGhpcywgXCJkcmFnSGFuZGxlclwiLCAoKSA9PiB7XG4gICAgICB2YXIgZTtcbiAgICAgIChlID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBlLnNob3cgJiYgKHRoaXMuc3RhdGUuc2hvdyA9ICExLCB0aGlzLmVtaXRVcGRhdGUoKSk7XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcInNjcm9sbEhhbmRsZXJcIiwgKCkgPT4ge1xuICAgICAgdmFyIGU7XG4gICAgICAoZSA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgZS5zaG93ICYmICh0aGlzLnN0YXRlLnJlZmVyZW5jZVBvcyA9IHRoaXMuZ2V0U2VsZWN0aW9uQm91bmRpbmdCb3goKSwgdGhpcy5lbWl0VXBkYXRlKCkpO1xuICAgIH0pO1xuICAgIGModGhpcywgXCJjbG9zZU1lbnVcIiwgKCkgPT4ge1xuICAgICAgdmFyIGU7XG4gICAgICAoZSA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgZS5zaG93ICYmICh0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKCkpO1xuICAgIH0pO1xuICAgIHRoaXMuZWRpdG9yID0gZSwgdGhpcy5wbVZpZXcgPSBvLCB0aGlzLmVtaXRVcGRhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIkF0dGVtcHRpbmcgdG8gdXBkYXRlIHVuaW5pdGlhbGl6ZWQgZm9ybWF0dGluZyB0b29sYmFyXCJcbiAgICAgICAgKTtcbiAgICAgIGkodGhpcy5zdGF0ZSk7XG4gICAgfSwgby5kb20uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLnZpZXdNb3VzZWRvd25IYW5kbGVyKSwgby5kb20uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy52aWV3TW91c2V1cEhhbmRsZXIpLCBvLmRvbS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIHRoaXMuZHJhZ0hhbmRsZXIpLCBvLmRvbS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgdGhpcy5kcmFnSGFuZGxlciksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5zY3JvbGxIYW5kbGVyLCAhMCk7XG4gIH1cbiAgdXBkYXRlKGUsIG8pIHtcbiAgICB2YXIgaCwgbTtcbiAgICBjb25zdCB7IHN0YXRlOiBpLCBjb21wb3Npbmc6IG4gfSA9IGUsIHsgZG9jOiByLCBzZWxlY3Rpb246IGEgfSA9IGksIHMgPSBvICYmIG8uZG9jLmVxKHIpICYmIG8uc2VsZWN0aW9uLmVxKGEpO1xuICAgIGlmIChuIHx8IHMpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgeyByYW5nZXM6IGwgfSA9IGEsIGQgPSBNYXRoLm1pbiguLi5sLm1hcCgoZikgPT4gZi4kZnJvbS5wb3MpKSwgdSA9IE1hdGgubWF4KC4uLmwubWFwKChmKSA9PiBmLiR0by5wb3MpKSwgcCA9IChoID0gdGhpcy5zaG91bGRTaG93KSA9PSBudWxsID8gdm9pZCAwIDogaC5jYWxsKHRoaXMsIHtcbiAgICAgIHZpZXc6IGUsXG4gICAgICBzdGF0ZTogaSxcbiAgICAgIGZyb206IGQsXG4gICAgICB0bzogdVxuICAgIH0pO1xuICAgIGlmICghdGhpcy5wcmV2ZW50U2hvdyAmJiAocCB8fCB0aGlzLnByZXZlbnRIaWRlKSkge1xuICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgc2hvdzogITAsXG4gICAgICAgIHJlZmVyZW5jZVBvczogdGhpcy5nZXRTZWxlY3Rpb25Cb3VuZGluZ0JveCgpXG4gICAgICB9LCB0aGlzLmVtaXRVcGRhdGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKChtID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBtLnNob3cgJiYgIXRoaXMucHJldmVudEhpZGUgJiYgKCFwIHx8IHRoaXMucHJldmVudFNob3cgfHwgIXRoaXMuZWRpdG9yLmlzRWRpdGFibGUpKSB7XG4gICAgICB0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5wbVZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy52aWV3TW91c2Vkb3duSGFuZGxlciksIHRoaXMucG1WaWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLnZpZXdNb3VzZXVwSGFuZGxlciksIHRoaXMucG1WaWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIHRoaXMuZHJhZ0hhbmRsZXIpLCB0aGlzLnBtVmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIHRoaXMuZHJhZ0hhbmRsZXIpLCBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMuc2Nyb2xsSGFuZGxlciwgITApO1xuICB9XG4gIGdldFNlbGVjdGlvbkJvdW5kaW5nQm94KCkge1xuICAgIGNvbnN0IHsgc3RhdGU6IGUgfSA9IHRoaXMucG1WaWV3LCB7IHNlbGVjdGlvbjogbyB9ID0gZSwgeyByYW5nZXM6IGkgfSA9IG8sIG4gPSBNYXRoLm1pbiguLi5pLm1hcCgoYSkgPT4gYS4kZnJvbS5wb3MpKSwgciA9IE1hdGgubWF4KC4uLmkubWFwKChhKSA9PiBhLiR0by5wb3MpKTtcbiAgICBpZiAoVXQobykpIHtcbiAgICAgIGNvbnN0IGEgPSB0aGlzLnBtVmlldy5ub2RlRE9NKG4pO1xuICAgICAgaWYgKGEpXG4gICAgICAgIHJldHVybiBhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIH1cbiAgICByZXR1cm4ga2UodGhpcy5wbVZpZXcsIG4sIHIpO1xuICB9XG59XG5jb25zdCBubiA9IG5ldyBTKFxuICBcIkZvcm1hdHRpbmdUb29sYmFyUGx1Z2luXCJcbik7XG5jbGFzcyBybiBleHRlbmRzIFgge1xuICBjb25zdHJ1Y3RvcihvKSB7XG4gICAgc3VwZXIoKTtcbiAgICBjKHRoaXMsIFwidmlld1wiKTtcbiAgICBjKHRoaXMsIFwicGx1Z2luXCIpO1xuICAgIGModGhpcywgXCJjbG9zZU1lbnVcIiwgKCkgPT4gdGhpcy52aWV3LmNsb3NlTWVudSgpKTtcbiAgICB0aGlzLnBsdWdpbiA9IG5ldyB2KHtcbiAgICAgIGtleTogbm4sXG4gICAgICB2aWV3OiAoaSkgPT4gKHRoaXMudmlldyA9IG5ldyBvbihvLCBpLCAobikgPT4ge1xuICAgICAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgbik7XG4gICAgICB9KSwgdGhpcy52aWV3KSxcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIGhhbmRsZUtleURvd246IChpLCBuKSA9PiBuLmtleSA9PT0gXCJFc2NhcGVcIiAmJiB0aGlzLnNob3duID8gKHRoaXMudmlldy5jbG9zZU1lbnUoKSwgITApIDogITFcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBnZXQgc2hvd24oKSB7XG4gICAgdmFyIG8sIGk7XG4gICAgcmV0dXJuICgoaSA9IChvID0gdGhpcy52aWV3KSA9PSBudWxsID8gdm9pZCAwIDogby5zdGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IGkuc2hvdykgfHwgITE7XG4gIH1cbiAgb25VcGRhdGUobykge1xuICAgIHJldHVybiB0aGlzLm9uKFwidXBkYXRlXCIsIG8pO1xuICB9XG59XG5jbGFzcyBhbiB7XG4gIGNvbnN0cnVjdG9yKGUsIG8sIGkpIHtcbiAgICBjKHRoaXMsIFwic3RhdGVcIik7XG4gICAgYyh0aGlzLCBcImVtaXRVcGRhdGVcIik7XG4gICAgYyh0aGlzLCBcIm1lbnVVcGRhdGVUaW1lclwiKTtcbiAgICBjKHRoaXMsIFwic3RhcnRNZW51VXBkYXRlVGltZXJcIik7XG4gICAgYyh0aGlzLCBcInN0b3BNZW51VXBkYXRlVGltZXJcIik7XG4gICAgYyh0aGlzLCBcIm1vdXNlSG92ZXJlZExpbmtNYXJrXCIpO1xuICAgIGModGhpcywgXCJtb3VzZUhvdmVyZWRMaW5rTWFya1JhbmdlXCIpO1xuICAgIGModGhpcywgXCJrZXlib2FyZEhvdmVyZWRMaW5rTWFya1wiKTtcbiAgICBjKHRoaXMsIFwia2V5Ym9hcmRIb3ZlcmVkTGlua01hcmtSYW5nZVwiKTtcbiAgICBjKHRoaXMsIFwibGlua01hcmtcIik7XG4gICAgYyh0aGlzLCBcImxpbmtNYXJrUmFuZ2VcIik7XG4gICAgYyh0aGlzLCBcIm1vdXNlT3ZlckhhbmRsZXJcIiwgKGUpID0+IHtcbiAgICAgIGlmICh0aGlzLm1vdXNlSG92ZXJlZExpbmtNYXJrID0gdm9pZCAwLCB0aGlzLm1vdXNlSG92ZXJlZExpbmtNYXJrUmFuZ2UgPSB2b2lkIDAsIHRoaXMuc3RvcE1lbnVVcGRhdGVUaW1lcigpLCBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxBbmNob3JFbGVtZW50ICYmIGUudGFyZ2V0Lm5vZGVOYW1lID09PSBcIkFcIikge1xuICAgICAgICBjb25zdCBvID0gZS50YXJnZXQsIGkgPSB0aGlzLnBtVmlldy5wb3NBdERPTShvLCAwKSArIDEsIG4gPSB0aGlzLnBtVmlldy5zdGF0ZS5kb2MucmVzb2x2ZShpKSwgciA9IG4ubWFya3MoKTtcbiAgICAgICAgZm9yIChjb25zdCBhIG9mIHIpXG4gICAgICAgICAgaWYgKGEudHlwZS5uYW1lID09PSB0aGlzLnBtVmlldy5zdGF0ZS5zY2hlbWEubWFyayhcImxpbmtcIikudHlwZS5uYW1lKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlSG92ZXJlZExpbmtNYXJrID0gYSwgdGhpcy5tb3VzZUhvdmVyZWRMaW5rTWFya1JhbmdlID0gTmUobiwgYS50eXBlLCBhLmF0dHJzKSB8fCB2b2lkIDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5zdGFydE1lbnVVcGRhdGVUaW1lcigpLCAhMTtcbiAgICB9KTtcbiAgICBjKHRoaXMsIFwiY2xpY2tIYW5kbGVyXCIsIChlKSA9PiB7XG4gICAgICB2YXIgaTtcbiAgICAgIGNvbnN0IG8gPSB0aGlzLnBtVmlldy5kb20ucGFyZW50RWxlbWVudDtcbiAgICAgIC8vIFRvb2xiYXIgaXMgb3Blbi5cbiAgICAgIHRoaXMubGlua01hcmsgJiYgLy8gQW4gZWxlbWVudCBpcyBjbGlja2VkLlxuICAgICAgZSAmJiBlLnRhcmdldCAmJiAvLyBUaGUgY2xpY2tlZCBlbGVtZW50IGlzIG5vdCB0aGUgZWRpdG9yLlxuICAgICAgIShvID09PSBlLnRhcmdldCB8fCBvLmNvbnRhaW5zKGUudGFyZ2V0KSkgJiYgKGkgPSB0aGlzLnN0YXRlKSAhPSBudWxsICYmIGkuc2hvdyAmJiAodGhpcy5zdGF0ZS5zaG93ID0gITEsIHRoaXMuZW1pdFVwZGF0ZSgpKTtcbiAgICB9KTtcbiAgICBjKHRoaXMsIFwic2Nyb2xsSGFuZGxlclwiLCAoKSA9PiB7XG4gICAgICB2YXIgZTtcbiAgICAgIHRoaXMubGlua01hcmsgIT09IHZvaWQgMCAmJiAoZSA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgZS5zaG93ICYmICh0aGlzLnN0YXRlLnJlZmVyZW5jZVBvcyA9IGtlKFxuICAgICAgICB0aGlzLnBtVmlldyxcbiAgICAgICAgdGhpcy5saW5rTWFya1JhbmdlLmZyb20sXG4gICAgICAgIHRoaXMubGlua01hcmtSYW5nZS50b1xuICAgICAgKSwgdGhpcy5lbWl0VXBkYXRlKCkpO1xuICAgIH0pO1xuICAgIGModGhpcywgXCJjbG9zZU1lbnVcIiwgKCkgPT4ge1xuICAgICAgdmFyIGU7XG4gICAgICAoZSA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgZS5zaG93ICYmICh0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKCkpO1xuICAgIH0pO1xuICAgIHRoaXMuZWRpdG9yID0gZSwgdGhpcy5wbVZpZXcgPSBvLCB0aGlzLmVtaXRVcGRhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gdXBkYXRlIHVuaW5pdGlhbGl6ZWQgbGluayB0b29sYmFyXCIpO1xuICAgICAgaSh0aGlzLnN0YXRlKTtcbiAgICB9LCB0aGlzLnN0YXJ0TWVudVVwZGF0ZVRpbWVyID0gKCkgPT4ge1xuICAgICAgdGhpcy5tZW51VXBkYXRlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIH0sIDI1MCk7XG4gICAgfSwgdGhpcy5zdG9wTWVudVVwZGF0ZVRpbWVyID0gKCkgPT4gKHRoaXMubWVudVVwZGF0ZVRpbWVyICYmIChjbGVhclRpbWVvdXQodGhpcy5tZW51VXBkYXRlVGltZXIpLCB0aGlzLm1lbnVVcGRhdGVUaW1lciA9IHZvaWQgMCksICExKSwgdGhpcy5wbVZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgdGhpcy5tb3VzZU92ZXJIYW5kbGVyKSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xpY2tIYW5kbGVyLCAhMCksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5zY3JvbGxIYW5kbGVyLCAhMCk7XG4gIH1cbiAgZWRpdExpbmsoZSwgbykge1xuICAgIHZhciBuO1xuICAgIGNvbnN0IGkgPSB0aGlzLnBtVmlldy5zdGF0ZS50ci5pbnNlcnRUZXh0KFxuICAgICAgbyxcbiAgICAgIHRoaXMubGlua01hcmtSYW5nZS5mcm9tLFxuICAgICAgdGhpcy5saW5rTWFya1JhbmdlLnRvXG4gICAgKTtcbiAgICBpLmFkZE1hcmsoXG4gICAgICB0aGlzLmxpbmtNYXJrUmFuZ2UuZnJvbSxcbiAgICAgIHRoaXMubGlua01hcmtSYW5nZS5mcm9tICsgby5sZW5ndGgsXG4gICAgICB0aGlzLnBtVmlldy5zdGF0ZS5zY2hlbWEubWFyayhcImxpbmtcIiwgeyBocmVmOiBlIH0pXG4gICAgKSwgdGhpcy5wbVZpZXcuZGlzcGF0Y2goaSksIHRoaXMucG1WaWV3LmZvY3VzKCksIChuID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBuLnNob3cgJiYgKHRoaXMuc3RhdGUuc2hvdyA9ICExLCB0aGlzLmVtaXRVcGRhdGUoKSk7XG4gIH1cbiAgZGVsZXRlTGluaygpIHtcbiAgICB2YXIgZTtcbiAgICB0aGlzLnBtVmlldy5kaXNwYXRjaChcbiAgICAgIHRoaXMucG1WaWV3LnN0YXRlLnRyLnJlbW92ZU1hcmsoXG4gICAgICAgIHRoaXMubGlua01hcmtSYW5nZS5mcm9tLFxuICAgICAgICB0aGlzLmxpbmtNYXJrUmFuZ2UudG8sXG4gICAgICAgIHRoaXMubGlua01hcmsudHlwZVxuICAgICAgKS5zZXRNZXRhKFwicHJldmVudEF1dG9saW5rXCIsICEwKVxuICAgICksIHRoaXMucG1WaWV3LmZvY3VzKCksIChlID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBlLnNob3cgJiYgKHRoaXMuc3RhdGUuc2hvdyA9ICExLCB0aGlzLmVtaXRVcGRhdGUoKSk7XG4gIH1cbiAgdXBkYXRlKCkge1xuICAgIHZhciBvO1xuICAgIGlmICghdGhpcy5wbVZpZXcuaGFzRm9jdXMoKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBlID0gdGhpcy5saW5rTWFyaztcbiAgICBpZiAodGhpcy5saW5rTWFyayA9IHZvaWQgMCwgdGhpcy5saW5rTWFya1JhbmdlID0gdm9pZCAwLCB0aGlzLmtleWJvYXJkSG92ZXJlZExpbmtNYXJrID0gdm9pZCAwLCB0aGlzLmtleWJvYXJkSG92ZXJlZExpbmtNYXJrUmFuZ2UgPSB2b2lkIDAsIHRoaXMucG1WaWV3LnN0YXRlLnNlbGVjdGlvbi5lbXB0eSkge1xuICAgICAgY29uc3QgaSA9IHRoaXMucG1WaWV3LnN0YXRlLnNlbGVjdGlvbi4kZnJvbS5tYXJrcygpO1xuICAgICAgZm9yIChjb25zdCBuIG9mIGkpXG4gICAgICAgIGlmIChuLnR5cGUubmFtZSA9PT0gdGhpcy5wbVZpZXcuc3RhdGUuc2NoZW1hLm1hcmsoXCJsaW5rXCIpLnR5cGUubmFtZSkge1xuICAgICAgICAgIHRoaXMua2V5Ym9hcmRIb3ZlcmVkTGlua01hcmsgPSBuLCB0aGlzLmtleWJvYXJkSG92ZXJlZExpbmtNYXJrUmFuZ2UgPSBOZShcbiAgICAgICAgICAgIHRoaXMucG1WaWV3LnN0YXRlLnNlbGVjdGlvbi4kZnJvbSxcbiAgICAgICAgICAgIG4udHlwZSxcbiAgICAgICAgICAgIG4uYXR0cnNcbiAgICAgICAgICApIHx8IHZvaWQgMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5tb3VzZUhvdmVyZWRMaW5rTWFyayAmJiAodGhpcy5saW5rTWFyayA9IHRoaXMubW91c2VIb3ZlcmVkTGlua01hcmssIHRoaXMubGlua01hcmtSYW5nZSA9IHRoaXMubW91c2VIb3ZlcmVkTGlua01hcmtSYW5nZSksIHRoaXMua2V5Ym9hcmRIb3ZlcmVkTGlua01hcmsgJiYgKHRoaXMubGlua01hcmsgPSB0aGlzLmtleWJvYXJkSG92ZXJlZExpbmtNYXJrLCB0aGlzLmxpbmtNYXJrUmFuZ2UgPSB0aGlzLmtleWJvYXJkSG92ZXJlZExpbmtNYXJrUmFuZ2UpLCB0aGlzLmxpbmtNYXJrICYmIHRoaXMuZWRpdG9yLmlzRWRpdGFibGUpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgIHNob3c6ICEwLFxuICAgICAgICByZWZlcmVuY2VQb3M6IGtlKFxuICAgICAgICAgIHRoaXMucG1WaWV3LFxuICAgICAgICAgIHRoaXMubGlua01hcmtSYW5nZS5mcm9tLFxuICAgICAgICAgIHRoaXMubGlua01hcmtSYW5nZS50b1xuICAgICAgICApLFxuICAgICAgICB1cmw6IHRoaXMubGlua01hcmsuYXR0cnMuaHJlZixcbiAgICAgICAgdGV4dDogdGhpcy5wbVZpZXcuc3RhdGUuZG9jLnRleHRCZXR3ZWVuKFxuICAgICAgICAgIHRoaXMubGlua01hcmtSYW5nZS5mcm9tLFxuICAgICAgICAgIHRoaXMubGlua01hcmtSYW5nZS50b1xuICAgICAgICApXG4gICAgICB9LCB0aGlzLmVtaXRVcGRhdGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKChvID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBvLnNob3cgJiYgZSAmJiAoIXRoaXMubGlua01hcmsgfHwgIXRoaXMuZWRpdG9yLmlzRWRpdGFibGUpKSB7XG4gICAgICB0aGlzLnN0YXRlLnNob3cgPSAhMSwgdGhpcy5lbWl0VXBkYXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5wbVZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgdGhpcy5tb3VzZU92ZXJIYW5kbGVyKSwgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLnNjcm9sbEhhbmRsZXIsICEwKSwgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xpY2tIYW5kbGVyLCAhMCk7XG4gIH1cbn1cbmNvbnN0IHNuID0gbmV3IFMoXCJMaW5rVG9vbGJhclBsdWdpblwiKTtcbmNsYXNzIGxuIGV4dGVuZHMgWCB7XG4gIGNvbnN0cnVjdG9yKG8pIHtcbiAgICBzdXBlcigpO1xuICAgIGModGhpcywgXCJ2aWV3XCIpO1xuICAgIGModGhpcywgXCJwbHVnaW5cIik7XG4gICAgLyoqXG4gICAgICogRWRpdCB0aGUgY3VycmVudGx5IGhvdmVyZWQgbGluay5cbiAgICAgKi9cbiAgICBjKHRoaXMsIFwiZWRpdExpbmtcIiwgKG8sIGkpID0+IHtcbiAgICAgIHRoaXMudmlldy5lZGl0TGluayhvLCBpKTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBEZWxldGUgdGhlIGN1cnJlbnRseSBob3ZlcmVkIGxpbmsuXG4gICAgICovXG4gICAgYyh0aGlzLCBcImRlbGV0ZUxpbmtcIiwgKCkgPT4ge1xuICAgICAgdGhpcy52aWV3LmRlbGV0ZUxpbmsoKTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBXaGVuIGhvdmVyaW5nIG9uL29mZiBsaW5rcyB1c2luZyB0aGUgbW91c2UgY3Vyc29yLCB0aGUgbGluayB0b29sYmFyIHdpbGxcbiAgICAgKiBvcGVuICYgY2xvc2Ugd2l0aCBhIGRlbGF5LlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBzdGFydHMgdGhlIGRlbGF5IHRpbWVyLCBhbmQgc2hvdWxkIGJlIHVzZWQgZm9yIHdoZW4gdGhlIG1vdXNlXG4gICAgICogY3Vyc29yIGVudGVycyB0aGUgbGluayB0b29sYmFyLlxuICAgICAqL1xuICAgIGModGhpcywgXCJzdGFydEhpZGVUaW1lclwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnZpZXcuc3RhcnRNZW51VXBkYXRlVGltZXIoKTtcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBXaGVuIGhvdmVyaW5nIG9uL29mZiBsaW5rcyB1c2luZyB0aGUgbW91c2UgY3Vyc29yLCB0aGUgbGluayB0b29sYmFyIHdpbGxcbiAgICAgKiBvcGVuICYgY2xvc2Ugd2l0aCBhIGRlbGF5LlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBzdG9wcyB0aGUgZGVsYXkgdGltZXIsIGFuZCBzaG91bGQgYmUgdXNlZCBmb3Igd2hlbiB0aGUgbW91c2VcbiAgICAgKiBjdXJzb3IgZXhpdHMgdGhlIGxpbmsgdG9vbGJhci5cbiAgICAgKi9cbiAgICBjKHRoaXMsIFwic3RvcEhpZGVUaW1lclwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnZpZXcuc3RvcE1lbnVVcGRhdGVUaW1lcigpO1xuICAgIH0pO1xuICAgIGModGhpcywgXCJjbG9zZU1lbnVcIiwgKCkgPT4gdGhpcy52aWV3LmNsb3NlTWVudSgpKTtcbiAgICB0aGlzLnBsdWdpbiA9IG5ldyB2KHtcbiAgICAgIGtleTogc24sXG4gICAgICB2aWV3OiAoaSkgPT4gKHRoaXMudmlldyA9IG5ldyBhbihvLCBpLCAobikgPT4ge1xuICAgICAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgbik7XG4gICAgICB9KSwgdGhpcy52aWV3KSxcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIGhhbmRsZUtleURvd246IChpLCBuKSA9PiBuLmtleSA9PT0gXCJFc2NhcGVcIiAmJiB0aGlzLnNob3duID8gKHRoaXMudmlldy5jbG9zZU1lbnUoKSwgITApIDogITFcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBvblVwZGF0ZShvKSB7XG4gICAgcmV0dXJuIHRoaXMub24oXCJ1cGRhdGVcIiwgbyk7XG4gIH1cbiAgZ2V0IHNob3duKCkge1xuICAgIHZhciBvLCBpO1xuICAgIHJldHVybiAoKGkgPSAobyA9IHRoaXMudmlldykgPT0gbnVsbCA/IHZvaWQgMCA6IG8uc3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBpLnNob3cpIHx8ICExO1xuICB9XG59XG5jb25zdCBkbiA9IER0KCh0KSA9PiB0LnR5cGUubmFtZSA9PT0gXCJibG9ja0NvbnRhaW5lclwiKTtcbmNsYXNzIGNuIHtcbiAgY29uc3RydWN0b3IoZSwgbykge1xuICAgIGModGhpcywgXCJzdGF0ZVwiKTtcbiAgICBjKHRoaXMsIFwiZW1pdFVwZGF0ZVwiKTtcbiAgICBjKHRoaXMsIFwicGx1Z2luU3RhdGVcIik7XG4gICAgYyh0aGlzLCBcImhhbmRsZVNjcm9sbFwiLCAoKSA9PiB7XG4gICAgICB2YXIgZTtcbiAgICAgIGlmICgoZSA9IHRoaXMuc3RhdGUpICE9IG51bGwgJiYgZS5zaG93KSB7XG4gICAgICAgIGNvbnN0IG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIGBbZGF0YS1kZWNvcmF0aW9uLWlkPVwiJHt0aGlzLnBsdWdpblN0YXRlLmRlY29yYXRpb25JZH1cIl1gXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuc3RhdGUucmVmZXJlbmNlUG9zID0gby5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdGhpcy5lbWl0VXBkYXRlKHRoaXMucGx1Z2luU3RhdGUudHJpZ2dlckNoYXJhY3Rlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcImNsb3NlTWVudVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmVkaXRvci5fdGlwdGFwRWRpdG9yLnZpZXcuZGlzcGF0Y2goXG4gICAgICAgIHRoaXMuZWRpdG9yLl90aXB0YXBFZGl0b3Iudmlldy5zdGF0ZS50ci5zZXRNZXRhKFxuICAgICAgICAgIE8sXG4gICAgICAgICAgbnVsbFxuICAgICAgICApXG4gICAgICApO1xuICAgIH0pO1xuICAgIGModGhpcywgXCJjbGVhclF1ZXJ5XCIsICgpID0+IHtcbiAgICAgIHRoaXMucGx1Z2luU3RhdGUgIT09IHZvaWQgMCAmJiB0aGlzLmVkaXRvci5fdGlwdGFwRWRpdG9yLmNoYWluKCkuZm9jdXMoKS5kZWxldGVSYW5nZSh7XG4gICAgICAgIGZyb206IHRoaXMucGx1Z2luU3RhdGUucXVlcnlTdGFydFBvcyAtICh0aGlzLnBsdWdpblN0YXRlLmZyb21Vc2VySW5wdXQgPyB0aGlzLnBsdWdpblN0YXRlLnRyaWdnZXJDaGFyYWN0ZXIubGVuZ3RoIDogMCksXG4gICAgICAgIHRvOiB0aGlzLmVkaXRvci5fdGlwdGFwRWRpdG9yLnN0YXRlLnNlbGVjdGlvbi5mcm9tXG4gICAgICB9KS5ydW4oKTtcbiAgICB9KTtcbiAgICB0aGlzLmVkaXRvciA9IGUsIHRoaXMucGx1Z2luU3RhdGUgPSB2b2lkIDAsIHRoaXMuZW1pdFVwZGF0ZSA9IChpKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gdXBkYXRlIHVuaW5pdGlhbGl6ZWQgc3VnZ2VzdGlvbnMgbWVudVwiKTtcbiAgICAgIG8oaSwgdGhpcy5zdGF0ZSk7XG4gICAgfSwgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLmhhbmRsZVNjcm9sbCwgITApO1xuICB9XG4gIHVwZGF0ZShlLCBvKSB7XG4gICAgY29uc3QgaSA9IE8uZ2V0U3RhdGUobyksIG4gPSBPLmdldFN0YXRlKFxuICAgICAgZS5zdGF0ZVxuICAgICksIHIgPSBpID09PSB2b2lkIDAgJiYgbiAhPT0gdm9pZCAwLCBhID0gaSAhPT0gdm9pZCAwICYmIG4gPT09IHZvaWQgMDtcbiAgICBpZiAoIXIgJiYgIShpICE9PSB2b2lkIDAgJiYgbiAhPT0gdm9pZCAwKSAmJiAhYSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAodGhpcy5wbHVnaW5TdGF0ZSA9IGEgPyBpIDogbiwgYSB8fCAhdGhpcy5lZGl0b3IuaXNFZGl0YWJsZSkge1xuICAgICAgdGhpcy5zdGF0ZS5zaG93ID0gITEsIHRoaXMuZW1pdFVwZGF0ZSh0aGlzLnBsdWdpblN0YXRlLnRyaWdnZXJDaGFyYWN0ZXIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGBbZGF0YS1kZWNvcmF0aW9uLWlkPVwiJHt0aGlzLnBsdWdpblN0YXRlLmRlY29yYXRpb25JZH1cIl1gXG4gICAgKTtcbiAgICB0aGlzLmVkaXRvci5pc0VkaXRhYmxlICYmICh0aGlzLnN0YXRlID0ge1xuICAgICAgc2hvdzogITAsXG4gICAgICByZWZlcmVuY2VQb3M6IGwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICBxdWVyeTogdGhpcy5wbHVnaW5TdGF0ZS5xdWVyeVxuICAgIH0sIHRoaXMuZW1pdFVwZGF0ZSh0aGlzLnBsdWdpblN0YXRlLnRyaWdnZXJDaGFyYWN0ZXIpKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5oYW5kbGVTY3JvbGwsICEwKTtcbiAgfVxufVxuY29uc3QgTyA9IG5ldyBTKFwiU3VnZ2VzdGlvbk1lbnVQbHVnaW5cIik7XG5jbGFzcyB1biBleHRlbmRzIFgge1xuICBjb25zdHJ1Y3RvcihvKSB7XG4gICAgc3VwZXIoKTtcbiAgICBjKHRoaXMsIFwidmlld1wiKTtcbiAgICBjKHRoaXMsIFwicGx1Z2luXCIpO1xuICAgIGModGhpcywgXCJ0cmlnZ2VyQ2hhcmFjdGVyc1wiLCBbXSk7XG4gICAgYyh0aGlzLCBcImFkZFRyaWdnZXJDaGFyYWN0ZXJcIiwgKG8pID0+IHtcbiAgICAgIHRoaXMudHJpZ2dlckNoYXJhY3RlcnMucHVzaChvKTtcbiAgICB9KTtcbiAgICAvLyBUT0RPOiBTaG91bGQgdGhpcyBiZSBjYWxsZWQgYXV0b21hdGljYWxseSB3aGVuIGxpc3RlbmVycyBhcmUgcmVtb3ZlZD9cbiAgICBjKHRoaXMsIFwicmVtb3ZlVHJpZ2dlckNoYXJhY3RlclwiLCAobykgPT4ge1xuICAgICAgdGhpcy50cmlnZ2VyQ2hhcmFjdGVycyA9IHRoaXMudHJpZ2dlckNoYXJhY3RlcnMuZmlsdGVyKFxuICAgICAgICAoaSkgPT4gaSAhPT0gb1xuICAgICAgKTtcbiAgICB9KTtcbiAgICBjKHRoaXMsIFwiY2xvc2VNZW51XCIsICgpID0+IHRoaXMudmlldy5jbG9zZU1lbnUoKSk7XG4gICAgYyh0aGlzLCBcImNsZWFyUXVlcnlcIiwgKCkgPT4gdGhpcy52aWV3LmNsZWFyUXVlcnkoKSk7XG4gICAgY29uc3QgaSA9IHRoaXMudHJpZ2dlckNoYXJhY3RlcnM7XG4gICAgdGhpcy5wbHVnaW4gPSBuZXcgdih7XG4gICAgICBrZXk6IE8sXG4gICAgICB2aWV3OiAoKSA9PiAodGhpcy52aWV3ID0gbmV3IGNuKFxuICAgICAgICBvLFxuICAgICAgICAobiwgcikgPT4ge1xuICAgICAgICAgIHRoaXMuZW1pdChgdXBkYXRlICR7bn1gLCByKTtcbiAgICAgICAgfVxuICAgICAgKSwgdGhpcy52aWV3KSxcbiAgICAgIHN0YXRlOiB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIHBsdWdpbidzIGludGVybmFsIHN0YXRlLlxuICAgICAgICBpbml0KCkge1xuICAgICAgICB9LFxuICAgICAgICAvLyBBcHBseSBjaGFuZ2VzIHRvIHRoZSBwbHVnaW4gc3RhdGUgZnJvbSBhbiBlZGl0b3IgdHJhbnNhY3Rpb24uXG4gICAgICAgIGFwcGx5KG4sIHIsIGEsIHMpIHtcbiAgICAgICAgICBpZiAobi5nZXRNZXRhKFwib3JkZXJlZExpc3RJbmRleGluZ1wiKSAhPT0gdm9pZCAwKVxuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgY29uc3QgbCA9IG4uZ2V0TWV0YShPKTtcbiAgICAgICAgICBpZiAodHlwZW9mIGwgPT0gXCJvYmplY3RcIiAmJiBsICE9PSBudWxsICYmIHIgPT09IHZvaWQgMClcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHRyaWdnZXJDaGFyYWN0ZXI6IGwudHJpZ2dlckNoYXJhY3RlcixcbiAgICAgICAgICAgICAgZnJvbVVzZXJJbnB1dDogbC5mcm9tVXNlcklucHV0ICE9PSAhMSxcbiAgICAgICAgICAgICAgcXVlcnlTdGFydFBvczogcy5zZWxlY3Rpb24uZnJvbSxcbiAgICAgICAgICAgICAgcXVlcnk6IFwiXCIsXG4gICAgICAgICAgICAgIGRlY29yYXRpb25JZDogYGlkXyR7TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNDI5NDk2NzI5NSl9YFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICBpZiAociA9PT0gdm9pZCAwKVxuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgLy8gSGlnaGxpZ2h0aW5nIHRleHQgc2hvdWxkIGhpZGUgdGhlIG1lbnUuXG4gICAgICAgICAgICBzLnNlbGVjdGlvbi5mcm9tICE9PSBzLnNlbGVjdGlvbi50byB8fCAvLyBUcmFuc2FjdGlvbnMgd2l0aCBwbHVnaW4gbWV0YWRhdGEgc2hvdWxkIGhpZGUgdGhlIG1lbnUuXG4gICAgICAgICAgICBsID09PSBudWxsIHx8IC8vIENlcnRhaW4gbW91c2UgZXZlbnRzIHNob3VsZCBoaWRlIHRoZSBtZW51LlxuICAgICAgICAgICAgLy8gVE9ETzogQ2hhbmdlIHRvIGdsb2JhbCBtb3VzZWRvd24gbGlzdGVuZXIuXG4gICAgICAgICAgICBuLmdldE1ldGEoXCJmb2N1c1wiKSB8fCBuLmdldE1ldGEoXCJibHVyXCIpIHx8IG4uZ2V0TWV0YShcInBvaW50ZXJcIikgfHwgLy8gTW92aW5nIHRoZSBjYXJldCBiZWZvcmUgdGhlIGNoYXJhY3RlciB3aGljaCB0cmlnZ2VyZWQgdGhlIG1lbnUgc2hvdWxkIGhpZGUgaXQuXG4gICAgICAgICAgICByLnRyaWdnZXJDaGFyYWN0ZXIgIT09IHZvaWQgMCAmJiBzLnNlbGVjdGlvbi5mcm9tIDwgci5xdWVyeVN0YXJ0UG9zXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGQgPSB7IC4uLnIgfTtcbiAgICAgICAgICByZXR1cm4gZC5xdWVyeSA9IHMuZG9jLnRleHRCZXR3ZWVuKFxuICAgICAgICAgICAgci5xdWVyeVN0YXJ0UG9zLFxuICAgICAgICAgICAgcy5zZWxlY3Rpb24uZnJvbVxuICAgICAgICAgICksIGQ7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwcm9wczoge1xuICAgICAgICBoYW5kbGVUZXh0SW5wdXQobiwgciwgYSwgcykge1xuICAgICAgICAgIGNvbnN0IGwgPSB0aGlzLmdldFN0YXRlKG4uc3RhdGUpO1xuICAgICAgICAgIHJldHVybiBpLmluY2x1ZGVzKHMpICYmIGwgPT09IHZvaWQgMCA/IChuLmRpc3BhdGNoKFxuICAgICAgICAgICAgbi5zdGF0ZS50ci5pbnNlcnRUZXh0KHMpLnNjcm9sbEludG9WaWV3KCkuc2V0TWV0YShPLCB7XG4gICAgICAgICAgICAgIHRyaWdnZXJDaGFyYWN0ZXI6IHNcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKSwgITApIDogITE7XG4gICAgICAgIH0sXG4gICAgICAgIC8vIFNldHVwIGRlY29yYXRvciBvbiB0aGUgY3VycmVudGx5IGFjdGl2ZSBzdWdnZXN0aW9uLlxuICAgICAgICBkZWNvcmF0aW9ucyhuKSB7XG4gICAgICAgICAgY29uc3QgciA9IHRoaXMuZ2V0U3RhdGUobik7XG4gICAgICAgICAgaWYgKHIgPT09IHZvaWQgMClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIGlmICghci5mcm9tVXNlcklucHV0KSB7XG4gICAgICAgICAgICBjb25zdCBhID0gZG4obi5zZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKGEpXG4gICAgICAgICAgICAgIHJldHVybiBHLmNyZWF0ZShuLmRvYywgW1xuICAgICAgICAgICAgICAgIFcubm9kZShcbiAgICAgICAgICAgICAgICAgIGEucG9zLFxuICAgICAgICAgICAgICAgICAgYS5wb3MgKyBhLm5vZGUubm9kZVNpemUsXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVOYW1lOiBcInNwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6IFwiYm4tc3VnZ2VzdGlvbi1kZWNvcmF0b3JcIixcbiAgICAgICAgICAgICAgICAgICAgXCJkYXRhLWRlY29yYXRpb24taWRcIjogci5kZWNvcmF0aW9uSWRcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gRy5jcmVhdGUobi5kb2MsIFtcbiAgICAgICAgICAgIFcuaW5saW5lKFxuICAgICAgICAgICAgICByLnF1ZXJ5U3RhcnRQb3MgLSByLnRyaWdnZXJDaGFyYWN0ZXIubGVuZ3RoLFxuICAgICAgICAgICAgICByLnF1ZXJ5U3RhcnRQb3MsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBub2RlTmFtZTogXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgY2xhc3M6IFwiYm4tc3VnZ2VzdGlvbi1kZWNvcmF0b3JcIixcbiAgICAgICAgICAgICAgICBcImRhdGEtZGVjb3JhdGlvbi1pZFwiOiByLmRlY29yYXRpb25JZFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBvblVwZGF0ZShvLCBpKSB7XG4gICAgcmV0dXJuIHRoaXMudHJpZ2dlckNoYXJhY3RlcnMuaW5jbHVkZXMobykgfHwgdGhpcy5hZGRUcmlnZ2VyQ2hhcmFjdGVyKG8pLCB0aGlzLm9uKGB1cGRhdGUgJHtvfWAsIGkpO1xuICB9XG4gIGdldCBzaG93bigpIHtcbiAgICB2YXIgbywgaTtcbiAgICByZXR1cm4gKChpID0gKG8gPSB0aGlzLnZpZXcpID09IG51bGwgPyB2b2lkIDAgOiBvLnN0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogaS5zaG93KSB8fCAhMTtcbiAgfVxufVxuZnVuY3Rpb24ganIodCwgZSkge1xuICB0LnN1Z2dlc3Rpb25NZW51cy5hZGRUcmlnZ2VyQ2hhcmFjdGVyKGUpO1xufVxuY2xhc3MgRiBleHRlbmRzIGhlIHtcbiAgY29uc3RydWN0b3IobywgaSkge1xuICAgIHN1cGVyKG8sIGkpO1xuICAgIGModGhpcywgXCJub2Rlc1wiKTtcbiAgICBjb25zdCBuID0gby5ub2RlKCk7XG4gICAgdGhpcy5ub2RlcyA9IFtdLCBvLmRvYy5ub2Rlc0JldHdlZW4oby5wb3MsIGkucG9zLCAociwgYSwgcykgPT4ge1xuICAgICAgaWYgKHMgIT09IG51bGwgJiYgcy5lcShuKSlcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXMucHVzaChyKSwgITE7XG4gICAgfSk7XG4gIH1cbiAgc3RhdGljIGNyZWF0ZShvLCBpLCBuID0gaSkge1xuICAgIHJldHVybiBuZXcgRihvLnJlc29sdmUoaSksIG8ucmVzb2x2ZShuKSk7XG4gIH1cbiAgY29udGVudCgpIHtcbiAgICByZXR1cm4gbmV3IEQoVC5mcm9tKHRoaXMubm9kZXMpLCAwLCAwKTtcbiAgfVxuICBlcShvKSB7XG4gICAgaWYgKCEobyBpbnN0YW5jZW9mIEYpIHx8IHRoaXMubm9kZXMubGVuZ3RoICE9PSBvLm5vZGVzLmxlbmd0aCB8fCB0aGlzLmZyb20gIT09IG8uZnJvbSB8fCB0aGlzLnRvICE9PSBvLnRvKVxuICAgICAgcmV0dXJuICExO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub2Rlcy5sZW5ndGg7IGkrKylcbiAgICAgIGlmICghdGhpcy5ub2Rlc1tpXS5lcShvLm5vZGVzW2ldKSlcbiAgICAgICAgcmV0dXJuICExO1xuICAgIHJldHVybiAhMDtcbiAgfVxuICBtYXAobywgaSkge1xuICAgIGNvbnN0IG4gPSBpLm1hcFJlc3VsdCh0aGlzLmZyb20pLCByID0gaS5tYXBSZXN1bHQodGhpcy50byk7XG4gICAgcmV0dXJuIHIuZGVsZXRlZCA/IGhlLm5lYXIoby5yZXNvbHZlKG4ucG9zKSkgOiBuLmRlbGV0ZWQgPyBoZS5uZWFyKG8ucmVzb2x2ZShyLnBvcykpIDogbmV3IEYoXG4gICAgICBvLnJlc29sdmUobi5wb3MpLFxuICAgICAgby5yZXNvbHZlKHIucG9zKVxuICAgICk7XG4gIH1cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7IHR5cGU6IFwibm9kZVwiLCBhbmNob3I6IHRoaXMuYW5jaG9yLCBoZWFkOiB0aGlzLmhlYWQgfTtcbiAgfVxufVxubGV0IE47XG5mdW5jdGlvbiBwZSh0LCBlKSB7XG4gIHZhciBvO1xuICBmb3IgKDsgdCAmJiB0LnBhcmVudEVsZW1lbnQgJiYgdC5wYXJlbnRFbGVtZW50ICE9PSBlLmRvbSAmJiAhKChvID0gdC5oYXNBdHRyaWJ1dGUpICE9IG51bGwgJiYgby5jYWxsKHQsIFwiZGF0YS1pZFwiKSk7IClcbiAgICB0ID0gdC5wYXJlbnRFbGVtZW50O1xuICBpZiAodC5oYXNBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKVxuICAgIHJldHVybiB7IG5vZGU6IHQsIGlkOiB0LmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikgfTtcbn1cbmZ1bmN0aW9uIHBuKHQsIGUpIHtcbiAgY29uc3QgbyA9IHBlKHQsIGUpO1xuICBpZiAobyAmJiBvLm5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICBjb25zdCBpID0gZS5kb2NWaWV3LCBuID0gaS5uZWFyZXN0RGVzYyhvLm5vZGUsICEwKTtcbiAgICByZXR1cm4gIW4gfHwgbiA9PT0gaSA/IG51bGwgOiBuLnBvc0JlZm9yZTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGhuKHQsIGUpIHtcbiAgbGV0IG8sIGk7XG4gIGNvbnN0IG4gPSBlLnJlc29sdmUodC5mcm9tKS5ub2RlKCkudHlwZS5zcGVjLmdyb3VwID09PSBcImJsb2NrQ29udGVudFwiLCByID0gZS5yZXNvbHZlKHQudG8pLm5vZGUoKS50eXBlLnNwZWMuZ3JvdXAgPT09IFwiYmxvY2tDb250ZW50XCIsIGEgPSBNYXRoLm1pbih0LiRhbmNob3IuZGVwdGgsIHQuJGhlYWQuZGVwdGgpO1xuICBpZiAobiAmJiByKSB7XG4gICAgY29uc3QgcyA9IHQuJGZyb20uc3RhcnQoYSAtIDEpLCBsID0gdC4kdG8uZW5kKGEgLSAxKTtcbiAgICBvID0gZS5yZXNvbHZlKHMgLSAxKS5wb3MsIGkgPSBlLnJlc29sdmUobCArIDEpLnBvcztcbiAgfSBlbHNlXG4gICAgbyA9IHQuZnJvbSwgaSA9IHQudG87XG4gIHJldHVybiB7IGZyb206IG8sIHRvOiBpIH07XG59XG5mdW5jdGlvbiBGZSh0LCBlLCBvID0gZSkge1xuICBlID09PSBvICYmIChvICs9IHQuc3RhdGUuZG9jLnJlc29sdmUoZSArIDEpLm5vZGUoKS5ub2RlU2l6ZSk7XG4gIGNvbnN0IGkgPSB0LmRvbUF0UG9zKGUpLm5vZGUuY2xvbmVOb2RlKCEwKSwgbiA9IHQuZG9tQXRQb3MoZSkubm9kZSwgciA9ICh1LCBwKSA9PiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHUuY2hpbGRyZW4sIHApLCBhID0gcihcbiAgICBuLFxuICAgIC8vIEV4cGVjdHMgZnJvbSBwb3NpdGlvbiB0byBiZSBqdXN0IGJlZm9yZSB0aGUgZmlyc3Qgc2VsZWN0ZWQgYmxvY2suXG4gICAgdC5kb21BdFBvcyhlICsgMSkubm9kZS5wYXJlbnRFbGVtZW50XG4gICksIHMgPSByKFxuICAgIG4sXG4gICAgLy8gRXhwZWN0cyB0byBwb3NpdGlvbiB0byBiZSBqdXN0IGFmdGVyIHRoZSBsYXN0IHNlbGVjdGVkIGJsb2NrLlxuICAgIHQuZG9tQXRQb3MobyAtIDEpLm5vZGUucGFyZW50RWxlbWVudFxuICApO1xuICBmb3IgKGxldCB1ID0gbi5jaGlsZEVsZW1lbnRDb3VudCAtIDE7IHUgPj0gMDsgdS0tKVxuICAgICh1ID4gcyB8fCB1IDwgYSkgJiYgaS5yZW1vdmVDaGlsZChpLmNoaWxkcmVuW3VdKTtcbiAgX3QoKSwgTiA9IGk7XG4gIGNvbnN0IGQgPSB0LmRvbS5jbGFzc05hbWUuc3BsaXQoXCIgXCIpLmZpbHRlcihcbiAgICAodSkgPT4gdSAhPT0gXCJQcm9zZU1pcnJvclwiICYmIHUgIT09IFwiYm4tcm9vdFwiICYmIHUgIT09IFwiYm4tZWRpdG9yXCJcbiAgKS5qb2luKFwiIFwiKTtcbiAgTi5jbGFzc05hbWUgPSBOLmNsYXNzTmFtZSArIFwiIGJuLWRyYWctcHJldmlldyBcIiArIGQsIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoTik7XG59XG5mdW5jdGlvbiBfdCgpIHtcbiAgTiAhPT0gdm9pZCAwICYmIChkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKE4pLCBOID0gdm9pZCAwKTtcbn1cbmZ1bmN0aW9uIG1uKHQsIGUpIHtcbiAgaWYgKCF0LmRhdGFUcmFuc2ZlcilcbiAgICByZXR1cm47XG4gIGNvbnN0IG8gPSBlLnByb3NlbWlycm9yVmlldywgaSA9IG8uZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBuID0ge1xuICAgIGxlZnQ6IGkubGVmdCArIGkud2lkdGggLyAyLFxuICAgIC8vIHRha2UgbWlkZGxlIG9mIGVkaXRvclxuICAgIHRvcDogdC5jbGllbnRZXG4gIH0sIHIgPSBkb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludChuLmxlZnQsIG4udG9wKTtcbiAgbGV0IGE7XG4gIGZvciAoY29uc3QgbCBvZiByKVxuICAgIGlmIChvLmRvbS5jb250YWlucyhsKSkge1xuICAgICAgYSA9IHBlKGwsIG8pO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICBpZiAoIWEpXG4gICAgcmV0dXJuO1xuICBjb25zdCBzID0gcG4oYS5ub2RlLCBvKTtcbiAgaWYgKHMgIT0gbnVsbCkge1xuICAgIGNvbnN0IGwgPSBvLnN0YXRlLnNlbGVjdGlvbiwgZCA9IG8uc3RhdGUuZG9jLCB7IGZyb206IHUsIHRvOiBwIH0gPSBobihsLCBkKSwgaCA9IHUgPD0gcyAmJiBzIDwgcCwgbSA9IGwuJGFuY2hvci5ub2RlKCkgIT09IGwuJGhlYWQubm9kZSgpIHx8IGwgaW5zdGFuY2VvZiBGO1xuICAgIGggJiYgbSA/IChvLmRpc3BhdGNoKFxuICAgICAgby5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oRi5jcmVhdGUoZCwgdSwgcCkpXG4gICAgKSwgRmUobywgdSwgcCkpIDogKG8uZGlzcGF0Y2goXG4gICAgICBvLnN0YXRlLnRyLnNldFNlbGVjdGlvbihuZS5jcmVhdGUoby5zdGF0ZS5kb2MsIHMpKVxuICAgICksIEZlKG8sIHMpKTtcbiAgICBjb25zdCBmID0gby5zdGF0ZS5zZWxlY3Rpb24uY29udGVudCgpLCBnID0gZS5fdGlwdGFwRWRpdG9yLnNjaGVtYSwgSSA9IG50KGcsIGUpLnNlcmlhbGl6ZVByb3NlTWlycm9yRnJhZ21lbnQoXG4gICAgICBmLmNvbnRlbnRcbiAgICApLCBBID0gYWUoZywgZSkuZXhwb3J0UHJvc2VNaXJyb3JGcmFnbWVudChcbiAgICAgIGYuY29udGVudFxuICAgICksIFogPSBUZShBKTtcbiAgICB0LmRhdGFUcmFuc2Zlci5jbGVhckRhdGEoKSwgdC5kYXRhVHJhbnNmZXIuc2V0RGF0YShcImJsb2Nrbm90ZS9odG1sXCIsIEkpLCB0LmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC9odG1sXCIsIEEpLCB0LmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC9wbGFpblwiLCBaKSwgdC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IFwibW92ZVwiLCB0LmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UoTiwgMCwgMCksIG8uZHJhZ2dpbmcgPSB7IHNsaWNlOiBmLCBtb3ZlOiAhMCB9O1xuICB9XG59XG5jbGFzcyBmbiB7XG4gIGNvbnN0cnVjdG9yKGUsIG8sIGkpIHtcbiAgICBjKHRoaXMsIFwic3RhdGVcIik7XG4gICAgYyh0aGlzLCBcImVtaXRVcGRhdGVcIik7XG4gICAgYyh0aGlzLCBcIm5lZWRVcGRhdGVcIiwgITEpO1xuICAgIGModGhpcywgXCJtb3VzZVBvc1wiKTtcbiAgICAvLyBXaGVuIHRydWUsIHRoZSBkcmFnIGhhbmRsZSB3aXRoIGJlIGFuY2hvcmVkIGF0IHRoZSBzYW1lIGxldmVsIGFzIHJvb3QgZWxlbWVudHNcbiAgICAvLyBXaGVuIGZhbHNlLCB0aGUgZHJhZyBoYW5kbGUgd2l0aCBiZSBqdXN0IHRvIHRoZSBsZWZ0IG9mIHRoZSBlbGVtZW50XG4gICAgLy8gVE9ETzogSXMgdGhlcmUgYW55IGNhc2Ugd2hlcmUgd2Ugd2FudCB0aGlzIHRvIGJlIGZhbHNlP1xuICAgIGModGhpcywgXCJob3Jpem9udGFsUG9zQW5jaG9yZWRBdFJvb3RcIik7XG4gICAgYyh0aGlzLCBcImhvcml6b250YWxQb3NBbmNob3JcIik7XG4gICAgYyh0aGlzLCBcImhvdmVyZWRCbG9ja1wiKTtcbiAgICAvLyBVc2VkIHRvIGNoZWNrIGlmIGN1cnJlbnRseSBkcmFnZ2VkIGNvbnRlbnQgY29tZXMgZnJvbSB0aGlzIGVkaXRvciBpbnN0YW5jZS5cbiAgICBjKHRoaXMsIFwiaXNEcmFnZ2luZ1wiLCAhMSk7XG4gICAgYyh0aGlzLCBcIm1lbnVGcm96ZW5cIiwgITEpO1xuICAgIGModGhpcywgXCJ1cGRhdGVTdGF0ZVwiLCAoKSA9PiB7XG4gICAgICB2YXIgYSwgcywgbCwgZDtcbiAgICAgIGlmICh0aGlzLm1lbnVGcm96ZW4gfHwgIXRoaXMubW91c2VQb3MpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGUgPSB0aGlzLnBtVmlldy5kb20uZmlyc3RDaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHRoaXMuaG9yaXpvbnRhbFBvc0FuY2hvciA9IGUueDtcbiAgICAgIGNvbnN0IG8gPSB7XG4gICAgICAgIGxlZnQ6IGUubGVmdCArIGUud2lkdGggLyAyLFxuICAgICAgICAvLyB0YWtlIG1pZGRsZSBvZiBlZGl0b3JcbiAgICAgICAgdG9wOiB0aGlzLm1vdXNlUG9zLnlcbiAgICAgIH0sIGkgPSBkb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludChvLmxlZnQsIG8udG9wKTtcbiAgICAgIGxldCBuO1xuICAgICAgZm9yIChjb25zdCB1IG9mIGkpXG4gICAgICAgIGlmICh0aGlzLnBtVmlldy5kb20uY29udGFpbnModSkpIHtcbiAgICAgICAgICBuID0gcGUodSwgdGhpcy5wbVZpZXcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBpZiAoIW4gfHwgIXRoaXMuZWRpdG9yLmlzRWRpdGFibGUpIHtcbiAgICAgICAgKGEgPSB0aGlzLnN0YXRlKSAhPSBudWxsICYmIGEuc2hvdyAmJiAodGhpcy5zdGF0ZS5zaG93ID0gITEsIHRoaXMubmVlZFVwZGF0ZSA9ICEwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKChzID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBzLnNob3cgJiYgKChsID0gdGhpcy5ob3ZlcmVkQmxvY2spICE9IG51bGwgJiYgbC5oYXNBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpKSAmJiAoKGQgPSB0aGlzLmhvdmVyZWRCbG9jaykgPT0gbnVsbCA/IHZvaWQgMCA6IGQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiKSkgPT09IG4uaWQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHRoaXMuaG92ZXJlZEJsb2NrID0gbi5ub2RlO1xuICAgICAgY29uc3QgciA9IG4ubm9kZS5maXJzdENoaWxkO1xuICAgICAgaWYgKHIgJiYgdGhpcy5lZGl0b3IuaXNFZGl0YWJsZSkge1xuICAgICAgICBjb25zdCB1ID0gci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICBzaG93OiAhMCxcbiAgICAgICAgICByZWZlcmVuY2VQb3M6IG5ldyBET01SZWN0KFxuICAgICAgICAgICAgdGhpcy5ob3Jpem9udGFsUG9zQW5jaG9yZWRBdFJvb3QgPyB0aGlzLmhvcml6b250YWxQb3NBbmNob3IgOiB1LngsXG4gICAgICAgICAgICB1LnksXG4gICAgICAgICAgICB1LndpZHRoLFxuICAgICAgICAgICAgdS5oZWlnaHRcbiAgICAgICAgICApLFxuICAgICAgICAgIGJsb2NrOiB0aGlzLmVkaXRvci5nZXRCbG9jayhcbiAgICAgICAgICAgIHRoaXMuaG92ZXJlZEJsb2NrLmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIilcbiAgICAgICAgICApXG4gICAgICAgIH0sIHRoaXMubmVlZFVwZGF0ZSA9ICEwO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFNldHMgaXNEcmFnZ2luZyB3aGVuIGRyYWdnaW5nIHRleHQuXG4gICAgICovXG4gICAgYyh0aGlzLCBcIm9uRHJhZ1N0YXJ0XCIsICgpID0+IHtcbiAgICAgIHRoaXMuaXNEcmFnZ2luZyA9ICEwO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIElmIHRoZSBldmVudCBpcyBvdXRzaWRlIHRoZSBlZGl0b3IgY29udGVudHMsXG4gICAgICogd2UgZGlzcGF0Y2ggYSBmYWtlIGV2ZW50LCBzbyB0aGF0IHdlIGNhbiBzdGlsbCBkcm9wIHRoZSBjb250ZW50XG4gICAgICogd2hlbiBkcmFnZ2luZyAvIGRyb3BwaW5nIHRvIHRoZSBzaWRlIG9mIHRoZSBlZGl0b3JcbiAgICAgKi9cbiAgICBjKHRoaXMsIFwib25Ecm9wXCIsIChlKSA9PiB7XG4gICAgICBpZiAodGhpcy5lZGl0b3IuX3RpcHRhcEVkaXRvci5jb21tYW5kcy5ibHVyKCksIGUuc3ludGhldGljIHx8ICF0aGlzLmlzRHJhZ2dpbmcpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IG8gPSB0aGlzLnBtVmlldy5wb3NBdENvb3Jkcyh7XG4gICAgICAgIGxlZnQ6IGUuY2xpZW50WCxcbiAgICAgICAgdG9wOiBlLmNsaWVudFlcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZyA9ICExLCAhbyB8fCBvLmluc2lkZSA9PT0gLTEpIHtcbiAgICAgICAgY29uc3QgaSA9IG5ldyBFdmVudChcImRyb3BcIiwgZSksIG4gPSB0aGlzLnBtVmlldy5kb20uZmlyc3RDaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaS5jbGllbnRYID0gbi5sZWZ0ICsgbi53aWR0aCAvIDIsIGkuY2xpZW50WSA9IGUuY2xpZW50WSwgaS5kYXRhVHJhbnNmZXIgPSBlLmRhdGFUcmFuc2ZlciwgaS5wcmV2ZW50RGVmYXVsdCA9ICgpID0+IGUucHJldmVudERlZmF1bHQoKSwgaS5zeW50aGV0aWMgPSAhMCwgdGhpcy5wbVZpZXcuZG9tLmRpc3BhdGNoRXZlbnQoaSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGV2ZW50IGlzIG91dHNpZGUgdGhlIGVkaXRvciBjb250ZW50cyxcbiAgICAgKiB3ZSBkaXNwYXRjaCBhIGZha2UgZXZlbnQsIHNvIHRoYXQgd2UgY2FuIHN0aWxsIGRyb3AgdGhlIGNvbnRlbnRcbiAgICAgKiB3aGVuIGRyYWdnaW5nIC8gZHJvcHBpbmcgdG8gdGhlIHNpZGUgb2YgdGhlIGVkaXRvclxuICAgICAqL1xuICAgIGModGhpcywgXCJvbkRyYWdPdmVyXCIsIChlKSA9PiB7XG4gICAgICBpZiAoZS5zeW50aGV0aWMgfHwgIXRoaXMuaXNEcmFnZ2luZylcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgbyA9IHRoaXMucG1WaWV3LnBvc0F0Q29vcmRzKHtcbiAgICAgICAgbGVmdDogZS5jbGllbnRYLFxuICAgICAgICB0b3A6IGUuY2xpZW50WVxuICAgICAgfSk7XG4gICAgICBpZiAoIW8gfHwgby5pbnNpZGUgPT09IC0xKSB7XG4gICAgICAgIGNvbnN0IGkgPSBuZXcgRXZlbnQoXCJkcmFnb3ZlclwiLCBlKSwgbiA9IHRoaXMucG1WaWV3LmRvbS5maXJzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpLmNsaWVudFggPSBuLmxlZnQgKyBuLndpZHRoIC8gMiwgaS5jbGllbnRZID0gZS5jbGllbnRZLCBpLmRhdGFUcmFuc2ZlciA9IGUuZGF0YVRyYW5zZmVyLCBpLnByZXZlbnREZWZhdWx0ID0gKCkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpLCBpLnN5bnRoZXRpYyA9ICEwLCB0aGlzLnBtVmlldy5kb20uZGlzcGF0Y2hFdmVudChpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjKHRoaXMsIFwib25LZXlEb3duXCIsIChlKSA9PiB7XG4gICAgICB2YXIgbztcbiAgICAgIChvID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBvLnNob3cgJiYgdGhpcy5lZGl0b3IuaXNGb2N1c2VkKCkgJiYgKHRoaXMuc3RhdGUuc2hvdyA9ICExLCB0aGlzLmVtaXRVcGRhdGUodGhpcy5zdGF0ZSksIHRoaXMubWVudUZyb3plbiA9ICExKTtcbiAgICB9KTtcbiAgICBjKHRoaXMsIFwib25Nb3VzZURvd25cIiwgKCkgPT4ge1xuICAgICAgdGhpcy5zdGF0ZSAmJiB0aGlzLnN0YXRlLnNob3cgJiYgdGhpcy5tZW51RnJvemVuICYmICh0aGlzLm1lbnVGcm96ZW4gPSAhMSwgdGhpcy5zdGF0ZS5zaG93ID0gITEsIHRoaXMuZW1pdFVwZGF0ZSh0aGlzLnN0YXRlKSk7XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcIm9uTW91c2VNb3ZlXCIsIChlKSA9PiB7XG4gICAgICB2YXIgcjtcbiAgICAgIHRoaXMubW91c2VQb3MgPSB7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZIH07XG4gICAgICBjb25zdCBvID0gdGhpcy5wbVZpZXcuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBpID0gdGhpcy5tb3VzZVBvcy54ID4gby5sZWZ0ICYmIHRoaXMubW91c2VQb3MueCA8IG8ucmlnaHQgJiYgdGhpcy5tb3VzZVBvcy55ID4gby50b3AgJiYgdGhpcy5tb3VzZVBvcy55IDwgby5ib3R0b20sIG4gPSB0aGlzLnBtVmlldy5kb20ucGFyZW50RWxlbWVudDtcbiAgICAgIGlmIChcbiAgICAgICAgLy8gQ3Vyc29yIGlzIHdpdGhpbiB0aGUgZWRpdG9yIGFyZWFcbiAgICAgICAgaSAmJiAvLyBBbiBlbGVtZW50IGlzIGhvdmVyZWRcbiAgICAgICAgZSAmJiBlLnRhcmdldCAmJiAvLyBFbGVtZW50IGlzIG91dHNpZGUgdGhlIGVkaXRvclxuICAgICAgICAhKG4gPT09IGUudGFyZ2V0IHx8IG4uY29udGFpbnMoZS50YXJnZXQpKVxuICAgICAgKSB7XG4gICAgICAgIChyID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiByLnNob3cgJiYgKHRoaXMuc3RhdGUuc2hvdyA9ICExLCB0aGlzLmVtaXRVcGRhdGUodGhpcy5zdGF0ZSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZVN0YXRlKCksIHRoaXMubmVlZFVwZGF0ZSAmJiAodGhpcy5lbWl0VXBkYXRlKHRoaXMuc3RhdGUpLCB0aGlzLm5lZWRVcGRhdGUgPSAhMSk7XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcIm9uU2Nyb2xsXCIsICgpID0+IHtcbiAgICAgIHZhciBlO1xuICAgICAgaWYgKChlID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBlLnNob3cpIHtcbiAgICAgICAgY29uc3QgaSA9IHRoaXMuaG92ZXJlZEJsb2NrLmZpcnN0Q2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHRoaXMuc3RhdGUucmVmZXJlbmNlUG9zID0gbmV3IERPTVJlY3QoXG4gICAgICAgICAgdGhpcy5ob3Jpem9udGFsUG9zQW5jaG9yZWRBdFJvb3QgPyB0aGlzLmhvcml6b250YWxQb3NBbmNob3IgOiBpLngsXG4gICAgICAgICAgaS55LFxuICAgICAgICAgIGkud2lkdGgsXG4gICAgICAgICAgaS5oZWlnaHRcbiAgICAgICAgKSwgdGhpcy5lbWl0VXBkYXRlKHRoaXMuc3RhdGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZWRpdG9yID0gZSwgdGhpcy5wbVZpZXcgPSBvLCB0aGlzLmVtaXRVcGRhdGUgPSAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRpbmcgdG8gdXBkYXRlIHVuaW5pdGlhbGl6ZWQgc2lkZSBtZW51XCIpO1xuICAgICAgaSh0aGlzLnN0YXRlKTtcbiAgICB9LCB0aGlzLmhvcml6b250YWxQb3NBbmNob3JlZEF0Um9vdCA9ICEwLCB0aGlzLmhvcml6b250YWxQb3NBbmNob3IgPSB0aGlzLnBtVmlldy5kb20uZmlyc3RDaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54LCBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIHRoaXMub25Ecm9wLCAhMCksIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIHRoaXMub25EcmFnT3ZlciksIHRoaXMucG1WaWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIHRoaXMub25EcmFnU3RhcnQpLCBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5vbk1vdXNlTW92ZSwgITApLCB0aGlzLnBtVmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm9uTW91c2VEb3duKSwgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uS2V5RG93biwgITApLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMub25TY3JvbGwsICEwKTtcbiAgfVxuICAvLyBOZWVkZWQgaW4gY2FzZXMgd2hlcmUgdGhlIGVkaXRvciBzdGF0ZSB1cGRhdGVzIHdpdGhvdXQgdGhlIG1vdXNlIGN1cnNvclxuICAvLyBtb3ZpbmcsIGFzIHNvbWUgc3RhdGUgdXBkYXRlcyBjYW4gcmVxdWlyZSBhIHNpZGUgbWVudSB1cGRhdGUuIEZvciBleGFtcGxlLFxuICAvLyBhZGRpbmcgYSBidXR0b24gdG8gdGhlIHNpZGUgbWVudSB3aGljaCByZW1vdmVzIHRoZSBibG9jayBjYW4gY2F1c2UgdGhlXG4gIC8vIGJsb2NrIGJlbG93IHRvIGp1bXAgdXAgaW50byB0aGUgcGxhY2Ugb2YgdGhlIHJlbW92ZWQgYmxvY2sgd2hlbiBjbGlja2VkLFxuICAvLyBhbGxvd2luZyB0aGUgdXNlciB0byBjbGljayB0aGUgYnV0dG9uIGFnYWluIHdpdGhvdXQgbW92aW5nIHRoZSBjdXJzb3IuIFRoaXNcbiAgLy8gd291bGQgb3RoZXJ3aXNlIG5vdCB1cGRhdGUgdGhlIHNpZGUgbWVudSwgYW5kIHNvIGNsaWNraW5nIHRoZSBidXR0b24gYWdhaW5cbiAgLy8gd291bGQgYXR0ZW1wdCB0byByZW1vdmUgdGhlIHNhbWUgYmxvY2sgYWdhaW4sIGNhdXNpbmcgYW4gZXJyb3IuXG4gIHVwZGF0ZSgpIHtcbiAgICB2YXIgbztcbiAgICBjb25zdCBlID0gKG8gPSB0aGlzLnN0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogby5ibG9jay5pZDtcbiAgICB0aGlzLnVwZGF0ZVN0YXRlKCksIHRoaXMubmVlZFVwZGF0ZSAmJiB0aGlzLnN0YXRlICYmIGUgIT09IHRoaXMuc3RhdGUuYmxvY2suaWQgJiYgKHRoaXMuZW1pdFVwZGF0ZSh0aGlzLnN0YXRlKSwgdGhpcy5uZWVkVXBkYXRlID0gITEpO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdmFyIGU7XG4gICAgKGUgPSB0aGlzLnN0YXRlKSAhPSBudWxsICYmIGUuc2hvdyAmJiAodGhpcy5zdGF0ZS5zaG93ID0gITEsIHRoaXMuZW1pdFVwZGF0ZSh0aGlzLnN0YXRlKSksIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm9uTW91c2VNb3ZlLCAhMCksIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIHRoaXMub25EcmFnT3ZlciksIHRoaXMucG1WaWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIHRoaXMub25EcmFnU3RhcnQpLCBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIHRoaXMub25Ecm9wLCAhMCksIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5vblNjcm9sbCwgITApLCB0aGlzLnBtVmlldy5kb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm9uTW91c2VEb3duKSwgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uS2V5RG93biwgITApO1xuICB9XG4gIGFkZEJsb2NrKCkge1xuICAgIHZhciBsO1xuICAgIChsID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBsLnNob3cgJiYgKHRoaXMuc3RhdGUuc2hvdyA9ICExLCB0aGlzLmVtaXRVcGRhdGUodGhpcy5zdGF0ZSkpO1xuICAgIGNvbnN0IG8gPSB0aGlzLmhvdmVyZWRCbG9jay5maXJzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBpID0gdGhpcy5wbVZpZXcucG9zQXRDb29yZHMoe1xuICAgICAgbGVmdDogby5sZWZ0ICsgby53aWR0aCAvIDIsXG4gICAgICB0b3A6IG8udG9wICsgby5oZWlnaHQgLyAyXG4gICAgfSk7XG4gICAgaWYgKCFpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG4gPSBiKFxuICAgICAgdGhpcy5lZGl0b3IuX3RpcHRhcEVkaXRvci5zdGF0ZS5kb2MsXG4gICAgICBpLnBvc1xuICAgICk7XG4gICAgaWYgKG4gPT09IHZvaWQgMClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IGNvbnRlbnROb2RlOiByLCBzdGFydFBvczogYSwgZW5kUG9zOiBzIH0gPSBuO1xuICAgIGlmIChyLnR5cGUuc3BlYy5jb250ZW50ICE9PSBcImlubGluZSpcIiB8fCByLnRleHRDb250ZW50Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgY29uc3QgZCA9IHMgKyAxLCB1ID0gZCArIDI7XG4gICAgICB0aGlzLmVkaXRvci5fdGlwdGFwRWRpdG9yLmNoYWluKCkuQk5DcmVhdGVCbG9jayhkKS5zZXRUZXh0U2VsZWN0aW9uKHUpLnJ1bigpO1xuICAgIH0gZWxzZVxuICAgICAgdGhpcy5lZGl0b3IuX3RpcHRhcEVkaXRvci5jb21tYW5kcy5zZXRUZXh0U2VsZWN0aW9uKGEgKyAxKTtcbiAgICB0aGlzLnBtVmlldy5mb2N1cygpLCB0aGlzLnBtVmlldy5kaXNwYXRjaChcbiAgICAgIHRoaXMucG1WaWV3LnN0YXRlLnRyLnNjcm9sbEludG9WaWV3KCkuc2V0TWV0YShPLCB7XG4gICAgICAgIHRyaWdnZXJDaGFyYWN0ZXI6IFwiL1wiLFxuICAgICAgICBmcm9tVXNlcklucHV0OiAhMVxuICAgICAgfSlcbiAgICApO1xuICB9XG59XG5jb25zdCBnbiA9IG5ldyBTKFwiU2lkZU1lbnVQbHVnaW5cIik7XG5jbGFzcyBibiBleHRlbmRzIFgge1xuICBjb25zdHJ1Y3RvcihvKSB7XG4gICAgc3VwZXIoKTtcbiAgICBjKHRoaXMsIFwidmlld1wiKTtcbiAgICBjKHRoaXMsIFwicGx1Z2luXCIpO1xuICAgIC8qKlxuICAgICAqIElmIHRoZSBibG9jayBpcyBlbXB0eSwgb3BlbnMgdGhlIHNsYXNoIG1lbnUuIElmIHRoZSBibG9jayBoYXMgY29udGVudCxcbiAgICAgKiBjcmVhdGVzIGEgbmV3IGJsb2NrIGJlbG93IGFuZCBvcGVucyB0aGUgc2xhc2ggbWVudSBpbiBpdC5cbiAgICAgKi9cbiAgICBjKHRoaXMsIFwiYWRkQmxvY2tcIiwgKCkgPT4gdGhpcy52aWV3LmFkZEJsb2NrKCkpO1xuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgZHJhZyAmIGRyb3AgZXZlbnRzIGZvciBibG9ja3MuXG4gICAgICovXG4gICAgYyh0aGlzLCBcImJsb2NrRHJhZ1N0YXJ0XCIsIChvKSA9PiB7XG4gICAgICB0aGlzLnZpZXcuaXNEcmFnZ2luZyA9ICEwLCBtbihvLCB0aGlzLmVkaXRvcik7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBkcmFnICYgZHJvcCBldmVudHMgZm9yIGJsb2Nrcy5cbiAgICAgKi9cbiAgICBjKHRoaXMsIFwiYmxvY2tEcmFnRW5kXCIsICgpID0+IF90KCkpO1xuICAgIC8qKlxuICAgICAqIEZyZWV6ZXMgdGhlIHNpZGUgbWVudS4gV2hlbiBmcm96ZW4sIHRoZSBzaWRlIG1lbnUgd2lsbCBzdGF5XG4gICAgICogYXR0YWNoZWQgdG8gdGhlIHNhbWUgYmxvY2sgcmVnYXJkbGVzcyBvZiB3aGljaCBibG9jayBpcyBob3ZlcmVkIGJ5IHRoZVxuICAgICAqIG1vdXNlIGN1cnNvci5cbiAgICAgKi9cbiAgICBjKHRoaXMsIFwiZnJlZXplTWVudVwiLCAoKSA9PiB0aGlzLnZpZXcubWVudUZyb3plbiA9ICEwKTtcbiAgICAvKipcbiAgICAgKiBVbmZyZWV6ZXMgdGhlIHNpZGUgbWVudS4gV2hlbiBmcm96ZW4sIHRoZSBzaWRlIG1lbnUgd2lsbCBzdGF5XG4gICAgICogYXR0YWNoZWQgdG8gdGhlIHNhbWUgYmxvY2sgcmVnYXJkbGVzcyBvZiB3aGljaCBibG9jayBpcyBob3ZlcmVkIGJ5IHRoZVxuICAgICAqIG1vdXNlIGN1cnNvci5cbiAgICAgKi9cbiAgICBjKHRoaXMsIFwidW5mcmVlemVNZW51XCIsICgpID0+IHtcbiAgICAgIHRoaXMudmlldy5tZW51RnJvemVuID0gITEsIHRoaXMudmlldy5zdGF0ZS5zaG93ID0gITEsIHRoaXMudmlldy5lbWl0VXBkYXRlKHRoaXMudmlldy5zdGF0ZSk7XG4gICAgfSk7XG4gICAgdGhpcy5lZGl0b3IgPSBvLCB0aGlzLnBsdWdpbiA9IG5ldyB2KHtcbiAgICAgIGtleTogZ24sXG4gICAgICB2aWV3OiAoaSkgPT4gKHRoaXMudmlldyA9IG5ldyBmbihvLCBpLCAobikgPT4ge1xuICAgICAgICB0aGlzLmVtaXQoXCJ1cGRhdGVcIiwgbik7XG4gICAgICB9KSwgdGhpcy52aWV3KVxuICAgIH0pO1xuICB9XG4gIG9uVXBkYXRlKG8pIHtcbiAgICByZXR1cm4gdGhpcy5vbihcInVwZGF0ZVwiLCBvKTtcbiAgfVxufVxubGV0IEU7XG5mdW5jdGlvbiBHZSgpIHtcbiAgRSB8fCAoRSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIEUuaW5uZXJIVE1MID0gXCJfXCIsIEUuc3R5bGUub3BhY2l0eSA9IFwiMFwiLCBFLnN0eWxlLmhlaWdodCA9IFwiMXB4XCIsIEUuc3R5bGUud2lkdGggPSBcIjFweFwiLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKEUpKTtcbn1cbmZ1bmN0aW9uIGtuKCkge1xuICBFICYmIChkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKEUpLCBFID0gdm9pZCAwKTtcbn1cbmZ1bmN0aW9uIGllKHQpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodC5wYXJlbnRFbGVtZW50LmNoaWxkTm9kZXMsIHQpO1xufVxuZnVuY3Rpb24gX24odCkge1xuICBmb3IgKDsgdCAmJiB0Lm5vZGVOYW1lICE9PSBcIlREXCIgJiYgdC5ub2RlTmFtZSAhPT0gXCJUSFwiOyApXG4gICAgdCA9IHQuY2xhc3NMaXN0ICYmIHQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiUHJvc2VNaXJyb3JcIikgPyBudWxsIDogdC5wYXJlbnROb2RlO1xuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIHluKHQpIHtcbiAgdC5mb3JFYWNoKChlKSA9PiB7XG4gICAgY29uc3QgbyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvLmxlbmd0aDsgaSsrKVxuICAgICAgb1tpXS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgfSk7XG59XG5jbGFzcyB2biB7XG4gIGNvbnN0cnVjdG9yKGUsIG8sIGkpIHtcbiAgICBjKHRoaXMsIFwic3RhdGVcIik7XG4gICAgYyh0aGlzLCBcImVtaXRVcGRhdGVcIik7XG4gICAgYyh0aGlzLCBcInRhYmxlSWRcIik7XG4gICAgYyh0aGlzLCBcInRhYmxlUG9zXCIpO1xuICAgIGModGhpcywgXCJtZW51RnJvemVuXCIsICExKTtcbiAgICBjKHRoaXMsIFwicHJldldhc0VkaXRhYmxlXCIsIG51bGwpO1xuICAgIGModGhpcywgXCJtb3VzZU1vdmVIYW5kbGVyXCIsIChlKSA9PiB7XG4gICAgICB2YXIgZDtcbiAgICAgIGlmICh0aGlzLm1lbnVGcm96ZW4pXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IG8gPSBfbihlLnRhcmdldCk7XG4gICAgICBpZiAoIW8gfHwgIXRoaXMuZWRpdG9yLmlzRWRpdGFibGUpIHtcbiAgICAgICAgKGQgPSB0aGlzLnN0YXRlKSAhPSBudWxsICYmIGQuc2hvdyAmJiAodGhpcy5zdGF0ZS5zaG93ID0gITEsIHRoaXMuZW1pdFVwZGF0ZSgpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaSA9IGllKG8pLCBuID0gaWUoby5wYXJlbnRFbGVtZW50KSwgciA9IG8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGEgPSBvLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgcyA9IHBlKG8sIHRoaXMucG1WaWV3KTtcbiAgICAgIGlmICghcylcbiAgICAgICAgcmV0dXJuO1xuICAgICAgbGV0IGw7XG4gICAgICBpZiAodGhpcy5lZGl0b3IuX3RpcHRhcEVkaXRvci5zdGF0ZS5kb2MuZGVzY2VuZGFudHMoKHUsIHApID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBsIDwgXCJ1XCIpXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICBpZiAodS50eXBlLm5hbWUgIT09IFwiYmxvY2tDb250YWluZXJcIiB8fCB1LmF0dHJzLmlkICE9PSBzLmlkKVxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgY29uc3QgaCA9IHkoXG4gICAgICAgICAgdSxcbiAgICAgICAgICB0aGlzLmVkaXRvci5zY2hlbWEuYmxvY2tTY2hlbWEsXG4gICAgICAgICAgdGhpcy5lZGl0b3Iuc2NoZW1hLmlubGluZUNvbnRlbnRTY2hlbWEsXG4gICAgICAgICAgdGhpcy5lZGl0b3Iuc2NoZW1hLnN0eWxlU2NoZW1hLFxuICAgICAgICAgIHRoaXMuZWRpdG9yLmJsb2NrQ2FjaGVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIERpKFwidGFibGVcIiwgaCwgdGhpcy5lZGl0b3IpICYmICh0aGlzLnRhYmxlUG9zID0gcCArIDEsIGwgPSBoKSwgITE7XG4gICAgICB9KSwgISFsICYmICh0aGlzLnRhYmxlSWQgPSBzLmlkLCAhKHRoaXMuc3RhdGUgIT09IHZvaWQgMCAmJiB0aGlzLnN0YXRlLnNob3cgJiYgdGhpcy50YWJsZUlkID09PSBzLmlkICYmIHRoaXMuc3RhdGUucm93SW5kZXggPT09IG4gJiYgdGhpcy5zdGF0ZS5jb2xJbmRleCA9PT0gaSkpKVxuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICBzaG93OiAhMCxcbiAgICAgICAgICByZWZlcmVuY2VQb3NDZWxsOiByLFxuICAgICAgICAgIHJlZmVyZW5jZVBvc1RhYmxlOiBhLFxuICAgICAgICAgIGJsb2NrOiBsLFxuICAgICAgICAgIGNvbEluZGV4OiBpLFxuICAgICAgICAgIHJvd0luZGV4OiBuLFxuICAgICAgICAgIGRyYWdnaW5nU3RhdGU6IHZvaWQgMFxuICAgICAgICB9LCB0aGlzLmVtaXRVcGRhdGUoKSwgITE7XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcImRyYWdPdmVySGFuZGxlclwiLCAoZSkgPT4ge1xuICAgICAgdmFyIGg7XG4gICAgICBpZiAoKChoID0gdGhpcy5zdGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IGguZHJhZ2dpbmdTdGF0ZSkgPT09IHZvaWQgMClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpLCBlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gXCJtb3ZlXCIsIHluKFtcbiAgICAgICAgXCJjb2x1bW4tcmVzaXplLWhhbmRsZVwiLFxuICAgICAgICBcInByb3NlbWlycm9yLWRyb3BjdXJzb3ItYmxvY2tcIixcbiAgICAgICAgXCJwcm9zZW1pcnJvci1kcm9wY3Vyc29yLWlubGluZVwiXG4gICAgICBdKTtcbiAgICAgIGNvbnN0IG8gPSB7XG4gICAgICAgIGxlZnQ6IE1hdGgubWluKFxuICAgICAgICAgIE1hdGgubWF4KGUuY2xpZW50WCwgdGhpcy5zdGF0ZS5yZWZlcmVuY2VQb3NUYWJsZS5sZWZ0ICsgMSksXG4gICAgICAgICAgdGhpcy5zdGF0ZS5yZWZlcmVuY2VQb3NUYWJsZS5yaWdodCAtIDFcbiAgICAgICAgKSxcbiAgICAgICAgdG9wOiBNYXRoLm1pbihcbiAgICAgICAgICBNYXRoLm1heChlLmNsaWVudFksIHRoaXMuc3RhdGUucmVmZXJlbmNlUG9zVGFibGUudG9wICsgMSksXG4gICAgICAgICAgdGhpcy5zdGF0ZS5yZWZlcmVuY2VQb3NUYWJsZS5ib3R0b20gLSAxXG4gICAgICAgIClcbiAgICAgIH0sIGkgPSBkb2N1bWVudC5lbGVtZW50c0Zyb21Qb2ludChvLmxlZnQsIG8udG9wKS5maWx0ZXIoXG4gICAgICAgIChtKSA9PiBtLnRhZ05hbWUgPT09IFwiVERcIiB8fCBtLnRhZ05hbWUgPT09IFwiVEhcIlxuICAgICAgKTtcbiAgICAgIGlmIChpLmxlbmd0aCA9PT0gMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiQ291bGQgbm90IGZpbmQgdGFibGUgY2VsbCBlbGVtZW50IHRoYXQgdGhlIG1vdXNlIGN1cnNvciBpcyBob3ZlcmluZyBvdmVyLlwiXG4gICAgICAgICk7XG4gICAgICBjb25zdCBuID0gaVswXTtcbiAgICAgIGxldCByID0gITE7XG4gICAgICBjb25zdCBhID0gaWUobi5wYXJlbnRFbGVtZW50KSwgcyA9IGllKG4pLCBsID0gdGhpcy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLmRyYWdnZWRDZWxsT3JpZW50YXRpb24gPT09IFwicm93XCIgPyB0aGlzLnN0YXRlLnJvd0luZGV4IDogdGhpcy5zdGF0ZS5jb2xJbmRleCwgdSA9ICh0aGlzLnN0YXRlLmRyYWdnaW5nU3RhdGUuZHJhZ2dlZENlbGxPcmllbnRhdGlvbiA9PT0gXCJyb3dcIiA/IGEgOiBzKSAhPT0gbDtcbiAgICAgICh0aGlzLnN0YXRlLnJvd0luZGV4ICE9PSBhIHx8IHRoaXMuc3RhdGUuY29sSW5kZXggIT09IHMpICYmICh0aGlzLnN0YXRlLnJvd0luZGV4ID0gYSwgdGhpcy5zdGF0ZS5jb2xJbmRleCA9IHMsIHRoaXMuc3RhdGUucmVmZXJlbmNlUG9zQ2VsbCA9IG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHIgPSAhMCk7XG4gICAgICBjb25zdCBwID0gdGhpcy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLmRyYWdnZWRDZWxsT3JpZW50YXRpb24gPT09IFwicm93XCIgPyBvLnRvcCA6IG8ubGVmdDtcbiAgICAgIHRoaXMuc3RhdGUuZHJhZ2dpbmdTdGF0ZS5tb3VzZVBvcyAhPT0gcCAmJiAodGhpcy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLm1vdXNlUG9zID0gcCwgciA9ICEwKSwgciAmJiB0aGlzLmVtaXRVcGRhdGUoKSwgdSAmJiB0aGlzLnBtVmlldy5kaXNwYXRjaChcbiAgICAgICAgdGhpcy5wbVZpZXcuc3RhdGUudHIuc2V0TWV0YShRLCAhMClcbiAgICAgICk7XG4gICAgfSk7XG4gICAgYyh0aGlzLCBcImRyb3BIYW5kbGVyXCIsIChlKSA9PiB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gdm9pZCAwIHx8IHRoaXMuc3RhdGUuZHJhZ2dpbmdTdGF0ZSA9PT0gdm9pZCAwKVxuICAgICAgICByZXR1cm47XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBvID0gdGhpcy5zdGF0ZS5ibG9jay5jb250ZW50LnJvd3M7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLmRyYWdnZWRDZWxsT3JpZW50YXRpb24gPT09IFwicm93XCIpIHtcbiAgICAgICAgY29uc3QgaSA9IG9bdGhpcy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLm9yaWdpbmFsSW5kZXhdO1xuICAgICAgICBvLnNwbGljZSh0aGlzLnN0YXRlLmRyYWdnaW5nU3RhdGUub3JpZ2luYWxJbmRleCwgMSksIG8uc3BsaWNlKHRoaXMuc3RhdGUucm93SW5kZXgsIDAsIGkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgaSA9IG8ubWFwKFxuICAgICAgICAgIChuKSA9PiBuLmNlbGxzW3RoaXMuc3RhdGUuZHJhZ2dpbmdTdGF0ZS5vcmlnaW5hbEluZGV4XVxuICAgICAgICApO1xuICAgICAgICBvLmZvckVhY2goKG4sIHIpID0+IHtcbiAgICAgICAgICBuLmNlbGxzLnNwbGljZSh0aGlzLnN0YXRlLmRyYWdnaW5nU3RhdGUub3JpZ2luYWxJbmRleCwgMSksIG4uY2VsbHMuc3BsaWNlKHRoaXMuc3RhdGUuY29sSW5kZXgsIDAsIGlbcl0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWRpdG9yLnVwZGF0ZUJsb2NrKHRoaXMuc3RhdGUuYmxvY2ssIHtcbiAgICAgICAgdHlwZTogXCJ0YWJsZVwiLFxuICAgICAgICBjb250ZW50OiB7XG4gICAgICAgICAgdHlwZTogXCJ0YWJsZUNvbnRlbnRcIixcbiAgICAgICAgICByb3dzOiBvXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGModGhpcywgXCJzY3JvbGxIYW5kbGVyXCIsICgpID0+IHtcbiAgICAgIHZhciBlO1xuICAgICAgaWYgKChlID0gdGhpcy5zdGF0ZSkgIT0gbnVsbCAmJiBlLnNob3cpIHtcbiAgICAgICAgY29uc3QgbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYFtkYXRhLW5vZGUtdHlwZT1cImJsb2NrQ29udGFpbmVyXCJdW2RhdGEtaWQ9XCIke3RoaXMudGFibGVJZH1cIl0gdGFibGVgXG4gICAgICAgICksIGkgPSBvLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYHRyOm50aC1jaGlsZCgke3RoaXMuc3RhdGUucm93SW5kZXggKyAxfSkgPiB0ZDpudGgtY2hpbGQoJHt0aGlzLnN0YXRlLmNvbEluZGV4ICsgMX0pYFxuICAgICAgICApO1xuICAgICAgICB0aGlzLnN0YXRlLnJlZmVyZW5jZVBvc1RhYmxlID0gby5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdGhpcy5zdGF0ZS5yZWZlcmVuY2VQb3NDZWxsID0gaS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgdGhpcy5lbWl0VXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5lZGl0b3IgPSBlLCB0aGlzLnBtVmlldyA9IG8sIHRoaXMuZW1pdFVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5zdGF0ZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGluZyB0byB1cGRhdGUgdW5pbml0aWFsaXplZCBpbWFnZSB0b29sYmFyXCIpO1xuICAgICAgaSh0aGlzLnN0YXRlKTtcbiAgICB9LCBvLmRvbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW91c2VNb3ZlSGFuZGxlciksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCB0aGlzLmRyYWdPdmVySGFuZGxlciksIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIHRoaXMuZHJvcEhhbmRsZXIpLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMuc2Nyb2xsSGFuZGxlciwgITApO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5wbVZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3VzZU1vdmVIYW5kbGVyKSwgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRyYWdvdmVyXCIsIHRoaXMuZHJhZ092ZXJIYW5kbGVyKSwgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRyb3BcIiwgdGhpcy5kcm9wSGFuZGxlciksIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5zY3JvbGxIYW5kbGVyLCAhMCk7XG4gIH1cbn1cbmNvbnN0IFEgPSBuZXcgUyhcIlRhYmxlSGFuZGxlc1BsdWdpblwiKTtcbmNsYXNzIHduIGV4dGVuZHMgWCB7XG4gIGNvbnN0cnVjdG9yKG8pIHtcbiAgICBzdXBlcigpO1xuICAgIGModGhpcywgXCJ2aWV3XCIpO1xuICAgIGModGhpcywgXCJwbHVnaW5cIik7XG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgdGhhdCBzaG91bGQgYmUgc2V0IG9uIHRoZSBgZHJhZ1N0YXJ0YCBldmVudCBmb3Igd2hpY2hldmVyIGVsZW1lbnRcbiAgICAgKiBpcyB1c2VkIGFzIHRoZSBjb2x1bW4gZHJhZyBoYW5kbGUuXG4gICAgICovXG4gICAgYyh0aGlzLCBcImNvbERyYWdTdGFydFwiLCAobykgPT4ge1xuICAgICAgaWYgKHRoaXMudmlldy5zdGF0ZSA9PT0gdm9pZCAwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJBdHRlbXB0ZWQgdG8gZHJhZyB0YWJsZSBjb2x1bW4sIGJ1dCBubyB0YWJsZSBibG9jayB3YXMgaG92ZXJlZCBwcmlvci5cIlxuICAgICAgICApO1xuICAgICAgdGhpcy52aWV3LnN0YXRlLmRyYWdnaW5nU3RhdGUgPSB7XG4gICAgICAgIGRyYWdnZWRDZWxsT3JpZW50YXRpb246IFwiY29sXCIsXG4gICAgICAgIG9yaWdpbmFsSW5kZXg6IHRoaXMudmlldy5zdGF0ZS5jb2xJbmRleCxcbiAgICAgICAgbW91c2VQb3M6IG8uY2xpZW50WFxuICAgICAgfSwgdGhpcy52aWV3LmVtaXRVcGRhdGUoKSwgdGhpcy5lZGl0b3IuX3RpcHRhcEVkaXRvci52aWV3LmRpc3BhdGNoKFxuICAgICAgICB0aGlzLmVkaXRvci5fdGlwdGFwRWRpdG9yLnN0YXRlLnRyLnNldE1ldGEoUSwge1xuICAgICAgICAgIGRyYWdnZWRDZWxsT3JpZW50YXRpb246IHRoaXMudmlldy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLmRyYWdnZWRDZWxsT3JpZW50YXRpb24sXG4gICAgICAgICAgb3JpZ2luYWxJbmRleDogdGhpcy52aWV3LnN0YXRlLmNvbEluZGV4LFxuICAgICAgICAgIG5ld0luZGV4OiB0aGlzLnZpZXcuc3RhdGUuY29sSW5kZXgsXG4gICAgICAgICAgdGFibGVQb3M6IHRoaXMudmlldy50YWJsZVBvc1xuICAgICAgICB9KVxuICAgICAgKSwgR2UoKSwgby5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKEUsIDAsIDApLCBvLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gXCJtb3ZlXCI7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgdGhhdCBzaG91bGQgYmUgc2V0IG9uIHRoZSBgZHJhZ1N0YXJ0YCBldmVudCBmb3Igd2hpY2hldmVyIGVsZW1lbnRcbiAgICAgKiBpcyB1c2VkIGFzIHRoZSByb3cgZHJhZyBoYW5kbGUuXG4gICAgICovXG4gICAgYyh0aGlzLCBcInJvd0RyYWdTdGFydFwiLCAobykgPT4ge1xuICAgICAgaWYgKHRoaXMudmlldy5zdGF0ZSA9PT0gdm9pZCAwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJBdHRlbXB0ZWQgdG8gZHJhZyB0YWJsZSByb3csIGJ1dCBubyB0YWJsZSBibG9jayB3YXMgaG92ZXJlZCBwcmlvci5cIlxuICAgICAgICApO1xuICAgICAgdGhpcy52aWV3LnN0YXRlLmRyYWdnaW5nU3RhdGUgPSB7XG4gICAgICAgIGRyYWdnZWRDZWxsT3JpZW50YXRpb246IFwicm93XCIsXG4gICAgICAgIG9yaWdpbmFsSW5kZXg6IHRoaXMudmlldy5zdGF0ZS5yb3dJbmRleCxcbiAgICAgICAgbW91c2VQb3M6IG8uY2xpZW50WVxuICAgICAgfSwgdGhpcy52aWV3LmVtaXRVcGRhdGUoKSwgdGhpcy5lZGl0b3IuX3RpcHRhcEVkaXRvci52aWV3LmRpc3BhdGNoKFxuICAgICAgICB0aGlzLmVkaXRvci5fdGlwdGFwRWRpdG9yLnN0YXRlLnRyLnNldE1ldGEoUSwge1xuICAgICAgICAgIGRyYWdnZWRDZWxsT3JpZW50YXRpb246IHRoaXMudmlldy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLmRyYWdnZWRDZWxsT3JpZW50YXRpb24sXG4gICAgICAgICAgb3JpZ2luYWxJbmRleDogdGhpcy52aWV3LnN0YXRlLnJvd0luZGV4LFxuICAgICAgICAgIG5ld0luZGV4OiB0aGlzLnZpZXcuc3RhdGUucm93SW5kZXgsXG4gICAgICAgICAgdGFibGVQb3M6IHRoaXMudmlldy50YWJsZVBvc1xuICAgICAgICB9KVxuICAgICAgKSwgR2UoKSwgby5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKEUsIDAsIDApLCBvLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gXCJjb3B5TW92ZVwiO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIHRoYXQgc2hvdWxkIGJlIHNldCBvbiB0aGUgYGRyYWdFbmRgIGV2ZW50IGZvciBib3RoIHRoZSBlbGVtZW50XG4gICAgICogdXNlZCBhcyB0aGUgcm93IGRyYWcgaGFuZGxlLCBhbmQgdGhlIG9uZSB1c2VkIGFzIHRoZSBjb2x1bW4gZHJhZyBoYW5kbGUuXG4gICAgICovXG4gICAgYyh0aGlzLCBcImRyYWdFbmRcIiwgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMudmlldy5zdGF0ZSA9PT0gdm9pZCAwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJBdHRlbXB0ZWQgdG8gZHJhZyB0YWJsZSByb3csIGJ1dCBubyB0YWJsZSBibG9jayB3YXMgaG92ZXJlZCBwcmlvci5cIlxuICAgICAgICApO1xuICAgICAgdGhpcy52aWV3LnN0YXRlLmRyYWdnaW5nU3RhdGUgPSB2b2lkIDAsIHRoaXMudmlldy5lbWl0VXBkYXRlKCksIHRoaXMuZWRpdG9yLl90aXB0YXBFZGl0b3Iudmlldy5kaXNwYXRjaChcbiAgICAgICAgdGhpcy5lZGl0b3IuX3RpcHRhcEVkaXRvci5zdGF0ZS50ci5zZXRNZXRhKFEsIG51bGwpXG4gICAgICApLCBrbigpO1xuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEZyZWV6ZXMgdGhlIGRyYWcgaGFuZGxlcy4gV2hlbiBmcm96ZW4sIHRoZXkgd2lsbCBzdGF5IGF0dGFjaGVkIHRvIHRoZSBzYW1lXG4gICAgICogY2VsbCByZWdhcmRsZXNzIG9mIHdoaWNoIGNlbGwgaXMgaG92ZXJlZCBieSB0aGUgbW91c2UgY3Vyc29yLlxuICAgICAqL1xuICAgIGModGhpcywgXCJmcmVlemVIYW5kbGVzXCIsICgpID0+IHtcbiAgICAgIHRoaXMudmlldy5tZW51RnJvemVuID0gITA7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogVW5mcmVlemVzIHRoZSBkcmFnIGhhbmRsZXMuIFdoZW4gZnJvemVuLCB0aGV5IHdpbGwgc3RheSBhdHRhY2hlZCB0byB0aGVcbiAgICAgKiBzYW1lIGNlbGwgcmVnYXJkbGVzcyBvZiB3aGljaCBjZWxsIGlzIGhvdmVyZWQgYnkgdGhlIG1vdXNlIGN1cnNvci5cbiAgICAgKi9cbiAgICBjKHRoaXMsIFwidW5mcmVlemVIYW5kbGVzXCIsICgpID0+IHtcbiAgICAgIHRoaXMudmlldy5tZW51RnJvemVuID0gITE7XG4gICAgfSk7XG4gICAgdGhpcy5lZGl0b3IgPSBvLCB0aGlzLnBsdWdpbiA9IG5ldyB2KHtcbiAgICAgIGtleTogUSxcbiAgICAgIHZpZXc6IChpKSA9PiAodGhpcy52aWV3ID0gbmV3IHZuKG8sIGksIChuKSA9PiB7XG4gICAgICAgIHRoaXMuZW1pdChcInVwZGF0ZVwiLCBuKTtcbiAgICAgIH0pLCB0aGlzLnZpZXcpLFxuICAgICAgLy8gV2UgdXNlIGRlY29yYXRpb25zIHRvIHJlbmRlciB0aGUgZHJvcCBjdXJzb3Igd2hlbiBkcmFnZ2luZyBhIHRhYmxlIHJvd1xuICAgICAgLy8gb3IgY29sdW1uLiBUaGUgZGVjb3JhdGlvbnMgYXJlIHVwZGF0ZWQgaW4gdGhlIGBkcmFnT3ZlckhhbmRsZXJgIG1ldGhvZC5cbiAgICAgIHByb3BzOiB7XG4gICAgICAgIGRlY29yYXRpb25zOiAoaSkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLnZpZXcgPT09IHZvaWQgMCB8fCB0aGlzLnZpZXcuc3RhdGUgPT09IHZvaWQgMCB8fCB0aGlzLnZpZXcuc3RhdGUuZHJhZ2dpbmdTdGF0ZSA9PT0gdm9pZCAwIHx8IHRoaXMudmlldy50YWJsZVBvcyA9PT0gdm9pZCAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLnZpZXcuc3RhdGUuZHJhZ2dpbmdTdGF0ZS5kcmFnZ2VkQ2VsbE9yaWVudGF0aW9uID09PSBcInJvd1wiID8gdGhpcy52aWV3LnN0YXRlLnJvd0luZGV4IDogdGhpcy52aWV3LnN0YXRlLmNvbEluZGV4LCByID0gW107XG4gICAgICAgICAgaWYgKG4gPT09IHRoaXMudmlldy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLm9yaWdpbmFsSW5kZXgpXG4gICAgICAgICAgICByZXR1cm4gRy5jcmVhdGUoaS5kb2MsIHIpO1xuICAgICAgICAgIGNvbnN0IGEgPSBpLmRvYy5yZXNvbHZlKHRoaXMudmlldy50YWJsZVBvcyArIDEpLCBzID0gYS5ub2RlKCk7XG4gICAgICAgICAgaWYgKHRoaXMudmlldy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLmRyYWdnZWRDZWxsT3JpZW50YXRpb24gPT09IFwicm93XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGwgPSBpLmRvYy5yZXNvbHZlKFxuICAgICAgICAgICAgICBhLnBvc0F0SW5kZXgobikgKyAxXG4gICAgICAgICAgICApLCBkID0gbC5ub2RlKCk7XG4gICAgICAgICAgICBmb3IgKGxldCB1ID0gMDsgdSA8IGQuY2hpbGRDb3VudDsgdSsrKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHAgPSBpLmRvYy5yZXNvbHZlKFxuICAgICAgICAgICAgICAgIGwucG9zQXRJbmRleCh1KSArIDFcbiAgICAgICAgICAgICAgKSwgaCA9IHAubm9kZSgpLCBtID0gcC5wb3MgKyAobiA+IHRoaXMudmlldy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLm9yaWdpbmFsSW5kZXggPyBoLm5vZGVTaXplIC0gMiA6IDApO1xuICAgICAgICAgICAgICByLnB1c2goXG4gICAgICAgICAgICAgICAgLy8gVGhlIHdpZGdldCBpcyBhIHNtYWxsIGJhciB3aGljaCBzcGFucyB0aGUgd2lkdGggb2YgdGhlIGNlbGwuXG4gICAgICAgICAgICAgICAgVy53aWRnZXQobSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZi5jbGFzc05hbWUgPSBcImJuLXRhYmxlLWRyb3AtY3Vyc29yXCIsIGYuc3R5bGUubGVmdCA9IFwiMFwiLCBmLnN0eWxlLnJpZ2h0ID0gXCIwXCIsIG4gPiB0aGlzLnZpZXcuc3RhdGUuZHJhZ2dpbmdTdGF0ZS5vcmlnaW5hbEluZGV4ID8gZi5zdHlsZS5ib3R0b20gPSBcIi0ycHhcIiA6IGYuc3R5bGUudG9wID0gXCItM3B4XCIsIGYuc3R5bGUuaGVpZ2h0ID0gXCI0cHhcIiwgZjtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgZm9yIChsZXQgbCA9IDA7IGwgPCBzLmNoaWxkQ291bnQ7IGwrKykge1xuICAgICAgICAgICAgICBjb25zdCBkID0gaS5kb2MucmVzb2x2ZShcbiAgICAgICAgICAgICAgICBhLnBvc0F0SW5kZXgobCkgKyAxXG4gICAgICAgICAgICAgICksIHUgPSBpLmRvYy5yZXNvbHZlKFxuICAgICAgICAgICAgICAgIGQucG9zQXRJbmRleChuKSArIDFcbiAgICAgICAgICAgICAgKSwgcCA9IHUubm9kZSgpLCBoID0gdS5wb3MgKyAobiA+IHRoaXMudmlldy5zdGF0ZS5kcmFnZ2luZ1N0YXRlLm9yaWdpbmFsSW5kZXggPyBwLm5vZGVTaXplIC0gMiA6IDApO1xuICAgICAgICAgICAgICByLnB1c2goXG4gICAgICAgICAgICAgICAgLy8gVGhlIHdpZGdldCBpcyBhIHNtYWxsIGJhciB3aGljaCBzcGFucyB0aGUgaGVpZ2h0IG9mIHRoZSBjZWxsLlxuICAgICAgICAgICAgICAgIFcud2lkZ2V0KGgsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uY2xhc3NOYW1lID0gXCJibi10YWJsZS1kcm9wLWN1cnNvclwiLCBtLnN0eWxlLnRvcCA9IFwiMFwiLCBtLnN0eWxlLmJvdHRvbSA9IFwiMFwiLCBuID4gdGhpcy52aWV3LnN0YXRlLmRyYWdnaW5nU3RhdGUub3JpZ2luYWxJbmRleCA/IG0uc3R5bGUucmlnaHQgPSBcIi0ycHhcIiA6IG0uc3R5bGUubGVmdCA9IFwiLTNweFwiLCBtLnN0eWxlLndpZHRoID0gXCI0cHhcIiwgbTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBHLmNyZWF0ZShpLmRvYywgcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBvblVwZGF0ZShvKSB7XG4gICAgcmV0dXJuIHRoaXMub24oXCJ1cGRhdGVcIiwgbyk7XG4gIH1cbn1cbmZ1bmN0aW9uIFdlKHQsIGUpIHtcbiAgY29uc3QgbyA9IHQuc3RhdGUuc2VsZWN0aW9uLmNvbnRlbnQoKS5jb250ZW50LCBuID0gbnQoXG4gICAgdC5zdGF0ZS5zY2hlbWEsXG4gICAgZVxuICApLnNlcmlhbGl6ZVByb3NlTWlycm9yRnJhZ21lbnQobyksIGEgPSBhZShcbiAgICB0LnN0YXRlLnNjaGVtYSxcbiAgICBlXG4gICkuZXhwb3J0UHJvc2VNaXJyb3JGcmFnbWVudChvKSwgcyA9IFRlKGEpO1xuICByZXR1cm4geyBpbnRlcm5hbEhUTUw6IG4sIGV4dGVybmFsSFRNTDogYSwgcGxhaW5UZXh0OiBzIH07XG59XG5jb25zdCB4biA9ICh0KSA9PiBCLmNyZWF0ZSh7XG4gIG5hbWU6IFwiY29weVRvQ2xpcGJvYXJkXCIsXG4gIGFkZFByb3NlTWlycm9yUGx1Z2lucygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgbmV3IHYoe1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIGhhbmRsZURPTUV2ZW50czoge1xuICAgICAgICAgICAgY29weShlLCBvKSB7XG4gICAgICAgICAgICAgIG8ucHJldmVudERlZmF1bHQoKSwgby5jbGlwYm9hcmREYXRhLmNsZWFyRGF0YSgpLCBcIm5vZGVcIiBpbiBlLnN0YXRlLnNlbGVjdGlvbiAmJiBlLnN0YXRlLnNlbGVjdGlvbi5ub2RlLnR5cGUuc3BlYy5ncm91cCA9PT0gXCJibG9ja0NvbnRlbnRcIiAmJiBlLmRpc3BhdGNoKFxuICAgICAgICAgICAgICAgIGUuc3RhdGUudHIuc2V0U2VsZWN0aW9uKFxuICAgICAgICAgICAgICAgICAgbmV3IG5lKFxuICAgICAgICAgICAgICAgICAgICBlLnN0YXRlLmRvYy5yZXNvbHZlKGUuc3RhdGUuc2VsZWN0aW9uLmZyb20gLSAxKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY29uc3QgeyBpbnRlcm5hbEhUTUw6IGksIGV4dGVybmFsSFRNTDogbiwgcGxhaW5UZXh0OiByIH0gPSBXZShlLCB0KTtcbiAgICAgICAgICAgICAgcmV0dXJuIG8uY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwiYmxvY2tub3RlL2h0bWxcIiwgaSksIG8uY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dC9odG1sXCIsIG4pLCBvLmNsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgciksICEwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgZm9yIHRoZSB1c2UtY2FzZSBpbiB3aGljaCBvbmx5IGEgYmxvY2sgd2l0aG91dCBjb250ZW50XG4gICAgICAgICAgICAvLyBpcyBzZWxlY3RlZCwgZS5nLiBhbiBpbWFnZSBibG9jaywgYW5kIGRyYWdnZWQgKG5vdCB1c2luZyB0aGVcbiAgICAgICAgICAgIC8vIGRyYWcgaGFuZGxlKS5cbiAgICAgICAgICAgIGRyYWdzdGFydChlLCBvKSB7XG4gICAgICAgICAgICAgIGlmICghKFwibm9kZVwiIGluIGUuc3RhdGUuc2VsZWN0aW9uKSB8fCBlLnN0YXRlLnNlbGVjdGlvbi5ub2RlLnR5cGUuc3BlYy5ncm91cCAhPT0gXCJibG9ja0NvbnRlbnRcIilcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIGUuZGlzcGF0Y2goXG4gICAgICAgICAgICAgICAgZS5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oXG4gICAgICAgICAgICAgICAgICBuZXcgbmUoXG4gICAgICAgICAgICAgICAgICAgIGUuc3RhdGUuZG9jLnJlc29sdmUoZS5zdGF0ZS5zZWxlY3Rpb24uZnJvbSAtIDEpXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApLCBvLnByZXZlbnREZWZhdWx0KCksIG8uZGF0YVRyYW5zZmVyLmNsZWFyRGF0YSgpO1xuICAgICAgICAgICAgICBjb25zdCB7IGludGVybmFsSFRNTDogaSwgZXh0ZXJuYWxIVE1MOiBuLCBwbGFpblRleHQ6IHIgfSA9IFdlKGUsIHQpO1xuICAgICAgICAgICAgICByZXR1cm4gby5kYXRhVHJhbnNmZXIuc2V0RGF0YShcImJsb2Nrbm90ZS9odG1sXCIsIGkpLCBvLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC9odG1sXCIsIG4pLCBvLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC9wbGFpblwiLCByKSwgITA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIF07XG4gIH1cbn0pLCBFbiA9IFtcbiAgXCJibG9ja25vdGUvaHRtbFwiLFxuICBcInRleHQvaHRtbFwiLFxuICBcInRleHQvcGxhaW5cIlxuXSwgQ24gPSAodCkgPT4gQi5jcmVhdGUoe1xuICBuYW1lOiBcInBhc3RlRnJvbUNsaXBib2FyZFwiLFxuICBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIG5ldyB2KHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBoYW5kbGVET01FdmVudHM6IHtcbiAgICAgICAgICAgIHBhc3RlKGUsIG8pIHtcbiAgICAgICAgICAgICAgaWYgKG8ucHJldmVudERlZmF1bHQoKSwgIXQuaXNFZGl0YWJsZSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIGxldCBpID0gbnVsbDtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIEVuKVxuICAgICAgICAgICAgICAgIGlmIChvLmNsaXBib2FyZERhdGEudHlwZXMuaW5jbHVkZXMobikpIHtcbiAgICAgICAgICAgICAgICAgIGkgPSBuO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoaSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCBuID0gby5jbGlwYm9hcmREYXRhLmdldERhdGEoaSk7XG4gICAgICAgICAgICAgICAgaSA9PT0gXCJ0ZXh0L2h0bWxcIiAmJiAobiA9IGJ0KFxuICAgICAgICAgICAgICAgICAgbi50cmltKClcbiAgICAgICAgICAgICAgICApLmlubmVySFRNTCksIHQuX3RpcHRhcEVkaXRvci52aWV3LnBhc3RlSFRNTChuKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIF07XG4gIH1cbn0pLCBTbiA9IEIuY3JlYXRlKHtcbiAgbmFtZTogXCJibG9ja0JhY2tncm91bmRDb2xvclwiLFxuICBhZGRHbG9iYWxBdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIHR5cGVzOiBbXCJibG9ja0NvbnRhaW5lclwiXSxcbiAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjoge1xuICAgICAgICAgICAgZGVmYXVsdDogXy5iYWNrZ3JvdW5kQ29sb3IuZGVmYXVsdCxcbiAgICAgICAgICAgIHBhcnNlSFRNTDogKHQpID0+IHQuaGFzQXR0cmlidXRlKFwiZGF0YS1iYWNrZ3JvdW5kLWNvbG9yXCIpID8gdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJhY2tncm91bmQtY29sb3JcIikgOiBfLmJhY2tncm91bmRDb2xvci5kZWZhdWx0LFxuICAgICAgICAgICAgcmVuZGVySFRNTDogKHQpID0+IHQuYmFja2dyb3VuZENvbG9yICE9PSBfLmJhY2tncm91bmRDb2xvci5kZWZhdWx0ICYmIHtcbiAgICAgICAgICAgICAgXCJkYXRhLWJhY2tncm91bmQtY29sb3JcIjogdC5iYWNrZ3JvdW5kQ29sb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdO1xuICB9XG59KSwgTW4gPSBCLmNyZWF0ZSh7XG4gIG5hbWU6IFwidGV4dEFsaWdubWVudFwiLFxuICBhZGRHbG9iYWxBdHRyaWJ1dGVzKCkge1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIC8vIEF0dHJpYnV0ZSBpcyBhcHBsaWVkIHRvIGJsb2NrIGNvbnRlbnQgaW5zdGVhZCBvZiBjb250YWluZXIgc28gdGhhdCBjaGlsZCBibG9ja3MgZG9uJ3QgaW5oZXJpdCB0aGUgdGV4dFxuICAgICAgICAvLyBhbGlnbm1lbnQgc3R5bGluZy5cbiAgICAgICAgdHlwZXM6IFtcbiAgICAgICAgICBcInBhcmFncmFwaFwiLFxuICAgICAgICAgIFwiaGVhZGluZ1wiLFxuICAgICAgICAgIFwiYnVsbGV0TGlzdEl0ZW1cIixcbiAgICAgICAgICBcIm51bWJlcmVkTGlzdEl0ZW1cIixcbiAgICAgICAgICBcImNoZWNrTGlzdEl0ZW1cIlxuICAgICAgICBdLFxuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgdGV4dEFsaWdubWVudDoge1xuICAgICAgICAgICAgZGVmYXVsdDogXCJsZWZ0XCIsXG4gICAgICAgICAgICBwYXJzZUhUTUw6ICh0KSA9PiB0LmdldEF0dHJpYnV0ZShcImRhdGEtdGV4dC1hbGlnbm1lbnRcIiksXG4gICAgICAgICAgICByZW5kZXJIVE1MOiAodCkgPT4gdC50ZXh0QWxpZ25tZW50ICE9PSBcImxlZnRcIiAmJiB7XG4gICAgICAgICAgICAgIFwiZGF0YS10ZXh0LWFsaWdubWVudFwiOiB0LnRleHRBbGlnbm1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdO1xuICB9XG59KSwgVG4gPSBCLmNyZWF0ZSh7XG4gIG5hbWU6IFwiYmxvY2tUZXh0Q29sb3JcIixcbiAgYWRkR2xvYmFsQXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICB0eXBlczogW1wiYmxvY2tDb250YWluZXJcIl0sXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICB0ZXh0Q29sb3I6IHtcbiAgICAgICAgICAgIGRlZmF1bHQ6IF8udGV4dENvbG9yLmRlZmF1bHQsXG4gICAgICAgICAgICBwYXJzZUhUTUw6ICh0KSA9PiB0Lmhhc0F0dHJpYnV0ZShcImRhdGEtdGV4dC1jb2xvclwiKSA/IHQuZ2V0QXR0cmlidXRlKFwiZGF0YS10ZXh0LWNvbG9yXCIpIDogXy50ZXh0Q29sb3IuZGVmYXVsdCxcbiAgICAgICAgICAgIHJlbmRlckhUTUw6ICh0KSA9PiB0LnRleHRDb2xvciAhPT0gXy50ZXh0Q29sb3IuZGVmYXVsdCAmJiB7XG4gICAgICAgICAgICAgIFwiZGF0YS10ZXh0LWNvbG9yXCI6IHQudGV4dENvbG9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgXTtcbiAgfVxufSksIEJuID0gQi5jcmVhdGUoe1xuICBuYW1lOiBcInRyYWlsaW5nTm9kZVwiLFxuICBhZGRQcm9zZU1pcnJvclBsdWdpbnMoKSB7XG4gICAgY29uc3QgdCA9IG5ldyBTKHRoaXMubmFtZSk7XG4gICAgcmV0dXJuIFtcbiAgICAgIG5ldyB2KHtcbiAgICAgICAga2V5OiB0LFxuICAgICAgICBhcHBlbmRUcmFuc2FjdGlvbjogKGUsIG8sIGkpID0+IHtcbiAgICAgICAgICBjb25zdCB7IGRvYzogbiwgdHI6IHIsIHNjaGVtYTogYSB9ID0gaSwgcyA9IHQuZ2V0U3RhdGUoaSksIGwgPSBuLmNvbnRlbnQuc2l6ZSAtIDIsIGQgPSBhLm5vZGVzLmJsb2NrQ29udGFpbmVyLCB1ID0gYS5ub2Rlcy5wYXJhZ3JhcGg7XG4gICAgICAgICAgaWYgKHMpXG4gICAgICAgICAgICByZXR1cm4gci5pbnNlcnQoXG4gICAgICAgICAgICAgIGwsXG4gICAgICAgICAgICAgIGQuY3JlYXRlKHZvaWQgMCwgdS5jcmVhdGUoKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgaW5pdDogKGUsIG8pID0+IHtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFwcGx5OiAoZSwgbykgPT4ge1xuICAgICAgICAgICAgaWYgKCFlLmRvY0NoYW5nZWQpXG4gICAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICAgICAgbGV0IGkgPSBlLmRvYy5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICBpZiAoIWkgfHwgaS50eXBlLm5hbWUgIT09IFwiYmxvY2tHcm91cFwiKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBibG9ja0dyb3VwXCIpO1xuICAgICAgICAgICAgaWYgKGkgPSBpLmxhc3RDaGlsZCwgIWkgfHwgaS50eXBlLm5hbWUgIT09IFwiYmxvY2tDb250YWluZXJcIilcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgYmxvY2tDb250YWluZXJcIik7XG4gICAgICAgICAgICBjb25zdCBuID0gaS5maXJzdENoaWxkO1xuICAgICAgICAgICAgaWYgKCFuKVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBibG9ja0NvbnRlbnRcIik7XG4gICAgICAgICAgICByZXR1cm4gaS5ub2RlU2l6ZSA+IDQgfHwgbi50eXBlLnNwZWMuY29udGVudCAhPT0gXCJpbmxpbmUqXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIF07XG4gIH1cbn0pLCBMbiA9IG5ldyBTKFwibm9uLWVkaXRhYmxlLWJsb2NrXCIpLCBJbiA9ICgpID0+IG5ldyB2KHtcbiAga2V5OiBMbixcbiAgcHJvcHM6IHtcbiAgICBoYW5kbGVLZXlEb3duOiAodCwgZSkgPT4ge1xuICAgICAgaWYgKFwibm9kZVwiIGluIHQuc3RhdGUuc2VsZWN0aW9uKSB7XG4gICAgICAgIGlmIChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgaWYgKGUua2V5Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLCAhMDtcbiAgICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICBjb25zdCBvID0gdC5zdGF0ZS50cjtcbiAgICAgICAgICByZXR1cm4gdC5kaXNwYXRjaChcbiAgICAgICAgICAgIG8uaW5zZXJ0KFxuICAgICAgICAgICAgICB0LnN0YXRlLnRyLnNlbGVjdGlvbi4kdG8uYWZ0ZXIoKSxcbiAgICAgICAgICAgICAgdC5zdGF0ZS5zY2hlbWEubm9kZXMucGFyYWdyYXBoLmNyZWF0ZSgpXG4gICAgICAgICAgICApLnNldFNlbGVjdGlvbihcbiAgICAgICAgICAgICAgbmV3IFkoXG4gICAgICAgICAgICAgICAgby5kb2MucmVzb2x2ZSh0LnN0YXRlLnRyLnNlbGVjdGlvbi4kdG8uYWZ0ZXIoKSArIDEpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLCAhMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxufSksIEtlID0gbmV3IFMoXCJwcmV2aW91cy1ibG9ja3NcIiksIEFuID0ge1xuICAvLyBOdW1iZXJlZCBMaXN0IEl0ZW1zXG4gIGluZGV4OiBcImluZGV4XCIsXG4gIC8vIEhlYWRpbmdzXG4gIGxldmVsOiBcImxldmVsXCIsXG4gIC8vIEFsbCBCbG9ja3NcbiAgdHlwZTogXCJ0eXBlXCIsXG4gIGRlcHRoOiBcImRlcHRoXCIsXG4gIFwiZGVwdGgtY2hhbmdlXCI6IFwiZGVwdGgtY2hhbmdlXCJcbn0sIE5uID0gKCkgPT4ge1xuICBsZXQgdDtcbiAgcmV0dXJuIG5ldyB2KHtcbiAgICBrZXk6IEtlLFxuICAgIHZpZXcoZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXBkYXRlOiBhc3luYyAobywgaSkgPT4ge1xuICAgICAgICAgIHZhciBuO1xuICAgICAgICAgICgobiA9IHRoaXMua2V5KSA9PSBudWxsID8gdm9pZCAwIDogbi5nZXRTdGF0ZShvLnN0YXRlKS51cGRhdGVkQmxvY2tzLnNpemUpID4gMCAmJiAodCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgby5kaXNwYXRjaChcbiAgICAgICAgICAgICAgby5zdGF0ZS50ci5zZXRNZXRhKEtlLCB7IGNsZWFyVXBkYXRlOiAhMCB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LCAwKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlc3Ryb3k6ICgpID0+IHtcbiAgICAgICAgICB0ICYmIGNsZWFyVGltZW91dCh0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuICAgIHN0YXRlOiB7XG4gICAgICBpbml0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC8vIEJsb2NrIGF0dHJpYnV0ZXMsIGJ5IGJsb2NrIElELCBmcm9tIGp1c3QgYmVmb3JlIHRoZSBwcmV2aW91cyB0cmFuc2FjdGlvbi5cbiAgICAgICAgICBwcmV2VHJhbnNhY3Rpb25PbGRCbG9ja0F0dHJzOiB7fSxcbiAgICAgICAgICAvLyBCbG9jayBhdHRyaWJ1dGVzLCBieSBibG9jayBJRCwgZnJvbSBqdXN0IGJlZm9yZSB0aGUgY3VycmVudCB0cmFuc2FjdGlvbi5cbiAgICAgICAgICBjdXJyZW50VHJhbnNhY3Rpb25PbGRCbG9ja0F0dHJzOiB7fSxcbiAgICAgICAgICAvLyBTZXQgb2YgSURzIG9mIGJsb2NrcyB3aG9zZSBhdHRyaWJ1dGVzIGNoYW5nZWQgZnJvbSB0aGUgY3VycmVudCB0cmFuc2FjdGlvbi5cbiAgICAgICAgICB1cGRhdGVkQmxvY2tzOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgYXBwbHkoZSwgbywgaSwgbikge1xuICAgICAgICBpZiAoby5jdXJyZW50VHJhbnNhY3Rpb25PbGRCbG9ja0F0dHJzID0ge30sIG8udXBkYXRlZEJsb2Nrcy5jbGVhcigpLCAhZS5kb2NDaGFuZ2VkIHx8IGkuZG9jLmVxKG4uZG9jKSlcbiAgICAgICAgICByZXR1cm4gbztcbiAgICAgICAgY29uc3QgciA9IHt9LCBhID0gUGUoaS5kb2MsIChkKSA9PiBkLmF0dHJzLmlkKSwgcyA9IG5ldyBNYXAoXG4gICAgICAgICAgYS5tYXAoKGQpID0+IFtkLm5vZGUuYXR0cnMuaWQsIGRdKVxuICAgICAgICApLCBsID0gUGUobi5kb2MsIChkKSA9PiBkLmF0dHJzLmlkKTtcbiAgICAgICAgZm9yIChjb25zdCBkIG9mIGwpIHtcbiAgICAgICAgICBjb25zdCB1ID0gcy5nZXQoZC5ub2RlLmF0dHJzLmlkKSwgcCA9IHUgPT0gbnVsbCA/IHZvaWQgMCA6IHUubm9kZS5maXJzdENoaWxkLCBoID0gZC5ub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgICAgaWYgKHUgJiYgcCAmJiBoKSB7XG4gICAgICAgICAgICBjb25zdCBtID0ge1xuICAgICAgICAgICAgICBpbmRleDogaC5hdHRycy5pbmRleCxcbiAgICAgICAgICAgICAgbGV2ZWw6IGguYXR0cnMubGV2ZWwsXG4gICAgICAgICAgICAgIHR5cGU6IGgudHlwZS5uYW1lLFxuICAgICAgICAgICAgICBkZXB0aDogbi5kb2MucmVzb2x2ZShkLnBvcykuZGVwdGhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBsZXQgZiA9IHtcbiAgICAgICAgICAgICAgaW5kZXg6IHAuYXR0cnMuaW5kZXgsXG4gICAgICAgICAgICAgIGxldmVsOiBwLmF0dHJzLmxldmVsLFxuICAgICAgICAgICAgICB0eXBlOiBwLnR5cGUubmFtZSxcbiAgICAgICAgICAgICAgZGVwdGg6IGkuZG9jLnJlc29sdmUodS5wb3MpLmRlcHRoXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcltkLm5vZGUuYXR0cnMuaWRdID0gZiwgZS5nZXRNZXRhKFwibnVtYmVyZWRMaXN0SW5kZXhpbmdcIikgJiYgKGQubm9kZS5hdHRycy5pZCBpbiBvLnByZXZUcmFuc2FjdGlvbk9sZEJsb2NrQXR0cnMgJiYgKGYgPSBvLnByZXZUcmFuc2FjdGlvbk9sZEJsb2NrQXR0cnNbZC5ub2RlLmF0dHJzLmlkXSksIG0udHlwZSA9PT0gXCJudW1iZXJlZExpc3RJdGVtXCIgJiYgKGYuaW5kZXggPSBtLmluZGV4KSksIG8uY3VycmVudFRyYW5zYWN0aW9uT2xkQmxvY2tBdHRyc1tkLm5vZGUuYXR0cnMuaWRdID0gZiwgSlNPTi5zdHJpbmdpZnkoZikgIT09IEpTT04uc3RyaW5naWZ5KG0pICYmIChmW1wiZGVwdGgtY2hhbmdlXCJdID0gZi5kZXB0aCAtIG0uZGVwdGgsIG8udXBkYXRlZEJsb2Nrcy5hZGQoZC5ub2RlLmF0dHJzLmlkKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvLnByZXZUcmFuc2FjdGlvbk9sZEJsb2NrQXR0cnMgPSByLCBvO1xuICAgICAgfVxuICAgIH0sXG4gICAgcHJvcHM6IHtcbiAgICAgIGRlY29yYXRpb25zKGUpIHtcbiAgICAgICAgY29uc3QgbyA9IHRoaXMuZ2V0U3RhdGUoZSk7XG4gICAgICAgIGlmIChvLnVwZGF0ZWRCbG9ja3Muc2l6ZSA9PT0gMClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGkgPSBbXTtcbiAgICAgICAgcmV0dXJuIGUuZG9jLmRlc2NlbmRhbnRzKChuLCByKSA9PiB7XG4gICAgICAgICAgaWYgKCFuLmF0dHJzLmlkIHx8ICFvLnVwZGF0ZWRCbG9ja3MuaGFzKG4uYXR0cnMuaWQpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNvbnN0IGEgPSBvLmN1cnJlbnRUcmFuc2FjdGlvbk9sZEJsb2NrQXR0cnNbbi5hdHRycy5pZF0sIHMgPSB7fTtcbiAgICAgICAgICBmb3IgKGNvbnN0IFtkLCB1XSBvZiBPYmplY3QuZW50cmllcyhhKSlcbiAgICAgICAgICAgIHNbXCJkYXRhLXByZXYtXCIgKyBBbltkXV0gPSB1IHx8IFwibm9uZVwiO1xuICAgICAgICAgIGNvbnN0IGwgPSBXLm5vZGUociwgciArIG4ubm9kZVNpemUsIHtcbiAgICAgICAgICAgIC4uLnNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpLnB1c2gobCk7XG4gICAgICAgIH0pLCBHLmNyZWF0ZShlLmRvYywgaSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0sIFBuID0ge1xuICBibG9ja0NvbG9yOiBcImRhdGEtYmxvY2stY29sb3JcIixcbiAgYmxvY2tTdHlsZTogXCJkYXRhLWJsb2NrLXN0eWxlXCIsXG4gIGlkOiBcImRhdGEtaWRcIixcbiAgZGVwdGg6IFwiZGF0YS1kZXB0aFwiLFxuICBkZXB0aENoYW5nZTogXCJkYXRhLWRlcHRoLWNoYW5nZVwiXG59LCBIbiA9ICQuY3JlYXRlKHtcbiAgbmFtZTogXCJibG9ja0NvbnRhaW5lclwiLFxuICBncm91cDogXCJibG9ja0NvbnRhaW5lclwiLFxuICAvLyBBIGJsb2NrIGFsd2F5cyBjb250YWlucyBjb250ZW50LCBhbmQgb3B0aW9uYWxseSBhIGJsb2NrR3JvdXAgd2hpY2ggY29udGFpbnMgbmVzdGVkIGJsb2Nrc1xuICBjb250ZW50OiBcImJsb2NrQ29udGVudCBibG9ja0dyb3VwP1wiLFxuICAvLyBFbnN1cmVzIGNvbnRlbnQtc3BlY2lmaWMga2V5Ym9hcmQgaGFuZGxlcnMgdHJpZ2dlciBmaXJzdC5cbiAgcHJpb3JpdHk6IDUwLFxuICBkZWZpbmluZzogITAsXG4gIHBhcnNlSFRNTCgpIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICB0YWc6IFwiZGl2XCIsXG4gICAgICAgIGdldEF0dHJzOiAodCkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgdCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgIGNvbnN0IGUgPSB7fTtcbiAgICAgICAgICBmb3IgKGNvbnN0IFtvLCBpXSBvZiBPYmplY3QuZW50cmllcyhQbikpXG4gICAgICAgICAgICB0LmdldEF0dHJpYnV0ZShpKSAmJiAoZVtvXSA9IHQuZ2V0QXR0cmlidXRlKGkpKTtcbiAgICAgICAgICByZXR1cm4gdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5vZGUtdHlwZVwiKSA9PT0gXCJibG9ja0NvbnRhaW5lclwiID8gZSA6ICExO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXTtcbiAgfSxcbiAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzOiB0IH0pIHtcbiAgICB2YXIgbjtcbiAgICBjb25zdCBlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBlLmNsYXNzTmFtZSA9IFwiYm4tYmxvY2stb3V0ZXJcIiwgZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLW5vZGUtdHlwZVwiLCBcImJsb2NrT3V0ZXJcIik7XG4gICAgZm9yIChjb25zdCBbciwgYV0gb2YgT2JqZWN0LmVudHJpZXModCkpXG4gICAgICByICE9PSBcImNsYXNzXCIgJiYgZS5zZXRBdHRyaWJ1dGUociwgYSk7XG4gICAgY29uc3QgbyA9IHtcbiAgICAgIC4uLigobiA9IHRoaXMub3B0aW9ucy5kb21BdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogbi5ibG9jaykgfHwge30sXG4gICAgICAuLi50XG4gICAgfSwgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaS5jbGFzc05hbWUgPSBSKFwiYm4tYmxvY2tcIiwgby5jbGFzcyksIGkuc2V0QXR0cmlidXRlKFwiZGF0YS1ub2RlLXR5cGVcIiwgdGhpcy5uYW1lKTtcbiAgICBmb3IgKGNvbnN0IFtyLCBhXSBvZiBPYmplY3QuZW50cmllcyhvKSlcbiAgICAgIHIgIT09IFwiY2xhc3NcIiAmJiBpLnNldEF0dHJpYnV0ZShyLCBhKTtcbiAgICByZXR1cm4gZS5hcHBlbmRDaGlsZChpKSwge1xuICAgICAgZG9tOiBlLFxuICAgICAgY29udGVudERPTTogaVxuICAgIH07XG4gIH0sXG4gIGFkZENvbW1hbmRzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBDcmVhdGVzIGEgbmV3IHRleHQgYmxvY2sgYXQgYSBnaXZlbiBwb3NpdGlvbi5cbiAgICAgIEJOQ3JlYXRlQmxvY2s6ICh0KSA9PiAoeyBzdGF0ZTogZSwgZGlzcGF0Y2g6IG8gfSkgPT4ge1xuICAgICAgICBjb25zdCBpID0gZS5zY2hlbWEubm9kZXMuYmxvY2tDb250YWluZXIuY3JlYXRlQW5kRmlsbCgpO1xuICAgICAgICByZXR1cm4gbyAmJiBlLnRyLmluc2VydCh0LCBpKS5zY3JvbGxJbnRvVmlldygpLCAhMDtcbiAgICAgIH0sXG4gICAgICAvLyBEZWxldGVzIGEgYmxvY2sgYXQgYSBnaXZlbiBwb3NpdGlvbi5cbiAgICAgIEJORGVsZXRlQmxvY2s6ICh0KSA9PiAoeyBzdGF0ZTogZSwgZGlzcGF0Y2g6IG8gfSkgPT4ge1xuICAgICAgICBjb25zdCBpID0gYihlLmRvYywgdCk7XG4gICAgICAgIGlmIChpID09PSB2b2lkIDApXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICBjb25zdCB7IHN0YXJ0UG9zOiBuLCBlbmRQb3M6IHIgfSA9IGk7XG4gICAgICAgIHJldHVybiBvICYmIGUudHIuZGVsZXRlUmFuZ2UobiwgciksICEwO1xuICAgICAgfSxcbiAgICAgIC8vIFVwZGF0ZXMgYSBibG9jayBhdCBhIGdpdmVuIHBvc2l0aW9uLlxuICAgICAgQk5VcGRhdGVCbG9jazogKHQsIGUpID0+ICh7IHN0YXRlOiBvLCBkaXNwYXRjaDogaSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IG4gPSBiKG8uZG9jLCB0KTtcbiAgICAgICAgaWYgKG4gPT09IHZvaWQgMClcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IHsgc3RhcnRQb3M6IHIsIGVuZFBvczogYSwgbm9kZTogcywgY29udGVudE5vZGU6IGwgfSA9IG47XG4gICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgaWYgKGUuY2hpbGRyZW4gIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uc3QgaCA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBtIG9mIGUuY2hpbGRyZW4pXG4gICAgICAgICAgICAgIGgucHVzaChcbiAgICAgICAgICAgICAgICBQKFxuICAgICAgICAgICAgICAgICAgbSxcbiAgICAgICAgICAgICAgICAgIG8uc2NoZW1hLFxuICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmVkaXRvci5zY2hlbWEuc3R5bGVTY2hlbWFcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzLmNoaWxkQ291bnQgPT09IDIgPyBvLnRyLnJlcGxhY2UoXG4gICAgICAgICAgICAgIHIgKyBsLm5vZGVTaXplICsgMSxcbiAgICAgICAgICAgICAgYSAtIDEsXG4gICAgICAgICAgICAgIG5ldyBEKFQuZnJvbShoKSwgMCwgMClcbiAgICAgICAgICAgICkgOiBvLnRyLmluc2VydChcbiAgICAgICAgICAgICAgciArIGwubm9kZVNpemUsXG4gICAgICAgICAgICAgIG8uc2NoZW1hLm5vZGVzLmJsb2NrR3JvdXAuY3JlYXRlKHt9LCBoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgZCA9IGwudHlwZS5uYW1lLCB1ID0gZS50eXBlIHx8IGQ7XG4gICAgICAgICAgbGV0IHAgPSBcImtlZXBcIjtcbiAgICAgICAgICBpZiAoZS5jb250ZW50KVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBlLmNvbnRlbnQgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgcCA9IEsoXG4gICAgICAgICAgICAgICAgW2UuY29udGVudF0sXG4gICAgICAgICAgICAgICAgby5zY2hlbWEsXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmVkaXRvci5zY2hlbWEuc3R5bGVTY2hlbWFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZS5jb250ZW50KSlcbiAgICAgICAgICAgICAgcCA9IEsoXG4gICAgICAgICAgICAgICAgZS5jb250ZW50LFxuICAgICAgICAgICAgICAgIG8uc2NoZW1hLFxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5lZGl0b3Iuc2NoZW1hLnN0eWxlU2NoZW1hXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbHNlIGlmIChlLmNvbnRlbnQudHlwZSA9PT0gXCJ0YWJsZUNvbnRlbnRcIilcbiAgICAgICAgICAgICAgcCA9IFFlKFxuICAgICAgICAgICAgICAgIGUuY29udGVudCxcbiAgICAgICAgICAgICAgICBvLnNjaGVtYSxcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZWRpdG9yLnNjaGVtYS5zdHlsZVNjaGVtYVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICB0aHJvdyBuZXcgTChlLmNvbnRlbnQudHlwZSk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBoID0gby5zY2hlbWEubm9kZXNbZF0uc3BlYy5jb250ZW50LCBtID0gby5zY2hlbWEubm9kZXNbdV0uc3BlYy5jb250ZW50O1xuICAgICAgICAgICAgaCA9PT0gXCJcIiB8fCBtICE9PSBoICYmIChwID0gW10pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwID09PSBcImtlZXBcIiA/IG8udHIuc2V0Tm9kZU1hcmt1cChcbiAgICAgICAgICAgIHIsXG4gICAgICAgICAgICBlLnR5cGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG8uc2NoZW1hLm5vZGVzW2UudHlwZV0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC4uLmwuYXR0cnMsXG4gICAgICAgICAgICAgIC4uLmUucHJvcHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApIDogby50ci5yZXBsYWNlV2l0aChcbiAgICAgICAgICAgIHIsXG4gICAgICAgICAgICBhLFxuICAgICAgICAgICAgby5zY2hlbWEubm9kZXNbdV0uY3JlYXRlKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLi4ubC5hdHRycyxcbiAgICAgICAgICAgICAgICAuLi5lLnByb3BzXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHBcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLnNldFNlbGVjdGlvbihcbiAgICAgICAgICAgIG8uc2NoZW1hLm5vZGVzW3VdLnNwZWMuY29udGVudCA9PT0gXCJcIiA/IG5ldyBuZShvLnRyLmRvYy5yZXNvbHZlKHIpKSA6IG8uc2NoZW1hLm5vZGVzW3VdLnNwZWMuY29udGVudCA9PT0gXCJpbmxpbmUqXCIgPyBuZXcgWShvLnRyLmRvYy5yZXNvbHZlKHIpKSA6IChcbiAgICAgICAgICAgICAgLy8gTmVlZCB0byBvZmZzZXQgdGhlIHBvc2l0aW9uIGFzIHdlIGhhdmUgdG8gZ2V0IHRocm91Z2ggdGhlXG4gICAgICAgICAgICAgIC8vIGB0YWJsZVJvd2AgYW5kIGB0YWJsZUNlbGxgIG5vZGVzIHRvIGdldCB0byB0aGVcbiAgICAgICAgICAgICAgLy8gYHRhYmxlUGFyYWdyYXBoYCBub2RlIHdlIHdhbnQgdG8gc2V0IHRoZSBzZWxlY3Rpb24gaW4uXG4gICAgICAgICAgICAgIG5ldyBZKG8udHIuZG9jLnJlc29sdmUociArIDQpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICksIG8udHIuc2V0Tm9kZU1hcmt1cChyIC0gMSwgdm9pZCAwLCB7XG4gICAgICAgICAgICAuLi5zLmF0dHJzLFxuICAgICAgICAgICAgLi4uZS5wcm9wc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH0sXG4gICAgICAvLyBBcHBlbmRzIHRoZSB0ZXh0IGNvbnRlbnRzIG9mIGEgYmxvY2sgdG8gdGhlIG5lYXJlc3QgcHJldmlvdXMgYmxvY2ssIGdpdmVuIGEgcG9zaXRpb24gYmV0d2VlbiB0aGVtLiBDaGlsZHJlbiBvZlxuICAgICAgLy8gdGhlIG1lcmdlZCBibG9jayBhcmUgbW92ZWQgb3V0IG9mIGl0IGZpcnN0LCByYXRoZXIgdGhhbiBhbHNvIGJlaW5nIG1lcmdlZC5cbiAgICAgIC8vXG4gICAgICAvLyBJbiB0aGUgZXhhbXBsZSBiZWxvdywgdGhlIHBvc2l0aW9uIHBhc3NlZCBpbnRvIHRoZSBmdW5jdGlvbiBpcyBiZXR3ZWVuIEJsb2NrMSBhbmQgQmxvY2syLlxuICAgICAgLy9cbiAgICAgIC8vIEJsb2NrMVxuICAgICAgLy8gICAgQmxvY2syXG4gICAgICAvLyBCbG9jazNcbiAgICAgIC8vICAgIEJsb2NrNFxuICAgICAgLy8gICAgICAgIEJsb2NrNVxuICAgICAgLy9cbiAgICAgIC8vIEJlY29tZXM6XG4gICAgICAvL1xuICAgICAgLy8gQmxvY2sxXG4gICAgICAvLyAgICBCbG9jazJCbG9jazNcbiAgICAgIC8vIEJsb2NrNFxuICAgICAgLy8gICAgIEJsb2NrNVxuICAgICAgQk5NZXJnZUJsb2NrczogKHQpID0+ICh7IHN0YXRlOiBlLCBkaXNwYXRjaDogbyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IGkgPSBlLmRvYy5yZXNvbHZlKHQgKyAxKS5ub2RlKCkudHlwZS5uYW1lID09PSBcImJsb2NrQ29udGFpbmVyXCIsIG4gPSBlLmRvYy5yZXNvbHZlKHQgLSAxKS5ub2RlKCkudHlwZS5uYW1lID09PSBcImJsb2NrQ29udGFpbmVyXCI7XG4gICAgICAgIGlmICghaSB8fCAhbilcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IHIgPSBiKFxuICAgICAgICAgIGUuZG9jLFxuICAgICAgICAgIHQgKyAxXG4gICAgICAgICksIHsgbm9kZTogYSwgY29udGVudE5vZGU6IHMsIHN0YXJ0UG9zOiBsLCBlbmRQb3M6IGQsIGRlcHRoOiB1IH0gPSByO1xuICAgICAgICBpZiAoYS5jaGlsZENvdW50ID09PSAyKSB7XG4gICAgICAgICAgY29uc3QgbSA9IGUuZG9jLnJlc29sdmUoXG4gICAgICAgICAgICBsICsgcy5ub2RlU2l6ZSArIDFcbiAgICAgICAgICApLCBmID0gZS5kb2MucmVzb2x2ZShkIC0gMSksIGcgPSBtLmJsb2NrUmFuZ2UoZik7XG4gICAgICAgICAgbyAmJiBlLnRyLmxpZnQoZywgdSAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwID0gdCAtIDEsIGggPSBiKGUuZG9jLCBwKTtcbiAgICAgICAgZm9yICg7IGgubnVtQ2hpbGRCbG9ja3MgPiAwOyApXG4gICAgICAgICAgaWYgKHAtLSwgaCA9IGIoZS5kb2MsIHApLCBoID09PSB2b2lkIDApXG4gICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIHJldHVybiBvICYmIChvKFxuICAgICAgICAgIGUudHIuZGVsZXRlUmFuZ2UobCwgbCArIHMubm9kZVNpemUpLnJlcGxhY2UoXG4gICAgICAgICAgICBwIC0gMSxcbiAgICAgICAgICAgIGwsXG4gICAgICAgICAgICBuZXcgRChzLmNvbnRlbnQsIDAsIDApXG4gICAgICAgICAgKS5zY3JvbGxJbnRvVmlldygpXG4gICAgICAgICksIGUudHIuc2V0U2VsZWN0aW9uKFxuICAgICAgICAgIG5ldyBZKGUuZG9jLnJlc29sdmUocCAtIDEpKVxuICAgICAgICApKSwgITA7XG4gICAgICB9LFxuICAgICAgLy8gU3BsaXRzIGEgYmxvY2sgYXQgYSBnaXZlbiBwb3NpdGlvbi4gQ29udGVudCBhZnRlciB0aGUgcG9zaXRpb24gaXMgbW92ZWQgdG8gYSBuZXcgYmxvY2sgYmVsb3csIGF0IHRoZSBzYW1lXG4gICAgICAvLyBuZXN0aW5nIGxldmVsLlxuICAgICAgLy8gLSBga2VlcFR5cGVgIGlzIHVzdWFsbHkgZmFsc2UsIHVubGVzcyB0aGUgc2VsZWN0aW9uIGlzIGF0IHRoZSBzdGFydCBvZlxuICAgICAgLy8gYSBibG9jay5cbiAgICAgIC8vIC0gYGtlZXBQcm9wc2AgaXMgdXN1YWxseSB0cnVlIHdoZW4gYGtlZXBUeXBlYCBpcyB0cnVlLCBleGNlcHQgZm9yIHdoZW5cbiAgICAgIC8vIGNyZWF0aW5nIG5ldyBsaXN0IGl0ZW0gYmxvY2tzIHdpdGggRW50ZXIuXG4gICAgICBCTlNwbGl0QmxvY2s6ICh0LCBlLCBvKSA9PiAoeyBzdGF0ZTogaSwgZGlzcGF0Y2g6IG4gfSkgPT4ge1xuICAgICAgICBjb25zdCByID0gYihpLmRvYywgdCk7XG4gICAgICAgIGlmIChyID09PSB2b2lkIDApXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICBjb25zdCB7IGNvbnRlbnROb2RlOiBhLCBjb250ZW50VHlwZTogcywgc3RhcnRQb3M6IGwsIGVuZFBvczogZCwgZGVwdGg6IHUgfSA9IHIsIHAgPSBpLmRvYy5jdXQobCArIDEsIHQpLCBoID0gaS5kb2MuY3V0KHQsIGQgLSAxKSwgbSA9IGkuc2NoZW1hLm5vZGVzLmJsb2NrQ29udGFpbmVyLmNyZWF0ZUFuZEZpbGwoKSwgZiA9IGQgKyAxLCBnID0gZiArIDI7XG4gICAgICAgIHJldHVybiBuICYmIChpLnRyLmluc2VydChmLCBtKSwgaS50ci5yZXBsYWNlKFxuICAgICAgICAgIGcsXG4gICAgICAgICAgZyArIDEsXG4gICAgICAgICAgaC5jb250ZW50LnNpemUgPiAwID8gbmV3IEQoXG4gICAgICAgICAgICBULmZyb20oaCksXG4gICAgICAgICAgICB1ICsgMixcbiAgICAgICAgICAgIHUgKyAyXG4gICAgICAgICAgKSA6IHZvaWQgMFxuICAgICAgICApLCBlICYmIGkudHIuc2V0QmxvY2tUeXBlKFxuICAgICAgICAgIGcsXG4gICAgICAgICAgZyxcbiAgICAgICAgICBpLnNjaGVtYS5ub2RlKHMpLnR5cGUsXG4gICAgICAgICAgbyA/IGEuYXR0cnMgOiB2b2lkIDBcbiAgICAgICAgKSwgaS50ci5zZXRTZWxlY3Rpb24oXG4gICAgICAgICAgbmV3IFkoaS5kb2MucmVzb2x2ZShnKSlcbiAgICAgICAgKSwgaS50ci5yZXBsYWNlKFxuICAgICAgICAgIGwgKyAxLFxuICAgICAgICAgIGQgLSAxLFxuICAgICAgICAgIHAuY29udGVudC5zaXplID4gMCA/IG5ldyBEKFxuICAgICAgICAgICAgVC5mcm9tKHApLFxuICAgICAgICAgICAgdSArIDIsXG4gICAgICAgICAgICB1ICsgMlxuICAgICAgICAgICkgOiB2b2lkIDBcbiAgICAgICAgKSwgaS50ci5zY3JvbGxJbnRvVmlldygpKSwgITA7XG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgYWRkUHJvc2VNaXJyb3JQbHVnaW5zKCkge1xuICAgIHJldHVybiBbTm4oKSwgSW4oKV07XG4gIH0sXG4gIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBCYWNrc3BhY2U6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLmZpcnN0KCh7IGNvbW1hbmRzOiBpIH0pID0+IFtcbiAgICAgICAgLy8gRGVsZXRlcyB0aGUgc2VsZWN0aW9uIGlmIGl0J3Mgbm90IGVtcHR5LlxuICAgICAgICAoKSA9PiBpLmRlbGV0ZVNlbGVjdGlvbigpLFxuICAgICAgICAvLyBVbmRvZXMgYW4gaW5wdXQgcnVsZSBpZiBvbmUgd2FzIHRyaWdnZXJlZCBpbiB0aGUgbGFzdCBlZGl0b3Igc3RhdGUgY2hhbmdlLlxuICAgICAgICAoKSA9PiBpLnVuZG9JbnB1dFJ1bGUoKSxcbiAgICAgICAgLy8gUmV2ZXJ0cyBibG9jayBjb250ZW50IHR5cGUgdG8gYSBwYXJhZ3JhcGggaWYgdGhlIHNlbGVjdGlvbiBpcyBhdCB0aGUgc3RhcnQgb2YgdGhlIGJsb2NrLlxuICAgICAgICAoKSA9PiBpLmNvbW1hbmQoKHsgc3RhdGU6IG4gfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgY29udGVudFR5cGU6IHIsIHN0YXJ0UG9zOiBhIH0gPSBiKFxuICAgICAgICAgICAgbi5kb2MsXG4gICAgICAgICAgICBuLnNlbGVjdGlvbi5mcm9tXG4gICAgICAgICAgKSwgcyA9IG4uc2VsZWN0aW9uLmZyb20gPT09IGEgKyAxLCBsID0gci5uYW1lID09PSBcInBhcmFncmFwaFwiO1xuICAgICAgICAgIHJldHVybiBzICYmICFsID8gaS5CTlVwZGF0ZUJsb2NrKG4uc2VsZWN0aW9uLmZyb20sIHtcbiAgICAgICAgICAgIHR5cGU6IFwicGFyYWdyYXBoXCIsXG4gICAgICAgICAgICBwcm9wczoge31cbiAgICAgICAgICB9KSA6ICExO1xuICAgICAgICB9KSxcbiAgICAgICAgLy8gUmVtb3ZlcyBhIGxldmVsIG9mIG5lc3RpbmcgaWYgdGhlIGJsb2NrIGlzIGluZGVudGVkIGlmIHRoZSBzZWxlY3Rpb24gaXMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBibG9jay5cbiAgICAgICAgKCkgPT4gaS5jb21tYW5kKCh7IHN0YXRlOiBuIH0pID0+IHtcbiAgICAgICAgICBjb25zdCB7IHN0YXJ0UG9zOiByIH0gPSBiKFxuICAgICAgICAgICAgbi5kb2MsXG4gICAgICAgICAgICBuLnNlbGVjdGlvbi5mcm9tXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gbi5zZWxlY3Rpb24uZnJvbSA9PT0gciArIDEgPyBpLmxpZnRMaXN0SXRlbShcImJsb2NrQ29udGFpbmVyXCIpIDogITE7XG4gICAgICAgIH0pLFxuICAgICAgICAvLyBNZXJnZXMgYmxvY2sgd2l0aCB0aGUgcHJldmlvdXMgb25lIGlmIGl0IGlzbid0IGluZGVudGVkLCBpc24ndCB0aGUgZmlyc3QgYmxvY2sgaW4gdGhlIGRvYywgYW5kIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgLy8gaXMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBibG9jay5cbiAgICAgICAgKCkgPT4gaS5jb21tYW5kKCh7IHN0YXRlOiBuIH0pID0+IHtcbiAgICAgICAgICBjb25zdCB7IGRlcHRoOiByLCBzdGFydFBvczogYSB9ID0gYihcbiAgICAgICAgICAgIG4uZG9jLFxuICAgICAgICAgICAgbi5zZWxlY3Rpb24uZnJvbVxuICAgICAgICAgICksIHMgPSBuLnNlbGVjdGlvbi5mcm9tID09PSBhICsgMSwgbCA9IG4uc2VsZWN0aW9uLmVtcHR5LCBkID0gYSA9PT0gMiwgdSA9IGEgLSAxO1xuICAgICAgICAgIHJldHVybiAhZCAmJiBzICYmIGwgJiYgciA9PT0gMiA/IGkuQk5NZXJnZUJsb2Nrcyh1KSA6ICExO1xuICAgICAgICB9KVxuICAgICAgXSksXG4gICAgICBEZWxldGU6ICgpID0+IHRoaXMuZWRpdG9yLmNvbW1hbmRzLmZpcnN0KCh7IGNvbW1hbmRzOiBpIH0pID0+IFtcbiAgICAgICAgLy8gRGVsZXRlcyB0aGUgc2VsZWN0aW9uIGlmIGl0J3Mgbm90IGVtcHR5LlxuICAgICAgICAoKSA9PiBpLmRlbGV0ZVNlbGVjdGlvbigpLFxuICAgICAgICAvLyBNZXJnZXMgYmxvY2sgd2l0aCB0aGUgbmV4dCBvbmUgKGF0IHRoZSBzYW1lIG5lc3RpbmcgbGV2ZWwgb3IgbG93ZXIpLFxuICAgICAgICAvLyBpZiBvbmUgZXhpc3RzLCB0aGUgYmxvY2sgaGFzIG5vIGNoaWxkcmVuLCBhbmQgdGhlIHNlbGVjdGlvbiBpcyBhdCB0aGVcbiAgICAgICAgLy8gZW5kIG9mIHRoZSBibG9jay5cbiAgICAgICAgKCkgPT4gaS5jb21tYW5kKCh7IHN0YXRlOiBuIH0pID0+IHtcbiAgICAgICAgICBjb25zdCB7IG5vZGU6IHIsIGRlcHRoOiBhLCBlbmRQb3M6IHMgfSA9IGIoXG4gICAgICAgICAgICBuLmRvYyxcbiAgICAgICAgICAgIG4uc2VsZWN0aW9uLmZyb21cbiAgICAgICAgICApLCBsID0gcyA9PT0gbi5kb2Mubm9kZVNpemUgLSA0LCBkID0gbi5zZWxlY3Rpb24uZnJvbSA9PT0gcyAtIDEsIHUgPSBuLnNlbGVjdGlvbi5lbXB0eSwgcCA9IHIuY2hpbGRDb3VudCA9PT0gMjtcbiAgICAgICAgICBpZiAoIWwgJiYgZCAmJiB1ICYmICFwKSB7XG4gICAgICAgICAgICBsZXQgaCA9IGEsIG0gPSBzICsgMiwgZiA9IG4uZG9jLnJlc29sdmUobSkuZGVwdGg7XG4gICAgICAgICAgICBmb3IgKDsgZiA8IGg7IClcbiAgICAgICAgICAgICAgaCA9IGYsIG0gKz0gMiwgZiA9IG4uZG9jLnJlc29sdmUobSkuZGVwdGg7XG4gICAgICAgICAgICByZXR1cm4gaS5CTk1lcmdlQmxvY2tzKG0gLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9KVxuICAgICAgXSksXG4gICAgICBFbnRlcjogKCkgPT4gdGhpcy5lZGl0b3IuY29tbWFuZHMuZmlyc3QoKHsgY29tbWFuZHM6IGkgfSkgPT4gW1xuICAgICAgICAvLyBSZW1vdmVzIGEgbGV2ZWwgb2YgbmVzdGluZyBpZiB0aGUgYmxvY2sgaXMgZW1wdHkgJiBpbmRlbnRlZCwgd2hpbGUgdGhlIHNlbGVjdGlvbiBpcyBhbHNvIGVtcHR5ICYgYXQgdGhlIHN0YXJ0XG4gICAgICAgIC8vIG9mIHRoZSBibG9jay5cbiAgICAgICAgKCkgPT4gaS5jb21tYW5kKCh7IHN0YXRlOiBuIH0pID0+IHtcbiAgICAgICAgICBjb25zdCB7IGNvbnRlbnROb2RlOiByLCBkZXB0aDogYSB9ID0gYihcbiAgICAgICAgICAgIG4uZG9jLFxuICAgICAgICAgICAgbi5zZWxlY3Rpb24uZnJvbVxuICAgICAgICAgICksIHMgPSBuLnNlbGVjdGlvbi4kYW5jaG9yLnBhcmVudE9mZnNldCA9PT0gMCwgbCA9IG4uc2VsZWN0aW9uLmFuY2hvciA9PT0gbi5zZWxlY3Rpb24uaGVhZCwgZCA9IHIuY2hpbGRDb3VudCA9PT0gMCwgdSA9IGEgPiAyO1xuICAgICAgICAgIHJldHVybiBzICYmIGwgJiYgZCAmJiB1ID8gaS5saWZ0TGlzdEl0ZW0oXCJibG9ja0NvbnRhaW5lclwiKSA6ICExO1xuICAgICAgICB9KSxcbiAgICAgICAgLy8gQ3JlYXRlcyBhIG5ldyBibG9jayBhbmQgbW92ZXMgdGhlIHNlbGVjdGlvbiB0byBpdCBpZiB0aGUgY3VycmVudCBvbmUgaXMgZW1wdHksIHdoaWxlIHRoZSBzZWxlY3Rpb24gaXMgYWxzb1xuICAgICAgICAvLyBlbXB0eSAmIGF0IHRoZSBzdGFydCBvZiB0aGUgYmxvY2suXG4gICAgICAgICgpID0+IGkuY29tbWFuZCgoeyBzdGF0ZTogbiwgY2hhaW46IHIgfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgY29udGVudE5vZGU6IGEsIGVuZFBvczogcyB9ID0gYihcbiAgICAgICAgICAgIG4uZG9jLFxuICAgICAgICAgICAgbi5zZWxlY3Rpb24uZnJvbVxuICAgICAgICAgICksIGwgPSBuLnNlbGVjdGlvbi4kYW5jaG9yLnBhcmVudE9mZnNldCA9PT0gMCwgZCA9IG4uc2VsZWN0aW9uLmFuY2hvciA9PT0gbi5zZWxlY3Rpb24uaGVhZCwgdSA9IGEuY2hpbGRDb3VudCA9PT0gMDtcbiAgICAgICAgICBpZiAobCAmJiBkICYmIHUpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBzICsgMSwgaCA9IHAgKyAyO1xuICAgICAgICAgICAgcmV0dXJuIHIoKS5CTkNyZWF0ZUJsb2NrKHApLnNldFRleHRTZWxlY3Rpb24oaCkucnVuKCksICEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH0pLFxuICAgICAgICAvLyBTcGxpdHMgdGhlIGN1cnJlbnQgYmxvY2ssIG1vdmluZyBjb250ZW50IGluc2lkZSB0aGF0J3MgYWZ0ZXIgdGhlIGN1cnNvciB0byBhIG5ldyB0ZXh0IGJsb2NrIGJlbG93LiBBbHNvXG4gICAgICAgIC8vIGRlbGV0ZXMgdGhlIHNlbGVjdGlvbiBiZWZvcmVoYW5kLCBpZiBpdCdzIG5vdCBlbXB0eS5cbiAgICAgICAgKCkgPT4gaS5jb21tYW5kKCh7IHN0YXRlOiBuLCBjaGFpbjogciB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBjb250ZW50Tm9kZTogYSB9ID0gYihcbiAgICAgICAgICAgIG4uZG9jLFxuICAgICAgICAgICAgbi5zZWxlY3Rpb24uZnJvbVxuICAgICAgICAgICksIHMgPSBuLnNlbGVjdGlvbi4kYW5jaG9yLnBhcmVudE9mZnNldCA9PT0gMDtcbiAgICAgICAgICByZXR1cm4gYS5jaGlsZENvdW50ID09PSAwID8gITEgOiAocigpLmRlbGV0ZVNlbGVjdGlvbigpLkJOU3BsaXRCbG9jayhcbiAgICAgICAgICAgIG4uc2VsZWN0aW9uLmZyb20sXG4gICAgICAgICAgICBzLFxuICAgICAgICAgICAgc1xuICAgICAgICAgICkucnVuKCksICEwKTtcbiAgICAgICAgfSlcbiAgICAgIF0pLFxuICAgICAgLy8gQWx3YXlzIHJldHVybmluZyB0cnVlIGZvciB0YWIga2V5IHByZXNzZXMgZW5zdXJlcyB0aGV5J3JlIG5vdCBjYXB0dXJlZCBieSB0aGUgYnJvd3Nlci4gT3RoZXJ3aXNlLCB0aGV5IGJsdXIgdGhlXG4gICAgICAvLyBlZGl0b3Igc2luY2UgdGhlIGJyb3dzZXIgd2lsbCB0cnkgdG8gdXNlIHRhYiBmb3Iga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAgICAgIFRhYjogKCkgPT4ge1xuICAgICAgICB2YXIgaSwgbiwgcjtcbiAgICAgICAgcmV0dXJuIChpID0gdGhpcy5vcHRpb25zLmVkaXRvci5mb3JtYXR0aW5nVG9vbGJhcikgIT0gbnVsbCAmJiBpLnNob3duIHx8IChuID0gdGhpcy5vcHRpb25zLmVkaXRvci5saW5rVG9vbGJhcikgIT0gbnVsbCAmJiBuLnNob3duIHx8IChyID0gdGhpcy5vcHRpb25zLmVkaXRvci5maWxlUGFuZWwpICE9IG51bGwgJiYgci5zaG93biA/ICExIDogKHRoaXMuZWRpdG9yLmNvbW1hbmRzLnNpbmtMaXN0SXRlbShcImJsb2NrQ29udGFpbmVyXCIpLCAhMCk7XG4gICAgICB9LFxuICAgICAgXCJTaGlmdC1UYWJcIjogKCkgPT4ge1xuICAgICAgICB2YXIgaSwgbiwgcjtcbiAgICAgICAgcmV0dXJuIChpID0gdGhpcy5vcHRpb25zLmVkaXRvci5mb3JtYXR0aW5nVG9vbGJhcikgIT0gbnVsbCAmJiBpLnNob3duIHx8IChuID0gdGhpcy5vcHRpb25zLmVkaXRvci5saW5rVG9vbGJhcikgIT0gbnVsbCAmJiBuLnNob3duIHx8IChyID0gdGhpcy5vcHRpb25zLmVkaXRvci5maWxlUGFuZWwpICE9IG51bGwgJiYgci5zaG93biA/ICExIDogKHRoaXMuZWRpdG9yLmNvbW1hbmRzLmxpZnRMaXN0SXRlbShcImJsb2NrQ29udGFpbmVyXCIpLCAhMCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufSksIFVuID0gJC5jcmVhdGUoe1xuICBuYW1lOiBcImJsb2NrR3JvdXBcIixcbiAgZ3JvdXA6IFwiYmxvY2tHcm91cFwiLFxuICBjb250ZW50OiBcImJsb2NrQ29udGFpbmVyK1wiLFxuICBwYXJzZUhUTUwoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdGFnOiBcImRpdlwiLFxuICAgICAgICBnZXRBdHRyczogKHQpID0+IHR5cGVvZiB0ID09IFwic3RyaW5nXCIgPyAhMSA6IHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1ub2RlLXR5cGVcIikgPT09IFwiYmxvY2tHcm91cFwiID8gbnVsbCA6ICExXG4gICAgICB9XG4gICAgXTtcbiAgfSxcbiAgcmVuZGVySFRNTCh7IEhUTUxBdHRyaWJ1dGVzOiB0IH0pIHtcbiAgICB2YXIgaTtcbiAgICBjb25zdCBlID0ge1xuICAgICAgLi4uKChpID0gdGhpcy5vcHRpb25zLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBpLmJsb2NrR3JvdXApIHx8IHt9LFxuICAgICAgLi4udFxuICAgIH0sIG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIG8uY2xhc3NOYW1lID0gUihcbiAgICAgIFwiYm4tYmxvY2stZ3JvdXBcIixcbiAgICAgIGUuY2xhc3NcbiAgICApLCBvLnNldEF0dHJpYnV0ZShcImRhdGEtbm9kZS10eXBlXCIsIFwiYmxvY2tHcm91cFwiKTtcbiAgICBmb3IgKGNvbnN0IFtuLCByXSBvZiBPYmplY3QuZW50cmllcyhlKSlcbiAgICAgIG4gIT09IFwiY2xhc3NcIiAmJiBvLnNldEF0dHJpYnV0ZShuLCByKTtcbiAgICByZXR1cm4ge1xuICAgICAgZG9tOiBvLFxuICAgICAgY29udGVudERPTTogb1xuICAgIH07XG4gIH1cbn0pLCBEbiA9ICQuY3JlYXRlKHtcbiAgbmFtZTogXCJkb2NcIixcbiAgdG9wTm9kZTogITAsXG4gIGNvbnRlbnQ6IFwiYmxvY2tHcm91cFwiXG59KSwgT24gPSAodCkgPT4ge1xuICB2YXIgbztcbiAgY29uc3QgZSA9IFtcbiAgICBKLkNsaXBib2FyZFRleHRTZXJpYWxpemVyLFxuICAgIEouQ29tbWFuZHMsXG4gICAgSi5FZGl0YWJsZSxcbiAgICBKLkZvY3VzRXZlbnRzLFxuICAgIEouVGFiaW5kZXgsXG4gICAgLy8gRGV2VG9vbHMsXG4gICAgc28sXG4gICAgLy8gRHJvcEN1cnNvcixcbiAgICBvZS5jb25maWd1cmUoe1xuICAgICAgdHlwZXM6IFtcImJsb2NrQ29udGFpbmVyXCJdXG4gICAgfSksXG4gICAgbG8uZXh0ZW5kKHsgcHJpb3JpdHk6IDEwIH0pLFxuICAgIC8vIENvbW1lbnRzLFxuICAgIC8vIGJhc2ljczpcbiAgICBwbyxcbiAgICAvLyBtYXJrczpcbiAgICB1by5leHRlbmQoe1xuICAgICAgYWRkS2V5Ym9hcmRTaG9ydGN1dHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgXCJNb2Qta1wiOiAoKSA9PiAodGhpcy5lZGl0b3IuY29tbWFuZHMudG9nZ2xlTGluayh7IGhyZWY6IFwiXCIgfSksICEwKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pLFxuICAgIC4uLk9iamVjdC52YWx1ZXModC5zdHlsZVNwZWNzKS5tYXAoKGkpID0+IGkuaW1wbGVtZW50YXRpb24ubWFyayksXG4gICAgVG4sXG4gICAgU24sXG4gICAgTW4sXG4gICAgLy8gbWFrZSBzdXJlIGVzY2FwZSBibHVycyBlZGl0b3IsIHNvIHRoYXQgd2UgY2FuIHRhYiB0byBvdGhlciBlbGVtZW50cyBpbiB0aGUgaG9zdCBwYWdlIChhY2Nlc3NpYmlsaXR5KVxuICAgIEIuY3JlYXRlKHtcbiAgICAgIG5hbWU6IFwiT3ZlcnJpZGVFc2NhcGVcIixcbiAgICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIEVzY2FwZTogKCkgPT4gdC5lZGl0b3Iuc3VnZ2VzdGlvbk1lbnVzLnNob3duID8gITEgOiB0aGlzLmVkaXRvci5jb21tYW5kcy5ibHVyKClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICAvLyBub2Rlc1xuICAgIERuLFxuICAgIEhuLmNvbmZpZ3VyZSh7XG4gICAgICBlZGl0b3I6IHQuZWRpdG9yLFxuICAgICAgZG9tQXR0cmlidXRlczogdC5kb21BdHRyaWJ1dGVzXG4gICAgfSksXG4gICAgVW4uY29uZmlndXJlKHtcbiAgICAgIGRvbUF0dHJpYnV0ZXM6IHQuZG9tQXR0cmlidXRlc1xuICAgIH0pLFxuICAgIC4uLk9iamVjdC52YWx1ZXModC5pbmxpbmVDb250ZW50U3BlY3MpLmZpbHRlcigoaSkgPT4gaS5jb25maWcgIT09IFwibGlua1wiICYmIGkuY29uZmlnICE9PSBcInRleHRcIikubWFwKChpKSA9PiBpLmltcGxlbWVudGF0aW9uLm5vZGUuY29uZmlndXJlKHtcbiAgICAgIGVkaXRvcjogdC5lZGl0b3JcbiAgICB9KSksXG4gICAgLi4uT2JqZWN0LnZhbHVlcyh0LmJsb2NrU3BlY3MpLmZsYXRNYXAoKGkpID0+IFtcbiAgICAgIC8vIGRlcGVuZGVudCBub2RlcyAoZS5nLjogdGFibGVjZWxsIC8gcm93KVxuICAgICAgLi4uKGkuaW1wbGVtZW50YXRpb24ucmVxdWlyZWRFeHRlbnNpb25zIHx8IFtdKS5tYXAoXG4gICAgICAgIChuKSA9PiBuLmNvbmZpZ3VyZSh7XG4gICAgICAgICAgZWRpdG9yOiB0LmVkaXRvcixcbiAgICAgICAgICBkb21BdHRyaWJ1dGVzOiB0LmRvbUF0dHJpYnV0ZXNcbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICAvLyB0aGUgYWN0dWFsIG5vZGUgaXRzZWxmXG4gICAgICBpLmltcGxlbWVudGF0aW9uLm5vZGUuY29uZmlndXJlKHtcbiAgICAgICAgZWRpdG9yOiB0LmVkaXRvcixcbiAgICAgICAgZG9tQXR0cmlidXRlczogdC5kb21BdHRyaWJ1dGVzXG4gICAgICB9KVxuICAgIF0pLFxuICAgIHhuKHQuZWRpdG9yKSxcbiAgICBDbih0LmVkaXRvciksXG4gICAgYW8uY29uZmlndXJlKHsgd2lkdGg6IDUsIGNvbG9yOiBcIiNkZGVlZmZcIiB9KSxcbiAgICAvLyBUaGlzIG5lZWRzIHRvIGJlIGF0IHRoZSBib3R0b20gb2YgdGhpcyBsaXN0LCBiZWNhdXNlIEtleSBldmVudHMgKHN1Y2ggYXMgZW50ZXIsIHdoZW4gc2VsZWN0aW5nIGEgL2NvbW1hbmQpLFxuICAgIC8vIHNob3VsZCBiZSBoYW5kbGVkIGJlZm9yZSBFbnRlciBoYW5kbGVycyBpbiBvdGhlciBjb21wb25lbnRzIGxpa2Ugc3BsaXRMaXN0SXRlbVxuICAgIC4uLnQudHJhaWxpbmdCbG9jayA9PT0gdm9pZCAwIHx8IHQudHJhaWxpbmdCbG9jayA/IFtCbl0gOiBbXVxuICBdO1xuICBpZiAodC5jb2xsYWJvcmF0aW9uKSB7XG4gICAgaWYgKGUucHVzaChcbiAgICAgIG5vLmNvbmZpZ3VyZSh7XG4gICAgICAgIGZyYWdtZW50OiB0LmNvbGxhYm9yYXRpb24uZnJhZ21lbnRcbiAgICAgIH0pXG4gICAgKSwgKG8gPSB0LmNvbGxhYm9yYXRpb24ucHJvdmlkZXIpICE9IG51bGwgJiYgby5hd2FyZW5lc3MpIHtcbiAgICAgIGNvbnN0IGkgPSAobikgPT4ge1xuICAgICAgICBjb25zdCByID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICAgIHIuY2xhc3NMaXN0LmFkZChcImNvbGxhYm9yYXRpb24tY3Vyc29yX19jYXJldFwiKSwgci5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBgYm9yZGVyLWNvbG9yOiAke24uY29sb3J9YCk7XG4gICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgYS5jbGFzc0xpc3QuYWRkKFwiY29sbGFib3JhdGlvbi1jdXJzb3JfX2xhYmVsXCIpLCBhLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIGBiYWNrZ3JvdW5kLWNvbG9yOiAke24uY29sb3J9YCksIGEuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4ubmFtZSksIG51bGwpO1xuICAgICAgICBjb25zdCBzID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCLigaBcIiksIGwgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIuKBoFwiKTtcbiAgICAgICAgcmV0dXJuIHIuaW5zZXJ0QmVmb3JlKHMsIG51bGwpLCByLmluc2VydEJlZm9yZShhLCBudWxsKSwgci5pbnNlcnRCZWZvcmUobCwgbnVsbCksIHI7XG4gICAgICB9O1xuICAgICAgZS5wdXNoKFxuICAgICAgICByby5jb25maWd1cmUoe1xuICAgICAgICAgIHVzZXI6IHQuY29sbGFib3JhdGlvbi51c2VyLFxuICAgICAgICAgIHJlbmRlcjogdC5jb2xsYWJvcmF0aW9uLnJlbmRlckN1cnNvciB8fCBpLFxuICAgICAgICAgIHByb3ZpZGVyOiB0LmNvbGxhYm9yYXRpb24ucHJvdmlkZXJcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9IGVsc2VcbiAgICBlLnB1c2goY28pO1xuICByZXR1cm4gZTtcbn07XG5mdW5jdGlvbiBSbih0LCBlKSB7XG4gIGNvbnN0IG8gPSBbXTtcbiAgcmV0dXJuIHQuZm9yRWFjaCgoaSwgbiwgcikgPT4ge1xuICAgIHIgIT09IGUgJiYgby5wdXNoKGkpO1xuICB9KSwgVC5mcm9tKG8pO1xufVxuZnVuY3Rpb24gVm4odCwgZSkge1xuICBsZXQgbyA9IFQuZnJvbSh0LmNvbnRlbnQpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG8uY2hpbGRDb3VudDsgaSsrKVxuICAgIGlmIChvLmNoaWxkKGkpLnR5cGUuc3BlYy5ncm91cCA9PT0gXCJibG9ja0NvbnRlbnRcIikge1xuICAgICAgY29uc3QgbiA9IFtvLmNoaWxkKGkpXTtcbiAgICAgIGlmIChpICsgMSA8IG8uY2hpbGRDb3VudCAmJiBvLmNoaWxkKGkgKyAxKS50eXBlLnNwZWMuZ3JvdXAgPT09IFwiYmxvY2tHcm91cFwiKSB7XG4gICAgICAgIGNvbnN0IGEgPSBvLmNoaWxkKGkgKyAxKS5jaGlsZCgwKS5jaGlsZCgwKTtcbiAgICAgICAgKGEudHlwZS5uYW1lID09PSBcImJ1bGxldExpc3RJdGVtXCIgfHwgYS50eXBlLm5hbWUgPT09IFwibnVtYmVyZWRMaXN0SXRlbVwiIHx8IGEudHlwZS5uYW1lID09PSBcImNoZWNrTGlzdEl0ZW1cIikgJiYgKG4ucHVzaChvLmNoaWxkKGkgKyAxKSksIG8gPSBSbihvLCBpICsgMSkpO1xuICAgICAgfVxuICAgICAgY29uc3QgciA9IGUuc3RhdGUuc2NoZW1hLm5vZGVzLmJsb2NrQ29udGFpbmVyLmNyZWF0ZShcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICBuXG4gICAgICApO1xuICAgICAgbyA9IG8ucmVwbGFjZUNoaWxkKGksIHIpO1xuICAgIH1cbiAgcmV0dXJuIG5ldyBEKG8sIHQub3BlblN0YXJ0LCB0Lm9wZW5FbmQpO1xufVxuZnVuY3Rpb24gZ2UodCkge1xuICByZXR1cm4gdCAmJiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmVudHJpZXModCkuZmlsdGVyKChbLCBlXSkgPT4gZSAhPT0gdm9pZCAwKVxuICApO1xufVxuY2xhc3MgQmUge1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgYyh0aGlzLCBcImJsb2NrU3BlY3NcIik7XG4gICAgYyh0aGlzLCBcImlubGluZUNvbnRlbnRTcGVjc1wiKTtcbiAgICBjKHRoaXMsIFwic3R5bGVTcGVjc1wiKTtcbiAgICBjKHRoaXMsIFwiYmxvY2tTY2hlbWFcIik7XG4gICAgYyh0aGlzLCBcImlubGluZUNvbnRlbnRTY2hlbWFcIik7XG4gICAgYyh0aGlzLCBcInN0eWxlU2NoZW1hXCIpO1xuICAgIC8vIEhlbHBlciBzbyB0aGF0IHlvdSBjYW4gdXNlIHR5cGVvZiBzY2hlbWEuQmxvY2tOb3RlRWRpdG9yXG4gICAgYyh0aGlzLCBcIkJsb2NrTm90ZUVkaXRvclwiLCBcIm9ubHkgZm9yIHR5cGVzXCIpO1xuICAgIGModGhpcywgXCJCbG9ja1wiLCBcIm9ubHkgZm9yIHR5cGVzXCIpO1xuICAgIGModGhpcywgXCJQYXJ0aWFsQmxvY2tcIiwgXCJvbmx5IGZvciB0eXBlc1wiKTtcbiAgICB0aGlzLmJsb2NrU3BlY3MgPSBnZShlID09IG51bGwgPyB2b2lkIDAgOiBlLmJsb2NrU3BlY3MpIHx8IGh0LCB0aGlzLmlubGluZUNvbnRlbnRTcGVjcyA9IGdlKGUgPT0gbnVsbCA/IHZvaWQgMCA6IGUuaW5saW5lQ29udGVudFNwZWNzKSB8fCBmdCwgdGhpcy5zdHlsZVNwZWNzID0gZ2UoZSA9PSBudWxsID8gdm9pZCAwIDogZS5zdHlsZVNwZWNzKSB8fCBtdCwgdGhpcy5ibG9ja1NjaGVtYSA9IGx0KHRoaXMuYmxvY2tTcGVjcyksIHRoaXMuaW5saW5lQ29udGVudFNjaGVtYSA9IGR0KFxuICAgICAgdGhpcy5pbmxpbmVDb250ZW50U3BlY3NcbiAgICApLCB0aGlzLnN0eWxlU2NoZW1hID0gdXQodGhpcy5zdHlsZVNwZWNzKTtcbiAgfVxuICBzdGF0aWMgY3JlYXRlKGUpIHtcbiAgICByZXR1cm4gbmV3IEJlKGUpO1xuICB9XG59XG5jbGFzcyBqbiBleHRlbmRzIE90IHtcbiAgY29uc3RydWN0b3IobywgaSkge1xuICAgIHN1cGVyKHsgLi4ubywgY29udGVudDogdm9pZCAwIH0pO1xuICAgIGModGhpcywgXCJfc3RhdGVcIik7XG4gICAgLyoqXG4gICAgICogTW91bnRzIC8gdW5tb3VudHMgdGhlIGVkaXRvciB0byBhIGRvbSBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0gZWxlbWVudCBET00gZWxlbWVudCB0byBtb3VudCB0bywgdXIgbnVsbCAvIHVuZGVmaW5lZCB0byBkZXN0cm95XG4gICAgICovXG4gICAgYyh0aGlzLCBcIm1vdW50XCIsIChvKSA9PiB7XG4gICAgICBvID8gKHRoaXMub3B0aW9ucy5lbGVtZW50ID0gbywgdGhpcy5jcmVhdGVWaWV3QWx0ZXJuYXRpdmUoKSkgOiB0aGlzLmRlc3Ryb3koKTtcbiAgICB9KTtcbiAgICBjb25zdCBuID0gdGhpcy5zY2hlbWE7XG4gICAgbGV0IHI7XG4gICAgY29uc3QgYSA9IG4ubm9kZXMuZG9jLmNyZWF0ZUFuZEZpbGw7XG4gICAgbi5ub2Rlcy5kb2MuY3JlYXRlQW5kRmlsbCA9ICguLi5sKSA9PiB7XG4gICAgICBpZiAocilcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgICBjb25zdCBkID0gYS5hcHBseShuLm5vZGVzLmRvYywgbCksIHUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGQudG9KU09OKCkpKTtcbiAgICAgIHJldHVybiB1LmNvbnRlbnRbMF0uY29udGVudFswXS5hdHRycy5pZCA9IFwiaW5pdGlhbEJsb2NrSWRcIiwgciA9IE10LmZyb21KU09OKG4sIHUpLCByO1xuICAgIH07XG4gICAgbGV0IHM7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGwgPSBvID09IG51bGwgPyB2b2lkIDAgOiBvLmNvbnRlbnQubWFwKFxuICAgICAgICAoZCkgPT4gUChkLCB0aGlzLnNjaGVtYSwgaSkudG9KU09OKClcbiAgICAgICk7XG4gICAgICBzID0gUnQoXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBcImRvY1wiLFxuICAgICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJibG9ja0dyb3VwXCIsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHRoaXMuc2NoZW1hLFxuICAgICAgICB0aGlzLm9wdGlvbnMucGFyc2VPcHRpb25zXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGwpIHtcbiAgICAgIHRocm93IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiRXJyb3IgY3JlYXRpbmcgZG9jdW1lbnQgZnJvbSBibG9ja3MgcGFzc2VkIGFzIGBpbml0aWFsQ29udGVudGAuIENhdXNlZCBieSBleGNlcHRpb246IFwiLFxuICAgICAgICBsXG4gICAgICApLCBuZXcgRXJyb3IoXG4gICAgICAgIFwiRXJyb3IgY3JlYXRpbmcgZG9jdW1lbnQgZnJvbSBibG9ja3MgcGFzc2VkIGFzIGBpbml0aWFsQ29udGVudGA6XFxuXCIgKyArSlNPTi5zdHJpbmdpZnkoby5jb250ZW50KVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5fc3RhdGUgPSBWdC5jcmVhdGUoe1xuICAgICAgZG9jOiBzLFxuICAgICAgc2NoZW1hOiB0aGlzLnNjaGVtYVxuICAgICAgLy8gc2VsZWN0aW9uOiBzZWxlY3Rpb24gfHwgdW5kZWZpbmVkLFxuICAgIH0pO1xuICB9XG4gIGdldCBzdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy52aWV3ICYmICh0aGlzLl9zdGF0ZSA9IHRoaXMudmlldy5zdGF0ZSksIHRoaXMuX3N0YXRlO1xuICB9XG4gIGNyZWF0ZVZpZXcoKSB7XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2UgdGhlIGRlZmF1bHQgYGNyZWF0ZVZpZXdgIG1ldGhvZCB3aXRoIGEgY3VzdG9tIG9uZSAtIHdoaWNoIHdlIGNhbGwgb24gbW91bnRcbiAgICovXG4gIGNyZWF0ZVZpZXdBbHRlcm5hdGl2ZSgpIHtcbiAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICB0aGlzLnZpZXcgPSBuZXcgaW8oXG4gICAgICAgIHsgbW91bnQ6IHRoaXMub3B0aW9ucy5lbGVtZW50IH0sXG4gICAgICAgIC8vIHVzZSBtb3VudCBvcHRpb24gc28gdGhhdCB3ZSByZXVzZSB0aGUgZXhpc3RpbmcgZWxlbWVudCBpbnN0ZWFkIG9mIGNyZWF0aW5nIGEgbmV3IG9uZVxuICAgICAgICB7XG4gICAgICAgICAgLi4udGhpcy5vcHRpb25zLmVkaXRvclByb3BzLFxuICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICBkaXNwYXRjaFRyYW5zYWN0aW9uOiB0aGlzLmRpc3BhdGNoVHJhbnNhY3Rpb24uYmluZCh0aGlzKSxcbiAgICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZVxuICAgICAgICB9XG4gICAgICApO1xuICAgICAgY29uc3QgbyA9IHRoaXMuc3RhdGUucmVjb25maWd1cmUoe1xuICAgICAgICBwbHVnaW5zOiB0aGlzLmV4dGVuc2lvbk1hbmFnZXIucGx1Z2luc1xuICAgICAgfSk7XG4gICAgICB0aGlzLnZpZXcudXBkYXRlU3RhdGUobyksIHRoaXMuY3JlYXRlTm9kZVZpZXdzKCk7XG4gICAgfSk7XG4gIH1cbn1cbmNvbnN0IHpuID0gbmV3IFMoXCJibG9ja25vdGUtcGxhY2Vob2xkZXJcIiksIEZuID0gKHQsIGUpID0+IG5ldyB2KHtcbiAga2V5OiB6bixcbiAgdmlldzogKCkgPT4ge1xuICAgIGNvbnN0IG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksIGkgPSB0Ll90aXB0YXBFZGl0b3Iub3B0aW9ucy5pbmplY3ROb25jZTtcbiAgICBpICYmIG8uc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgaSksIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobyk7XG4gICAgY29uc3QgbiA9IG8uc2hlZXQsIHIgPSAocyA9IFwiXCIpID0+IGAuYm4tYmxvY2stY29udGVudCR7c30gLmJuLWlubGluZS1jb250ZW50Omhhcyg+IC5Qcm9zZU1pcnJvci10cmFpbGluZ0JyZWFrOm9ubHktY2hpbGQpOmJlZm9yZWAsIGEgPSAocywgbCA9ICEwKSA9PiB7XG4gICAgICBjb25zdCBkID0gbCA/IFwiW2RhdGEtaXMtZW1wdHktYW5kLWZvY3VzZWRdXCIgOiBcIlwiO1xuICAgICAgaWYgKHMgPT09IFwiZGVmYXVsdFwiKVxuICAgICAgICByZXR1cm4gcihkKTtcbiAgICAgIGNvbnN0IHUgPSBgW2RhdGEtY29udGVudC10eXBlPVwiJHtzfVwiXWA7XG4gICAgICByZXR1cm4gcihkICsgdSk7XG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IFtzLCBsXSBvZiBPYmplY3QuZW50cmllcyhlKSkge1xuICAgICAgY29uc3QgZCA9IHMgPT09IFwiZGVmYXVsdFwiO1xuICAgICAgbi5pbnNlcnRSdWxlKFxuICAgICAgICBgJHthKHMsIGQpfXsgY29udGVudDogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBsXG4gICAgICAgICl9OyB9YFxuICAgICAgKSwgZCB8fCBuLmluc2VydFJ1bGUoXG4gICAgICAgIGAke2EocywgITApfXsgY29udGVudDogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBsXG4gICAgICAgICl9OyB9YFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGRlc3Ryb3k6ICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChvKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBwcm9wczoge1xuICAgIC8vIFRPRE86IG1heWJlIGFsc28gYWRkIHBsYWNlaG9sZGVyIGZvciBlbXB0eSBkb2N1bWVudCAoXCJlLmcuOiBzdGFydCB3cml0aW5nLi5cIilcbiAgICBkZWNvcmF0aW9uczogKG8pID0+IHtcbiAgICAgIGNvbnN0IHsgZG9jOiBpLCBzZWxlY3Rpb246IG4gfSA9IG87XG4gICAgICBpZiAoIXQuaXNFZGl0YWJsZSB8fCAhbi5lbXB0eSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgciA9IG4uJGFuY2hvciwgYSA9IHIucGFyZW50O1xuICAgICAgaWYgKGEuY29udGVudC5zaXplID4gMClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjb25zdCBzID0gci5iZWZvcmUoKSwgbCA9IFcubm9kZShzLCBzICsgYS5ub2RlU2l6ZSwge1xuICAgICAgICBcImRhdGEtaXMtZW1wdHktYW5kLWZvY3VzZWRcIjogXCJ0cnVlXCJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIEcuY3JlYXRlKGksIFtsXSk7XG4gICAgfVxuICB9XG59KTtcbmNvbnN0IEduID0ge1xuICBlbmFibGVJbnB1dFJ1bGVzOiAhMCxcbiAgZW5hYmxlUGFzdGVSdWxlczogITAsXG4gIGVuYWJsZUNvcmVFeHRlbnNpb25zOiAhMVxufTtcbmNsYXNzIHl0IHtcbiAgY29uc3RydWN0b3IoZSkge1xuICAgIGModGhpcywgXCJfdGlwdGFwRWRpdG9yXCIpO1xuICAgIGModGhpcywgXCJibG9ja0NhY2hlXCIsIC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpKTtcbiAgICBjKHRoaXMsIFwiZGljdGlvbmFyeVwiKTtcbiAgICBjKHRoaXMsIFwic2NoZW1hXCIpO1xuICAgIGModGhpcywgXCJibG9ja0ltcGxlbWVudGF0aW9uc1wiKTtcbiAgICBjKHRoaXMsIFwiaW5saW5lQ29udGVudEltcGxlbWVudGF0aW9uc1wiKTtcbiAgICBjKHRoaXMsIFwic3R5bGVJbXBsZW1lbnRhdGlvbnNcIik7XG4gICAgYyh0aGlzLCBcImZvcm1hdHRpbmdUb29sYmFyXCIpO1xuICAgIGModGhpcywgXCJsaW5rVG9vbGJhclwiKTtcbiAgICBjKHRoaXMsIFwic2lkZU1lbnVcIik7XG4gICAgYyh0aGlzLCBcInN1Z2dlc3Rpb25NZW51c1wiKTtcbiAgICBjKHRoaXMsIFwiZmlsZVBhbmVsXCIpO1xuICAgIGModGhpcywgXCJ0YWJsZUhhbmRsZXNcIik7XG4gICAgYyh0aGlzLCBcInVwbG9hZEZpbGVcIik7XG4gICAgYyh0aGlzLCBcInJlc29sdmVGaWxlVXJsXCIpO1xuICAgIHZhciBsLCBkLCB1LCBwLCBoLCBtLCBmLCBnO1xuICAgIHRoaXMub3B0aW9ucyA9IGU7XG4gICAgY29uc3QgbyA9IGU7XG4gICAgaWYgKG8ub25FZGl0b3JDb250ZW50Q2hhbmdlKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIm9uRWRpdG9yQ29udGVudENoYW5nZSBpbml0aWFsaXphdGlvbiBvcHRpb24gaXMgZGVwcmVjYXRlZCwgdXNlIDxCbG9ja05vdGVWaWV3IG9uQ2hhbmdlPXsuLi59IC8+LCB0aGUgdXNlRWRpdG9yQ2hhbmdlKC4uLikgaG9vaywgb3IgZWRpdG9yLm9uQ2hhbmdlKC4uLilcIlxuICAgICAgKTtcbiAgICBpZiAoby5vblRleHRDdXJzb3JQb3NpdGlvbkNoYW5nZSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJvblRleHRDdXJzb3JQb3NpdGlvbkNoYW5nZSBpbml0aWFsaXphdGlvbiBvcHRpb24gaXMgZGVwcmVjYXRlZCwgdXNlIDxCbG9ja05vdGVWaWV3IG9uU2VsZWN0aW9uQ2hhbmdlPXsuLi59IC8+LCB0aGUgdXNlRWRpdG9yU2VsZWN0aW9uQ2hhbmdlKC4uLikgaG9vaywgb3IgZWRpdG9yLm9uU2VsZWN0aW9uQ2hhbmdlKC4uLilcIlxuICAgICAgKTtcbiAgICBpZiAoby5vbkVkaXRvclJlYWR5KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIm9uRWRpdG9yUmVhZHkgaXMgZGVwcmVjYXRlZC4gRWRpdG9yIGlzIGltbWVkaWF0ZWx5IHJlYWR5IGZvciB1c2UgYWZ0ZXIgY3JlYXRpb24uXCJcbiAgICAgICk7XG4gICAgaWYgKG8uZWRpdGFibGUpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiZWRpdGFibGUgaW5pdGlhbGl6YXRpb24gb3B0aW9uIGlzIGRlcHJlY2F0ZWQsIHVzZSA8QmxvY2tOb3RlVmlldyBlZGl0YWJsZT17dHJ1ZS9mYWxzZX0gLz4sIG9yIGFsdGVybmF0aXZlbHkgZWRpdG9yLmlzRWRpdGFibGUgPSB0cnVlL2ZhbHNlXCJcbiAgICAgICk7XG4gICAgdGhpcy5kaWN0aW9uYXJ5ID0gZS5kaWN0aW9uYXJ5IHx8IFplO1xuICAgIGNvbnN0IGkgPSB7XG4gICAgICBkZWZhdWx0U3R5bGVzOiAhMCxcbiAgICAgIHNjaGVtYTogZS5zY2hlbWEgfHwgQmUuY3JlYXRlKCksXG4gICAgICAuLi5lLFxuICAgICAgcGxhY2Vob2xkZXJzOiB7XG4gICAgICAgIC4uLnRoaXMuZGljdGlvbmFyeS5wbGFjZWhvbGRlcnMsXG4gICAgICAgIC4uLmUucGxhY2Vob2xkZXJzXG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnNjaGVtYSA9IGkuc2NoZW1hLCB0aGlzLmJsb2NrSW1wbGVtZW50YXRpb25zID0gaS5zY2hlbWEuYmxvY2tTcGVjcywgdGhpcy5pbmxpbmVDb250ZW50SW1wbGVtZW50YXRpb25zID0gaS5zY2hlbWEuaW5saW5lQ29udGVudFNwZWNzLCB0aGlzLnN0eWxlSW1wbGVtZW50YXRpb25zID0gaS5zY2hlbWEuc3R5bGVTcGVjcywgdGhpcy5mb3JtYXR0aW5nVG9vbGJhciA9IG5ldyBybih0aGlzKSwgdGhpcy5saW5rVG9vbGJhciA9IG5ldyBsbih0aGlzKSwgdGhpcy5zaWRlTWVudSA9IG5ldyBibih0aGlzKSwgdGhpcy5zdWdnZXN0aW9uTWVudXMgPSBuZXcgdW4odGhpcyksIHRoaXMuZmlsZVBhbmVsID0gbmV3IHRuKHRoaXMpLCB4KFwidGFibGVcIiwgdGhpcykgJiYgKHRoaXMudGFibGVIYW5kbGVzID0gbmV3IHduKHRoaXMpKTtcbiAgICBjb25zdCBuID0gT24oe1xuICAgICAgZWRpdG9yOiB0aGlzLFxuICAgICAgZG9tQXR0cmlidXRlczogaS5kb21BdHRyaWJ1dGVzIHx8IHt9LFxuICAgICAgYmxvY2tTY2hlbWE6IHRoaXMuc2NoZW1hLmJsb2NrU2NoZW1hLFxuICAgICAgYmxvY2tTcGVjczogdGhpcy5zY2hlbWEuYmxvY2tTcGVjcyxcbiAgICAgIHN0eWxlU3BlY3M6IHRoaXMuc2NoZW1hLnN0eWxlU3BlY3MsXG4gICAgICBpbmxpbmVDb250ZW50U3BlY3M6IHRoaXMuc2NoZW1hLmlubGluZUNvbnRlbnRTcGVjcyxcbiAgICAgIGNvbGxhYm9yYXRpb246IGkuY29sbGFib3JhdGlvbixcbiAgICAgIHRyYWlsaW5nQmxvY2s6IGkudHJhaWxpbmdCbG9ja1xuICAgIH0pLCByID0gQi5jcmVhdGUoe1xuICAgICAgbmFtZTogXCJCbG9ja05vdGVVSUV4dGVuc2lvblwiLFxuICAgICAgYWRkUHJvc2VNaXJyb3JQbHVnaW5zOiAoKSA9PiBbXG4gICAgICAgIHRoaXMuZm9ybWF0dGluZ1Rvb2xiYXIucGx1Z2luLFxuICAgICAgICB0aGlzLmxpbmtUb29sYmFyLnBsdWdpbixcbiAgICAgICAgdGhpcy5zaWRlTWVudS5wbHVnaW4sXG4gICAgICAgIHRoaXMuc3VnZ2VzdGlvbk1lbnVzLnBsdWdpbixcbiAgICAgICAgLi4udGhpcy5maWxlUGFuZWwgPyBbdGhpcy5maWxlUGFuZWwucGx1Z2luXSA6IFtdLFxuICAgICAgICAuLi50aGlzLnRhYmxlSGFuZGxlcyA/IFt0aGlzLnRhYmxlSGFuZGxlcy5wbHVnaW5dIDogW10sXG4gICAgICAgIEZuKHRoaXMsIGkucGxhY2Vob2xkZXJzKVxuICAgICAgXVxuICAgIH0pO1xuICAgIG4ucHVzaChyKSwgdGhpcy51cGxvYWRGaWxlID0gaS51cGxvYWRGaWxlLCB0aGlzLnJlc29sdmVGaWxlVXJsID0gaS5yZXNvbHZlRmlsZVVybCB8fCAoYXN5bmMgKGspID0+IGspLCBpLmNvbGxhYm9yYXRpb24gJiYgaS5pbml0aWFsQ29udGVudCAmJiBjb25zb2xlLndhcm4oXG4gICAgICBcIldoZW4gdXNpbmcgQ29sbGFib3JhdGlvbiwgaW5pdGlhbENvbnRlbnQgbWlnaHQgY2F1c2UgY29uZmxpY3RzLCBiZWNhdXNlIGNoYW5nZXMgc2hvdWxkIGNvbWUgZnJvbSB0aGUgY29sbGFib3JhdGlvbiBwcm92aWRlclwiXG4gICAgKTtcbiAgICBjb25zdCBhID0gaS5pbml0aWFsQ29udGVudCB8fCAoZS5jb2xsYWJvcmF0aW9uID8gW1xuICAgICAge1xuICAgICAgICB0eXBlOiBcInBhcmFncmFwaFwiLFxuICAgICAgICBpZDogXCJpbml0aWFsQmxvY2tJZFwiXG4gICAgICB9XG4gICAgXSA6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJwYXJhZ3JhcGhcIixcbiAgICAgICAgaWQ6IG9lLm9wdGlvbnMuZ2VuZXJhdGVJRCgpXG4gICAgICB9XG4gICAgXSk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGEpIHx8IGEubGVuZ3RoID09PSAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcImluaXRpYWxDb250ZW50IG11c3QgYmUgYSBub24tZW1wdHkgYXJyYXkgb2YgYmxvY2tzLCByZWNlaXZlZDogXCIgKyBhXG4gICAgICApO1xuICAgIGNvbnN0IHMgPSB7XG4gICAgICAuLi5HbixcbiAgICAgIC4uLmkuX3RpcHRhcE9wdGlvbnMsXG4gICAgICBjb250ZW50OiBhLFxuICAgICAgZXh0ZW5zaW9uczogaS5lbmFibGVCbG9ja05vdGVFeHRlbnNpb25zID09PSAhMSA/ICgobCA9IGkuX3RpcHRhcE9wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBsLmV4dGVuc2lvbnMpIHx8IFtdIDogWy4uLigoZCA9IGkuX3RpcHRhcE9wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBkLmV4dGVuc2lvbnMpIHx8IFtdLCAuLi5uXSxcbiAgICAgIGVkaXRvclByb3BzOiB7XG4gICAgICAgIC4uLih1ID0gaS5fdGlwdGFwT3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IHUuZWRpdG9yUHJvcHMsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAuLi4oaCA9IChwID0gaS5fdGlwdGFwT3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IHAuZWRpdG9yUHJvcHMpID09IG51bGwgPyB2b2lkIDAgOiBoLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgLi4uKG0gPSBpLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBtLmVkaXRvcixcbiAgICAgICAgICBjbGFzczogUihcbiAgICAgICAgICAgIFwiYm4tZWRpdG9yXCIsXG4gICAgICAgICAgICBpLmRlZmF1bHRTdHlsZXMgPyBcImJuLWRlZmF1bHQtc3R5bGVzXCIgOiBcIlwiLFxuICAgICAgICAgICAgKChnID0gKGYgPSBpLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBmLmVkaXRvcikgPT0gbnVsbCA/IHZvaWQgMCA6IGcuY2xhc3MpIHx8IFwiXCJcbiAgICAgICAgICApXG4gICAgICAgIH0sXG4gICAgICAgIHRyYW5zZm9ybVBhc3RlZDogVm5cbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuX3RpcHRhcEVkaXRvciA9IG5ldyBqbihcbiAgICAgIHMsXG4gICAgICB0aGlzLnNjaGVtYS5zdHlsZVNjaGVtYVxuICAgICk7XG4gIH1cbiAgc3RhdGljIGNyZWF0ZShlID0ge30pIHtcbiAgICByZXR1cm4gbmV3IHl0KGUpO1xuICB9XG4gIC8qKlxuICAgKiBNb3VudCB0aGUgZWRpdG9yIHRvIGEgcGFyZW50IERPTSBlbGVtZW50LiBDYWxsIG1vdW50KHVuZGVmaW5lZCkgdG8gY2xlYW4gdXBcbiAgICpcbiAgICogQHdhcm5pbmcgTm90IG5lZWRlZCBmb3IgUmVhY3QsIHVzZSBCbG9ja05vdGVWaWV3IHRvIHRha2UgY2FyZSBvZiB0aGlzXG4gICAqL1xuICBtb3VudChlKSB7XG4gICAgdGhpcy5fdGlwdGFwRWRpdG9yLm1vdW50KGUpO1xuICB9XG4gIGdldCBwcm9zZW1pcnJvclZpZXcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RpcHRhcEVkaXRvci52aWV3O1xuICB9XG4gIGdldCBkb21FbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3Iudmlldy5kb207XG4gIH1cbiAgaXNGb2N1c2VkKCkge1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3Iudmlldy5oYXNGb2N1cygpO1xuICB9XG4gIGZvY3VzKCkge1xuICAgIHRoaXMuX3RpcHRhcEVkaXRvci52aWV3LmZvY3VzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEBkZXByZWNhdGVkLCB1c2UgYGVkaXRvci5kb2N1bWVudGAgaW5zdGVhZFxuICAgKi9cbiAgZ2V0IHRvcExldmVsQmxvY2tzKCkge1xuICAgIHJldHVybiB0aGlzLnRvcExldmVsQmxvY2tzO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIGEgc25hcHNob3Qgb2YgYWxsIHRvcC1sZXZlbCAobm9uLW5lc3RlZCkgYmxvY2tzIGluIHRoZSBlZGl0b3IuXG4gICAqIEByZXR1cm5zIEEgc25hcHNob3Qgb2YgYWxsIHRvcC1sZXZlbCAobm9uLW5lc3RlZCkgYmxvY2tzIGluIHRoZSBlZGl0b3IuXG4gICAqL1xuICBnZXQgZG9jdW1lbnQoKSB7XG4gICAgY29uc3QgZSA9IFtdO1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuZG9jLmZpcnN0Q2hpbGQuZGVzY2VuZGFudHMoKG8pID0+IChlLnB1c2goXG4gICAgICB5KFxuICAgICAgICBvLFxuICAgICAgICB0aGlzLnNjaGVtYS5ibG9ja1NjaGVtYSxcbiAgICAgICAgdGhpcy5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgICAgdGhpcy5zY2hlbWEuc3R5bGVTY2hlbWEsXG4gICAgICAgIHRoaXMuYmxvY2tDYWNoZVxuICAgICAgKVxuICAgICksICExKSksIGU7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgYSBzbmFwc2hvdCBvZiBhbiBleGlzdGluZyBibG9jayBmcm9tIHRoZSBlZGl0b3IuXG4gICAqIEBwYXJhbSBibG9ja0lkZW50aWZpZXIgVGhlIGlkZW50aWZpZXIgb2YgYW4gZXhpc3RpbmcgYmxvY2sgdGhhdCBzaG91bGQgYmUgcmV0cmlldmVkLlxuICAgKiBAcmV0dXJucyBUaGUgYmxvY2sgdGhhdCBtYXRjaGVzIHRoZSBpZGVudGlmaWVyLCBvciBgdW5kZWZpbmVkYCBpZiBubyBtYXRjaGluZyBibG9jayB3YXMgZm91bmQuXG4gICAqL1xuICBnZXRCbG9jayhlKSB7XG4gICAgY29uc3QgbyA9IHR5cGVvZiBlID09IFwic3RyaW5nXCIgPyBlIDogZS5pZDtcbiAgICBsZXQgaTtcbiAgICByZXR1cm4gdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLmRvYy5maXJzdENoaWxkLmRlc2NlbmRhbnRzKChuKSA9PiB0eXBlb2YgaSA8IFwidVwiID8gITEgOiBuLnR5cGUubmFtZSAhPT0gXCJibG9ja0NvbnRhaW5lclwiIHx8IG4uYXR0cnMuaWQgIT09IG8gPyAhMCA6IChpID0geShcbiAgICAgIG4sXG4gICAgICB0aGlzLnNjaGVtYS5ibG9ja1NjaGVtYSxcbiAgICAgIHRoaXMuc2NoZW1hLmlubGluZUNvbnRlbnRTY2hlbWEsXG4gICAgICB0aGlzLnNjaGVtYS5zdHlsZVNjaGVtYSxcbiAgICAgIHRoaXMuYmxvY2tDYWNoZVxuICAgICksICExKSksIGk7XG4gIH1cbiAgLyoqXG4gICAqIFRyYXZlcnNlcyBhbGwgYmxvY2tzIGluIHRoZSBlZGl0b3IgZGVwdGgtZmlyc3QsIGFuZCBleGVjdXRlcyBhIGNhbGxiYWNrIGZvciBlYWNoLlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgZm9yIGVhY2ggYmxvY2suIFJldHVybmluZyBgZmFsc2VgIHN0b3BzIHRoZSB0cmF2ZXJzYWwuXG4gICAqIEBwYXJhbSByZXZlcnNlIFdoZXRoZXIgdGhlIGJsb2NrcyBzaG91bGQgYmUgdHJhdmVyc2VkIGluIHJldmVyc2Ugb3JkZXIuXG4gICAqL1xuICBmb3JFYWNoQmxvY2soZSwgbyA9ICExKSB7XG4gICAgY29uc3QgaSA9IHRoaXMuZG9jdW1lbnQuc2xpY2UoKTtcbiAgICBvICYmIGkucmV2ZXJzZSgpO1xuICAgIGZ1bmN0aW9uIG4ocikge1xuICAgICAgZm9yIChjb25zdCBhIG9mIHIpIHtcbiAgICAgICAgaWYgKCFlKGEpKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgY29uc3QgcyA9IG8gPyBhLmNoaWxkcmVuLnNsaWNlKCkucmV2ZXJzZSgpIDogYS5jaGlsZHJlbjtcbiAgICAgICAgaWYgKCFuKHMpKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgbihpKTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZXMgYSBjYWxsYmFjayB3aGVuZXZlciB0aGUgZWRpdG9yJ3MgY29udGVudHMgY2hhbmdlLlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUuXG4gICAqL1xuICBvbkVkaXRvckNvbnRlbnRDaGFuZ2UoZSkge1xuICAgIHRoaXMuX3RpcHRhcEVkaXRvci5vbihcInVwZGF0ZVwiLCBlKTtcbiAgfVxuICAvKipcbiAgICogRXhlY3V0ZXMgYSBjYWxsYmFjayB3aGVuZXZlciB0aGUgZWRpdG9yJ3Mgc2VsZWN0aW9uIGNoYW5nZXMuXG4gICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gZXhlY3V0ZS5cbiAgICovXG4gIG9uRWRpdG9yU2VsZWN0aW9uQ2hhbmdlKGUpIHtcbiAgICB0aGlzLl90aXB0YXBFZGl0b3Iub24oXCJzZWxlY3Rpb25VcGRhdGVcIiwgZSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgYSBzbmFwc2hvdCBvZiB0aGUgY3VycmVudCB0ZXh0IGN1cnNvciBwb3NpdGlvbi5cbiAgICogQHJldHVybnMgQSBzbmFwc2hvdCBvZiB0aGUgY3VycmVudCB0ZXh0IGN1cnNvciBwb3NpdGlvbi5cbiAgICovXG4gIGdldFRleHRDdXJzb3JQb3NpdGlvbigpIHtcbiAgICBjb25zdCB7IG5vZGU6IGUsIGRlcHRoOiBvLCBzdGFydFBvczogaSwgZW5kUG9zOiBuIH0gPSBiKFxuICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLmRvYyxcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uZnJvbVxuICAgICksIHIgPSB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuZG9jLnJlc29sdmUobikuaW5kZXgobyAtIDEpLCBhID0gdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLmRvYy5yZXNvbHZlKG4gKyAxKS5ub2RlKCkuY2hpbGRDb3VudDtcbiAgICBsZXQgcztcbiAgICByID4gMCAmJiAocyA9IHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5kb2MucmVzb2x2ZShpIC0gMikubm9kZSgpKTtcbiAgICBsZXQgbDtcbiAgICByZXR1cm4gciA8IGEgLSAxICYmIChsID0gdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLmRvYy5yZXNvbHZlKG4gKyAyKS5ub2RlKCkpLCB7XG4gICAgICBibG9jazogeShcbiAgICAgICAgZSxcbiAgICAgICAgdGhpcy5zY2hlbWEuYmxvY2tTY2hlbWEsXG4gICAgICAgIHRoaXMuc2NoZW1hLmlubGluZUNvbnRlbnRTY2hlbWEsXG4gICAgICAgIHRoaXMuc2NoZW1hLnN0eWxlU2NoZW1hLFxuICAgICAgICB0aGlzLmJsb2NrQ2FjaGVcbiAgICAgICksXG4gICAgICBwcmV2QmxvY2s6IHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHkoXG4gICAgICAgIHMsXG4gICAgICAgIHRoaXMuc2NoZW1hLmJsb2NrU2NoZW1hLFxuICAgICAgICB0aGlzLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hLFxuICAgICAgICB0aGlzLnNjaGVtYS5zdHlsZVNjaGVtYSxcbiAgICAgICAgdGhpcy5ibG9ja0NhY2hlXG4gICAgICApLFxuICAgICAgbmV4dEJsb2NrOiBsID09PSB2b2lkIDAgPyB2b2lkIDAgOiB5KFxuICAgICAgICBsLFxuICAgICAgICB0aGlzLnNjaGVtYS5ibG9ja1NjaGVtYSxcbiAgICAgICAgdGhpcy5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgICAgdGhpcy5zY2hlbWEuc3R5bGVTY2hlbWEsXG4gICAgICAgIHRoaXMuYmxvY2tDYWNoZVxuICAgICAgKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIHRleHQgY3Vyc29yIHBvc2l0aW9uIHRvIHRoZSBzdGFydCBvciBlbmQgb2YgYW4gZXhpc3RpbmcgYmxvY2suIFRocm93cyBhbiBlcnJvciBpZiB0aGUgdGFyZ2V0IGJsb2NrIGNvdWxkXG4gICAqIG5vdCBiZSBmb3VuZC5cbiAgICogQHBhcmFtIHRhcmdldEJsb2NrIFRoZSBpZGVudGlmaWVyIG9mIGFuIGV4aXN0aW5nIGJsb2NrIHRoYXQgdGhlIHRleHQgY3Vyc29yIHNob3VsZCBiZSBtb3ZlZCB0by5cbiAgICogQHBhcmFtIHBsYWNlbWVudCBXaGV0aGVyIHRoZSB0ZXh0IGN1cnNvciBzaG91bGQgYmUgcGxhY2VkIGF0IHRoZSBzdGFydCBvciBlbmQgb2YgdGhlIGJsb2NrLlxuICAgKi9cbiAgc2V0VGV4dEN1cnNvclBvc2l0aW9uKGUsIG8gPSBcInN0YXJ0XCIpIHtcbiAgICBjb25zdCBpID0gdHlwZW9mIGUgPT0gXCJzdHJpbmdcIiA/IGUgOiBlLmlkLCB7IHBvc0JlZm9yZU5vZGU6IG4gfSA9IE1lKGksIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5kb2MpLCB7IHN0YXJ0UG9zOiByLCBjb250ZW50Tm9kZTogYSB9ID0gYihcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5kb2MsXG4gICAgICBuICsgMlxuICAgICksIHMgPSB0aGlzLnNjaGVtYS5ibG9ja1NjaGVtYVthLnR5cGUubmFtZV0uY29udGVudDtcbiAgICBpZiAocyA9PT0gXCJub25lXCIpIHtcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5jb21tYW5kcy5zZXROb2RlU2VsZWN0aW9uKHIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocyA9PT0gXCJpbmxpbmVcIilcbiAgICAgIG8gPT09IFwic3RhcnRcIiA/IHRoaXMuX3RpcHRhcEVkaXRvci5jb21tYW5kcy5zZXRUZXh0U2VsZWN0aW9uKHIgKyAxKSA6IHRoaXMuX3RpcHRhcEVkaXRvci5jb21tYW5kcy5zZXRUZXh0U2VsZWN0aW9uKFxuICAgICAgICByICsgYS5ub2RlU2l6ZSAtIDFcbiAgICAgICk7XG4gICAgZWxzZSBpZiAocyA9PT0gXCJ0YWJsZVwiKVxuICAgICAgbyA9PT0gXCJzdGFydFwiID8gdGhpcy5fdGlwdGFwRWRpdG9yLmNvbW1hbmRzLnNldFRleHRTZWxlY3Rpb24ociArIDQpIDogdGhpcy5fdGlwdGFwRWRpdG9yLmNvbW1hbmRzLnNldFRleHRTZWxlY3Rpb24oXG4gICAgICAgIHIgKyBhLm5vZGVTaXplIC0gNFxuICAgICAgKTtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgTChzKTtcbiAgfVxuICAvKipcbiAgICogR2V0cyBhIHNuYXBzaG90IG9mIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICovXG4gIGdldFNlbGVjdGlvbigpIHtcbiAgICBpZiAodGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLnNlbGVjdGlvbi5mcm9tID09PSB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLnRvIHx8IFwibm9kZVwiIGluIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5zZWxlY3Rpb24pXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZSA9IFtdO1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuZG9jLmRlc2NlbmRhbnRzKChvLCBpKSA9PiBvLnR5cGUuc3BlYy5ncm91cCAhPT0gXCJibG9ja0NvbnRlbnRcIiB8fCBpICsgby5ub2RlU2l6ZSA8IHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uZnJvbSB8fCBpID4gdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLnNlbGVjdGlvbi50byA/ICEwIDogKGUucHVzaChcbiAgICAgIHkoXG4gICAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5kb2MucmVzb2x2ZShpKS5ub2RlKCksXG4gICAgICAgIHRoaXMuc2NoZW1hLmJsb2NrU2NoZW1hLFxuICAgICAgICB0aGlzLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hLFxuICAgICAgICB0aGlzLnNjaGVtYS5zdHlsZVNjaGVtYSxcbiAgICAgICAgdGhpcy5ibG9ja0NhY2hlXG4gICAgICApXG4gICAgKSwgITEpKSwgeyBibG9ja3M6IGUgfTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBlZGl0b3IgaXMgY3VycmVudGx5IGVkaXRhYmxlLCBvciBpZiBpdCdzIGxvY2tlZC5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZWRpdG9yIGlzIGVkaXRhYmxlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBnZXQgaXNFZGl0YWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGlwdGFwRWRpdG9yLmlzRWRpdGFibGU7XG4gIH1cbiAgLyoqXG4gICAqIE1ha2VzIHRoZSBlZGl0b3IgZWRpdGFibGUgb3IgbG9ja3MgaXQsIGRlcGVuZGluZyBvbiB0aGUgYXJndW1lbnQgcGFzc2VkLlxuICAgKiBAcGFyYW0gZWRpdGFibGUgVHJ1ZSB0byBtYWtlIHRoZSBlZGl0b3IgZWRpdGFibGUsIG9yIGZhbHNlIHRvIGxvY2sgaXQuXG4gICAqL1xuICBzZXQgaXNFZGl0YWJsZShlKSB7XG4gICAgdGhpcy5fdGlwdGFwRWRpdG9yLm9wdGlvbnMuZWRpdGFibGUgIT09IGUgJiYgdGhpcy5fdGlwdGFwRWRpdG9yLnNldEVkaXRhYmxlKGUpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnRzIG5ldyBibG9ja3MgaW50byB0aGUgZWRpdG9yLiBJZiBhIGJsb2NrJ3MgYGlkYCBpcyB1bmRlZmluZWQsIEJsb2NrTm90ZSBnZW5lcmF0ZXMgb25lIGF1dG9tYXRpY2FsbHkuIFRocm93cyBhblxuICAgKiBlcnJvciBpZiB0aGUgcmVmZXJlbmNlIGJsb2NrIGNvdWxkIG5vdCBiZSBmb3VuZC5cbiAgICogQHBhcmFtIGJsb2Nrc1RvSW5zZXJ0IEFuIGFycmF5IG9mIHBhcnRpYWwgYmxvY2tzIHRoYXQgc2hvdWxkIGJlIGluc2VydGVkLlxuICAgKiBAcGFyYW0gcmVmZXJlbmNlQmxvY2sgQW4gaWRlbnRpZmllciBmb3IgYW4gZXhpc3RpbmcgYmxvY2ssIGF0IHdoaWNoIHRoZSBuZXcgYmxvY2tzIHNob3VsZCBiZSBpbnNlcnRlZC5cbiAgICogQHBhcmFtIHBsYWNlbWVudCBXaGV0aGVyIHRoZSBibG9ja3Mgc2hvdWxkIGJlIGluc2VydGVkIGp1c3QgYmVmb3JlLCBqdXN0IGFmdGVyLCBvciBuZXN0ZWQgaW5zaWRlIHRoZVxuICAgKiBgcmVmZXJlbmNlQmxvY2tgLiBJbnNlcnRzIHRoZSBibG9ja3MgYXQgdGhlIHN0YXJ0IG9mIHRoZSBleGlzdGluZyBibG9jaydzIGNoaWxkcmVuIGlmIFwibmVzdGVkXCIgaXMgdXNlZC5cbiAgICovXG4gIGluc2VydEJsb2NrcyhlLCBvLCBpID0gXCJiZWZvcmVcIikge1xuICAgIHJldHVybiBSaShlLCBvLCBpLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyBhbiBleGlzdGluZyBibG9jayBpbiB0aGUgZWRpdG9yLiBTaW5jZSB1cGRhdGVkQmxvY2sgaXMgYSBQYXJ0aWFsQmxvY2sgb2JqZWN0LCBzb21lIGZpZWxkcyBtaWdodCBub3QgYmVcbiAgICogZGVmaW5lZC4gVGhlc2UgdW5kZWZpbmVkIGZpZWxkcyBhcmUga2VwdCBhcy1pcyBmcm9tIHRoZSBleGlzdGluZyBibG9jay4gVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBibG9jayB0byB1cGRhdGUgY291bGRcbiAgICogbm90IGJlIGZvdW5kLlxuICAgKiBAcGFyYW0gYmxvY2tUb1VwZGF0ZSBUaGUgYmxvY2sgdGhhdCBzaG91bGQgYmUgdXBkYXRlZC5cbiAgICogQHBhcmFtIHVwZGF0ZSBBIHBhcnRpYWwgYmxvY2sgd2hpY2ggZGVmaW5lcyBob3cgdGhlIGV4aXN0aW5nIGJsb2NrIHNob3VsZCBiZSBjaGFuZ2VkLlxuICAgKi9cbiAgdXBkYXRlQmxvY2soZSwgbykge1xuICAgIHJldHVybiBWaShlLCBvLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogUmVtb3ZlcyBleGlzdGluZyBibG9ja3MgZnJvbSB0aGUgZWRpdG9yLiBUaHJvd3MgYW4gZXJyb3IgaWYgYW55IG9mIHRoZSBibG9ja3MgY291bGQgbm90IGJlIGZvdW5kLlxuICAgKiBAcGFyYW0gYmxvY2tzVG9SZW1vdmUgQW4gYXJyYXkgb2YgaWRlbnRpZmllcnMgZm9yIGV4aXN0aW5nIGJsb2NrcyB0aGF0IHNob3VsZCBiZSByZW1vdmVkLlxuICAgKi9cbiAgcmVtb3ZlQmxvY2tzKGUpIHtcbiAgICByZXR1cm4gamkoZSwgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGV4aXN0aW5nIGJsb2NrcyBpbiB0aGUgZWRpdG9yIHdpdGggbmV3IGJsb2Nrcy4gSWYgdGhlIGJsb2NrcyB0aGF0IHNob3VsZCBiZSByZW1vdmVkIGFyZSBub3QgYWRqYWNlbnQgb3JcbiAgICogYXJlIGF0IGRpZmZlcmVudCBuZXN0aW5nIGxldmVscywgYGJsb2Nrc1RvSW5zZXJ0YCB3aWxsIGJlIGluc2VydGVkIGF0IHRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3QgYmxvY2sgaW5cbiAgICogYGJsb2Nrc1RvUmVtb3ZlYC4gVGhyb3dzIGFuIGVycm9yIGlmIGFueSBvZiB0aGUgYmxvY2tzIHRvIHJlbW92ZSBjb3VsZCBub3QgYmUgZm91bmQuXG4gICAqIEBwYXJhbSBibG9ja3NUb1JlbW92ZSBBbiBhcnJheSBvZiBibG9ja3MgdGhhdCBzaG91bGQgYmUgcmVwbGFjZWQuXG4gICAqIEBwYXJhbSBibG9ja3NUb0luc2VydCBBbiBhcnJheSBvZiBwYXJ0aWFsIGJsb2NrcyB0byByZXBsYWNlIHRoZSBvbGQgb25lcyB3aXRoLlxuICAgKi9cbiAgcmVwbGFjZUJsb2NrcyhlLCBvKSB7XG4gICAgcmV0dXJuIHppKGUsIG8sIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBJbnNlcnQgYSBwaWVjZSBvZiBjb250ZW50IGF0IHRoZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIGNvbnRlbnQgY2FuIGJlIGEgc3RyaW5nLCBvciBhcnJheSBvZiBwYXJ0aWFsIGlubGluZSBjb250ZW50IGVsZW1lbnRzXG4gICAqL1xuICBpbnNlcnRJbmxpbmVDb250ZW50KGUpIHtcbiAgICBjb25zdCBvID0gSyhcbiAgICAgIGUsXG4gICAgICB0aGlzLl90aXB0YXBFZGl0b3Iuc2NoZW1hLFxuICAgICAgdGhpcy5zY2hlbWEuc3R5bGVTY2hlbWFcbiAgICApO1xuICAgIEZpKFxuICAgICAge1xuICAgICAgICBmcm9tOiB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLmZyb20sXG4gICAgICAgIHRvOiB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLnRvXG4gICAgICB9LFxuICAgICAgbyxcbiAgICAgIHRoaXNcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBhY3RpdmUgdGV4dCBzdHlsZXMgYXQgdGhlIHRleHQgY3Vyc29yIHBvc2l0aW9uIG9yIGF0IHRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIGlmIGl0J3MgYWN0aXZlLlxuICAgKi9cbiAgZ2V0QWN0aXZlU3R5bGVzKCkge1xuICAgIGNvbnN0IGUgPSB7fSwgbyA9IHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uJHRvLm1hcmtzKCk7XG4gICAgZm9yIChjb25zdCBpIG9mIG8pIHtcbiAgICAgIGNvbnN0IG4gPSB0aGlzLnNjaGVtYS5zdHlsZVNjaGVtYVtpLnR5cGUubmFtZV07XG4gICAgICBpZiAoIW4pIHtcbiAgICAgICAgaS50eXBlLm5hbWUgIT09IFwibGlua1wiICYmIGNvbnNvbGUud2FybihcIm1hcmsgbm90IGZvdW5kIGluIHN0eWxlc2NoZW1hXCIsIGkudHlwZS5uYW1lKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBuLnByb3BTY2hlbWEgPT09IFwiYm9vbGVhblwiID8gZVtuLnR5cGVdID0gITAgOiBlW24udHlwZV0gPSBpLmF0dHJzLnN0cmluZ1ZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gZTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBzdHlsZXMgdG8gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBjb250ZW50LlxuICAgKiBAcGFyYW0gc3R5bGVzIFRoZSBzdHlsZXMgdG8gYWRkLlxuICAgKi9cbiAgYWRkU3R5bGVzKGUpIHtcbiAgICBmb3IgKGNvbnN0IFtvLCBpXSBvZiBPYmplY3QuZW50cmllcyhlKSkge1xuICAgICAgY29uc3QgbiA9IHRoaXMuc2NoZW1hLnN0eWxlU2NoZW1hW29dO1xuICAgICAgaWYgKCFuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN0eWxlICR7b30gbm90IGZvdW5kIGluIHN0eWxlU2NoZW1hYCk7XG4gICAgICBpZiAobi5wcm9wU2NoZW1hID09PSBcImJvb2xlYW5cIilcbiAgICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLmNvbW1hbmRzLnNldE1hcmsobyk7XG4gICAgICBlbHNlIGlmIChuLnByb3BTY2hlbWEgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5jb21tYW5kcy5zZXRNYXJrKG8sIHsgc3RyaW5nVmFsdWU6IGkgfSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBMKG4ucHJvcFNjaGVtYSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIHN0eWxlcyBmcm9tIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgY29udGVudC5cbiAgICogQHBhcmFtIHN0eWxlcyBUaGUgc3R5bGVzIHRvIHJlbW92ZS5cbiAgICovXG4gIHJlbW92ZVN0eWxlcyhlKSB7XG4gICAgZm9yIChjb25zdCBvIG9mIE9iamVjdC5rZXlzKGUpKVxuICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLmNvbW1hbmRzLnVuc2V0TWFyayhvKTtcbiAgfVxuICAvKipcbiAgICogVG9nZ2xlcyBzdHlsZXMgb24gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBjb250ZW50LlxuICAgKiBAcGFyYW0gc3R5bGVzIFRoZSBzdHlsZXMgdG8gdG9nZ2xlLlxuICAgKi9cbiAgdG9nZ2xlU3R5bGVzKGUpIHtcbiAgICBmb3IgKGNvbnN0IFtvLCBpXSBvZiBPYmplY3QuZW50cmllcyhlKSkge1xuICAgICAgY29uc3QgbiA9IHRoaXMuc2NoZW1hLnN0eWxlU2NoZW1hW29dO1xuICAgICAgaWYgKCFuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN0eWxlICR7b30gbm90IGZvdW5kIGluIHN0eWxlU2NoZW1hYCk7XG4gICAgICBpZiAobi5wcm9wU2NoZW1hID09PSBcImJvb2xlYW5cIilcbiAgICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLmNvbW1hbmRzLnRvZ2dsZU1hcmsobyk7XG4gICAgICBlbHNlIGlmIChuLnByb3BTY2hlbWEgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5jb21tYW5kcy50b2dnbGVNYXJrKG8sIHsgc3RyaW5nVmFsdWU6IGkgfSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBMKG4ucHJvcFNjaGVtYSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdGV4dC5cbiAgICovXG4gIGdldFNlbGVjdGVkVGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLmRvYy50ZXh0QmV0d2VlbihcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uZnJvbSxcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5zZWxlY3Rpb24udG9cbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSBVUkwgb2YgdGhlIGxhc3QgbGluayBpbiB0aGUgY3VycmVudCBzZWxlY3Rpb24sIG9yIGB1bmRlZmluZWRgIGlmIHRoZXJlIGFyZSBubyBsaW5rcyBpbiB0aGUgc2VsZWN0aW9uLlxuICAgKi9cbiAgZ2V0U2VsZWN0ZWRMaW5rVXJsKCkge1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3IuZ2V0QXR0cmlidXRlcyhcImxpbmtcIikuaHJlZjtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBsaW5rIHRvIHJlcGxhY2UgdGhlIHNlbGVjdGVkIGNvbnRlbnQuXG4gICAqIEBwYXJhbSB1cmwgVGhlIGxpbmsgVVJMLlxuICAgKiBAcGFyYW0gdGV4dCBUaGUgdGV4dCB0byBkaXNwbGF5IHRoZSBsaW5rIHdpdGguXG4gICAqL1xuICBjcmVhdGVMaW5rKGUsIG8pIHtcbiAgICBpZiAoZSA9PT0gXCJcIilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCB7IGZyb206IGksIHRvOiBuIH0gPSB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuc2VsZWN0aW9uO1xuICAgIG8gfHwgKG8gPSB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuZG9jLnRleHRCZXR3ZWVuKGksIG4pKTtcbiAgICBjb25zdCByID0gdGhpcy5fdGlwdGFwRWRpdG9yLnNjaGVtYS5tYXJrKFwibGlua1wiLCB7IGhyZWY6IGUgfSk7XG4gICAgdGhpcy5fdGlwdGFwRWRpdG9yLnZpZXcuZGlzcGF0Y2goXG4gICAgICB0aGlzLl90aXB0YXBFZGl0b3Iudmlldy5zdGF0ZS50ci5pbnNlcnRUZXh0KG8sIGksIG4pLmFkZE1hcmsoaSwgaSArIG8ubGVuZ3RoLCByKVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgYmxvY2sgY29udGFpbmluZyB0aGUgdGV4dCBjdXJzb3IgY2FuIGJlIG5lc3RlZC5cbiAgICovXG4gIGNhbk5lc3RCbG9jaygpIHtcbiAgICBjb25zdCB7IHN0YXJ0UG9zOiBlLCBkZXB0aDogbyB9ID0gYihcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5kb2MsXG4gICAgICB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuc2VsZWN0aW9uLmZyb21cbiAgICApO1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3Iuc3RhdGUuZG9jLnJlc29sdmUoZSkuaW5kZXgobyAtIDEpID4gMDtcbiAgfVxuICAvKipcbiAgICogTmVzdHMgdGhlIGJsb2NrIGNvbnRhaW5pbmcgdGhlIHRleHQgY3Vyc29yIGludG8gdGhlIGJsb2NrIGFib3ZlIGl0LlxuICAgKi9cbiAgbmVzdEJsb2NrKCkge1xuICAgIHRoaXMuX3RpcHRhcEVkaXRvci5jb21tYW5kcy5zaW5rTGlzdEl0ZW0oXCJibG9ja0NvbnRhaW5lclwiKTtcbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBibG9jayBjb250YWluaW5nIHRoZSB0ZXh0IGN1cnNvciBpcyBuZXN0ZWQuXG4gICAqL1xuICBjYW5Vbm5lc3RCbG9jaygpIHtcbiAgICBjb25zdCB7IGRlcHRoOiBlIH0gPSBiKFxuICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLnN0YXRlLmRvYyxcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5zdGF0ZS5zZWxlY3Rpb24uZnJvbVxuICAgICk7XG4gICAgcmV0dXJuIGUgPiAyO1xuICB9XG4gIC8qKlxuICAgKiBMaWZ0cyB0aGUgYmxvY2sgY29udGFpbmluZyB0aGUgdGV4dCBjdXJzb3Igb3V0IG9mIGl0cyBwYXJlbnQuXG4gICAqL1xuICB1bm5lc3RCbG9jaygpIHtcbiAgICB0aGlzLl90aXB0YXBFZGl0b3IuY29tbWFuZHMubGlmdExpc3RJdGVtKFwiYmxvY2tDb250YWluZXJcIik7XG4gIH1cbiAgLy8gVE9ETzogRml4IHdoZW4gaW1wbGVtZW50aW5nIEhUTUwvTWFya2Rvd24gaW1wb3J0ICYgZXhwb3J0XG4gIC8qKlxuICAgKiBTZXJpYWxpemVzIGJsb2NrcyBpbnRvIGFuIEhUTUwgc3RyaW5nLiBUbyBiZXR0ZXIgY29uZm9ybSB0byBIVE1MIHN0YW5kYXJkcywgY2hpbGRyZW4gb2YgYmxvY2tzIHdoaWNoIGFyZW4ndCBsaXN0XG4gICAqIGl0ZW1zIGFyZSB1bi1uZXN0ZWQgaW4gdGhlIG91dHB1dCBIVE1MLlxuICAgKiBAcGFyYW0gYmxvY2tzIEFuIGFycmF5IG9mIGJsb2NrcyB0aGF0IHNob3VsZCBiZSBzZXJpYWxpemVkIGludG8gSFRNTC5cbiAgICogQHJldHVybnMgVGhlIGJsb2Nrcywgc2VyaWFsaXplZCBhcyBhbiBIVE1MIHN0cmluZy5cbiAgICovXG4gIGFzeW5jIGJsb2Nrc1RvSFRNTExvc3N5KGUgPSB0aGlzLmRvY3VtZW50KSB7XG4gICAgcmV0dXJuIGFlKFxuICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLnNjaGVtYSxcbiAgICAgIHRoaXNcbiAgICApLmV4cG9ydEJsb2NrcyhlKTtcbiAgfVxuICAvKipcbiAgICogUGFyc2VzIGJsb2NrcyBmcm9tIGFuIEhUTUwgc3RyaW5nLiBUcmllcyB0byBjcmVhdGUgYEJsb2NrYCBvYmplY3RzIG91dCBvZiBhbnkgSFRNTCBibG9jay1sZXZlbCBlbGVtZW50cywgYW5kXG4gICAqIGBJbmxpbmVOb2RlYCBvYmplY3RzIGZyb20gYW55IEhUTUwgaW5saW5lIGVsZW1lbnRzLCB0aG91Z2ggbm90IGFsbCBlbGVtZW50IHR5cGVzIGFyZSByZWNvZ25pemVkLiBJZiBCbG9ja05vdGVcbiAgICogZG9lc24ndCByZWNvZ25pemUgYW4gSFRNTCBlbGVtZW50J3MgdGFnLCBpdCB3aWxsIHBhcnNlIGl0IGFzIGEgcGFyYWdyYXBoIG9yIHBsYWluIHRleHQuXG4gICAqIEBwYXJhbSBodG1sIFRoZSBIVE1MIHN0cmluZyB0byBwYXJzZSBibG9ja3MgZnJvbS5cbiAgICogQHJldHVybnMgVGhlIGJsb2NrcyBwYXJzZWQgZnJvbSB0aGUgSFRNTCBzdHJpbmcuXG4gICAqL1xuICBhc3luYyB0cnlQYXJzZUhUTUxUb0Jsb2NrcyhlKSB7XG4gICAgcmV0dXJuIGt0KFxuICAgICAgZSxcbiAgICAgIHRoaXMuc2NoZW1hLmJsb2NrU2NoZW1hLFxuICAgICAgdGhpcy5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgIHRoaXMuc2NoZW1hLnN0eWxlU2NoZW1hLFxuICAgICAgdGhpcy5fdGlwdGFwRWRpdG9yLnNjaGVtYVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFNlcmlhbGl6ZXMgYmxvY2tzIGludG8gYSBNYXJrZG93biBzdHJpbmcuIFRoZSBvdXRwdXQgaXMgc2ltcGxpZmllZCBhcyBNYXJrZG93biBkb2VzIG5vdCBzdXBwb3J0IGFsbCBmZWF0dXJlcyBvZlxuICAgKiBCbG9ja05vdGUgLSBjaGlsZHJlbiBvZiBibG9ja3Mgd2hpY2ggYXJlbid0IGxpc3QgaXRlbXMgYXJlIHVuLW5lc3RlZCBhbmQgY2VydGFpbiBzdHlsZXMgYXJlIHJlbW92ZWQuXG4gICAqIEBwYXJhbSBibG9ja3MgQW4gYXJyYXkgb2YgYmxvY2tzIHRoYXQgc2hvdWxkIGJlIHNlcmlhbGl6ZWQgaW50byBNYXJrZG93bi5cbiAgICogQHJldHVybnMgVGhlIGJsb2Nrcywgc2VyaWFsaXplZCBhcyBhIE1hcmtkb3duIHN0cmluZy5cbiAgICovXG4gIGFzeW5jIGJsb2Nrc1RvTWFya2Rvd25Mb3NzeShlID0gdGhpcy5kb2N1bWVudCkge1xuICAgIHJldHVybiBLaShlLCB0aGlzLl90aXB0YXBFZGl0b3Iuc2NoZW1hLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIGxpc3Qgb2YgYmxvY2tzIGZyb20gYSBNYXJrZG93biBzdHJpbmcuIFRyaWVzIHRvIGNyZWF0ZSBgQmxvY2tgIGFuZCBgSW5saW5lTm9kZWAgb2JqZWN0cyBiYXNlZCBvblxuICAgKiBNYXJrZG93biBzeW50YXgsIHRob3VnaCBub3QgYWxsIHN5bWJvbHMgYXJlIHJlY29nbml6ZWQuIElmIEJsb2NrTm90ZSBkb2Vzbid0IHJlY29nbml6ZSBhIHN5bWJvbCwgaXQgd2lsbCBwYXJzZSBpdFxuICAgKiBhcyB0ZXh0LlxuICAgKiBAcGFyYW0gbWFya2Rvd24gVGhlIE1hcmtkb3duIHN0cmluZyB0byBwYXJzZSBibG9ja3MgZnJvbS5cbiAgICogQHJldHVybnMgVGhlIGJsb2NrcyBwYXJzZWQgZnJvbSB0aGUgTWFya2Rvd24gc3RyaW5nLlxuICAgKi9cbiAgYXN5bmMgdHJ5UGFyc2VNYXJrZG93blRvQmxvY2tzKGUpIHtcbiAgICByZXR1cm4gUWkoXG4gICAgICBlLFxuICAgICAgdGhpcy5zY2hlbWEuYmxvY2tTY2hlbWEsXG4gICAgICB0aGlzLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hLFxuICAgICAgdGhpcy5zY2hlbWEuc3R5bGVTY2hlbWEsXG4gICAgICB0aGlzLl90aXB0YXBFZGl0b3Iuc2NoZW1hXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdXNlciBpbmZvIGZvciB0aGUgY3VycmVudCB1c2VyIHRoYXQncyBzaG93biB0byBvdGhlciBjb2xsYWJvcmF0b3JzLlxuICAgKi9cbiAgdXBkYXRlQ29sbGFib3JhdGlvblVzZXJJbmZvKGUpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5jb2xsYWJvcmF0aW9uKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkNhbm5vdCB1cGRhdGUgY29sbGFib3JhdGlvbiB1c2VyIGluZm8gd2hlbiBjb2xsYWJvcmF0aW9uIGlzIGRpc2FibGVkLlwiXG4gICAgICApO1xuICAgIHRoaXMuX3RpcHRhcEVkaXRvci5jb21tYW5kcy51cGRhdGVVc2VyKGUpO1xuICB9XG4gIC8qKlxuICAgKiBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgcnVucyB3aGVuZXZlciB0aGUgZWRpdG9yJ3MgY29udGVudHMgY2hhbmdlLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUuXG4gICAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoZSBjYWxsYmFjay5cbiAgICovXG4gIG9uQ2hhbmdlKGUpIHtcbiAgICBjb25zdCBvID0gKCkgPT4ge1xuICAgICAgZSh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3Iub24oXCJ1cGRhdGVcIiwgbyksICgpID0+IHtcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5vZmYoXCJ1cGRhdGVcIiwgbyk7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHJ1bnMgd2hlbmV2ZXIgdGhlIHRleHQgY3Vyc29yIHBvc2l0aW9uIG9yIHNlbGVjdGlvbiBjaGFuZ2VzLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUuXG4gICAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoZSBjYWxsYmFjay5cbiAgICovXG4gIG9uU2VsZWN0aW9uQ2hhbmdlKGUpIHtcbiAgICBjb25zdCBvID0gKCkgPT4ge1xuICAgICAgZSh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLl90aXB0YXBFZGl0b3Iub24oXCJzZWxlY3Rpb25VcGRhdGVcIiwgbyksICgpID0+IHtcbiAgICAgIHRoaXMuX3RpcHRhcEVkaXRvci5vZmYoXCJzZWxlY3Rpb25VcGRhdGVcIiwgbyk7XG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gV24odCkge1xuICBsZXQgZSA9IHQuZ2V0VGV4dEN1cnNvclBvc2l0aW9uKCkuYmxvY2ssIG8gPSB0LnNjaGVtYS5ibG9ja1NjaGVtYVtlLnR5cGVdLmNvbnRlbnQ7XG4gIGZvciAoOyBvID09PSBcIm5vbmVcIjsgKVxuICAgIGUgPSB0LmdldFRleHRDdXJzb3JQb3NpdGlvbigpLm5leHRCbG9jaywgbyA9IHQuc2NoZW1hLmJsb2NrU2NoZW1hW2UudHlwZV0uY29udGVudCwgdC5zZXRUZXh0Q3Vyc29yUG9zaXRpb24oZSwgXCJlbmRcIik7XG59XG5mdW5jdGlvbiB3KHQsIGUpIHtcbiAgY29uc3QgbyA9IHQuZ2V0VGV4dEN1cnNvclBvc2l0aW9uKCkuYmxvY2s7XG4gIGlmIChvLmNvbnRlbnQgPT09IHZvaWQgMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTbGFzaCBNZW51IG9wZW4gaW4gYSBibG9jayB0aGF0IGRvZXNuJ3QgY29udGFpbiBjb250ZW50LlwiKTtcbiAgQXJyYXkuaXNBcnJheShvLmNvbnRlbnQpICYmIChvLmNvbnRlbnQubGVuZ3RoID09PSAxICYmIHRlKG8uY29udGVudFswXSkgJiYgby5jb250ZW50WzBdLnR5cGUgPT09IFwidGV4dFwiICYmIG8uY29udGVudFswXS50ZXh0ID09PSBcIi9cIiB8fCBvLmNvbnRlbnQubGVuZ3RoID09PSAwKSA/IHQudXBkYXRlQmxvY2sobywgZSkgOiAodC5pbnNlcnRCbG9ja3MoW2VdLCBvLCBcImFmdGVyXCIpLCB0LnNldFRleHRDdXJzb3JQb3NpdGlvbihcbiAgICB0LmdldFRleHRDdXJzb3JQb3NpdGlvbigpLm5leHRCbG9jayxcbiAgICBcImVuZFwiXG4gICkpO1xuICBjb25zdCBpID0gdC5nZXRUZXh0Q3Vyc29yUG9zaXRpb24oKS5ibG9jaztcbiAgcmV0dXJuIFduKHQpLCBpO1xufVxuZnVuY3Rpb24genIodCkge1xuICBjb25zdCBlID0gW107XG4gIHJldHVybiB4KFwiaGVhZGluZ1wiLCB0KSAmJiBlLnB1c2goXG4gICAge1xuICAgICAgb25JdGVtQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgdyh0LCB7XG4gICAgICAgICAgdHlwZTogXCJoZWFkaW5nXCIsXG4gICAgICAgICAgcHJvcHM6IHsgbGV2ZWw6IDEgfVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBiYWRnZTogSChcIk1vZC1BbHQtMVwiKSxcbiAgICAgIGtleTogXCJoZWFkaW5nXCIsXG4gICAgICAuLi50LmRpY3Rpb25hcnkuc2xhc2hfbWVudS5oZWFkaW5nXG4gICAgfSxcbiAgICB7XG4gICAgICBvbkl0ZW1DbGljazogKCkgPT4ge1xuICAgICAgICB3KHQsIHtcbiAgICAgICAgICB0eXBlOiBcImhlYWRpbmdcIixcbiAgICAgICAgICBwcm9wczogeyBsZXZlbDogMiB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGJhZGdlOiBIKFwiTW9kLUFsdC0yXCIpLFxuICAgICAga2V5OiBcImhlYWRpbmdfMlwiLFxuICAgICAgLi4udC5kaWN0aW9uYXJ5LnNsYXNoX21lbnUuaGVhZGluZ18yXG4gICAgfSxcbiAgICB7XG4gICAgICBvbkl0ZW1DbGljazogKCkgPT4ge1xuICAgICAgICB3KHQsIHtcbiAgICAgICAgICB0eXBlOiBcImhlYWRpbmdcIixcbiAgICAgICAgICBwcm9wczogeyBsZXZlbDogMyB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGJhZGdlOiBIKFwiTW9kLUFsdC0zXCIpLFxuICAgICAga2V5OiBcImhlYWRpbmdfM1wiLFxuICAgICAgLi4udC5kaWN0aW9uYXJ5LnNsYXNoX21lbnUuaGVhZGluZ18zXG4gICAgfVxuICApLCB4KFwibnVtYmVyZWRMaXN0SXRlbVwiLCB0KSAmJiBlLnB1c2goe1xuICAgIG9uSXRlbUNsaWNrOiAoKSA9PiB7XG4gICAgICB3KHQsIHtcbiAgICAgICAgdHlwZTogXCJudW1iZXJlZExpc3RJdGVtXCJcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgYmFkZ2U6IEgoXCJNb2QtU2hpZnQtN1wiKSxcbiAgICBrZXk6IFwibnVtYmVyZWRfbGlzdFwiLFxuICAgIC4uLnQuZGljdGlvbmFyeS5zbGFzaF9tZW51Lm51bWJlcmVkX2xpc3RcbiAgfSksIHgoXCJidWxsZXRMaXN0SXRlbVwiLCB0KSAmJiBlLnB1c2goe1xuICAgIG9uSXRlbUNsaWNrOiAoKSA9PiB7XG4gICAgICB3KHQsIHtcbiAgICAgICAgdHlwZTogXCJidWxsZXRMaXN0SXRlbVwiXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGJhZGdlOiBIKFwiTW9kLVNoaWZ0LThcIiksXG4gICAga2V5OiBcImJ1bGxldF9saXN0XCIsXG4gICAgLi4udC5kaWN0aW9uYXJ5LnNsYXNoX21lbnUuYnVsbGV0X2xpc3RcbiAgfSksIHgoXCJjaGVja0xpc3RJdGVtXCIsIHQpICYmIGUucHVzaCh7XG4gICAgb25JdGVtQ2xpY2s6ICgpID0+IHtcbiAgICAgIHcodCwge1xuICAgICAgICB0eXBlOiBcImNoZWNrTGlzdEl0ZW1cIlxuICAgICAgfSk7XG4gICAgfSxcbiAgICBiYWRnZTogSChcIk1vZC1TaGlmdC05XCIpLFxuICAgIGtleTogXCJjaGVja19saXN0XCIsXG4gICAgLi4udC5kaWN0aW9uYXJ5LnNsYXNoX21lbnUuY2hlY2tfbGlzdFxuICB9KSwgeChcInBhcmFncmFwaFwiLCB0KSAmJiBlLnB1c2goe1xuICAgIG9uSXRlbUNsaWNrOiAoKSA9PiB7XG4gICAgICB3KHQsIHtcbiAgICAgICAgdHlwZTogXCJwYXJhZ3JhcGhcIlxuICAgICAgfSk7XG4gICAgfSxcbiAgICBiYWRnZTogSChcIk1vZC1BbHQtMFwiKSxcbiAgICBrZXk6IFwicGFyYWdyYXBoXCIsXG4gICAgLi4udC5kaWN0aW9uYXJ5LnNsYXNoX21lbnUucGFyYWdyYXBoXG4gIH0pLCB4KFwidGFibGVcIiwgdCkgJiYgZS5wdXNoKHtcbiAgICBvbkl0ZW1DbGljazogKCkgPT4ge1xuICAgICAgdyh0LCB7XG4gICAgICAgIHR5cGU6IFwidGFibGVcIixcbiAgICAgICAgY29udGVudDoge1xuICAgICAgICAgIHR5cGU6IFwidGFibGVDb250ZW50XCIsXG4gICAgICAgICAgcm93czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjZWxsczogW1wiXCIsIFwiXCIsIFwiXCJdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjZWxsczogW1wiXCIsIFwiXCIsIFwiXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGJhZGdlOiB2b2lkIDAsXG4gICAga2V5OiBcInRhYmxlXCIsXG4gICAgLi4udC5kaWN0aW9uYXJ5LnNsYXNoX21lbnUudGFibGVcbiAgfSksIHgoXCJpbWFnZVwiLCB0KSAmJiBlLnB1c2goe1xuICAgIG9uSXRlbUNsaWNrOiAoKSA9PiB7XG4gICAgICBjb25zdCBvID0gdyh0LCB7XG4gICAgICAgIHR5cGU6IFwiaW1hZ2VcIlxuICAgICAgfSk7XG4gICAgICB0LnByb3NlbWlycm9yVmlldy5kaXNwYXRjaChcbiAgICAgICAgdC5fdGlwdGFwRWRpdG9yLnN0YXRlLnRyLnNldE1ldGEodC5maWxlUGFuZWwucGx1Z2luLCB7XG4gICAgICAgICAgYmxvY2s6IG9cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBrZXk6IFwiaW1hZ2VcIixcbiAgICAuLi50LmRpY3Rpb25hcnkuc2xhc2hfbWVudS5pbWFnZVxuICB9KSwgeChcInZpZGVvXCIsIHQpICYmIGUucHVzaCh7XG4gICAgb25JdGVtQ2xpY2s6ICgpID0+IHtcbiAgICAgIGNvbnN0IG8gPSB3KHQsIHtcbiAgICAgICAgdHlwZTogXCJ2aWRlb1wiXG4gICAgICB9KTtcbiAgICAgIHQucHJvc2VtaXJyb3JWaWV3LmRpc3BhdGNoKFxuICAgICAgICB0Ll90aXB0YXBFZGl0b3Iuc3RhdGUudHIuc2V0TWV0YSh0LmZpbGVQYW5lbC5wbHVnaW4sIHtcbiAgICAgICAgICBibG9jazogb1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9LFxuICAgIGtleTogXCJ2aWRlb1wiLFxuICAgIC4uLnQuZGljdGlvbmFyeS5zbGFzaF9tZW51LnZpZGVvXG4gIH0pLCB4KFwiYXVkaW9cIiwgdCkgJiYgZS5wdXNoKHtcbiAgICBvbkl0ZW1DbGljazogKCkgPT4ge1xuICAgICAgY29uc3QgbyA9IHcodCwge1xuICAgICAgICB0eXBlOiBcImF1ZGlvXCJcbiAgICAgIH0pO1xuICAgICAgdC5wcm9zZW1pcnJvclZpZXcuZGlzcGF0Y2goXG4gICAgICAgIHQuX3RpcHRhcEVkaXRvci5zdGF0ZS50ci5zZXRNZXRhKHQuZmlsZVBhbmVsLnBsdWdpbiwge1xuICAgICAgICAgIGJsb2NrOiBvXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0sXG4gICAga2V5OiBcImF1ZGlvXCIsXG4gICAgLi4udC5kaWN0aW9uYXJ5LnNsYXNoX21lbnUuYXVkaW9cbiAgfSksIHgoXCJmaWxlXCIsIHQpICYmIGUucHVzaCh7XG4gICAgb25JdGVtQ2xpY2s6ICgpID0+IHtcbiAgICAgIGNvbnN0IG8gPSB3KHQsIHtcbiAgICAgICAgdHlwZTogXCJmaWxlXCJcbiAgICAgIH0pO1xuICAgICAgdC5wcm9zZW1pcnJvclZpZXcuZGlzcGF0Y2goXG4gICAgICAgIHQuX3RpcHRhcEVkaXRvci5zdGF0ZS50ci5zZXRNZXRhKHQuZmlsZVBhbmVsLnBsdWdpbiwge1xuICAgICAgICAgIGJsb2NrOiBvXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0sXG4gICAga2V5OiBcImltYWdlXCIsXG4gICAgLi4udC5kaWN0aW9uYXJ5LnNsYXNoX21lbnUuZmlsZVxuICB9KSwgZTtcbn1cbmZ1bmN0aW9uIEZyKHQsIGUpIHtcbiAgcmV0dXJuIHQuZmlsdGVyKFxuICAgICh7IHRpdGxlOiBvLCBhbGlhc2VzOiBpIH0pID0+IG8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhlLnRvTG93ZXJDYXNlKCkpIHx8IGkgJiYgaS5maWx0ZXIoXG4gICAgICAobikgPT4gbi50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGUudG9Mb3dlckNhc2UoKSlcbiAgICApLmxlbmd0aCAhPT0gMFxuICApO1xufVxuZnVuY3Rpb24gYmUodCA9IFwiXCIpIHtcbiAgcmV0dXJuIHR5cGVvZiB0ID09IFwic3RyaW5nXCIgPyBbXG4gICAge1xuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICB0ZXh0OiB0LFxuICAgICAgc3R5bGVzOiB7fVxuICAgIH1cbiAgXSA6IHQ7XG59XG5mdW5jdGlvbiB2dCh0KSB7XG4gIHJldHVybiB0eXBlb2YgdCA9PSBcInN0cmluZ1wiID8gYmUodCkgOiBBcnJheS5pc0FycmF5KHQpID8gdC5mbGF0TWFwKChlKSA9PiB0eXBlb2YgZSA9PSBcInN0cmluZ1wiID8gYmUoZSkgOiBZZShlKSA/IHtcbiAgICAuLi5lLFxuICAgIGNvbnRlbnQ6IGJlKGUuY29udGVudClcbiAgfSA6IHRlKGUpID8gZSA6IHtcbiAgICBwcm9wczoge30sXG4gICAgLi4uZSxcbiAgICBjb250ZW50OiB2dChlLmNvbnRlbnQpXG4gIH0pIDogdDtcbn1cbmZ1bmN0aW9uIEdyKHQsIGUpIHtcbiAgcmV0dXJuIGUubWFwKFxuICAgIChvKSA9PiB3dCh0LCBvKVxuICApO1xufVxuZnVuY3Rpb24gd3QodCwgZSkge1xuICBjb25zdCBvID0ge1xuICAgIGlkOiBcIlwiLFxuICAgIHR5cGU6IGUudHlwZSxcbiAgICBwcm9wczoge30sXG4gICAgY29udGVudDogdFtlLnR5cGVdLmNvbnRlbnQgPT09IFwiaW5saW5lXCIgPyBbXSA6IHZvaWQgMCxcbiAgICBjaGlsZHJlbjogW10sXG4gICAgLi4uZVxuICB9O1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXModFtlLnR5cGVdLnByb3BTY2hlbWEpLmZvckVhY2goXG4gICAgKFtpLCBuXSkgPT4ge1xuICAgICAgby5wcm9wc1tpXSA9PT0gdm9pZCAwICYmIChvLnByb3BzW2ldID0gbi5kZWZhdWx0KTtcbiAgICB9XG4gICksIHtcbiAgICAuLi5vLFxuICAgIGNvbnRlbnQ6IHZ0KG8uY29udGVudCksXG4gICAgY2hpbGRyZW46IG8uY2hpbGRyZW4ubWFwKChpKSA9PiB3dCh0LCBpKSlcbiAgfTtcbn1cbmZ1bmN0aW9uIEtuKHQpIHtcbiAgdC5pZCB8fCAodC5pZCA9IG9lLm9wdGlvbnMuZ2VuZXJhdGVJRCgpKSwgdC5jaGlsZHJlbiAmJiAkbih0LmNoaWxkcmVuKTtcbn1cbmZ1bmN0aW9uICRuKHQpIHtcbiAgZm9yIChjb25zdCBlIG9mIHQpXG4gICAgS24oZSk7XG59XG5leHBvcnQge1xuICBkaSBhcyBBdWRpb0Jsb2NrLFxuICB5dCBhcyBCbG9ja05vdGVFZGl0b3IsXG4gIEJlIGFzIEJsb2NrTm90ZVNjaGVtYSxcbiAgV28gYXMgRmlsZUJsb2NrLFxuICB0biBhcyBGaWxlUGFuZWxQcm9zZW1pcnJvclBsdWdpbixcbiAgZW4gYXMgRmlsZVBhbmVsVmlldyxcbiAgcm4gYXMgRm9ybWF0dGluZ1Rvb2xiYXJQcm9zZW1pcnJvclBsdWdpbixcbiAgb24gYXMgRm9ybWF0dGluZ1Rvb2xiYXJWaWV3LFxuICBKbyBhcyBJbWFnZUJsb2NrLFxuICBsbiBhcyBMaW5rVG9vbGJhclByb3NlbWlycm9yUGx1Z2luLFxuICBibiBhcyBTaWRlTWVudVByb3NlbWlycm9yUGx1Z2luLFxuICBmbiBhcyBTaWRlTWVudVZpZXcsXG4gIHVuIGFzIFN1Z2dlc3Rpb25NZW51UHJvc2VNaXJyb3JQbHVnaW4sXG4gIHduIGFzIFRhYmxlSGFuZGxlc1Byb3NlbWlycm9yUGx1Z2luLFxuICB2biBhcyBUYWJsZUhhbmRsZXNWaWV3LFxuICBvZSBhcyBVbmlxdWVJRCxcbiAgTCBhcyBVbnJlYWNoYWJsZUNhc2VFcnJvcixcbiAgaWkgYXMgVmlkZW9CbG9jayxcbiAgS24gYXMgYWRkSWRzVG9CbG9jayxcbiAgJG4gYXMgYWRkSWRzVG9CbG9ja3MsXG4gIEFvIGFzIGFkZElubGluZUNvbnRlbnRBdHRyaWJ1dGVzLFxuICBObyBhcyBhZGRJbmxpbmVDb250ZW50S2V5Ym9hcmRTaG9ydGN1dHMsXG4gIE9vIGFzIGFkZFN0eWxlQXR0cmlidXRlcyxcbiAgQnIgYXMgYXNzZXJ0RW1wdHksXG4gIHJpIGFzIGF1ZGlvQmxvY2tDb25maWcsXG4gIHNpIGFzIGF1ZGlvUGFyc2UsXG4gIG5pIGFzIGF1ZGlvUHJvcFNjaGVtYSxcbiAgYWkgYXMgYXVkaW9SZW5kZXIsXG4gIGxpIGFzIGF1ZGlvVG9FeHRlcm5hbEhUTUwsXG4gIFAgYXMgYmxvY2tUb05vZGUsXG4gIHJlIGFzIGNhbWVsVG9EYXRhS2ViYWIsXG4gIFZyIGFzIGNoZWNrQmxvY2tIYXNEZWZhdWx0UHJvcCxcbiAgRGkgYXMgY2hlY2tCbG9ja0lzRGVmYXVsdFR5cGUsXG4gIERyIGFzIGNoZWNrQmxvY2tJc0ZpbGVCbG9jayxcbiAgUnIgYXMgY2hlY2tCbG9ja0lzRmlsZUJsb2NrV2l0aFBsYWNlaG9sZGVyLFxuICBPciBhcyBjaGVja0Jsb2NrSXNGaWxlQmxvY2tXaXRoUHJldmlldyxcbiAgT2kgYXMgY2hlY2tCbG9ja1R5cGVIYXNEZWZhdWx0UHJvcCxcbiAgeCBhcyBjaGVja0RlZmF1bHRCbG9ja1R5cGVJblNjaGVtYSxcbiAgRWUgYXMgY29udGVudE5vZGVUb0lubGluZUNvbnRlbnQsXG4gIGRlIGFzIGNyZWF0ZUFkZEZpbGVCdXR0b24sXG4gIHNlIGFzIGNyZWF0ZUJsb2NrU3BlYyxcbiAgcSBhcyBjcmVhdGVCbG9ja1NwZWNGcm9tU3Ryb25nbHlUeXBlZFRpcHRhcE5vZGUsXG4gIGxlIGFzIGNyZWF0ZURlZmF1bHRGaWxlUHJldmlldyxcbiAgYWUgYXMgY3JlYXRlRXh0ZXJuYWxIVE1MRXhwb3J0ZXIsXG4gIENlIGFzIGNyZWF0ZUZpZ3VyZVdpdGhDYXB0aW9uLFxuICBqIGFzIGNyZWF0ZUZpbGVBbmRDYXB0aW9uV3JhcHBlcixcbiAgQXIgYXMgY3JlYXRlSW5saW5lQ29udGVudFNwZWMsXG4gIEhvIGFzIGNyZWF0ZUlubGluZUNvbnRlbnRTcGVjRnJvbVRpcFRhcE5vZGUsXG4gIHN0IGFzIGNyZWF0ZUludGVybmFsQmxvY2tTcGVjLFxuICBudCBhcyBjcmVhdGVJbnRlcm5hbEhUTUxTZXJpYWxpemVyLFxuICBQbyBhcyBjcmVhdGVJbnRlcm5hbElubGluZUNvbnRlbnRTcGVjLFxuICBjdCBhcyBjcmVhdGVJbnRlcm5hbFN0eWxlU3BlYyxcbiAgdWUgYXMgY3JlYXRlTGlua1dpdGhDYXB0aW9uLFxuICBwdCBhcyBjcmVhdGVSZXNpemVIYW5kbGVzV3JhcHBlcixcbiAgeiBhcyBjcmVhdGVTdHJvbmdseVR5cGVkVGlwdGFwTm9kZSxcbiAgTnIgYXMgY3JlYXRlU3R5bGVTcGVjLFxuICBVIGFzIGNyZWF0ZVN0eWxlU3BlY0Zyb21UaXBUYXBNYXJrLFxuICBqciBhcyBjcmVhdGVTdWdnZXN0aW9uTWVudSxcbiAgVWkgYXMgZGVmYXVsdEJsb2NrU2NoZW1hLFxuICBodCBhcyBkZWZhdWx0QmxvY2tTcGVjcyxcbiAgVXIgYXMgZGVmYXVsdElubGluZUNvbnRlbnRTY2hlbWEsXG4gIGZ0IGFzIGRlZmF1bHRJbmxpbmVDb250ZW50U3BlY3MsXG4gIF8gYXMgZGVmYXVsdFByb3BzLFxuICBIciBhcyBkZWZhdWx0U3R5bGVTY2hlbWEsXG4gIG10IGFzIGRlZmF1bHRTdHlsZVNwZWNzLFxuICBqbyBhcyBmaWxlQmxvY2tDb25maWcsXG4gIEZvIGFzIGZpbGVQYXJzZSxcbiAgVm8gYXMgZmlsZVByb3BTY2hlbWEsXG4gIHpvIGFzIGZpbGVSZW5kZXIsXG4gIEdvIGFzIGZpbGVUb0V4dGVybmFsSFRNTCxcbiAgSXIgYXMgZmlsZW5hbWVGcm9tVVJMLFxuICBGciBhcyBmaWx0ZXJTdWdnZXN0aW9uSXRlbXMsXG4gIEggYXMgZm9ybWF0S2V5Ym9hcmRTaG9ydGN1dCxcbiAgbm4gYXMgZm9ybWF0dGluZ1Rvb2xiYXJQbHVnaW5LZXksXG4gIExvIGFzIGdldEJsb2NrRnJvbVBvcyxcbiAgT24gYXMgZ2V0QmxvY2tOb3RlRXh0ZW5zaW9ucyxcbiAgbHQgYXMgZ2V0QmxvY2tTY2hlbWFGcm9tU3BlY3MsXG4gIHpyIGFzIGdldERlZmF1bHRTbGFzaE1lbnVJdGVtcyxcbiAgcGUgYXMgZ2V0RHJhZ2dhYmxlQmxvY2tGcm9tRWxlbWVudCxcbiAgVW8gYXMgZ2V0SW5saW5lQ29udGVudFBhcnNlUnVsZXMsXG4gIGR0IGFzIGdldElubGluZUNvbnRlbnRTY2hlbWFGcm9tU3BlY3MsXG4gIElvIGFzIGdldFBhcnNlUnVsZXMsXG4gIFJvIGFzIGdldFN0eWxlUGFyc2VSdWxlcyxcbiAgdXQgYXMgZ2V0U3R5bGVTY2hlbWFGcm9tU3BlY3MsXG4gICRvIGFzIGltYWdlQmxvY2tDb25maWcsXG4gIFhvIGFzIGltYWdlUGFyc2UsXG4gIEtvIGFzIGltYWdlUHJvcFNjaGVtYSxcbiAgcW8gYXMgaW1hZ2VSZW5kZXIsXG4gIFpvIGFzIGltYWdlVG9FeHRlcm5hbEhUTUwsXG4gIHJ0IGFzIGluaGVyaXRlZFByb3BzLFxuICBLIGFzIGlubGluZUNvbnRlbnRUb05vZGVzLFxuICB3IGFzIGluc2VydE9yVXBkYXRlQmxvY2ssXG4gIEJvIGFzIGlzQXBwbGVPUyxcbiAgSGUgYXMgaXNMaW5rSW5saW5lQ29udGVudCxcbiAgWWUgYXMgaXNQYXJ0aWFsTGlua0lubGluZUNvbnRlbnQsXG4gIExyIGFzIGlzU2FmYXJpLFxuICB0ZSBhcyBpc1N0eWxlZFRleHRJbmxpbmVDb250ZW50LFxuICBzbiBhcyBsaW5rVG9vbGJhclBsdWdpbktleSxcbiAgVHIgYXMgbG9jYWxlcyxcbiAgUiBhcyBtZXJnZUNTU0NsYXNzZXMsXG4gIHkgYXMgbm9kZVRvQmxvY2ssXG4gIHR0IGFzIG5vZGVUb0N1c3RvbUlubGluZUNvbnRlbnQsXG4gIE9lIGFzIHBhcnNlRW1iZWRFbGVtZW50LFxuICBjZSBhcyBwYXJzZUZpZ3VyZUVsZW1lbnQsXG4gIFJlIGFzIHBhcnNlSW1hZ2VFbGVtZW50LFxuICB3dCBhcyBwYXJ0aWFsQmxvY2tUb0Jsb2NrRm9yVGVzdGluZyxcbiAgR3IgYXMgcGFydGlhbEJsb2Nrc1RvQmxvY2tzRm9yVGVzdGluZyxcbiAgYXQgYXMgcHJvcHNUb0F0dHJpYnV0ZXMsXG4gIGduIGFzIHNpZGVNZW51UGx1Z2luS2V5LFxuICBEbyBhcyBzdHlsZVByb3BzVG9BdHRyaWJ1dGVzLFxuICBPIGFzIHN1Z2dlc3Rpb25NZW51UGx1Z2luS2V5LFxuICBRZSBhcyB0YWJsZUNvbnRlbnRUb05vZGVzLFxuICBRIGFzIHRhYmxlSGFuZGxlc1BsdWdpbktleSxcbiAgUHIgYXMgdXBsb2FkVG9UbXBGaWxlc0RvdE9yZ19ERVZfT05MWSxcbiAgUW8gYXMgdmlkZW9CbG9ja0NvbmZpZyxcbiAgdGkgYXMgdmlkZW9QYXJzZSxcbiAgWW8gYXMgdmlkZW9Qcm9wU2NoZW1hLFxuICBlaSBhcyB2aWRlb1JlbmRlcixcbiAgb2kgYXMgdmlkZW9Ub0V4dGVybmFsSFRNTCxcbiAgbWUgYXMgd3JhcEluQmxvY2tTdHJ1Y3R1cmVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ibG9ja25vdGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@blocknote/core/dist/blocknote.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@blocknote/mantine/dist/blocknote-mantine.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@blocknote/mantine/dist/blocknote-mantine.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlockNoteView: () => (/* binding */ en),\n/* harmony export */   applyBlockNoteCSSVariablesFromTheme: () => (/* binding */ Ve),\n/* harmony export */   components: () => (/* binding */ Ut),\n/* harmony export */   darkDefaultTheme: () => (/* binding */ Qt),\n/* harmony export */   defaultColorScheme: () => (/* binding */ x),\n/* harmony export */   lightDefaultTheme: () => (/* binding */ He),\n/* harmony export */   removeBlockNoteCSSVariables: () => (/* binding */ ut)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _blocknote_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @blocknote/react */ \"(ssr)/./node_modules/@blocknote/react/dist/blocknote-react.js\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/TextInput/TextInput.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Menu/Menu.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Checkbox/CheckIcon.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Group/Group.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Tabs/Tabs.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/LoadingOverlay/LoadingOverlay.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Button/Button.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/FileInput/FileInput.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Popover/Popover.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Popover/PopoverTarget/PopoverTarget.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Popover/PopoverDropdown/PopoverDropdown.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/ActionIcon/ActionIcon.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Stack/Stack.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Text/Text.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Badge/Badge.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Loader/Loader.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/components/Tooltip/Tooltip.mjs\");\n/* harmony import */ var _mantine_core__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @mantine/core */ \"(ssr)/./node_modules/@mantine/core/esm/core/MantineProvider/MantineProvider.mjs\");\n/* harmony import */ var use_prefers_color_scheme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! use-prefers-color-scheme */ \"(ssr)/./node_modules/use-prefers-color-scheme/dist/index.esm.js\");\n/* harmony import */ var _blocknote_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @blocknote/core */ \"(ssr)/./node_modules/@blocknote/core/dist/blocknote.js\");\n/* harmony import */ var _mantine_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mantine/hooks */ \"(ssr)/./node_modules/@mantine/hooks/esm/use-merged-ref/use-merged-ref.mjs\");\n/* harmony import */ var _mantine_hooks__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @mantine/hooks */ \"(ssr)/./node_modules/@mantine/hooks/esm/use-focus-within/use-focus-within.mjs\");\n/* harmony import */ var _mantine_hooks__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @mantine/hooks */ \"(ssr)/./node_modules/@mantine/hooks/esm/use-focus-trap/use-focus-trap.mjs\");\n\n\n\n\n\n\nvar ve = { exports: {} }, V = {};\n/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar We;\nfunction it() {\n  if (We)\n    return V;\n  We = 1;\n  var r = react__WEBPACK_IMPORTED_MODULE_0__, t = Symbol.for(\"react.element\"), n = Symbol.for(\"react.fragment\"), o = Object.prototype.hasOwnProperty, s = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, c = { key: !0, ref: !0, __self: !0, __source: !0 };\n  function f(u, d, b) {\n    var h, w = {}, k = null, K = null;\n    b !== void 0 && (k = \"\" + b), d.key !== void 0 && (k = \"\" + d.key), d.ref !== void 0 && (K = d.ref);\n    for (h in d)\n      o.call(d, h) && !c.hasOwnProperty(h) && (w[h] = d[h]);\n    if (u && u.defaultProps)\n      for (h in d = u.defaultProps, d)\n        w[h] === void 0 && (w[h] = d[h]);\n    return { $$typeof: t, type: u, key: k, ref: K, props: w, _owner: s.current };\n  }\n  return V.Fragment = n, V.jsx = f, V.jsxs = f, V;\n}\nvar Y = {};\n/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar Be;\nfunction st() {\n  return Be || (Be = 1,  true && function() {\n    var r = react__WEBPACK_IMPORTED_MODULE_0__, t = Symbol.for(\"react.element\"), n = Symbol.for(\"react.portal\"), o = Symbol.for(\"react.fragment\"), s = Symbol.for(\"react.strict_mode\"), c = Symbol.for(\"react.profiler\"), f = Symbol.for(\"react.provider\"), u = Symbol.for(\"react.context\"), d = Symbol.for(\"react.forward_ref\"), b = Symbol.for(\"react.suspense\"), h = Symbol.for(\"react.suspense_list\"), w = Symbol.for(\"react.memo\"), k = Symbol.for(\"react.lazy\"), K = Symbol.for(\"react.offscreen\"), pe = Symbol.iterator, nr = \"@@iterator\";\n    function or(e) {\n      if (e === null || typeof e != \"object\")\n        return null;\n      var a = pe && e[pe] || e[nr];\n      return typeof a == \"function\" ? a : null;\n    }\n    var L = r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n    function S(e) {\n      {\n        for (var a = arguments.length, i = new Array(a > 1 ? a - 1 : 0), v = 1; v < a; v++)\n          i[v - 1] = arguments[v];\n        ar(\"error\", e, i);\n      }\n    }\n    function ar(e, a, i) {\n      {\n        var v = L.ReactDebugCurrentFrame, m = v.getStackAddendum();\n        m !== \"\" && (a += \"%s\", i = i.concat([m]));\n        var y = i.map(function(p) {\n          return String(p);\n        });\n        y.unshift(\"Warning: \" + a), Function.prototype.apply.call(console[e], console, y);\n      }\n    }\n    var ir = !1, sr = !1, lr = !1, ur = !1, cr = !1, me;\n    me = Symbol.for(\"react.module.reference\");\n    function dr(e) {\n      return !!(typeof e == \"string\" || typeof e == \"function\" || e === o || e === c || cr || e === s || e === b || e === h || ur || e === K || ir || sr || lr || typeof e == \"object\" && e !== null && (e.$$typeof === k || e.$$typeof === w || e.$$typeof === f || e.$$typeof === u || e.$$typeof === d || // This needs to include all possible module reference object\n      // types supported by any Flight configuration anywhere since\n      // we don't know which Flight build this will end up being used\n      // with.\n      e.$$typeof === me || e.getModuleId !== void 0));\n    }\n    function fr(e, a, i) {\n      var v = e.displayName;\n      if (v)\n        return v;\n      var m = a.displayName || a.name || \"\";\n      return m !== \"\" ? i + \"(\" + m + \")\" : i;\n    }\n    function he(e) {\n      return e.displayName || \"Context\";\n    }\n    function F(e) {\n      if (e == null)\n        return null;\n      if (typeof e.tag == \"number\" && S(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"), typeof e == \"function\")\n        return e.displayName || e.name || null;\n      if (typeof e == \"string\")\n        return e;\n      switch (e) {\n        case o:\n          return \"Fragment\";\n        case n:\n          return \"Portal\";\n        case c:\n          return \"Profiler\";\n        case s:\n          return \"StrictMode\";\n        case b:\n          return \"Suspense\";\n        case h:\n          return \"SuspenseList\";\n      }\n      if (typeof e == \"object\")\n        switch (e.$$typeof) {\n          case u:\n            var a = e;\n            return he(a) + \".Consumer\";\n          case f:\n            var i = e;\n            return he(i._context) + \".Provider\";\n          case d:\n            return fr(e, e.render, \"ForwardRef\");\n          case w:\n            var v = e.displayName || null;\n            return v !== null ? v : F(e.type) || \"Memo\";\n          case k: {\n            var m = e, y = m._payload, p = m._init;\n            try {\n              return F(p(y));\n            } catch {\n              return null;\n            }\n          }\n        }\n      return null;\n    }\n    var M = Object.assign, z = 0, xe, ye, je, Re, Ee, Te, we;\n    function ke() {\n    }\n    ke.__reactDisabledLog = !0;\n    function vr() {\n      {\n        if (z === 0) {\n          xe = console.log, ye = console.info, je = console.warn, Re = console.error, Ee = console.group, Te = console.groupCollapsed, we = console.groupEnd;\n          var e = {\n            configurable: !0,\n            enumerable: !0,\n            value: ke,\n            writable: !0\n          };\n          Object.defineProperties(console, {\n            info: e,\n            log: e,\n            warn: e,\n            error: e,\n            group: e,\n            groupCollapsed: e,\n            groupEnd: e\n          });\n        }\n        z++;\n      }\n    }\n    function br() {\n      {\n        if (z--, z === 0) {\n          var e = {\n            configurable: !0,\n            enumerable: !0,\n            writable: !0\n          };\n          Object.defineProperties(console, {\n            log: M({}, e, {\n              value: xe\n            }),\n            info: M({}, e, {\n              value: ye\n            }),\n            warn: M({}, e, {\n              value: je\n            }),\n            error: M({}, e, {\n              value: Re\n            }),\n            group: M({}, e, {\n              value: Ee\n            }),\n            groupCollapsed: M({}, e, {\n              value: Te\n            }),\n            groupEnd: M({}, e, {\n              value: we\n            })\n          });\n        }\n        z < 0 && S(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\");\n      }\n    }\n    var re = L.ReactCurrentDispatcher, te;\n    function G(e, a, i) {\n      {\n        if (te === void 0)\n          try {\n            throw Error();\n          } catch (m) {\n            var v = m.stack.trim().match(/\\n( *(at )?)/);\n            te = v && v[1] || \"\";\n          }\n        return `\n` + te + e;\n      }\n    }\n    var ne = !1, H;\n    {\n      var gr = typeof WeakMap == \"function\" ? WeakMap : Map;\n      H = new gr();\n    }\n    function Se(e, a) {\n      if (!e || ne)\n        return \"\";\n      {\n        var i = H.get(e);\n        if (i !== void 0)\n          return i;\n      }\n      var v;\n      ne = !0;\n      var m = Error.prepareStackTrace;\n      Error.prepareStackTrace = void 0;\n      var y;\n      y = re.current, re.current = null, vr();\n      try {\n        if (a) {\n          var p = function() {\n            throw Error();\n          };\n          if (Object.defineProperty(p.prototype, \"props\", {\n            set: function() {\n              throw Error();\n            }\n          }), typeof Reflect == \"object\" && Reflect.construct) {\n            try {\n              Reflect.construct(p, []);\n            } catch (_) {\n              v = _;\n            }\n            Reflect.construct(e, [], p);\n          } else {\n            try {\n              p.call();\n            } catch (_) {\n              v = _;\n            }\n            e.call(p.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (_) {\n            v = _;\n          }\n          e();\n        }\n      } catch (_) {\n        if (_ && v && typeof _.stack == \"string\") {\n          for (var g = _.stack.split(`\n`), P = v.stack.split(`\n`), E = g.length - 1, T = P.length - 1; E >= 1 && T >= 0 && g[E] !== P[T]; )\n            T--;\n          for (; E >= 1 && T >= 0; E--, T--)\n            if (g[E] !== P[T]) {\n              if (E !== 1 || T !== 1)\n                do\n                  if (E--, T--, T < 0 || g[E] !== P[T]) {\n                    var C = `\n` + g[E].replace(\" at new \", \" at \");\n                    return e.displayName && C.includes(\"<anonymous>\") && (C = C.replace(\"<anonymous>\", e.displayName)), typeof e == \"function\" && H.set(e, C), C;\n                  }\n                while (E >= 1 && T >= 0);\n              break;\n            }\n        }\n      } finally {\n        ne = !1, re.current = y, br(), Error.prepareStackTrace = m;\n      }\n      var $ = e ? e.displayName || e.name : \"\", I = $ ? G($) : \"\";\n      return typeof e == \"function\" && H.set(e, I), I;\n    }\n    function pr(e, a, i) {\n      return Se(e, !1);\n    }\n    function mr(e) {\n      var a = e.prototype;\n      return !!(a && a.isReactComponent);\n    }\n    function J(e, a, i) {\n      if (e == null)\n        return \"\";\n      if (typeof e == \"function\")\n        return Se(e, mr(e));\n      if (typeof e == \"string\")\n        return G(e);\n      switch (e) {\n        case b:\n          return G(\"Suspense\");\n        case h:\n          return G(\"SuspenseList\");\n      }\n      if (typeof e == \"object\")\n        switch (e.$$typeof) {\n          case d:\n            return pr(e.render);\n          case w:\n            return J(e.type, a, i);\n          case k: {\n            var v = e, m = v._payload, y = v._init;\n            try {\n              return J(y(m), a, i);\n            } catch {\n            }\n          }\n        }\n      return \"\";\n    }\n    var W = Object.prototype.hasOwnProperty, Pe = {}, _e = L.ReactDebugCurrentFrame;\n    function q(e) {\n      if (e) {\n        var a = e._owner, i = J(e.type, e._source, a ? a.type : null);\n        _e.setExtraStackFrame(i);\n      } else\n        _e.setExtraStackFrame(null);\n    }\n    function hr(e, a, i, v, m) {\n      {\n        var y = Function.call.bind(W);\n        for (var p in e)\n          if (y(e, p)) {\n            var g = void 0;\n            try {\n              if (typeof e[p] != \"function\") {\n                var P = Error((v || \"React class\") + \": \" + i + \" type `\" + p + \"` is invalid; it must be a function, usually from the `prop-types` package, but received `\" + typeof e[p] + \"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");\n                throw P.name = \"Invariant Violation\", P;\n              }\n              g = e[p](a, p, v, i, null, \"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\");\n            } catch (E) {\n              g = E;\n            }\n            g && !(g instanceof Error) && (q(m), S(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\", v || \"React class\", i, p, typeof g), q(null)), g instanceof Error && !(g.message in Pe) && (Pe[g.message] = !0, q(m), S(\"Failed %s type: %s\", i, g.message), q(null));\n          }\n      }\n    }\n    var xr = Array.isArray;\n    function oe(e) {\n      return xr(e);\n    }\n    function yr(e) {\n      {\n        var a = typeof Symbol == \"function\" && Symbol.toStringTag, i = a && e[Symbol.toStringTag] || e.constructor.name || \"Object\";\n        return i;\n      }\n    }\n    function jr(e) {\n      try {\n        return Ce(e), !1;\n      } catch {\n        return !0;\n      }\n    }\n    function Ce(e) {\n      return \"\" + e;\n    }\n    function Oe(e) {\n      if (jr(e))\n        return S(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\", yr(e)), Ce(e);\n    }\n    var B = L.ReactCurrentOwner, Rr = {\n      key: !0,\n      ref: !0,\n      __self: !0,\n      __source: !0\n    }, Fe, De, ae;\n    ae = {};\n    function Er(e) {\n      if (W.call(e, \"ref\")) {\n        var a = Object.getOwnPropertyDescriptor(e, \"ref\").get;\n        if (a && a.isReactWarning)\n          return !1;\n      }\n      return e.ref !== void 0;\n    }\n    function Tr(e) {\n      if (W.call(e, \"key\")) {\n        var a = Object.getOwnPropertyDescriptor(e, \"key\").get;\n        if (a && a.isReactWarning)\n          return !1;\n      }\n      return e.key !== void 0;\n    }\n    function wr(e, a) {\n      if (typeof e.ref == \"string\" && B.current && a && B.current.stateNode !== a) {\n        var i = F(B.current.type);\n        ae[i] || (S('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref', F(B.current.type), e.ref), ae[i] = !0);\n      }\n    }\n    function kr(e, a) {\n      {\n        var i = function() {\n          Fe || (Fe = !0, S(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\", a));\n        };\n        i.isReactWarning = !0, Object.defineProperty(e, \"key\", {\n          get: i,\n          configurable: !0\n        });\n      }\n    }\n    function Sr(e, a) {\n      {\n        var i = function() {\n          De || (De = !0, S(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\", a));\n        };\n        i.isReactWarning = !0, Object.defineProperty(e, \"ref\", {\n          get: i,\n          configurable: !0\n        });\n      }\n    }\n    var Pr = function(e, a, i, v, m, y, p) {\n      var g = {\n        // This tag allows us to uniquely identify this as a React Element\n        $$typeof: t,\n        // Built-in properties that belong on the element\n        type: e,\n        key: a,\n        ref: i,\n        props: p,\n        // Record the component responsible for creating this element.\n        _owner: y\n      };\n      return g._store = {}, Object.defineProperty(g._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: !1\n      }), Object.defineProperty(g, \"_self\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !1,\n        value: v\n      }), Object.defineProperty(g, \"_source\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !1,\n        value: m\n      }), Object.freeze && (Object.freeze(g.props), Object.freeze(g)), g;\n    };\n    function _r(e, a, i, v, m) {\n      {\n        var y, p = {}, g = null, P = null;\n        i !== void 0 && (Oe(i), g = \"\" + i), Tr(a) && (Oe(a.key), g = \"\" + a.key), Er(a) && (P = a.ref, wr(a, m));\n        for (y in a)\n          W.call(a, y) && !Rr.hasOwnProperty(y) && (p[y] = a[y]);\n        if (e && e.defaultProps) {\n          var E = e.defaultProps;\n          for (y in E)\n            p[y] === void 0 && (p[y] = E[y]);\n        }\n        if (g || P) {\n          var T = typeof e == \"function\" ? e.displayName || e.name || \"Unknown\" : e;\n          g && kr(p, T), P && Sr(p, T);\n        }\n        return Pr(e, g, P, m, v, B.current, p);\n      }\n    }\n    var ie = L.ReactCurrentOwner, Ne = L.ReactDebugCurrentFrame;\n    function A(e) {\n      if (e) {\n        var a = e._owner, i = J(e.type, e._source, a ? a.type : null);\n        Ne.setExtraStackFrame(i);\n      } else\n        Ne.setExtraStackFrame(null);\n    }\n    var se;\n    se = !1;\n    function le(e) {\n      return typeof e == \"object\" && e !== null && e.$$typeof === t;\n    }\n    function Me() {\n      {\n        if (ie.current) {\n          var e = F(ie.current.type);\n          if (e)\n            return `\n\nCheck the render method of \\`` + e + \"`.\";\n        }\n        return \"\";\n      }\n    }\n    function Cr(e) {\n      {\n        if (e !== void 0) {\n          var a = e.fileName.replace(/^.*[\\\\\\/]/, \"\"), i = e.lineNumber;\n          return `\n\nCheck your code at ` + a + \":\" + i + \".\";\n        }\n        return \"\";\n      }\n    }\n    var Ie = {};\n    function Or(e) {\n      {\n        var a = Me();\n        if (!a) {\n          var i = typeof e == \"string\" ? e : e.displayName || e.name;\n          i && (a = `\n\nCheck the top-level render call using <` + i + \">.\");\n        }\n        return a;\n      }\n    }\n    function Le(e, a) {\n      {\n        if (!e._store || e._store.validated || e.key != null)\n          return;\n        e._store.validated = !0;\n        var i = Or(a);\n        if (Ie[i])\n          return;\n        Ie[i] = !0;\n        var v = \"\";\n        e && e._owner && e._owner !== ie.current && (v = \" It was passed a child from \" + F(e._owner.type) + \".\"), A(e), S('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.', i, v), A(null);\n      }\n    }\n    function Ae(e, a) {\n      {\n        if (typeof e != \"object\")\n          return;\n        if (oe(e))\n          for (var i = 0; i < e.length; i++) {\n            var v = e[i];\n            le(v) && Le(v, a);\n          }\n        else if (le(e))\n          e._store && (e._store.validated = !0);\n        else if (e) {\n          var m = or(e);\n          if (typeof m == \"function\" && m !== e.entries)\n            for (var y = m.call(e), p; !(p = y.next()).done; )\n              le(p.value) && Le(p.value, a);\n        }\n      }\n    }\n    function Fr(e) {\n      {\n        var a = e.type;\n        if (a == null || typeof a == \"string\")\n          return;\n        var i;\n        if (typeof a == \"function\")\n          i = a.propTypes;\n        else if (typeof a == \"object\" && (a.$$typeof === d || // Note: Memo only checks outer props here.\n        // Inner props are checked in the reconciler.\n        a.$$typeof === w))\n          i = a.propTypes;\n        else\n          return;\n        if (i) {\n          var v = F(a);\n          hr(i, e.props, \"prop\", v, e);\n        } else if (a.PropTypes !== void 0 && !se) {\n          se = !0;\n          var m = F(a);\n          S(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\", m || \"Unknown\");\n        }\n        typeof a.getDefaultProps == \"function\" && !a.getDefaultProps.isReactClassApproved && S(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\");\n      }\n    }\n    function Dr(e) {\n      {\n        for (var a = Object.keys(e.props), i = 0; i < a.length; i++) {\n          var v = a[i];\n          if (v !== \"children\" && v !== \"key\") {\n            A(e), S(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\", v), A(null);\n            break;\n          }\n        }\n        e.ref !== null && (A(e), S(\"Invalid attribute `ref` supplied to `React.Fragment`.\"), A(null));\n      }\n    }\n    var $e = {};\n    function ze(e, a, i, v, m, y) {\n      {\n        var p = dr(e);\n        if (!p) {\n          var g = \"\";\n          (e === void 0 || typeof e == \"object\" && e !== null && Object.keys(e).length === 0) && (g += \" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");\n          var P = Cr(m);\n          P ? g += P : g += Me();\n          var E;\n          e === null ? E = \"null\" : oe(e) ? E = \"array\" : e !== void 0 && e.$$typeof === t ? (E = \"<\" + (F(e.type) || \"Unknown\") + \" />\", g = \" Did you accidentally export a JSX literal instead of a component?\") : E = typeof e, S(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\", E, g);\n        }\n        var T = _r(e, a, i, m, y);\n        if (T == null)\n          return T;\n        if (p) {\n          var C = a.children;\n          if (C !== void 0)\n            if (v)\n              if (oe(C)) {\n                for (var $ = 0; $ < C.length; $++)\n                  Ae(C[$], e);\n                Object.freeze && Object.freeze(C);\n              } else\n                S(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");\n            else\n              Ae(C, e);\n        }\n        if (W.call(a, \"key\")) {\n          var I = F(e), _ = Object.keys(a).filter(function($r) {\n            return $r !== \"key\";\n          }), ue = _.length > 0 ? \"{key: someKey, \" + _.join(\": ..., \") + \": ...}\" : \"{key: someKey}\";\n          if (!$e[I + ue]) {\n            var Ar = _.length > 0 ? \"{\" + _.join(\": ..., \") + \": ...}\" : \"{}\";\n            S(`A props object containing a \"key\" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />`, ue, I, Ar, I), $e[I + ue] = !0;\n          }\n        }\n        return e === o ? Dr(T) : Fr(T), T;\n      }\n    }\n    function Nr(e, a, i) {\n      return ze(e, a, i, !0);\n    }\n    function Mr(e, a, i) {\n      return ze(e, a, i, !1);\n    }\n    var Ir = Mr, Lr = Nr;\n    Y.Fragment = o, Y.jsx = Ir, Y.jsxs = Lr;\n  }()), Y;\n}\n false ? 0 : ve.exports = st();\nvar l = ve.exports;\nconst Ze = (r, t, n = !1) => {\n  const o = [];\n  function s(c, f = \"--bn\") {\n    for (const u in c) {\n      const d = u.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase(), b = `${f}-${d}`;\n      typeof c[u] != \"object\" ? (typeof c[u] == \"number\" && (c[u] = `${c[u]}px`), n ? t.style.removeProperty(b) : t.style.setProperty(b, c[u].toString())) : s(c[u], b);\n    }\n  }\n  return s(r), o;\n}, Ve = (r, t) => Ze(r, t), lt = {\n  colors: {\n    editor: {\n      text: void 0,\n      background: void 0\n    },\n    menu: {\n      text: void 0,\n      background: void 0\n    },\n    tooltip: {\n      text: void 0,\n      background: void 0\n    },\n    hovered: {\n      text: void 0,\n      background: void 0\n    },\n    selected: {\n      text: void 0,\n      background: void 0\n    },\n    disabled: {\n      text: void 0,\n      background: void 0\n    },\n    shadow: void 0,\n    border: void 0,\n    sideMenu: void 0,\n    highlights: {\n      gray: {\n        text: void 0,\n        background: void 0\n      },\n      brown: {\n        text: void 0,\n        background: void 0\n      },\n      red: {\n        text: void 0,\n        background: void 0\n      },\n      orange: {\n        text: void 0,\n        background: void 0\n      },\n      yellow: {\n        text: void 0,\n        background: void 0\n      },\n      green: {\n        text: void 0,\n        background: void 0\n      },\n      blue: {\n        text: void 0,\n        background: void 0\n      },\n      purple: {\n        text: void 0,\n        background: void 0\n      },\n      pink: {\n        text: void 0,\n        background: void 0\n      }\n    }\n  },\n  borderRadius: void 0,\n  fontFamily: void 0\n}, ut = (r) => Ze(lt, r, !0), ct = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    className: n,\n    name: o,\n    label: s,\n    icon: c,\n    value: f,\n    autoFocus: u,\n    placeholder: d,\n    onKeyDown: b,\n    onChange: h,\n    onSubmit: w,\n    ...k\n  } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(k), /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_3__.TextInput,\n    {\n      size: \"xs\",\n      className: n,\n      ref: t,\n      name: o,\n      label: s,\n      leftSection: c,\n      value: f,\n      autoFocus: u,\n      \"data-autofocus\": u ? \"true\" : void 0,\n      placeholder: d,\n      onKeyDown: b,\n      onChange: h,\n      onSubmit: w\n    }\n  );\n});\nvar Qe = {\n  color: void 0,\n  size: void 0,\n  className: void 0,\n  style: void 0,\n  attr: void 0\n}, Ye = react__WEBPACK_IMPORTED_MODULE_0__.createContext && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createContext(Qe), dt = [\"attr\", \"size\", \"title\"];\nfunction ft(r, t) {\n  if (r == null)\n    return {};\n  var n = vt(r, t), o, s;\n  if (Object.getOwnPropertySymbols) {\n    var c = Object.getOwnPropertySymbols(r);\n    for (s = 0; s < c.length; s++)\n      o = c[s], !(t.indexOf(o) >= 0) && Object.prototype.propertyIsEnumerable.call(r, o) && (n[o] = r[o]);\n  }\n  return n;\n}\nfunction vt(r, t) {\n  if (r == null)\n    return {};\n  var n = {};\n  for (var o in r)\n    if (Object.prototype.hasOwnProperty.call(r, o)) {\n      if (t.indexOf(o) >= 0)\n        continue;\n      n[o] = r[o];\n    }\n  return n;\n}\nfunction Q() {\n  return Q = Object.assign ? Object.assign.bind() : function(r) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n = arguments[t];\n      for (var o in n)\n        Object.prototype.hasOwnProperty.call(n, o) && (r[o] = n[o]);\n    }\n    return r;\n  }, Q.apply(this, arguments);\n}\nfunction Ue(r, t) {\n  var n = Object.keys(r);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(r);\n    t && (o = o.filter(function(s) {\n      return Object.getOwnPropertyDescriptor(r, s).enumerable;\n    })), n.push.apply(n, o);\n  }\n  return n;\n}\nfunction ee(r) {\n  for (var t = 1; t < arguments.length; t++) {\n    var n = arguments[t] != null ? arguments[t] : {};\n    t % 2 ? Ue(Object(n), !0).forEach(function(o) {\n      bt(r, o, n[o]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(n)) : Ue(Object(n)).forEach(function(o) {\n      Object.defineProperty(r, o, Object.getOwnPropertyDescriptor(n, o));\n    });\n  }\n  return r;\n}\nfunction bt(r, t, n) {\n  return t = gt(t), t in r ? Object.defineProperty(r, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : r[t] = n, r;\n}\nfunction gt(r) {\n  var t = pt(r, \"string\");\n  return typeof t == \"symbol\" ? t : t + \"\";\n}\nfunction pt(r, t) {\n  if (typeof r != \"object\" || !r)\n    return r;\n  var n = r[Symbol.toPrimitive];\n  if (n !== void 0) {\n    var o = n.call(r, t || \"default\");\n    if (typeof o != \"object\")\n      return o;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (t === \"string\" ? String : Number)(r);\n}\nfunction er(r) {\n  return r && r.map((t, n) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(t.tag, ee({\n    key: n\n  }, t.attr), er(t.child)));\n}\nfunction rr(r) {\n  return (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(mt, Q({\n    attr: ee({}, r.attr)\n  }, t), er(r.child));\n}\nfunction mt(r) {\n  var t = (n) => {\n    var {\n      attr: o,\n      size: s,\n      title: c\n    } = r, f = ft(r, dt), u = s || n.size || \"1em\", d;\n    return n.className && (d = n.className), r.className && (d = (d ? d + \" \" : \"\") + r.className), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", Q({\n      stroke: \"currentColor\",\n      fill: \"currentColor\",\n      strokeWidth: \"0\"\n    }, n.attr, o, f, {\n      className: d,\n      style: ee(ee({\n        color: r.color || n.color\n      }, n.style), r.style),\n      height: u,\n      width: u,\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }), c && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"title\", null, c), r.children);\n  };\n  return Ye !== void 0 ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ye.Consumer, null, (n) => t(n)) : t(Qe);\n}\nfunction ht(r) {\n  return rr({ tag: \"svg\", attr: { viewBox: \"0 0 20 20\", fill: \"currentColor\", \"aria-hidden\": \"true\" }, child: [{ tag: \"path\", attr: { fillRule: \"evenodd\", d: \"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\", clipRule: \"evenodd\" }, child: [] }] })(r);\n}\nfunction xt(r) {\n  return rr({ tag: \"svg\", attr: { viewBox: \"0 0 20 20\", fill: \"currentColor\", \"aria-hidden\": \"true\" }, child: [{ tag: \"path\", attr: { fillRule: \"evenodd\", d: \"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\", clipRule: \"evenodd\" }, child: [] }] })(r);\n}\nconst tr = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0), yt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    children: n,\n    onOpenChange: o,\n    position: s,\n    sub: c,\n    // not used\n    ...f\n  } = r;\n  (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(f);\n  const [u, d] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), b = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null), h = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(), w = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    h.current && clearTimeout(h.current), h.current = setTimeout(() => {\n      d(!1);\n    }, 250);\n  }, []), k = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    h.current && clearTimeout(h.current), d(!0);\n  }, []);\n  return /* @__PURE__ */ l.jsx(\n    tr.Provider,\n    {\n      value: {\n        onMenuMouseOver: k,\n        onMenuMouseLeave: w\n      },\n      children: /* @__PURE__ */ l.jsx(\n        _mantine_core__WEBPACK_IMPORTED_MODULE_4__.Menu.Item,\n        {\n          className: \"bn-menu-item bn-mt-sub-menu-item\",\n          ref: (0,_mantine_hooks__WEBPACK_IMPORTED_MODULE_5__.mergeRefs)(t, b),\n          onMouseOver: k,\n          onMouseLeave: w,\n          children: /* @__PURE__ */ l.jsx(\n            _mantine_core__WEBPACK_IMPORTED_MODULE_4__.Menu,\n            {\n              portalProps: {\n                target: b.current ? b.current.parentElement : void 0\n              },\n              middlewares: { flip: !0, shift: !0, inline: !1, size: !0 },\n              trigger: \"hover\",\n              opened: u,\n              onClose: () => o == null ? void 0 : o(!1),\n              onOpen: () => o == null ? void 0 : o(!0),\n              position: s,\n              children: n\n            }\n          )\n        }\n      )\n    }\n  );\n}), jt = (r) => {\n  const { children: t, onOpenChange: n, position: o, sub: s, ...c } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(c), s ? /* @__PURE__ */ l.jsx(yt, { ...r }) : /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_4__.Menu,\n    {\n      withinPortal: !1,\n      middlewares: { flip: !0, shift: !0, inline: !1, size: !0 },\n      onClose: () => n == null ? void 0 : n(!1),\n      onOpen: () => n == null ? void 0 : n(!0),\n      position: o,\n      children: t\n    }\n  );\n}, Rt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, icon: s, checked: c, subTrigger: f, onClick: u, ...d } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(d, !1), f ? /* @__PURE__ */ l.jsxs(\"div\", { ref: t, ...d, children: [\n    o,\n    /* @__PURE__ */ l.jsx(xt, { size: 15 })\n  ] }) : /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_4__.Menu.Item,\n    {\n      className: n,\n      ref: t,\n      leftSection: s,\n      rightSection: c ? /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_6__.CheckIcon, { size: 10 }) : c === !1 ? /* @__PURE__ */ l.jsx(\"div\", { className: \"bn-tick-space\" }) : null,\n      onClick: u,\n      ...d,\n      children: o\n    }\n  );\n}), Et = (r) => {\n  const {\n    children: t,\n    sub: n,\n    // unused\n    ...o\n  } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(o), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_4__.Menu.Target, { children: t });\n}, Tt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    className: n,\n    children: o,\n    sub: s,\n    //unused\n    ...c\n  } = r;\n  (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(c);\n  const f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(tr);\n  return /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_4__.Menu.Dropdown,\n    {\n      className: n,\n      ref: t,\n      onMouseOver: f == null ? void 0 : f.onMenuMouseOver,\n      onMouseLeave: f == null ? void 0 : f.onMenuMouseLeave,\n      children: o\n    }\n  );\n}), wt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, ...o } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(o), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_4__.Menu.Divider, { className: n, ref: t });\n}), kt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, ...s } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(s), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_4__.Menu.Label, { className: n, ref: t, children: o });\n}), St = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    className: n,\n    tabs: o,\n    defaultOpenTab: s,\n    openTab: c,\n    setOpenTab: f,\n    loading: u,\n    ...d\n  } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(d), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group, { className: n, ref: t, children: /* @__PURE__ */ l.jsxs(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_8__.Tabs,\n    {\n      value: c,\n      defaultValue: s,\n      onChange: f,\n      children: [\n        u && /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_9__.LoadingOverlay, { visible: u }),\n        /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_8__.Tabs.List, { children: o.map((b) => /* @__PURE__ */ l.jsx(\n          _mantine_core__WEBPACK_IMPORTED_MODULE_8__.Tabs.Tab,\n          {\n            \"data-test\": `${b.name.toLowerCase()}-tab`,\n            value: b.name,\n            children: b.name\n          },\n          b.name\n        )) }),\n        o.map((b) => /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_8__.Tabs.Panel, { value: b.name, children: b.tabPanel }, b.name))\n      ]\n    }\n  ) });\n}), Pt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, onClick: s, label: c, ...f } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(f), /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_10__.Button,\n    {\n      size: \"xs\",\n      \"aria-label\": c,\n      className: n,\n      ref: t,\n      onClick: s,\n      ...f,\n      children: o\n    }\n  );\n}), _t = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, accept: o, value: s, placeholder: c, onChange: f, ...u } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(u), /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_11__.FileInput,\n    {\n      size: \"xs\",\n      className: n,\n      ref: t,\n      accept: o,\n      value: s,\n      placeholder: c,\n      onChange: f,\n      ...u\n    }\n  );\n}), Ct = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, ...s } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(s), /* @__PURE__ */ l.jsx(\"div\", { className: n, ref: t, children: o });\n}), Ot = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, value: o, placeholder: s, onKeyDown: c, onChange: f, ...u } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(u), /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_3__.TextInput,\n    {\n      size: \"xs\",\n      \"data-test\": \"embed-input\",\n      className: n,\n      ref: t,\n      value: o,\n      placeholder: s,\n      onKeyDown: c,\n      onChange: f\n    }\n  );\n}), Ft = (r) => {\n  const { children: t, opened: n, position: o, ...s } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(s), /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_12__.Popover,\n    {\n      withinPortal: !1,\n      zIndex: 1e4,\n      opened: n,\n      position: o,\n      children: t\n    }\n  );\n}, Dt = (r) => {\n  const { children: t, ...n } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(n), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_13__.PopoverTarget, { children: t });\n}, Nt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    className: n,\n    children: o,\n    variant: s,\n    // unused\n    ...c\n  } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(c), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_14__.PopoverDropdown, { className: n, ref: t, children: o });\n}), Mt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, ...s } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(s, !1), /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group,\n    {\n      align: \"center\",\n      gap: 0,\n      className: n,\n      ref: t,\n      ...s,\n      children: o\n    }\n  );\n}), It = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    className: n,\n    children: o,\n    icon: s,\n    onClick: c,\n    onDragEnd: f,\n    onDragStart: u,\n    draggable: d,\n    label: b,\n    ...h\n  } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(h, !1), s ? /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_15__.ActionIcon,\n    {\n      size: 24,\n      className: n,\n      ref: t,\n      onClick: c,\n      onDragEnd: f,\n      onDragStart: u,\n      draggable: d,\n      \"aria-label\": b,\n      ...h,\n      children: s\n    }\n  ) : /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_10__.Button,\n    {\n      className: n,\n      ref: t,\n      onClick: c,\n      onDragEnd: f,\n      onDragStart: u,\n      draggable: d,\n      \"aria-label\": b,\n      ...h,\n      children: o\n    }\n  );\n}), Lt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, id: s, ...c } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(c), /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_16__.Stack,\n    {\n      gap: 0,\n      className: n,\n      ref: t,\n      id: s,\n      role: \"listbox\",\n      children: o\n    }\n  );\n}), At = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, ...s } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(s), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group, { className: n, ref: t, children: /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group, { className: \"bn-mt-suggestion-menu-item-title\", children: o }) });\n}), $t = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, isSelected: o, onClick: s, item: c, id: f, ...u } = r;\n  (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(u);\n  const d = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!d.current || !o)\n      return;\n    const b = (0,_blocknote_react__WEBPACK_IMPORTED_MODULE_17__.elementOverflow)(d.current);\n    b === \"top\" ? d.current.scrollIntoView(!0) : b === \"bottom\" && d.current.scrollIntoView(!1);\n  }, [o]), /* @__PURE__ */ l.jsxs(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group,\n    {\n      gap: 0,\n      className: n,\n      ref: (0,_mantine_hooks__WEBPACK_IMPORTED_MODULE_5__.mergeRefs)(t, d),\n      id: f,\n      role: \"option\",\n      onClick: s,\n      \"aria-selected\": o || void 0,\n      children: [\n        c.icon && /* @__PURE__ */ l.jsx(\n          _mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group,\n          {\n            className: \"bn-mt-suggestion-menu-item-section\",\n            \"data-position\": \"left\",\n            children: c.icon\n          }\n        ),\n        /* @__PURE__ */ l.jsxs(_mantine_core__WEBPACK_IMPORTED_MODULE_16__.Stack, { gap: 0, className: \"bn-mt-suggestion-menu-item-body\", children: [\n          /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_18__.Text, { className: \"bn-mt-suggestion-menu-item-title\", children: c.title }),\n          /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_18__.Text, { className: \"bn-mt-suggestion-menu-item-subtitle\", children: c.subtext })\n        ] }),\n        c.badge && /* @__PURE__ */ l.jsx(\n          _mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group,\n          {\n            \"data-position\": \"right\",\n            className: \"bn-mt-suggestion-menu-item-section\",\n            children: /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_19__.Badge, { size: \"xs\", children: c.badge })\n          }\n        )\n      ]\n    }\n  );\n}), zt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, children: o, ...s } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(s), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group, { className: n, ref: t, children: o });\n}), Wt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    className: n,\n    children: o,\n    // unused, using \"dots\" instead\n    ...s\n  } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(s), /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_20__.Loader, { className: n, type: \"dots\", ref: t });\n}), Bt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const {\n    className: n,\n    children: o,\n    draggable: s,\n    onDragStart: c,\n    onDragEnd: f,\n    style: u,\n    label: d,\n    ...b\n  } = r;\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(b, !1), /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_10__.Button,\n    {\n      className: n,\n      ref: t,\n      \"aria-label\": d,\n      draggable: s,\n      onDragStart: c,\n      onDragEnd: f,\n      style: u,\n      ...b,\n      children: o\n    }\n  );\n}), Ke = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(\n  (r, t) => {\n    const { className: n, children: o, onMouseEnter: s, onMouseLeave: c, ...f } = r;\n    (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(f);\n    const { ref: u, focused: d } = (0,_mantine_hooks__WEBPACK_IMPORTED_MODULE_21__.useFocusWithin)(), b = (0,_mantine_hooks__WEBPACK_IMPORTED_MODULE_22__.useFocusTrap)(d), h = (0,_mantine_hooks__WEBPACK_IMPORTED_MODULE_5__.mergeRefs)(t, u, b);\n    return /* @__PURE__ */ l.jsx(\n      _mantine_core__WEBPACK_IMPORTED_MODULE_7__.Group,\n      {\n        className: n,\n        ref: h,\n        role: \"toolbar\",\n        onMouseEnter: s,\n        onMouseLeave: c,\n        children: o\n      }\n    );\n  }\n), Vt = (r) => /* @__PURE__ */ l.jsxs(_mantine_core__WEBPACK_IMPORTED_MODULE_16__.Stack, { gap: 0, className: \"bn-tooltip\", children: [\n  /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_18__.Text, { size: \"sm\", children: r.mainTooltip }),\n  r.secondaryTooltip && /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_18__.Text, { size: \"xs\", children: r.secondaryTooltip })\n] }), Ge = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(\n  (r, t) => {\n    const {\n      className: n,\n      children: o,\n      mainTooltip: s,\n      secondaryTooltip: c,\n      icon: f,\n      isSelected: u,\n      isDisabled: d,\n      onClick: b,\n      label: h,\n      ...w\n    } = r;\n    return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(w, !1), /* @__PURE__ */ l.jsx(\n      _mantine_core__WEBPACK_IMPORTED_MODULE_23__.Tooltip,\n      {\n        withinPortal: !1,\n        label: /* @__PURE__ */ l.jsx(\n          Vt,\n          {\n            mainTooltip: s,\n            secondaryTooltip: c\n          }\n        ),\n        children: o ? /* @__PURE__ */ l.jsx(\n          _mantine_core__WEBPACK_IMPORTED_MODULE_10__.Button,\n          {\n            \"aria-label\": h,\n            className: n,\n            onMouseDown: (k) => {\n              (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.isSafari)() && k.currentTarget.focus();\n            },\n            onClick: b,\n            \"aria-pressed\": u,\n            \"data-selected\": u || void 0,\n            \"data-test\": s.slice(0, 1).toLowerCase() + s.replace(/\\s+/g, \"\").slice(1),\n            size: \"xs\",\n            disabled: d || !1,\n            ref: t,\n            ...w,\n            children: o\n          }\n        ) : /* @__PURE__ */ l.jsx(\n          _mantine_core__WEBPACK_IMPORTED_MODULE_15__.ActionIcon,\n          {\n            className: n,\n            \"aria-label\": h,\n            onMouseDown: (k) => {\n              (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.isSafari)() && k.currentTarget.focus();\n            },\n            onClick: b,\n            \"aria-pressed\": u,\n            \"data-selected\": u || void 0,\n            \"data-test\": s.slice(0, 1).toLowerCase() + s.replace(/\\s+/g, \"\").slice(1),\n            size: 30,\n            disabled: d || !1,\n            ref: t,\n            ...w,\n            children: f\n          }\n        )\n      }\n    );\n  }\n), Yt = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((r, t) => {\n  const { className: n, items: o, isDisabled: s, ...c } = r;\n  (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.assertEmpty)(c);\n  const f = o.filter((u) => u.isSelected)[0];\n  return f ? /* @__PURE__ */ l.jsxs(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_4__.Menu,\n    {\n      withinPortal: !1,\n      transitionProps: {\n        exitDuration: 0\n      },\n      disabled: s,\n      middlewares: { flip: !0, shift: !0, inline: !1, size: !0 },\n      children: [\n        /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_4__.Menu.Target, { children: /* @__PURE__ */ l.jsx(\n          _mantine_core__WEBPACK_IMPORTED_MODULE_10__.Button,\n          {\n            onMouseDown: (u) => {\n              (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_2__.isSafari)() && u.currentTarget.focus();\n            },\n            leftSection: f.icon,\n            rightSection: /* @__PURE__ */ l.jsx(ht, {}),\n            size: \"xs\",\n            variant: \"subtle\",\n            disabled: s,\n            children: f.text\n          }\n        ) }),\n        /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_4__.Menu.Dropdown, { className: n, ref: t, children: o.map((u) => /* @__PURE__ */ l.jsx(\n          _mantine_core__WEBPACK_IMPORTED_MODULE_4__.Menu.Item,\n          {\n            onClick: u.onClick,\n            leftSection: u.icon,\n            rightSection: u.isSelected ? /* @__PURE__ */ l.jsx(_mantine_core__WEBPACK_IMPORTED_MODULE_6__.CheckIcon, { size: 10, className: \"bn-tick-icon\" }) : (\n              // Ensures space for tick even if item isn't currently selected.\n              /* @__PURE__ */ l.jsx(\"div\", { className: \"bn-tick-space\" })\n            ),\n            disabled: u.isDisabled,\n            children: u.text\n          },\n          u.text\n        )) })\n      ]\n    }\n  ) : null;\n});\nconst x = [\n  \"#FFFFFF\",\n  \"#EFEFEF\",\n  \"#CFCFCF\",\n  \"#AFAFAF\",\n  \"#7F7F7F\",\n  \"#3F3F3F\",\n  \"#1F1F1F\",\n  \"#161616\",\n  \"#0F0F0F\",\n  \"#000000\"\n], He = {\n  colors: {\n    editor: {\n      text: x[5],\n      background: x[0]\n    },\n    menu: {\n      text: x[5],\n      background: x[0]\n    },\n    tooltip: {\n      text: x[5],\n      background: x[1]\n    },\n    hovered: {\n      text: x[5],\n      background: x[1]\n    },\n    selected: {\n      text: x[0],\n      background: x[5]\n    },\n    disabled: {\n      text: x[3],\n      background: x[1]\n    },\n    shadow: x[2],\n    border: x[1],\n    sideMenu: x[2],\n    highlights: {\n      gray: {\n        text: \"#9b9a97\",\n        background: \"#ebeced\"\n      },\n      brown: {\n        text: \"#64473a\",\n        background: \"#e9e5e3\"\n      },\n      red: {\n        text: \"#e03e3e\",\n        background: \"#fbe4e4\"\n      },\n      orange: {\n        text: \"#d9730d\",\n        background: \"#f6e9d9\"\n      },\n      yellow: {\n        text: \"#dfab01\",\n        background: \"#fbf3db\"\n      },\n      green: {\n        text: \"#4d6461\",\n        background: \"#ddedea\"\n      },\n      blue: {\n        text: \"#0b6e99\",\n        background: \"#ddebf1\"\n      },\n      purple: {\n        text: \"#6940a5\",\n        background: \"#eae4f2\"\n      },\n      pink: {\n        text: \"#ad1a72\",\n        background: \"#f4dfeb\"\n      }\n    }\n  },\n  borderRadius: 6,\n  fontFamily: '\"Inter\", \"SF Pro Display\", -apple-system, BlinkMacSystemFont, \"Open Sans\", \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif'\n}, Qt = {\n  colors: {\n    editor: {\n      text: x[2],\n      background: x[6]\n    },\n    menu: {\n      text: x[2],\n      background: x[6]\n    },\n    tooltip: {\n      text: x[2],\n      background: x[7]\n    },\n    hovered: {\n      text: x[2],\n      background: x[7]\n    },\n    selected: {\n      text: x[2],\n      background: x[8]\n    },\n    disabled: {\n      text: x[5],\n      background: x[7]\n    },\n    shadow: x[8],\n    border: x[7],\n    sideMenu: x[4],\n    highlights: {\n      gray: {\n        text: \"#bebdb8\",\n        background: \"#9b9a97\"\n      },\n      brown: {\n        text: \"#8e6552\",\n        background: \"#64473a\"\n      },\n      red: {\n        text: \"#ec4040\",\n        background: \"#be3434\"\n      },\n      orange: {\n        text: \"#e3790d\",\n        background: \"#b7600a\"\n      },\n      yellow: {\n        text: \"#dfab01\",\n        background: \"#b58b00\"\n      },\n      green: {\n        text: \"#6b8b87\",\n        background: \"#4d6461\"\n      },\n      blue: {\n        text: \"#0e87bc\",\n        background: \"#0b6e99\"\n      },\n      purple: {\n        text: \"#8552d7\",\n        background: \"#6940a5\"\n      },\n      pink: {\n        text: \"#da208f\",\n        background: \"#ad1a72\"\n      }\n    }\n  },\n  borderRadius: He.borderRadius,\n  fontFamily: He.fontFamily\n}, Ut = {\n  FormattingToolbar: {\n    Root: Ke,\n    Button: Ge,\n    Select: Yt\n  },\n  FilePanel: {\n    Root: St,\n    Button: Pt,\n    FileInput: _t,\n    TabPanel: Ct,\n    TextInput: Ot\n  },\n  LinkToolbar: {\n    Root: Ke,\n    Button: Ge\n  },\n  SideMenu: {\n    Root: Mt,\n    Button: It\n  },\n  SuggestionMenu: {\n    Root: Lt,\n    Item: $t,\n    EmptyItem: At,\n    Label: zt,\n    Loader: Wt\n  },\n  TableHandle: {\n    Root: Bt\n  },\n  Generic: {\n    Form: {\n      Root: (r) => /* @__PURE__ */ l.jsx(\"div\", { children: r.children }),\n      TextInput: ct\n    },\n    Menu: {\n      Root: jt,\n      Trigger: Et,\n      Dropdown: Tt,\n      Divider: wt,\n      Label: kt,\n      Item: Rt\n    },\n    Popover: {\n      Root: Ft,\n      Trigger: Dt,\n      Content: Nt\n    }\n  }\n}, Kt = {\n  // Removes button press effect\n  activeClassName: \"\"\n}, en = (r) => {\n  const { theme: t, ...n } = r, o = (0,_blocknote_react__WEBPACK_IMPORTED_MODULE_17__.useBlockNoteContext)(), s = (0,use_prefers_color_scheme__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(), c = (o == null ? void 0 : o.colorSchemePreference) || s, f = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (u) => {\n      if (u && (ut(u), typeof t == \"object\")) {\n        if (\"light\" in t && \"dark\" in t) {\n          Ve(\n            t[c === \"dark\" ? \"dark\" : \"light\"],\n            u\n          );\n          return;\n        }\n        Ve(t, u);\n        return;\n      }\n    },\n    [c, t]\n  );\n  return /* @__PURE__ */ l.jsx(_blocknote_react__WEBPACK_IMPORTED_MODULE_17__.ComponentsContext.Provider, { value: Ut, children: /* @__PURE__ */ l.jsx(\n    _mantine_core__WEBPACK_IMPORTED_MODULE_24__.MantineProvider,\n    {\n      theme: Kt,\n      cssVariablesSelector: \".bn-container\",\n      getRootElement: () => {\n      },\n      children: /* @__PURE__ */ l.jsx(\n        _blocknote_react__WEBPACK_IMPORTED_MODULE_17__.BlockNoteViewRaw,\n        {\n          theme: typeof t == \"object\" ? void 0 : t,\n          ...n,\n          ref: f\n        }\n      )\n    }\n  ) });\n};\n\n//# sourceMappingURL=blocknote-mantine.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGJsb2Nrbm90ZS9tYW50aW5lL2Rpc3QvYmxvY2tub3RlLW1hbnRpbmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBb0o7QUFDZjtBQUN3TDtBQUNuUjtBQUN5QjtBQUN3QjtBQUMzRixXQUFXLGFBQWE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0NBQUMsNExBQTRMO0FBQ3ZNO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsS0FBcUM7QUFDN0QsWUFBWSxrQ0FBQztBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRixPQUFPO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYixzQkFBc0I7QUFDdEI7QUFDQSxhQUFhO0FBQ2Isc0JBQXNCO0FBQ3RCO0FBQ0EsYUFBYTtBQUNiLHVCQUF1QjtBQUN2QjtBQUNBLGFBQWE7QUFDYix1QkFBdUI7QUFDdkI7QUFDQSxhQUFhO0FBQ2IsZ0NBQWdDO0FBQ2hDO0FBQ0EsYUFBYTtBQUNiLDBCQUEwQjtBQUMxQjtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLG1DQUFtQztBQUMzRTtBQUNBLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRjtBQUMvRjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGtHQUFrRztBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87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QSxRQUFRLCtEQUFFO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFTRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGxpdmVibG9ja3MtZXhhbXBsZXMvbmV4dGpzLXlqcy1ibG9ja25vdGUvLi9ub2RlX21vZHVsZXMvQGJsb2Nrbm90ZS9tYW50aW5lL2Rpc3QvYmxvY2tub3RlLW1hbnRpbmUuanM/Y2VlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRCwgeyBmb3J3YXJkUmVmIGFzIFIsIGNyZWF0ZUNvbnRleHQgYXMgenIsIHVzZVN0YXRlIGFzIFdyLCB1c2VSZWYgYXMgY2UsIHVzZUNhbGxiYWNrIGFzIGRlLCB1c2VDb250ZXh0IGFzIEJyLCB1c2VFZmZlY3QgYXMgVnIgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGVsZW1lbnRPdmVyZmxvdyBhcyBZciwgdXNlQmxvY2tOb3RlQ29udGV4dCBhcyBVciwgQ29tcG9uZW50c0NvbnRleHQgYXMgS3IsIEJsb2NrTm90ZVZpZXdSYXcgYXMgR3IgfSBmcm9tIFwiQGJsb2Nrbm90ZS9yZWFjdFwiO1xuaW1wb3J0IHsgVGV4dElucHV0IGFzIEplLCBNZW51IGFzIE8sIENoZWNrSWNvbiBhcyBxZSwgR3JvdXAgYXMgTiwgVGFicyBhcyBYLCBMb2FkaW5nT3ZlcmxheSBhcyBIciwgQnV0dG9uIGFzIFUsIEZpbGVJbnB1dCBhcyBKciwgUG9wb3ZlciBhcyBxciwgUG9wb3ZlclRhcmdldCBhcyBYciwgUG9wb3ZlckRyb3Bkb3duIGFzIFpyLCBBY3Rpb25JY29uIGFzIFhlLCBTdGFjayBhcyBiZSwgVGV4dCBhcyBaLCBCYWRnZSBhcyBRciwgTG9hZGVyIGFzIGV0LCBUb29sdGlwIGFzIHJ0LCBNYW50aW5lUHJvdmlkZXIgYXMgdHQgfSBmcm9tIFwiQG1hbnRpbmUvY29yZVwiO1xuaW1wb3J0IG50IGZyb20gXCJ1c2UtcHJlZmVycy1jb2xvci1zY2hlbWVcIjtcbmltcG9ydCB7IGFzc2VydEVtcHR5IGFzIGosIGlzU2FmYXJpIGFzIGZlIH0gZnJvbSBcIkBibG9ja25vdGUvY29yZVwiO1xuaW1wb3J0IHsgbWVyZ2VSZWZzIGFzIGdlLCB1c2VGb2N1c1dpdGhpbiBhcyBvdCwgdXNlRm9jdXNUcmFwIGFzIGF0IH0gZnJvbSBcIkBtYW50aW5lL2hvb2tzXCI7XG52YXIgdmUgPSB7IGV4cG9ydHM6IHt9IH0sIFYgPSB7fTtcbi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbnZhciBXZTtcbmZ1bmN0aW9uIGl0KCkge1xuICBpZiAoV2UpXG4gICAgcmV0dXJuIFY7XG4gIFdlID0gMTtcbiAgdmFyIHIgPSBELCB0ID0gU3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIiksIG4gPSBTeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksIG8gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LCBzID0gci5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRC5SZWFjdEN1cnJlbnRPd25lciwgYyA9IHsga2V5OiAhMCwgcmVmOiAhMCwgX19zZWxmOiAhMCwgX19zb3VyY2U6ICEwIH07XG4gIGZ1bmN0aW9uIGYodSwgZCwgYikge1xuICAgIHZhciBoLCB3ID0ge30sIGsgPSBudWxsLCBLID0gbnVsbDtcbiAgICBiICE9PSB2b2lkIDAgJiYgKGsgPSBcIlwiICsgYiksIGQua2V5ICE9PSB2b2lkIDAgJiYgKGsgPSBcIlwiICsgZC5rZXkpLCBkLnJlZiAhPT0gdm9pZCAwICYmIChLID0gZC5yZWYpO1xuICAgIGZvciAoaCBpbiBkKVxuICAgICAgby5jYWxsKGQsIGgpICYmICFjLmhhc093blByb3BlcnR5KGgpICYmICh3W2hdID0gZFtoXSk7XG4gICAgaWYgKHUgJiYgdS5kZWZhdWx0UHJvcHMpXG4gICAgICBmb3IgKGggaW4gZCA9IHUuZGVmYXVsdFByb3BzLCBkKVxuICAgICAgICB3W2hdID09PSB2b2lkIDAgJiYgKHdbaF0gPSBkW2hdKTtcbiAgICByZXR1cm4geyAkJHR5cGVvZjogdCwgdHlwZTogdSwga2V5OiBrLCByZWY6IEssIHByb3BzOiB3LCBfb3duZXI6IHMuY3VycmVudCB9O1xuICB9XG4gIHJldHVybiBWLkZyYWdtZW50ID0gbiwgVi5qc3ggPSBmLCBWLmpzeHMgPSBmLCBWO1xufVxudmFyIFkgPSB7fTtcbi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbnZhciBCZTtcbmZ1bmN0aW9uIHN0KCkge1xuICByZXR1cm4gQmUgfHwgKEJlID0gMSwgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGZ1bmN0aW9uKCkge1xuICAgIHZhciByID0gRCwgdCA9IFN5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpLCBuID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSwgbyA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSwgcyA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSwgYyA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKSwgZiA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKSwgdSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLCBkID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLCBiID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLCBoID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIiksIHcgPSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKSwgayA9IFN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpLCBLID0gU3ltYm9sLmZvcihcInJlYWN0Lm9mZnNjcmVlblwiKSwgcGUgPSBTeW1ib2wuaXRlcmF0b3IsIG5yID0gXCJAQGl0ZXJhdG9yXCI7XG4gICAgZnVuY3Rpb24gb3IoZSkge1xuICAgICAgaWYgKGUgPT09IG51bGwgfHwgdHlwZW9mIGUgIT0gXCJvYmplY3RcIilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgYSA9IHBlICYmIGVbcGVdIHx8IGVbbnJdO1xuICAgICAgcmV0dXJuIHR5cGVvZiBhID09IFwiZnVuY3Rpb25cIiA/IGEgOiBudWxsO1xuICAgIH1cbiAgICB2YXIgTCA9IHIuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG4gICAgZnVuY3Rpb24gUyhlKSB7XG4gICAgICB7XG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHMubGVuZ3RoLCBpID0gbmV3IEFycmF5KGEgPiAxID8gYSAtIDEgOiAwKSwgdiA9IDE7IHYgPCBhOyB2KyspXG4gICAgICAgICAgaVt2IC0gMV0gPSBhcmd1bWVudHNbdl07XG4gICAgICAgIGFyKFwiZXJyb3JcIiwgZSwgaSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFyKGUsIGEsIGkpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIHYgPSBMLlJlYWN0RGVidWdDdXJyZW50RnJhbWUsIG0gPSB2LmdldFN0YWNrQWRkZW5kdW0oKTtcbiAgICAgICAgbSAhPT0gXCJcIiAmJiAoYSArPSBcIiVzXCIsIGkgPSBpLmNvbmNhdChbbV0pKTtcbiAgICAgICAgdmFyIHkgPSBpLm1hcChmdW5jdGlvbihwKSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyhwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHkudW5zaGlmdChcIldhcm5pbmc6IFwiICsgYSksIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGVbZV0sIGNvbnNvbGUsIHkpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgaXIgPSAhMSwgc3IgPSAhMSwgbHIgPSAhMSwgdXIgPSAhMSwgY3IgPSAhMSwgbWU7XG4gICAgbWUgPSBTeW1ib2wuZm9yKFwicmVhY3QubW9kdWxlLnJlZmVyZW5jZVwiKTtcbiAgICBmdW5jdGlvbiBkcihlKSB7XG4gICAgICByZXR1cm4gISEodHlwZW9mIGUgPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgZSA9PSBcImZ1bmN0aW9uXCIgfHwgZSA9PT0gbyB8fCBlID09PSBjIHx8IGNyIHx8IGUgPT09IHMgfHwgZSA9PT0gYiB8fCBlID09PSBoIHx8IHVyIHx8IGUgPT09IEsgfHwgaXIgfHwgc3IgfHwgbHIgfHwgdHlwZW9mIGUgPT0gXCJvYmplY3RcIiAmJiBlICE9PSBudWxsICYmIChlLiQkdHlwZW9mID09PSBrIHx8IGUuJCR0eXBlb2YgPT09IHcgfHwgZS4kJHR5cGVvZiA9PT0gZiB8fCBlLiQkdHlwZW9mID09PSB1IHx8IGUuJCR0eXBlb2YgPT09IGQgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxuICAgICAgLy8gdHlwZXMgc3VwcG9ydGVkIGJ5IGFueSBGbGlnaHQgY29uZmlndXJhdGlvbiBhbnl3aGVyZSBzaW5jZVxuICAgICAgLy8gd2UgZG9uJ3Qga25vdyB3aGljaCBGbGlnaHQgYnVpbGQgdGhpcyB3aWxsIGVuZCB1cCBiZWluZyB1c2VkXG4gICAgICAvLyB3aXRoLlxuICAgICAgZS4kJHR5cGVvZiA9PT0gbWUgfHwgZS5nZXRNb2R1bGVJZCAhPT0gdm9pZCAwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZyKGUsIGEsIGkpIHtcbiAgICAgIHZhciB2ID0gZS5kaXNwbGF5TmFtZTtcbiAgICAgIGlmICh2KVxuICAgICAgICByZXR1cm4gdjtcbiAgICAgIHZhciBtID0gYS5kaXNwbGF5TmFtZSB8fCBhLm5hbWUgfHwgXCJcIjtcbiAgICAgIHJldHVybiBtICE9PSBcIlwiID8gaSArIFwiKFwiICsgbSArIFwiKVwiIDogaTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGUoZSkge1xuICAgICAgcmV0dXJuIGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEYoZSkge1xuICAgICAgaWYgKGUgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBpZiAodHlwZW9mIGUudGFnID09IFwibnVtYmVyXCIgJiYgUyhcIlJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpLCB0eXBlb2YgZSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHJldHVybiBlLmRpc3BsYXlOYW1lIHx8IGUubmFtZSB8fCBudWxsO1xuICAgICAgaWYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBlO1xuICAgICAgc3dpdGNoIChlKSB7XG4gICAgICAgIGNhc2UgbzpcbiAgICAgICAgICByZXR1cm4gXCJGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIG46XG4gICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgIGNhc2UgYzpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIHM6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIGI6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBoOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlTGlzdFwiO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBlID09IFwib2JqZWN0XCIpXG4gICAgICAgIHN3aXRjaCAoZS4kJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgdTpcbiAgICAgICAgICAgIHZhciBhID0gZTtcbiAgICAgICAgICAgIHJldHVybiBoZShhKSArIFwiLkNvbnN1bWVyXCI7XG4gICAgICAgICAgY2FzZSBmOlxuICAgICAgICAgICAgdmFyIGkgPSBlO1xuICAgICAgICAgICAgcmV0dXJuIGhlKGkuX2NvbnRleHQpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgICBjYXNlIGQ6XG4gICAgICAgICAgICByZXR1cm4gZnIoZSwgZS5yZW5kZXIsIFwiRm9yd2FyZFJlZlwiKTtcbiAgICAgICAgICBjYXNlIHc6XG4gICAgICAgICAgICB2YXIgdiA9IGUuZGlzcGxheU5hbWUgfHwgbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB2ICE9PSBudWxsID8gdiA6IEYoZS50eXBlKSB8fCBcIk1lbW9cIjtcbiAgICAgICAgICBjYXNlIGs6IHtcbiAgICAgICAgICAgIHZhciBtID0gZSwgeSA9IG0uX3BheWxvYWQsIHAgPSBtLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIEYocCh5KSk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIE0gPSBPYmplY3QuYXNzaWduLCB6ID0gMCwgeGUsIHllLCBqZSwgUmUsIEVlLCBUZSwgd2U7XG4gICAgZnVuY3Rpb24ga2UoKSB7XG4gICAgfVxuICAgIGtlLl9fcmVhY3REaXNhYmxlZExvZyA9ICEwO1xuICAgIGZ1bmN0aW9uIHZyKCkge1xuICAgICAge1xuICAgICAgICBpZiAoeiA9PT0gMCkge1xuICAgICAgICAgIHhlID0gY29uc29sZS5sb2csIHllID0gY29uc29sZS5pbmZvLCBqZSA9IGNvbnNvbGUud2FybiwgUmUgPSBjb25zb2xlLmVycm9yLCBFZSA9IGNvbnNvbGUuZ3JvdXAsIFRlID0gY29uc29sZS5ncm91cENvbGxhcHNlZCwgd2UgPSBjb25zb2xlLmdyb3VwRW5kO1xuICAgICAgICAgIHZhciBlID0ge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgICAgICAgdmFsdWU6IGtlLFxuICAgICAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICAgICAgfTtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgICBpbmZvOiBlLFxuICAgICAgICAgICAgbG9nOiBlLFxuICAgICAgICAgICAgd2FybjogZSxcbiAgICAgICAgICAgIGVycm9yOiBlLFxuICAgICAgICAgICAgZ3JvdXA6IGUsXG4gICAgICAgICAgICBncm91cENvbGxhcHNlZDogZSxcbiAgICAgICAgICAgIGdyb3VwRW5kOiBlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgeisrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBicigpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKHotLSwgeiA9PT0gMCkge1xuICAgICAgICAgIHZhciBlID0ge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICAgICAgfTtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgICBsb2c6IE0oe30sIGUsIHtcbiAgICAgICAgICAgICAgdmFsdWU6IHhlXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGluZm86IE0oe30sIGUsIHtcbiAgICAgICAgICAgICAgdmFsdWU6IHllXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHdhcm46IE0oe30sIGUsIHtcbiAgICAgICAgICAgICAgdmFsdWU6IGplXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGVycm9yOiBNKHt9LCBlLCB7XG4gICAgICAgICAgICAgIHZhbHVlOiBSZVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBncm91cDogTSh7fSwgZSwge1xuICAgICAgICAgICAgICB2YWx1ZTogRWVcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IE0oe30sIGUsIHtcbiAgICAgICAgICAgICAgdmFsdWU6IFRlXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGdyb3VwRW5kOiBNKHt9LCBlLCB7XG4gICAgICAgICAgICAgIHZhbHVlOiB3ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB6IDwgMCAmJiBTKFwiZGlzYWJsZWREZXB0aCBmZWxsIGJlbG93IHplcm8uIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHJlID0gTC5SZWFjdEN1cnJlbnREaXNwYXRjaGVyLCB0ZTtcbiAgICBmdW5jdGlvbiBHKGUsIGEsIGkpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKHRlID09PSB2b2lkIDApXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfSBjYXRjaCAobSkge1xuICAgICAgICAgICAgdmFyIHYgPSBtLnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICAgICAgdGUgPSB2ICYmIHZbMV0gfHwgXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBgXG5gICsgdGUgKyBlO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbmUgPSAhMSwgSDtcbiAgICB7XG4gICAgICB2YXIgZ3IgPSB0eXBlb2YgV2Vha01hcCA9PSBcImZ1bmN0aW9uXCIgPyBXZWFrTWFwIDogTWFwO1xuICAgICAgSCA9IG5ldyBncigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBTZShlLCBhKSB7XG4gICAgICBpZiAoIWUgfHwgbmUpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAge1xuICAgICAgICB2YXIgaSA9IEguZ2V0KGUpO1xuICAgICAgICBpZiAoaSAhPT0gdm9pZCAwKVxuICAgICAgICAgIHJldHVybiBpO1xuICAgICAgfVxuICAgICAgdmFyIHY7XG4gICAgICBuZSA9ICEwO1xuICAgICAgdmFyIG0gPSBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZTtcbiAgICAgIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gdm9pZCAwO1xuICAgICAgdmFyIHk7XG4gICAgICB5ID0gcmUuY3VycmVudCwgcmUuY3VycmVudCA9IG51bGwsIHZyKCk7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoYSkge1xuICAgICAgICAgIHZhciBwID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwLnByb3RvdHlwZSwgXCJwcm9wc1wiLCB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLCB0eXBlb2YgUmVmbGVjdCA9PSBcIm9iamVjdFwiICYmIFJlZmxlY3QuY29uc3RydWN0KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChwLCBbXSk7XG4gICAgICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgICAgIHYgPSBfO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoZSwgW10sIHApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBwLmNhbGwoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgICAgdiA9IF87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlLmNhbGwocC5wcm90b3R5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgICB2ID0gXztcbiAgICAgICAgICB9XG4gICAgICAgICAgZSgpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgIGlmIChfICYmIHYgJiYgdHlwZW9mIF8uc3RhY2sgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGZvciAodmFyIGcgPSBfLnN0YWNrLnNwbGl0KGBcbmApLCBQID0gdi5zdGFjay5zcGxpdChgXG5gKSwgRSA9IGcubGVuZ3RoIC0gMSwgVCA9IFAubGVuZ3RoIC0gMTsgRSA+PSAxICYmIFQgPj0gMCAmJiBnW0VdICE9PSBQW1RdOyApXG4gICAgICAgICAgICBULS07XG4gICAgICAgICAgZm9yICg7IEUgPj0gMSAmJiBUID49IDA7IEUtLSwgVC0tKVxuICAgICAgICAgICAgaWYgKGdbRV0gIT09IFBbVF0pIHtcbiAgICAgICAgICAgICAgaWYgKEUgIT09IDEgfHwgVCAhPT0gMSlcbiAgICAgICAgICAgICAgICBkb1xuICAgICAgICAgICAgICAgICAgaWYgKEUtLSwgVC0tLCBUIDwgMCB8fCBnW0VdICE9PSBQW1RdKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBDID0gYFxuYCArIGdbRV0ucmVwbGFjZShcIiBhdCBuZXcgXCIsIFwiIGF0IFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuZGlzcGxheU5hbWUgJiYgQy5pbmNsdWRlcyhcIjxhbm9ueW1vdXM+XCIpICYmIChDID0gQy5yZXBsYWNlKFwiPGFub255bW91cz5cIiwgZS5kaXNwbGF5TmFtZSkpLCB0eXBlb2YgZSA9PSBcImZ1bmN0aW9uXCIgJiYgSC5zZXQoZSwgQyksIEM7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKEUgPj0gMSAmJiBUID49IDApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgbmUgPSAhMSwgcmUuY3VycmVudCA9IHksIGJyKCksIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gbTtcbiAgICAgIH1cbiAgICAgIHZhciAkID0gZSA/IGUuZGlzcGxheU5hbWUgfHwgZS5uYW1lIDogXCJcIiwgSSA9ICQgPyBHKCQpIDogXCJcIjtcbiAgICAgIHJldHVybiB0eXBlb2YgZSA9PSBcImZ1bmN0aW9uXCIgJiYgSC5zZXQoZSwgSSksIEk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByKGUsIGEsIGkpIHtcbiAgICAgIHJldHVybiBTZShlLCAhMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1yKGUpIHtcbiAgICAgIHZhciBhID0gZS5wcm90b3R5cGU7XG4gICAgICByZXR1cm4gISEoYSAmJiBhLmlzUmVhY3RDb21wb25lbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBKKGUsIGEsIGkpIHtcbiAgICAgIGlmIChlID09IG51bGwpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgaWYgKHR5cGVvZiBlID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgcmV0dXJuIFNlKGUsIG1yKGUpKTtcbiAgICAgIGlmICh0eXBlb2YgZSA9PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4gRyhlKTtcbiAgICAgIHN3aXRjaCAoZSkge1xuICAgICAgICBjYXNlIGI6XG4gICAgICAgICAgcmV0dXJuIEcoXCJTdXNwZW5zZVwiKTtcbiAgICAgICAgY2FzZSBoOlxuICAgICAgICAgIHJldHVybiBHKFwiU3VzcGVuc2VMaXN0XCIpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBlID09IFwib2JqZWN0XCIpXG4gICAgICAgIHN3aXRjaCAoZS4kJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgZDpcbiAgICAgICAgICAgIHJldHVybiBwcihlLnJlbmRlcik7XG4gICAgICAgICAgY2FzZSB3OlxuICAgICAgICAgICAgcmV0dXJuIEooZS50eXBlLCBhLCBpKTtcbiAgICAgICAgICBjYXNlIGs6IHtcbiAgICAgICAgICAgIHZhciB2ID0gZSwgbSA9IHYuX3BheWxvYWQsIHkgPSB2Ll9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIEooeShtKSwgYSwgaSk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICB2YXIgVyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksIFBlID0ge30sIF9lID0gTC5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICAgIGZ1bmN0aW9uIHEoZSkge1xuICAgICAgaWYgKGUpIHtcbiAgICAgICAgdmFyIGEgPSBlLl9vd25lciwgaSA9IEooZS50eXBlLCBlLl9zb3VyY2UsIGEgPyBhLnR5cGUgOiBudWxsKTtcbiAgICAgICAgX2Uuc2V0RXh0cmFTdGFja0ZyYW1lKGkpO1xuICAgICAgfSBlbHNlXG4gICAgICAgIF9lLnNldEV4dHJhU3RhY2tGcmFtZShudWxsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaHIoZSwgYSwgaSwgdiwgbSkge1xuICAgICAge1xuICAgICAgICB2YXIgeSA9IEZ1bmN0aW9uLmNhbGwuYmluZChXKTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBlKVxuICAgICAgICAgIGlmICh5KGUsIHApKSB7XG4gICAgICAgICAgICB2YXIgZyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgZVtwXSAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgUCA9IEVycm9yKCh2IHx8IFwiUmVhY3QgY2xhc3NcIikgKyBcIjogXCIgKyBpICsgXCIgdHlwZSBgXCIgKyBwICsgXCJgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tIHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZSwgYnV0IHJlY2VpdmVkIGBcIiArIHR5cGVvZiBlW3BdICsgXCJgLlRoaXMgb2Z0ZW4gaGFwcGVucyBiZWNhdXNlIG9mIHR5cG9zIHN1Y2ggYXMgYFByb3BUeXBlcy5mdW5jdGlvbmAgaW5zdGVhZCBvZiBgUHJvcFR5cGVzLmZ1bmNgLlwiKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBQLm5hbWUgPSBcIkludmFyaWFudCBWaW9sYXRpb25cIiwgUDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBnID0gZVtwXShhLCBwLCB2LCBpLCBudWxsLCBcIlNFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEXCIpO1xuICAgICAgICAgICAgfSBjYXRjaCAoRSkge1xuICAgICAgICAgICAgICBnID0gRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGcgJiYgIShnIGluc3RhbmNlb2YgRXJyb3IpICYmIChxKG0pLCBTKFwiJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcyBgJXNgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJXMuIFlvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gcGFzcyBhbiBhcmd1bWVudCB0byB0aGUgdHlwZSBjaGVja2VyIGNyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLlwiLCB2IHx8IFwiUmVhY3QgY2xhc3NcIiwgaSwgcCwgdHlwZW9mIGcpLCBxKG51bGwpKSwgZyBpbnN0YW5jZW9mIEVycm9yICYmICEoZy5tZXNzYWdlIGluIFBlKSAmJiAoUGVbZy5tZXNzYWdlXSA9ICEwLCBxKG0pLCBTKFwiRmFpbGVkICVzIHR5cGU6ICVzXCIsIGksIGcubWVzc2FnZSksIHEobnVsbCkpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHhyID0gQXJyYXkuaXNBcnJheTtcbiAgICBmdW5jdGlvbiBvZShlKSB7XG4gICAgICByZXR1cm4geHIoZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHlyKGUpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIGEgPSB0eXBlb2YgU3ltYm9sID09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wudG9TdHJpbmdUYWcsIGkgPSBhICYmIGVbU3ltYm9sLnRvU3RyaW5nVGFnXSB8fCBlLmNvbnN0cnVjdG9yLm5hbWUgfHwgXCJPYmplY3RcIjtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGpyKGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBDZShlKSwgITE7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBDZShlKSB7XG4gICAgICByZXR1cm4gXCJcIiArIGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIE9lKGUpIHtcbiAgICAgIGlmIChqcihlKSlcbiAgICAgICAgcmV0dXJuIFMoXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIiwgeXIoZSkpLCBDZShlKTtcbiAgICB9XG4gICAgdmFyIEIgPSBMLlJlYWN0Q3VycmVudE93bmVyLCBSciA9IHtcbiAgICAgIGtleTogITAsXG4gICAgICByZWY6ICEwLFxuICAgICAgX19zZWxmOiAhMCxcbiAgICAgIF9fc291cmNlOiAhMFxuICAgIH0sIEZlLCBEZSwgYWU7XG4gICAgYWUgPSB7fTtcbiAgICBmdW5jdGlvbiBFcihlKSB7XG4gICAgICBpZiAoVy5jYWxsKGUsIFwicmVmXCIpKSB7XG4gICAgICAgIHZhciBhID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCBcInJlZlwiKS5nZXQ7XG4gICAgICAgIGlmIChhICYmIGEuaXNSZWFjdFdhcm5pbmcpXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGUucmVmICE9PSB2b2lkIDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFRyKGUpIHtcbiAgICAgIGlmIChXLmNhbGwoZSwgXCJrZXlcIikpIHtcbiAgICAgICAgdmFyIGEgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIFwia2V5XCIpLmdldDtcbiAgICAgICAgaWYgKGEgJiYgYS5pc1JlYWN0V2FybmluZylcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICByZXR1cm4gZS5rZXkgIT09IHZvaWQgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gd3IoZSwgYSkge1xuICAgICAgaWYgKHR5cGVvZiBlLnJlZiA9PSBcInN0cmluZ1wiICYmIEIuY3VycmVudCAmJiBhICYmIEIuY3VycmVudC5zdGF0ZU5vZGUgIT09IGEpIHtcbiAgICAgICAgdmFyIGkgPSBGKEIuY3VycmVudC50eXBlKTtcbiAgICAgICAgYWVbaV0gfHwgKFMoJ0NvbXBvbmVudCBcIiVzXCIgY29udGFpbnMgdGhlIHN0cmluZyByZWYgXCIlc1wiLiBTdXBwb3J0IGZvciBzdHJpbmcgcmVmcyB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gVGhpcyBjYXNlIGNhbm5vdCBiZSBhdXRvbWF0aWNhbGx5IGNvbnZlcnRlZCB0byBhbiBhcnJvdyBmdW5jdGlvbi4gV2UgYXNrIHlvdSB0byBtYW51YWxseSBmaXggdGhpcyBjYXNlIGJ5IHVzaW5nIHVzZVJlZigpIG9yIGNyZWF0ZVJlZigpIGluc3RlYWQuIExlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTogaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3N0cmljdC1tb2RlLXN0cmluZy1yZWYnLCBGKEIuY3VycmVudC50eXBlKSwgZS5yZWYpLCBhZVtpXSA9ICEwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24ga3IoZSwgYSkge1xuICAgICAge1xuICAgICAgICB2YXIgaSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIEZlIHx8IChGZSA9ICEwLCBTKFwiJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSB2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50IHByb3AuIChodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3BlY2lhbC1wcm9wcylcIiwgYSkpO1xuICAgICAgICB9O1xuICAgICAgICBpLmlzUmVhY3RXYXJuaW5nID0gITAsIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcImtleVwiLCB7XG4gICAgICAgICAgZ2V0OiBpLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIFNyKGUsIGEpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIGkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBEZSB8fCAoRGUgPSAhMCwgUyhcIiVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgdmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCBwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpXCIsIGEpKTtcbiAgICAgICAgfTtcbiAgICAgICAgaS5pc1JlYWN0V2FybmluZyA9ICEwLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJyZWZcIiwge1xuICAgICAgICAgIGdldDogaSxcbiAgICAgICAgICBjb25maWd1cmFibGU6ICEwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgUHIgPSBmdW5jdGlvbihlLCBhLCBpLCB2LCBtLCB5LCBwKSB7XG4gICAgICB2YXIgZyA9IHtcbiAgICAgICAgLy8gVGhpcyB0YWcgYWxsb3dzIHVzIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgYXMgYSBSZWFjdCBFbGVtZW50XG4gICAgICAgICQkdHlwZW9mOiB0LFxuICAgICAgICAvLyBCdWlsdC1pbiBwcm9wZXJ0aWVzIHRoYXQgYmVsb25nIG9uIHRoZSBlbGVtZW50XG4gICAgICAgIHR5cGU6IGUsXG4gICAgICAgIGtleTogYSxcbiAgICAgICAgcmVmOiBpLFxuICAgICAgICBwcm9wczogcCxcbiAgICAgICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgX293bmVyOiB5XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGcuX3N0b3JlID0ge30sIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnLl9zdG9yZSwgXCJ2YWxpZGF0ZWRcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogITFcbiAgICAgIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZywgXCJfc2VsZlwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITEsXG4gICAgICAgIHZhbHVlOiB2XG4gICAgICB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGcsIFwiX3NvdXJjZVwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITEsXG4gICAgICAgIHZhbHVlOiBtXG4gICAgICB9KSwgT2JqZWN0LmZyZWV6ZSAmJiAoT2JqZWN0LmZyZWV6ZShnLnByb3BzKSwgT2JqZWN0LmZyZWV6ZShnKSksIGc7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBfcihlLCBhLCBpLCB2LCBtKSB7XG4gICAgICB7XG4gICAgICAgIHZhciB5LCBwID0ge30sIGcgPSBudWxsLCBQID0gbnVsbDtcbiAgICAgICAgaSAhPT0gdm9pZCAwICYmIChPZShpKSwgZyA9IFwiXCIgKyBpKSwgVHIoYSkgJiYgKE9lKGEua2V5KSwgZyA9IFwiXCIgKyBhLmtleSksIEVyKGEpICYmIChQID0gYS5yZWYsIHdyKGEsIG0pKTtcbiAgICAgICAgZm9yICh5IGluIGEpXG4gICAgICAgICAgVy5jYWxsKGEsIHkpICYmICFSci5oYXNPd25Qcm9wZXJ0eSh5KSAmJiAocFt5XSA9IGFbeV0pO1xuICAgICAgICBpZiAoZSAmJiBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgICAgIHZhciBFID0gZS5kZWZhdWx0UHJvcHM7XG4gICAgICAgICAgZm9yICh5IGluIEUpXG4gICAgICAgICAgICBwW3ldID09PSB2b2lkIDAgJiYgKHBbeV0gPSBFW3ldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZyB8fCBQKSB7XG4gICAgICAgICAgdmFyIFQgPSB0eXBlb2YgZSA9PSBcImZ1bmN0aW9uXCIgPyBlLmRpc3BsYXlOYW1lIHx8IGUubmFtZSB8fCBcIlVua25vd25cIiA6IGU7XG4gICAgICAgICAgZyAmJiBrcihwLCBUKSwgUCAmJiBTcihwLCBUKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHIoZSwgZywgUCwgbSwgdiwgQi5jdXJyZW50LCBwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGllID0gTC5SZWFjdEN1cnJlbnRPd25lciwgTmUgPSBMLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG4gICAgZnVuY3Rpb24gQShlKSB7XG4gICAgICBpZiAoZSkge1xuICAgICAgICB2YXIgYSA9IGUuX293bmVyLCBpID0gSihlLnR5cGUsIGUuX3NvdXJjZSwgYSA/IGEudHlwZSA6IG51bGwpO1xuICAgICAgICBOZS5zZXRFeHRyYVN0YWNrRnJhbWUoaSk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgTmUuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgICB2YXIgc2U7XG4gICAgc2UgPSAhMTtcbiAgICBmdW5jdGlvbiBsZShlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGUgPT0gXCJvYmplY3RcIiAmJiBlICE9PSBudWxsICYmIGUuJCR0eXBlb2YgPT09IHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIE1lKCkge1xuICAgICAge1xuICAgICAgICBpZiAoaWUuY3VycmVudCkge1xuICAgICAgICAgIHZhciBlID0gRihpZS5jdXJyZW50LnR5cGUpO1xuICAgICAgICAgIGlmIChlKVxuICAgICAgICAgICAgcmV0dXJuIGBcblxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgXFxgYCArIGUgKyBcImAuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIENyKGUpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKGUgIT09IHZvaWQgMCkge1xuICAgICAgICAgIHZhciBhID0gZS5maWxlTmFtZS5yZXBsYWNlKC9eLipbXFxcXFxcL10vLCBcIlwiKSwgaSA9IGUubGluZU51bWJlcjtcbiAgICAgICAgICByZXR1cm4gYFxuXG5DaGVjayB5b3VyIGNvZGUgYXQgYCArIGEgKyBcIjpcIiArIGkgKyBcIi5cIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIEllID0ge307XG4gICAgZnVuY3Rpb24gT3IoZSkge1xuICAgICAge1xuICAgICAgICB2YXIgYSA9IE1lKCk7XG4gICAgICAgIGlmICghYSkge1xuICAgICAgICAgIHZhciBpID0gdHlwZW9mIGUgPT0gXCJzdHJpbmdcIiA/IGUgOiBlLmRpc3BsYXlOYW1lIHx8IGUubmFtZTtcbiAgICAgICAgICBpICYmIChhID0gYFxuXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxgICsgaSArIFwiPi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIExlKGUsIGEpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKCFlLl9zdG9yZSB8fCBlLl9zdG9yZS52YWxpZGF0ZWQgfHwgZS5rZXkgIT0gbnVsbClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGUuX3N0b3JlLnZhbGlkYXRlZCA9ICEwO1xuICAgICAgICB2YXIgaSA9IE9yKGEpO1xuICAgICAgICBpZiAoSWVbaV0pXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBJZVtpXSA9ICEwO1xuICAgICAgICB2YXIgdiA9IFwiXCI7XG4gICAgICAgIGUgJiYgZS5fb3duZXIgJiYgZS5fb3duZXIgIT09IGllLmN1cnJlbnQgJiYgKHYgPSBcIiBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSBcIiArIEYoZS5fb3duZXIudHlwZSkgKyBcIi5cIiksIEEoZSksIFMoJ0VhY2ggY2hpbGQgaW4gYSBsaXN0IHNob3VsZCBoYXZlIGEgdW5pcXVlIFwia2V5XCIgcHJvcC4lcyVzIFNlZSBodHRwczovL3JlYWN0anMub3JnL2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGksIHYpLCBBKG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBBZShlLCBhKSB7XG4gICAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgZSAhPSBcIm9iamVjdFwiKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKG9lKGUpKVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHYgPSBlW2ldO1xuICAgICAgICAgICAgbGUodikgJiYgTGUodiwgYSk7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsZShlKSlcbiAgICAgICAgICBlLl9zdG9yZSAmJiAoZS5fc3RvcmUudmFsaWRhdGVkID0gITApO1xuICAgICAgICBlbHNlIGlmIChlKSB7XG4gICAgICAgICAgdmFyIG0gPSBvcihlKTtcbiAgICAgICAgICBpZiAodHlwZW9mIG0gPT0gXCJmdW5jdGlvblwiICYmIG0gIT09IGUuZW50cmllcylcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSBtLmNhbGwoZSksIHA7ICEocCA9IHkubmV4dCgpKS5kb25lOyApXG4gICAgICAgICAgICAgIGxlKHAudmFsdWUpICYmIExlKHAudmFsdWUsIGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIEZyKGUpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIGEgPSBlLnR5cGU7XG4gICAgICAgIGlmIChhID09IG51bGwgfHwgdHlwZW9mIGEgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBpO1xuICAgICAgICBpZiAodHlwZW9mIGEgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgIGkgPSBhLnByb3BUeXBlcztcbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGEgPT0gXCJvYmplY3RcIiAmJiAoYS4kJHR5cGVvZiA9PT0gZCB8fCAvLyBOb3RlOiBNZW1vIG9ubHkgY2hlY2tzIG91dGVyIHByb3BzIGhlcmUuXG4gICAgICAgIC8vIElubmVyIHByb3BzIGFyZSBjaGVja2VkIGluIHRoZSByZWNvbmNpbGVyLlxuICAgICAgICBhLiQkdHlwZW9mID09PSB3KSlcbiAgICAgICAgICBpID0gYS5wcm9wVHlwZXM7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChpKSB7XG4gICAgICAgICAgdmFyIHYgPSBGKGEpO1xuICAgICAgICAgIGhyKGksIGUucHJvcHMsIFwicHJvcFwiLCB2LCBlKTtcbiAgICAgICAgfSBlbHNlIGlmIChhLlByb3BUeXBlcyAhPT0gdm9pZCAwICYmICFzZSkge1xuICAgICAgICAgIHNlID0gITA7XG4gICAgICAgICAgdmFyIG0gPSBGKGEpO1xuICAgICAgICAgIFMoXCJDb21wb25lbnQgJXMgZGVjbGFyZWQgYFByb3BUeXBlc2AgaW5zdGVhZCBvZiBgcHJvcFR5cGVzYC4gRGlkIHlvdSBtaXNzcGVsbCB0aGUgcHJvcGVydHkgYXNzaWdubWVudD9cIiwgbSB8fCBcIlVua25vd25cIik7XG4gICAgICAgIH1cbiAgICAgICAgdHlwZW9mIGEuZ2V0RGVmYXVsdFByb3BzID09IFwiZnVuY3Rpb25cIiAmJiAhYS5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQgJiYgUyhcImdldERlZmF1bHRQcm9wcyBpcyBvbmx5IHVzZWQgb24gY2xhc3NpYyBSZWFjdC5jcmVhdGVDbGFzcyBkZWZpbml0aW9ucy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IG5hbWVkIGBkZWZhdWx0UHJvcHNgIGluc3RlYWQuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBEcihlKSB7XG4gICAgICB7XG4gICAgICAgIGZvciAodmFyIGEgPSBPYmplY3Qua2V5cyhlLnByb3BzKSwgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHYgPSBhW2ldO1xuICAgICAgICAgIGlmICh2ICE9PSBcImNoaWxkcmVuXCIgJiYgdiAhPT0gXCJrZXlcIikge1xuICAgICAgICAgICAgQShlKSwgUyhcIkludmFsaWQgcHJvcCBgJXNgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuIFJlYWN0LkZyYWdtZW50IGNhbiBvbmx5IGhhdmUgYGtleWAgYW5kIGBjaGlsZHJlbmAgcHJvcHMuXCIsIHYpLCBBKG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGUucmVmICE9PSBudWxsICYmIChBKGUpLCBTKFwiSW52YWxpZCBhdHRyaWJ1dGUgYHJlZmAgc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC5cIiksIEEobnVsbCkpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgJGUgPSB7fTtcbiAgICBmdW5jdGlvbiB6ZShlLCBhLCBpLCB2LCBtLCB5KSB7XG4gICAgICB7XG4gICAgICAgIHZhciBwID0gZHIoZSk7XG4gICAgICAgIGlmICghcCkge1xuICAgICAgICAgIHZhciBnID0gXCJcIjtcbiAgICAgICAgICAoZSA9PT0gdm9pZCAwIHx8IHR5cGVvZiBlID09IFwib2JqZWN0XCIgJiYgZSAhPT0gbnVsbCAmJiBPYmplY3Qua2V5cyhlKS5sZW5ndGggPT09IDApICYmIChnICs9IFwiIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlIGl0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIik7XG4gICAgICAgICAgdmFyIFAgPSBDcihtKTtcbiAgICAgICAgICBQID8gZyArPSBQIDogZyArPSBNZSgpO1xuICAgICAgICAgIHZhciBFO1xuICAgICAgICAgIGUgPT09IG51bGwgPyBFID0gXCJudWxsXCIgOiBvZShlKSA/IEUgPSBcImFycmF5XCIgOiBlICE9PSB2b2lkIDAgJiYgZS4kJHR5cGVvZiA9PT0gdCA/IChFID0gXCI8XCIgKyAoRihlLnR5cGUpIHx8IFwiVW5rbm93blwiKSArIFwiIC8+XCIsIGcgPSBcIiBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50P1wiKSA6IEUgPSB0eXBlb2YgZSwgUyhcIlJlYWN0LmpzeDogdHlwZSBpcyBpbnZhbGlkIC0tIGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKSBidXQgZ290OiAlcy4lc1wiLCBFLCBnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgVCA9IF9yKGUsIGEsIGksIG0sIHkpO1xuICAgICAgICBpZiAoVCA9PSBudWxsKVxuICAgICAgICAgIHJldHVybiBUO1xuICAgICAgICBpZiAocCkge1xuICAgICAgICAgIHZhciBDID0gYS5jaGlsZHJlbjtcbiAgICAgICAgICBpZiAoQyAhPT0gdm9pZCAwKVxuICAgICAgICAgICAgaWYgKHYpXG4gICAgICAgICAgICAgIGlmIChvZShDKSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyICQgPSAwOyAkIDwgQy5sZW5ndGg7ICQrKylcbiAgICAgICAgICAgICAgICAgIEFlKENbJF0sIGUpO1xuICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUgJiYgT2JqZWN0LmZyZWV6ZShDKTtcbiAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgUyhcIlJlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuIFlvdSBhcmUgbGlrZWx5IGV4cGxpY2l0bHkgY2FsbGluZyBSZWFjdC5qc3hzIG9yIFJlYWN0LmpzeERFVi4gVXNlIHRoZSBCYWJlbCB0cmFuc2Zvcm0gaW5zdGVhZC5cIik7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIEFlKEMsIGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChXLmNhbGwoYSwgXCJrZXlcIikpIHtcbiAgICAgICAgICB2YXIgSSA9IEYoZSksIF8gPSBPYmplY3Qua2V5cyhhKS5maWx0ZXIoZnVuY3Rpb24oJHIpIHtcbiAgICAgICAgICAgIHJldHVybiAkciAhPT0gXCJrZXlcIjtcbiAgICAgICAgICB9KSwgdWUgPSBfLmxlbmd0aCA+IDAgPyBcIntrZXk6IHNvbWVLZXksIFwiICsgXy5qb2luKFwiOiAuLi4sIFwiKSArIFwiOiAuLi59XCIgOiBcIntrZXk6IHNvbWVLZXl9XCI7XG4gICAgICAgICAgaWYgKCEkZVtJICsgdWVdKSB7XG4gICAgICAgICAgICB2YXIgQXIgPSBfLmxlbmd0aCA+IDAgPyBcIntcIiArIF8uam9pbihcIjogLi4uLCBcIikgKyBcIjogLi4ufVwiIDogXCJ7fVwiO1xuICAgICAgICAgICAgUyhgQSBwcm9wcyBvYmplY3QgY29udGFpbmluZyBhIFwia2V5XCIgcHJvcCBpcyBiZWluZyBzcHJlYWQgaW50byBKU1g6XG4gIGxldCBwcm9wcyA9ICVzO1xuICA8JXMgey4uLnByb3BzfSAvPlxuUmVhY3Qga2V5cyBtdXN0IGJlIHBhc3NlZCBkaXJlY3RseSB0byBKU1ggd2l0aG91dCB1c2luZyBzcHJlYWQ6XG4gIGxldCBwcm9wcyA9ICVzO1xuICA8JXMga2V5PXtzb21lS2V5fSB7Li4ucHJvcHN9IC8+YCwgdWUsIEksIEFyLCBJKSwgJGVbSSArIHVlXSA9ICEwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZSA9PT0gbyA/IERyKFQpIDogRnIoVCksIFQ7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIE5yKGUsIGEsIGkpIHtcbiAgICAgIHJldHVybiB6ZShlLCBhLCBpLCAhMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIE1yKGUsIGEsIGkpIHtcbiAgICAgIHJldHVybiB6ZShlLCBhLCBpLCAhMSk7XG4gICAgfVxuICAgIHZhciBJciA9IE1yLCBMciA9IE5yO1xuICAgIFkuRnJhZ21lbnQgPSBvLCBZLmpzeCA9IElyLCBZLmpzeHMgPSBMcjtcbiAgfSgpKSwgWTtcbn1cbnByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIiA/IHZlLmV4cG9ydHMgPSBpdCgpIDogdmUuZXhwb3J0cyA9IHN0KCk7XG52YXIgbCA9IHZlLmV4cG9ydHM7XG5jb25zdCBaZSA9IChyLCB0LCBuID0gITEpID0+IHtcbiAgY29uc3QgbyA9IFtdO1xuICBmdW5jdGlvbiBzKGMsIGYgPSBcIi0tYm5cIikge1xuICAgIGZvciAoY29uc3QgdSBpbiBjKSB7XG4gICAgICBjb25zdCBkID0gdS5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCBcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCksIGIgPSBgJHtmfS0ke2R9YDtcbiAgICAgIHR5cGVvZiBjW3VdICE9IFwib2JqZWN0XCIgPyAodHlwZW9mIGNbdV0gPT0gXCJudW1iZXJcIiAmJiAoY1t1XSA9IGAke2NbdV19cHhgKSwgbiA/IHQuc3R5bGUucmVtb3ZlUHJvcGVydHkoYikgOiB0LnN0eWxlLnNldFByb3BlcnR5KGIsIGNbdV0udG9TdHJpbmcoKSkpIDogcyhjW3VdLCBiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHMociksIG87XG59LCBWZSA9IChyLCB0KSA9PiBaZShyLCB0KSwgbHQgPSB7XG4gIGNvbG9yczoge1xuICAgIGVkaXRvcjoge1xuICAgICAgdGV4dDogdm9pZCAwLFxuICAgICAgYmFja2dyb3VuZDogdm9pZCAwXG4gICAgfSxcbiAgICBtZW51OiB7XG4gICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICBiYWNrZ3JvdW5kOiB2b2lkIDBcbiAgICB9LFxuICAgIHRvb2x0aXA6IHtcbiAgICAgIHRleHQ6IHZvaWQgMCxcbiAgICAgIGJhY2tncm91bmQ6IHZvaWQgMFxuICAgIH0sXG4gICAgaG92ZXJlZDoge1xuICAgICAgdGV4dDogdm9pZCAwLFxuICAgICAgYmFja2dyb3VuZDogdm9pZCAwXG4gICAgfSxcbiAgICBzZWxlY3RlZDoge1xuICAgICAgdGV4dDogdm9pZCAwLFxuICAgICAgYmFja2dyb3VuZDogdm9pZCAwXG4gICAgfSxcbiAgICBkaXNhYmxlZDoge1xuICAgICAgdGV4dDogdm9pZCAwLFxuICAgICAgYmFja2dyb3VuZDogdm9pZCAwXG4gICAgfSxcbiAgICBzaGFkb3c6IHZvaWQgMCxcbiAgICBib3JkZXI6IHZvaWQgMCxcbiAgICBzaWRlTWVudTogdm9pZCAwLFxuICAgIGhpZ2hsaWdodHM6IHtcbiAgICAgIGdyYXk6IHtcbiAgICAgICAgdGV4dDogdm9pZCAwLFxuICAgICAgICBiYWNrZ3JvdW5kOiB2b2lkIDBcbiAgICAgIH0sXG4gICAgICBicm93bjoge1xuICAgICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICAgIGJhY2tncm91bmQ6IHZvaWQgMFxuICAgICAgfSxcbiAgICAgIHJlZDoge1xuICAgICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICAgIGJhY2tncm91bmQ6IHZvaWQgMFxuICAgICAgfSxcbiAgICAgIG9yYW5nZToge1xuICAgICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICAgIGJhY2tncm91bmQ6IHZvaWQgMFxuICAgICAgfSxcbiAgICAgIHllbGxvdzoge1xuICAgICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICAgIGJhY2tncm91bmQ6IHZvaWQgMFxuICAgICAgfSxcbiAgICAgIGdyZWVuOiB7XG4gICAgICAgIHRleHQ6IHZvaWQgMCxcbiAgICAgICAgYmFja2dyb3VuZDogdm9pZCAwXG4gICAgICB9LFxuICAgICAgYmx1ZToge1xuICAgICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICAgIGJhY2tncm91bmQ6IHZvaWQgMFxuICAgICAgfSxcbiAgICAgIHB1cnBsZToge1xuICAgICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICAgIGJhY2tncm91bmQ6IHZvaWQgMFxuICAgICAgfSxcbiAgICAgIHBpbms6IHtcbiAgICAgICAgdGV4dDogdm9pZCAwLFxuICAgICAgICBiYWNrZ3JvdW5kOiB2b2lkIDBcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGJvcmRlclJhZGl1czogdm9pZCAwLFxuICBmb250RmFtaWx5OiB2b2lkIDBcbn0sIHV0ID0gKHIpID0+IFplKGx0LCByLCAhMCksIGN0ID0gUigociwgdCkgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lOiBuLFxuICAgIG5hbWU6IG8sXG4gICAgbGFiZWw6IHMsXG4gICAgaWNvbjogYyxcbiAgICB2YWx1ZTogZixcbiAgICBhdXRvRm9jdXM6IHUsXG4gICAgcGxhY2Vob2xkZXI6IGQsXG4gICAgb25LZXlEb3duOiBiLFxuICAgIG9uQ2hhbmdlOiBoLFxuICAgIG9uU3VibWl0OiB3LFxuICAgIC4uLmtcbiAgfSA9IHI7XG4gIHJldHVybiBqKGspLCAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgSmUsXG4gICAge1xuICAgICAgc2l6ZTogXCJ4c1wiLFxuICAgICAgY2xhc3NOYW1lOiBuLFxuICAgICAgcmVmOiB0LFxuICAgICAgbmFtZTogbyxcbiAgICAgIGxhYmVsOiBzLFxuICAgICAgbGVmdFNlY3Rpb246IGMsXG4gICAgICB2YWx1ZTogZixcbiAgICAgIGF1dG9Gb2N1czogdSxcbiAgICAgIFwiZGF0YS1hdXRvZm9jdXNcIjogdSA/IFwidHJ1ZVwiIDogdm9pZCAwLFxuICAgICAgcGxhY2Vob2xkZXI6IGQsXG4gICAgICBvbktleURvd246IGIsXG4gICAgICBvbkNoYW5nZTogaCxcbiAgICAgIG9uU3VibWl0OiB3XG4gICAgfVxuICApO1xufSk7XG52YXIgUWUgPSB7XG4gIGNvbG9yOiB2b2lkIDAsXG4gIHNpemU6IHZvaWQgMCxcbiAgY2xhc3NOYW1lOiB2b2lkIDAsXG4gIHN0eWxlOiB2b2lkIDAsXG4gIGF0dHI6IHZvaWQgMFxufSwgWWUgPSBELmNyZWF0ZUNvbnRleHQgJiYgLyogQF9fUFVSRV9fICovIEQuY3JlYXRlQ29udGV4dChRZSksIGR0ID0gW1wiYXR0clwiLCBcInNpemVcIiwgXCJ0aXRsZVwiXTtcbmZ1bmN0aW9uIGZ0KHIsIHQpIHtcbiAgaWYgKHIgPT0gbnVsbClcbiAgICByZXR1cm4ge307XG4gIHZhciBuID0gdnQociwgdCksIG8sIHM7XG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIGMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHIpO1xuICAgIGZvciAocyA9IDA7IHMgPCBjLmxlbmd0aDsgcysrKVxuICAgICAgbyA9IGNbc10sICEodC5pbmRleE9mKG8pID49IDApICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChyLCBvKSAmJiAobltvXSA9IHJbb10pO1xuICB9XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gdnQociwgdCkge1xuICBpZiAociA9PSBudWxsKVxuICAgIHJldHVybiB7fTtcbiAgdmFyIG4gPSB7fTtcbiAgZm9yICh2YXIgbyBpbiByKVxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwociwgbykpIHtcbiAgICAgIGlmICh0LmluZGV4T2YobykgPj0gMClcbiAgICAgICAgY29udGludWU7XG4gICAgICBuW29dID0gcltvXTtcbiAgICB9XG4gIHJldHVybiBuO1xufVxuZnVuY3Rpb24gUSgpIHtcbiAgcmV0dXJuIFEgPSBPYmplY3QuYXNzaWduID8gT2JqZWN0LmFzc2lnbi5iaW5kKCkgOiBmdW5jdGlvbihyKSB7XG4gICAgZm9yICh2YXIgdCA9IDE7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHtcbiAgICAgIHZhciBuID0gYXJndW1lbnRzW3RdO1xuICAgICAgZm9yICh2YXIgbyBpbiBuKVxuICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobiwgbykgJiYgKHJbb10gPSBuW29dKTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH0sIFEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cbmZ1bmN0aW9uIFVlKHIsIHQpIHtcbiAgdmFyIG4gPSBPYmplY3Qua2V5cyhyKTtcbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocik7XG4gICAgdCAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uKHMpIHtcbiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsIHMpLmVudW1lcmFibGU7XG4gICAgfSkpLCBuLnB1c2guYXBwbHkobiwgbyk7XG4gIH1cbiAgcmV0dXJuIG47XG59XG5mdW5jdGlvbiBlZShyKSB7XG4gIGZvciAodmFyIHQgPSAxOyB0IDwgYXJndW1lbnRzLmxlbmd0aDsgdCsrKSB7XG4gICAgdmFyIG4gPSBhcmd1bWVudHNbdF0gIT0gbnVsbCA/IGFyZ3VtZW50c1t0XSA6IHt9O1xuICAgIHQgJSAyID8gVWUoT2JqZWN0KG4pLCAhMCkuZm9yRWFjaChmdW5jdGlvbihvKSB7XG4gICAgICBidChyLCBvLCBuW29dKTtcbiAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMociwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpIDogVWUoT2JqZWN0KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKG8pIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCBvLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sIG8pKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcjtcbn1cbmZ1bmN0aW9uIGJ0KHIsIHQsIG4pIHtcbiAgcmV0dXJuIHQgPSBndCh0KSwgdCBpbiByID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIHQsIHsgdmFsdWU6IG4sIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiByW3RdID0gbiwgcjtcbn1cbmZ1bmN0aW9uIGd0KHIpIHtcbiAgdmFyIHQgPSBwdChyLCBcInN0cmluZ1wiKTtcbiAgcmV0dXJuIHR5cGVvZiB0ID09IFwic3ltYm9sXCIgPyB0IDogdCArIFwiXCI7XG59XG5mdW5jdGlvbiBwdChyLCB0KSB7XG4gIGlmICh0eXBlb2YgciAhPSBcIm9iamVjdFwiIHx8ICFyKVxuICAgIHJldHVybiByO1xuICB2YXIgbiA9IHJbU3ltYm9sLnRvUHJpbWl0aXZlXTtcbiAgaWYgKG4gIT09IHZvaWQgMCkge1xuICAgIHZhciBvID0gbi5jYWxsKHIsIHQgfHwgXCJkZWZhdWx0XCIpO1xuICAgIGlmICh0eXBlb2YgbyAhPSBcIm9iamVjdFwiKVxuICAgICAgcmV0dXJuIG87XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpO1xuICB9XG4gIHJldHVybiAodCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikocik7XG59XG5mdW5jdGlvbiBlcihyKSB7XG4gIHJldHVybiByICYmIHIubWFwKCh0LCBuKSA9PiAvKiBAX19QVVJFX18gKi8gRC5jcmVhdGVFbGVtZW50KHQudGFnLCBlZSh7XG4gICAga2V5OiBuXG4gIH0sIHQuYXR0ciksIGVyKHQuY2hpbGQpKSk7XG59XG5mdW5jdGlvbiBycihyKSB7XG4gIHJldHVybiAodCkgPT4gLyogQF9fUFVSRV9fICovIEQuY3JlYXRlRWxlbWVudChtdCwgUSh7XG4gICAgYXR0cjogZWUoe30sIHIuYXR0cilcbiAgfSwgdCksIGVyKHIuY2hpbGQpKTtcbn1cbmZ1bmN0aW9uIG10KHIpIHtcbiAgdmFyIHQgPSAobikgPT4ge1xuICAgIHZhciB7XG4gICAgICBhdHRyOiBvLFxuICAgICAgc2l6ZTogcyxcbiAgICAgIHRpdGxlOiBjXG4gICAgfSA9IHIsIGYgPSBmdChyLCBkdCksIHUgPSBzIHx8IG4uc2l6ZSB8fCBcIjFlbVwiLCBkO1xuICAgIHJldHVybiBuLmNsYXNzTmFtZSAmJiAoZCA9IG4uY2xhc3NOYW1lKSwgci5jbGFzc05hbWUgJiYgKGQgPSAoZCA/IGQgKyBcIiBcIiA6IFwiXCIpICsgci5jbGFzc05hbWUpLCAvKiBAX19QVVJFX18gKi8gRC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIFEoe1xuICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgIHN0cm9rZVdpZHRoOiBcIjBcIlxuICAgIH0sIG4uYXR0ciwgbywgZiwge1xuICAgICAgY2xhc3NOYW1lOiBkLFxuICAgICAgc3R5bGU6IGVlKGVlKHtcbiAgICAgICAgY29sb3I6IHIuY29sb3IgfHwgbi5jb2xvclxuICAgICAgfSwgbi5zdHlsZSksIHIuc3R5bGUpLFxuICAgICAgaGVpZ2h0OiB1LFxuICAgICAgd2lkdGg6IHUsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgfSksIGMgJiYgLyogQF9fUFVSRV9fICovIEQuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIG51bGwsIGMpLCByLmNoaWxkcmVuKTtcbiAgfTtcbiAgcmV0dXJuIFllICE9PSB2b2lkIDAgPyAvKiBAX19QVVJFX18gKi8gRC5jcmVhdGVFbGVtZW50KFllLkNvbnN1bWVyLCBudWxsLCAobikgPT4gdChuKSkgOiB0KFFlKTtcbn1cbmZ1bmN0aW9uIGh0KHIpIHtcbiAgcmV0dXJuIHJyKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDIwIDIwXCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIsIFwiYXJpYS1oaWRkZW5cIjogXCJ0cnVlXCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBkOiBcIk01LjI5MyA3LjI5M2ExIDEgMCAwMTEuNDE0IDBMMTAgMTAuNTg2bDMuMjkzLTMuMjkzYTEgMSAwIDExMS40MTQgMS40MTRsLTQgNGExIDEgMCAwMS0xLjQxNCAwbC00LTRhMSAxIDAgMDEwLTEuNDE0elwiLCBjbGlwUnVsZTogXCJldmVub2RkXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKHIpO1xufVxuZnVuY3Rpb24geHQocikge1xuICByZXR1cm4gcnIoeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjAgMjBcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiwgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBmaWxsUnVsZTogXCJldmVub2RkXCIsIGQ6IFwiTTcuMjkzIDE0LjcwN2ExIDEgMCAwMTAtMS40MTRMMTAuNTg2IDEwIDcuMjkzIDYuNzA3YTEgMSAwIDAxMS40MTQtMS40MTRsNCA0YTEgMSAwIDAxMCAxLjQxNGwtNCA0YTEgMSAwIDAxLTEuNDE0IDB6XCIsIGNsaXBSdWxlOiBcImV2ZW5vZGRcIiB9LCBjaGlsZDogW10gfV0gfSkocik7XG59XG5jb25zdCB0ciA9IHpyKHZvaWQgMCksIHl0ID0gUigociwgdCkgPT4ge1xuICBjb25zdCB7XG4gICAgY2hpbGRyZW46IG4sXG4gICAgb25PcGVuQ2hhbmdlOiBvLFxuICAgIHBvc2l0aW9uOiBzLFxuICAgIHN1YjogYyxcbiAgICAvLyBub3QgdXNlZFxuICAgIC4uLmZcbiAgfSA9IHI7XG4gIGooZik7XG4gIGNvbnN0IFt1LCBkXSA9IFdyKCExKSwgYiA9IGNlKG51bGwpLCBoID0gY2UoKSwgdyA9IGRlKCgpID0+IHtcbiAgICBoLmN1cnJlbnQgJiYgY2xlYXJUaW1lb3V0KGguY3VycmVudCksIGguY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZCghMSk7XG4gICAgfSwgMjUwKTtcbiAgfSwgW10pLCBrID0gZGUoKCkgPT4ge1xuICAgIGguY3VycmVudCAmJiBjbGVhclRpbWVvdXQoaC5jdXJyZW50KSwgZCghMCk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICB0ci5Qcm92aWRlcixcbiAgICB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICBvbk1lbnVNb3VzZU92ZXI6IGssXG4gICAgICAgIG9uTWVudU1vdXNlTGVhdmU6IHdcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgICAgICBPLkl0ZW0sXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwiYm4tbWVudS1pdGVtIGJuLW10LXN1Yi1tZW51LWl0ZW1cIixcbiAgICAgICAgICByZWY6IGdlKHQsIGIpLFxuICAgICAgICAgIG9uTW91c2VPdmVyOiBrLFxuICAgICAgICAgIG9uTW91c2VMZWF2ZTogdyxcbiAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgICAgICAgICAgTyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcG9ydGFsUHJvcHM6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGIuY3VycmVudCA/IGIuY3VycmVudC5wYXJlbnRFbGVtZW50IDogdm9pZCAwXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG1pZGRsZXdhcmVzOiB7IGZsaXA6ICEwLCBzaGlmdDogITAsIGlubGluZTogITEsIHNpemU6ICEwIH0sXG4gICAgICAgICAgICAgIHRyaWdnZXI6IFwiaG92ZXJcIixcbiAgICAgICAgICAgICAgb3BlbmVkOiB1LFxuICAgICAgICAgICAgICBvbkNsb3NlOiAoKSA9PiBvID09IG51bGwgPyB2b2lkIDAgOiBvKCExKSxcbiAgICAgICAgICAgICAgb25PcGVuOiAoKSA9PiBvID09IG51bGwgPyB2b2lkIDAgOiBvKCEwKSxcbiAgICAgICAgICAgICAgcG9zaXRpb246IHMsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufSksIGp0ID0gKHIpID0+IHtcbiAgY29uc3QgeyBjaGlsZHJlbjogdCwgb25PcGVuQ2hhbmdlOiBuLCBwb3NpdGlvbjogbywgc3ViOiBzLCAuLi5jIH0gPSByO1xuICByZXR1cm4gaihjKSwgcyA/IC8qIEBfX1BVUkVfXyAqLyBsLmpzeCh5dCwgeyAuLi5yIH0pIDogLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgIE8sXG4gICAge1xuICAgICAgd2l0aGluUG9ydGFsOiAhMSxcbiAgICAgIG1pZGRsZXdhcmVzOiB7IGZsaXA6ICEwLCBzaGlmdDogITAsIGlubGluZTogITEsIHNpemU6ICEwIH0sXG4gICAgICBvbkNsb3NlOiAoKSA9PiBuID09IG51bGwgPyB2b2lkIDAgOiBuKCExKSxcbiAgICAgIG9uT3BlbjogKCkgPT4gbiA9PSBudWxsID8gdm9pZCAwIDogbighMCksXG4gICAgICBwb3NpdGlvbjogbyxcbiAgICAgIGNoaWxkcmVuOiB0XG4gICAgfVxuICApO1xufSwgUnQgPSBSKChyLCB0KSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lOiBuLCBjaGlsZHJlbjogbywgaWNvbjogcywgY2hlY2tlZDogYywgc3ViVHJpZ2dlcjogZiwgb25DbGljazogdSwgLi4uZCB9ID0gcjtcbiAgcmV0dXJuIGooZCwgITEpLCBmID8gLyogQF9fUFVSRV9fICovIGwuanN4cyhcImRpdlwiLCB7IHJlZjogdCwgLi4uZCwgY2hpbGRyZW46IFtcbiAgICBvLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBsLmpzeCh4dCwgeyBzaXplOiAxNSB9KVxuICBdIH0pIDogLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgIE8uSXRlbSxcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IG4sXG4gICAgICByZWY6IHQsXG4gICAgICBsZWZ0U2VjdGlvbjogcyxcbiAgICAgIHJpZ2h0U2VjdGlvbjogYyA/IC8qIEBfX1BVUkVfXyAqLyBsLmpzeChxZSwgeyBzaXplOiAxMCB9KSA6IGMgPT09ICExID8gLyogQF9fUFVSRV9fICovIGwuanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJuLXRpY2stc3BhY2VcIiB9KSA6IG51bGwsXG4gICAgICBvbkNsaWNrOiB1LFxuICAgICAgLi4uZCxcbiAgICAgIGNoaWxkcmVuOiBvXG4gICAgfVxuICApO1xufSksIEV0ID0gKHIpID0+IHtcbiAgY29uc3Qge1xuICAgIGNoaWxkcmVuOiB0LFxuICAgIHN1YjogbixcbiAgICAvLyB1bnVzZWRcbiAgICAuLi5vXG4gIH0gPSByO1xuICByZXR1cm4gaihvKSwgLyogQF9fUFVSRV9fICovIGwuanN4KE8uVGFyZ2V0LCB7IGNoaWxkcmVuOiB0IH0pO1xufSwgVHQgPSBSKChyLCB0KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjbGFzc05hbWU6IG4sXG4gICAgY2hpbGRyZW46IG8sXG4gICAgc3ViOiBzLFxuICAgIC8vdW51c2VkXG4gICAgLi4uY1xuICB9ID0gcjtcbiAgaihjKTtcbiAgY29uc3QgZiA9IEJyKHRyKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICBPLkRyb3Bkb3duLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogbixcbiAgICAgIHJlZjogdCxcbiAgICAgIG9uTW91c2VPdmVyOiBmID09IG51bGwgPyB2b2lkIDAgOiBmLm9uTWVudU1vdXNlT3ZlcixcbiAgICAgIG9uTW91c2VMZWF2ZTogZiA9PSBudWxsID8gdm9pZCAwIDogZi5vbk1lbnVNb3VzZUxlYXZlLFxuICAgICAgY2hpbGRyZW46IG9cbiAgICB9XG4gICk7XG59KSwgd3QgPSBSKChyLCB0KSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lOiBuLCAuLi5vIH0gPSByO1xuICByZXR1cm4gaihvKSwgLyogQF9fUFVSRV9fICovIGwuanN4KE8uRGl2aWRlciwgeyBjbGFzc05hbWU6IG4sIHJlZjogdCB9KTtcbn0pLCBrdCA9IFIoKHIsIHQpID0+IHtcbiAgY29uc3QgeyBjbGFzc05hbWU6IG4sIGNoaWxkcmVuOiBvLCAuLi5zIH0gPSByO1xuICByZXR1cm4gaihzKSwgLyogQF9fUFVSRV9fICovIGwuanN4KE8uTGFiZWwsIHsgY2xhc3NOYW1lOiBuLCByZWY6IHQsIGNoaWxkcmVuOiBvIH0pO1xufSksIFN0ID0gUigociwgdCkgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lOiBuLFxuICAgIHRhYnM6IG8sXG4gICAgZGVmYXVsdE9wZW5UYWI6IHMsXG4gICAgb3BlblRhYjogYyxcbiAgICBzZXRPcGVuVGFiOiBmLFxuICAgIGxvYWRpbmc6IHUsXG4gICAgLi4uZFxuICB9ID0gcjtcbiAgcmV0dXJuIGooZCksIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChOLCB7IGNsYXNzTmFtZTogbiwgcmVmOiB0LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGwuanN4cyhcbiAgICBYLFxuICAgIHtcbiAgICAgIHZhbHVlOiBjLFxuICAgICAgZGVmYXVsdFZhbHVlOiBzLFxuICAgICAgb25DaGFuZ2U6IGYsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICB1ICYmIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChIciwgeyB2aXNpYmxlOiB1IH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8gbC5qc3goWC5MaXN0LCB7IGNoaWxkcmVuOiBvLm1hcCgoYikgPT4gLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgICAgICAgIFguVGFiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiZGF0YS10ZXN0XCI6IGAke2IubmFtZS50b0xvd2VyQ2FzZSgpfS10YWJgLFxuICAgICAgICAgICAgdmFsdWU6IGIubmFtZSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBiLm5hbWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGIubmFtZVxuICAgICAgICApKSB9KSxcbiAgICAgICAgby5tYXAoKGIpID0+IC8qIEBfX1BVUkVfXyAqLyBsLmpzeChYLlBhbmVsLCB7IHZhbHVlOiBiLm5hbWUsIGNoaWxkcmVuOiBiLnRhYlBhbmVsIH0sIGIubmFtZSkpXG4gICAgICBdXG4gICAgfVxuICApIH0pO1xufSksIFB0ID0gUigociwgdCkgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZTogbiwgY2hpbGRyZW46IG8sIG9uQ2xpY2s6IHMsIGxhYmVsOiBjLCAuLi5mIH0gPSByO1xuICByZXR1cm4gaihmKSwgLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgIFUsXG4gICAge1xuICAgICAgc2l6ZTogXCJ4c1wiLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IGMsXG4gICAgICBjbGFzc05hbWU6IG4sXG4gICAgICByZWY6IHQsXG4gICAgICBvbkNsaWNrOiBzLFxuICAgICAgLi4uZixcbiAgICAgIGNoaWxkcmVuOiBvXG4gICAgfVxuICApO1xufSksIF90ID0gUigociwgdCkgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZTogbiwgYWNjZXB0OiBvLCB2YWx1ZTogcywgcGxhY2Vob2xkZXI6IGMsIG9uQ2hhbmdlOiBmLCAuLi51IH0gPSByO1xuICByZXR1cm4gaih1KSwgLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgIEpyLFxuICAgIHtcbiAgICAgIHNpemU6IFwieHNcIixcbiAgICAgIGNsYXNzTmFtZTogbixcbiAgICAgIHJlZjogdCxcbiAgICAgIGFjY2VwdDogbyxcbiAgICAgIHZhbHVlOiBzLFxuICAgICAgcGxhY2Vob2xkZXI6IGMsXG4gICAgICBvbkNoYW5nZTogZixcbiAgICAgIC4uLnVcbiAgICB9XG4gICk7XG59KSwgQ3QgPSBSKChyLCB0KSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lOiBuLCBjaGlsZHJlbjogbywgLi4ucyB9ID0gcjtcbiAgcmV0dXJuIGoocyksIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogbiwgcmVmOiB0LCBjaGlsZHJlbjogbyB9KTtcbn0pLCBPdCA9IFIoKHIsIHQpID0+IHtcbiAgY29uc3QgeyBjbGFzc05hbWU6IG4sIHZhbHVlOiBvLCBwbGFjZWhvbGRlcjogcywgb25LZXlEb3duOiBjLCBvbkNoYW5nZTogZiwgLi4udSB9ID0gcjtcbiAgcmV0dXJuIGoodSksIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICBKZSxcbiAgICB7XG4gICAgICBzaXplOiBcInhzXCIsXG4gICAgICBcImRhdGEtdGVzdFwiOiBcImVtYmVkLWlucHV0XCIsXG4gICAgICBjbGFzc05hbWU6IG4sXG4gICAgICByZWY6IHQsXG4gICAgICB2YWx1ZTogbyxcbiAgICAgIHBsYWNlaG9sZGVyOiBzLFxuICAgICAgb25LZXlEb3duOiBjLFxuICAgICAgb25DaGFuZ2U6IGZcbiAgICB9XG4gICk7XG59KSwgRnQgPSAocikgPT4ge1xuICBjb25zdCB7IGNoaWxkcmVuOiB0LCBvcGVuZWQ6IG4sIHBvc2l0aW9uOiBvLCAuLi5zIH0gPSByO1xuICByZXR1cm4gaihzKSwgLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgIHFyLFxuICAgIHtcbiAgICAgIHdpdGhpblBvcnRhbDogITEsXG4gICAgICB6SW5kZXg6IDFlNCxcbiAgICAgIG9wZW5lZDogbixcbiAgICAgIHBvc2l0aW9uOiBvLFxuICAgICAgY2hpbGRyZW46IHRcbiAgICB9XG4gICk7XG59LCBEdCA9IChyKSA9PiB7XG4gIGNvbnN0IHsgY2hpbGRyZW46IHQsIC4uLm4gfSA9IHI7XG4gIHJldHVybiBqKG4pLCAvKiBAX19QVVJFX18gKi8gbC5qc3goWHIsIHsgY2hpbGRyZW46IHQgfSk7XG59LCBOdCA9IFIoKHIsIHQpID0+IHtcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZTogbixcbiAgICBjaGlsZHJlbjogbyxcbiAgICB2YXJpYW50OiBzLFxuICAgIC8vIHVudXNlZFxuICAgIC4uLmNcbiAgfSA9IHI7XG4gIHJldHVybiBqKGMpLCAvKiBAX19QVVJFX18gKi8gbC5qc3goWnIsIHsgY2xhc3NOYW1lOiBuLCByZWY6IHQsIGNoaWxkcmVuOiBvIH0pO1xufSksIE10ID0gUigociwgdCkgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZTogbiwgY2hpbGRyZW46IG8sIC4uLnMgfSA9IHI7XG4gIHJldHVybiBqKHMsICExKSwgLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgIE4sXG4gICAge1xuICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICBnYXA6IDAsXG4gICAgICBjbGFzc05hbWU6IG4sXG4gICAgICByZWY6IHQsXG4gICAgICAuLi5zLFxuICAgICAgY2hpbGRyZW46IG9cbiAgICB9XG4gICk7XG59KSwgSXQgPSBSKChyLCB0KSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjbGFzc05hbWU6IG4sXG4gICAgY2hpbGRyZW46IG8sXG4gICAgaWNvbjogcyxcbiAgICBvbkNsaWNrOiBjLFxuICAgIG9uRHJhZ0VuZDogZixcbiAgICBvbkRyYWdTdGFydDogdSxcbiAgICBkcmFnZ2FibGU6IGQsXG4gICAgbGFiZWw6IGIsXG4gICAgLi4uaFxuICB9ID0gcjtcbiAgcmV0dXJuIGooaCwgITEpLCBzID8gLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgIFhlLFxuICAgIHtcbiAgICAgIHNpemU6IDI0LFxuICAgICAgY2xhc3NOYW1lOiBuLFxuICAgICAgcmVmOiB0LFxuICAgICAgb25DbGljazogYyxcbiAgICAgIG9uRHJhZ0VuZDogZixcbiAgICAgIG9uRHJhZ1N0YXJ0OiB1LFxuICAgICAgZHJhZ2dhYmxlOiBkLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IGIsXG4gICAgICAuLi5oLFxuICAgICAgY2hpbGRyZW46IHNcbiAgICB9XG4gICkgOiAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgVSxcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IG4sXG4gICAgICByZWY6IHQsXG4gICAgICBvbkNsaWNrOiBjLFxuICAgICAgb25EcmFnRW5kOiBmLFxuICAgICAgb25EcmFnU3RhcnQ6IHUsXG4gICAgICBkcmFnZ2FibGU6IGQsXG4gICAgICBcImFyaWEtbGFiZWxcIjogYixcbiAgICAgIC4uLmgsXG4gICAgICBjaGlsZHJlbjogb1xuICAgIH1cbiAgKTtcbn0pLCBMdCA9IFIoKHIsIHQpID0+IHtcbiAgY29uc3QgeyBjbGFzc05hbWU6IG4sIGNoaWxkcmVuOiBvLCBpZDogcywgLi4uYyB9ID0gcjtcbiAgcmV0dXJuIGooYyksIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICBiZSxcbiAgICB7XG4gICAgICBnYXA6IDAsXG4gICAgICBjbGFzc05hbWU6IG4sXG4gICAgICByZWY6IHQsXG4gICAgICBpZDogcyxcbiAgICAgIHJvbGU6IFwibGlzdGJveFwiLFxuICAgICAgY2hpbGRyZW46IG9cbiAgICB9XG4gICk7XG59KSwgQXQgPSBSKChyLCB0KSA9PiB7XG4gIGNvbnN0IHsgY2xhc3NOYW1lOiBuLCBjaGlsZHJlbjogbywgLi4ucyB9ID0gcjtcbiAgcmV0dXJuIGoocyksIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChOLCB7IGNsYXNzTmFtZTogbiwgcmVmOiB0LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGwuanN4KE4sIHsgY2xhc3NOYW1lOiBcImJuLW10LXN1Z2dlc3Rpb24tbWVudS1pdGVtLXRpdGxlXCIsIGNoaWxkcmVuOiBvIH0pIH0pO1xufSksICR0ID0gUigociwgdCkgPT4ge1xuICBjb25zdCB7IGNsYXNzTmFtZTogbiwgaXNTZWxlY3RlZDogbywgb25DbGljazogcywgaXRlbTogYywgaWQ6IGYsIC4uLnUgfSA9IHI7XG4gIGoodSk7XG4gIGNvbnN0IGQgPSBjZShudWxsKTtcbiAgcmV0dXJuIFZyKCgpID0+IHtcbiAgICBpZiAoIWQuY3VycmVudCB8fCAhbylcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBiID0gWXIoZC5jdXJyZW50KTtcbiAgICBiID09PSBcInRvcFwiID8gZC5jdXJyZW50LnNjcm9sbEludG9WaWV3KCEwKSA6IGIgPT09IFwiYm90dG9tXCIgJiYgZC5jdXJyZW50LnNjcm9sbEludG9WaWV3KCExKTtcbiAgfSwgW29dKSwgLyogQF9fUFVSRV9fICovIGwuanN4cyhcbiAgICBOLFxuICAgIHtcbiAgICAgIGdhcDogMCxcbiAgICAgIGNsYXNzTmFtZTogbixcbiAgICAgIHJlZjogZ2UodCwgZCksXG4gICAgICBpZDogZixcbiAgICAgIHJvbGU6IFwib3B0aW9uXCIsXG4gICAgICBvbkNsaWNrOiBzLFxuICAgICAgXCJhcmlhLXNlbGVjdGVkXCI6IG8gfHwgdm9pZCAwLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgYy5pY29uICYmIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICAgICAgICBOLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJibi1tdC1zdWdnZXN0aW9uLW1lbnUtaXRlbS1zZWN0aW9uXCIsXG4gICAgICAgICAgICBcImRhdGEtcG9zaXRpb25cIjogXCJsZWZ0XCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogYy5pY29uXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8gbC5qc3hzKGJlLCB7IGdhcDogMCwgY2xhc3NOYW1lOiBcImJuLW10LXN1Z2dlc3Rpb24tbWVudS1pdGVtLWJvZHlcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gbC5qc3goWiwgeyBjbGFzc05hbWU6IFwiYm4tbXQtc3VnZ2VzdGlvbi1tZW51LWl0ZW0tdGl0bGVcIiwgY2hpbGRyZW46IGMudGl0bGUgfSksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGwuanN4KFosIHsgY2xhc3NOYW1lOiBcImJuLW10LXN1Z2dlc3Rpb24tbWVudS1pdGVtLXN1YnRpdGxlXCIsIGNoaWxkcmVuOiBjLnN1YnRleHQgfSlcbiAgICAgICAgXSB9KSxcbiAgICAgICAgYy5iYWRnZSAmJiAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgICAgICAgTixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcImRhdGEtcG9zaXRpb25cIjogXCJyaWdodFwiLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJuLW10LXN1Z2dlc3Rpb24tbWVudS1pdGVtLXNlY3Rpb25cIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gbC5qc3goUXIsIHsgc2l6ZTogXCJ4c1wiLCBjaGlsZHJlbjogYy5iYWRnZSB9KVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0pLCB6dCA9IFIoKHIsIHQpID0+IHtcbiAgY29uc3QgeyBjbGFzc05hbWU6IG4sIGNoaWxkcmVuOiBvLCAuLi5zIH0gPSByO1xuICByZXR1cm4gaihzKSwgLyogQF9fUFVSRV9fICovIGwuanN4KE4sIHsgY2xhc3NOYW1lOiBuLCByZWY6IHQsIGNoaWxkcmVuOiBvIH0pO1xufSksIFd0ID0gUigociwgdCkgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lOiBuLFxuICAgIGNoaWxkcmVuOiBvLFxuICAgIC8vIHVudXNlZCwgdXNpbmcgXCJkb3RzXCIgaW5zdGVhZFxuICAgIC4uLnNcbiAgfSA9IHI7XG4gIHJldHVybiBqKHMpLCAvKiBAX19QVVJFX18gKi8gbC5qc3goZXQsIHsgY2xhc3NOYW1lOiBuLCB0eXBlOiBcImRvdHNcIiwgcmVmOiB0IH0pO1xufSksIEJ0ID0gUigociwgdCkgPT4ge1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lOiBuLFxuICAgIGNoaWxkcmVuOiBvLFxuICAgIGRyYWdnYWJsZTogcyxcbiAgICBvbkRyYWdTdGFydDogYyxcbiAgICBvbkRyYWdFbmQ6IGYsXG4gICAgc3R5bGU6IHUsXG4gICAgbGFiZWw6IGQsXG4gICAgLi4uYlxuICB9ID0gcjtcbiAgcmV0dXJuIGooYiwgITEpLCAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgVSxcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IG4sXG4gICAgICByZWY6IHQsXG4gICAgICBcImFyaWEtbGFiZWxcIjogZCxcbiAgICAgIGRyYWdnYWJsZTogcyxcbiAgICAgIG9uRHJhZ1N0YXJ0OiBjLFxuICAgICAgb25EcmFnRW5kOiBmLFxuICAgICAgc3R5bGU6IHUsXG4gICAgICAuLi5iLFxuICAgICAgY2hpbGRyZW46IG9cbiAgICB9XG4gICk7XG59KSwgS2UgPSBSKFxuICAociwgdCkgPT4ge1xuICAgIGNvbnN0IHsgY2xhc3NOYW1lOiBuLCBjaGlsZHJlbjogbywgb25Nb3VzZUVudGVyOiBzLCBvbk1vdXNlTGVhdmU6IGMsIC4uLmYgfSA9IHI7XG4gICAgaihmKTtcbiAgICBjb25zdCB7IHJlZjogdSwgZm9jdXNlZDogZCB9ID0gb3QoKSwgYiA9IGF0KGQpLCBoID0gZ2UodCwgdSwgYik7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICAgIE4sXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogbixcbiAgICAgICAgcmVmOiBoLFxuICAgICAgICByb2xlOiBcInRvb2xiYXJcIixcbiAgICAgICAgb25Nb3VzZUVudGVyOiBzLFxuICAgICAgICBvbk1vdXNlTGVhdmU6IGMsXG4gICAgICAgIGNoaWxkcmVuOiBvXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKSwgVnQgPSAocikgPT4gLyogQF9fUFVSRV9fICovIGwuanN4cyhiZSwgeyBnYXA6IDAsIGNsYXNzTmFtZTogXCJibi10b29sdGlwXCIsIGNoaWxkcmVuOiBbXG4gIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChaLCB7IHNpemU6IFwic21cIiwgY2hpbGRyZW46IHIubWFpblRvb2x0aXAgfSksXG4gIHIuc2Vjb25kYXJ5VG9vbHRpcCAmJiAvKiBAX19QVVJFX18gKi8gbC5qc3goWiwgeyBzaXplOiBcInhzXCIsIGNoaWxkcmVuOiByLnNlY29uZGFyeVRvb2x0aXAgfSlcbl0gfSksIEdlID0gUihcbiAgKHIsIHQpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBjbGFzc05hbWU6IG4sXG4gICAgICBjaGlsZHJlbjogbyxcbiAgICAgIG1haW5Ub29sdGlwOiBzLFxuICAgICAgc2Vjb25kYXJ5VG9vbHRpcDogYyxcbiAgICAgIGljb246IGYsXG4gICAgICBpc1NlbGVjdGVkOiB1LFxuICAgICAgaXNEaXNhYmxlZDogZCxcbiAgICAgIG9uQ2xpY2s6IGIsXG4gICAgICBsYWJlbDogaCxcbiAgICAgIC4uLndcbiAgICB9ID0gcjtcbiAgICByZXR1cm4gaih3LCAhMSksIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICAgIHJ0LFxuICAgICAge1xuICAgICAgICB3aXRoaW5Qb3J0YWw6ICExLFxuICAgICAgICBsYWJlbDogLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgICAgICAgIFZ0LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1haW5Ub29sdGlwOiBzLFxuICAgICAgICAgICAgc2Vjb25kYXJ5VG9vbHRpcDogY1xuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgY2hpbGRyZW46IG8gPyAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgICAgICAgVSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcImFyaWEtbGFiZWxcIjogaCxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogbixcbiAgICAgICAgICAgIG9uTW91c2VEb3duOiAoaykgPT4ge1xuICAgICAgICAgICAgICBmZSgpICYmIGsuY3VycmVudFRhcmdldC5mb2N1cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IGIsXG4gICAgICAgICAgICBcImFyaWEtcHJlc3NlZFwiOiB1LFxuICAgICAgICAgICAgXCJkYXRhLXNlbGVjdGVkXCI6IHUgfHwgdm9pZCAwLFxuICAgICAgICAgICAgXCJkYXRhLXRlc3RcIjogcy5zbGljZSgwLCAxKS50b0xvd2VyQ2FzZSgpICsgcy5yZXBsYWNlKC9cXHMrL2csIFwiXCIpLnNsaWNlKDEpLFxuICAgICAgICAgICAgc2l6ZTogXCJ4c1wiLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGQgfHwgITEsXG4gICAgICAgICAgICByZWY6IHQsXG4gICAgICAgICAgICAuLi53LFxuICAgICAgICAgICAgY2hpbGRyZW46IG9cbiAgICAgICAgICB9XG4gICAgICAgICkgOiAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgICAgICAgWGUsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBuLFxuICAgICAgICAgICAgXCJhcmlhLWxhYmVsXCI6IGgsXG4gICAgICAgICAgICBvbk1vdXNlRG93bjogKGspID0+IHtcbiAgICAgICAgICAgICAgZmUoKSAmJiBrLmN1cnJlbnRUYXJnZXQuZm9jdXMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsaWNrOiBiLFxuICAgICAgICAgICAgXCJhcmlhLXByZXNzZWRcIjogdSxcbiAgICAgICAgICAgIFwiZGF0YS1zZWxlY3RlZFwiOiB1IHx8IHZvaWQgMCxcbiAgICAgICAgICAgIFwiZGF0YS10ZXN0XCI6IHMuc2xpY2UoMCwgMSkudG9Mb3dlckNhc2UoKSArIHMucmVwbGFjZSgvXFxzKy9nLCBcIlwiKS5zbGljZSgxKSxcbiAgICAgICAgICAgIHNpemU6IDMwLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGQgfHwgITEsXG4gICAgICAgICAgICByZWY6IHQsXG4gICAgICAgICAgICAuLi53LFxuICAgICAgICAgICAgY2hpbGRyZW46IGZcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICApO1xuICB9XG4pLCBZdCA9IFIoKHIsIHQpID0+IHtcbiAgY29uc3QgeyBjbGFzc05hbWU6IG4sIGl0ZW1zOiBvLCBpc0Rpc2FibGVkOiBzLCAuLi5jIH0gPSByO1xuICBqKGMpO1xuICBjb25zdCBmID0gby5maWx0ZXIoKHUpID0+IHUuaXNTZWxlY3RlZClbMF07XG4gIHJldHVybiBmID8gLyogQF9fUFVSRV9fICovIGwuanN4cyhcbiAgICBPLFxuICAgIHtcbiAgICAgIHdpdGhpblBvcnRhbDogITEsXG4gICAgICB0cmFuc2l0aW9uUHJvcHM6IHtcbiAgICAgICAgZXhpdER1cmF0aW9uOiAwXG4gICAgICB9LFxuICAgICAgZGlzYWJsZWQ6IHMsXG4gICAgICBtaWRkbGV3YXJlczogeyBmbGlwOiAhMCwgc2hpZnQ6ICEwLCBpbmxpbmU6ICExLCBzaXplOiAhMCB9LFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGwuanN4KE8uVGFyZ2V0LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gbC5qc3goXG4gICAgICAgICAgVSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBvbk1vdXNlRG93bjogKHUpID0+IHtcbiAgICAgICAgICAgICAgZmUoKSAmJiB1LmN1cnJlbnRUYXJnZXQuZm9jdXMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsZWZ0U2VjdGlvbjogZi5pY29uLFxuICAgICAgICAgICAgcmlnaHRTZWN0aW9uOiAvKiBAX19QVVJFX18gKi8gbC5qc3goaHQsIHt9KSxcbiAgICAgICAgICAgIHNpemU6IFwieHNcIixcbiAgICAgICAgICAgIHZhcmlhbnQ6IFwic3VidGxlXCIsXG4gICAgICAgICAgICBkaXNhYmxlZDogcyxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBmLnRleHRcbiAgICAgICAgICB9XG4gICAgICAgICkgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBsLmpzeChPLkRyb3Bkb3duLCB7IGNsYXNzTmFtZTogbiwgcmVmOiB0LCBjaGlsZHJlbjogby5tYXAoKHUpID0+IC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICAgICAgICBPLkl0ZW0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgb25DbGljazogdS5vbkNsaWNrLFxuICAgICAgICAgICAgbGVmdFNlY3Rpb246IHUuaWNvbixcbiAgICAgICAgICAgIHJpZ2h0U2VjdGlvbjogdS5pc1NlbGVjdGVkID8gLyogQF9fUFVSRV9fICovIGwuanN4KHFlLCB7IHNpemU6IDEwLCBjbGFzc05hbWU6IFwiYm4tdGljay1pY29uXCIgfSkgOiAoXG4gICAgICAgICAgICAgIC8vIEVuc3VyZXMgc3BhY2UgZm9yIHRpY2sgZXZlbiBpZiBpdGVtIGlzbid0IGN1cnJlbnRseSBzZWxlY3RlZC5cbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGwuanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJuLXRpY2stc3BhY2VcIiB9KVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGRpc2FibGVkOiB1LmlzRGlzYWJsZWQsXG4gICAgICAgICAgICBjaGlsZHJlbjogdS50ZXh0XG4gICAgICAgICAgfSxcbiAgICAgICAgICB1LnRleHRcbiAgICAgICAgKSkgfSlcbiAgICAgIF1cbiAgICB9XG4gICkgOiBudWxsO1xufSk7XG5jb25zdCB4ID0gW1xuICBcIiNGRkZGRkZcIixcbiAgXCIjRUZFRkVGXCIsXG4gIFwiI0NGQ0ZDRlwiLFxuICBcIiNBRkFGQUZcIixcbiAgXCIjN0Y3RjdGXCIsXG4gIFwiIzNGM0YzRlwiLFxuICBcIiMxRjFGMUZcIixcbiAgXCIjMTYxNjE2XCIsXG4gIFwiIzBGMEYwRlwiLFxuICBcIiMwMDAwMDBcIlxuXSwgSGUgPSB7XG4gIGNvbG9yczoge1xuICAgIGVkaXRvcjoge1xuICAgICAgdGV4dDogeFs1XSxcbiAgICAgIGJhY2tncm91bmQ6IHhbMF1cbiAgICB9LFxuICAgIG1lbnU6IHtcbiAgICAgIHRleHQ6IHhbNV0sXG4gICAgICBiYWNrZ3JvdW5kOiB4WzBdXG4gICAgfSxcbiAgICB0b29sdGlwOiB7XG4gICAgICB0ZXh0OiB4WzVdLFxuICAgICAgYmFja2dyb3VuZDogeFsxXVxuICAgIH0sXG4gICAgaG92ZXJlZDoge1xuICAgICAgdGV4dDogeFs1XSxcbiAgICAgIGJhY2tncm91bmQ6IHhbMV1cbiAgICB9LFxuICAgIHNlbGVjdGVkOiB7XG4gICAgICB0ZXh0OiB4WzBdLFxuICAgICAgYmFja2dyb3VuZDogeFs1XVxuICAgIH0sXG4gICAgZGlzYWJsZWQ6IHtcbiAgICAgIHRleHQ6IHhbM10sXG4gICAgICBiYWNrZ3JvdW5kOiB4WzFdXG4gICAgfSxcbiAgICBzaGFkb3c6IHhbMl0sXG4gICAgYm9yZGVyOiB4WzFdLFxuICAgIHNpZGVNZW51OiB4WzJdLFxuICAgIGhpZ2hsaWdodHM6IHtcbiAgICAgIGdyYXk6IHtcbiAgICAgICAgdGV4dDogXCIjOWI5YTk3XCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2ViZWNlZFwiXG4gICAgICB9LFxuICAgICAgYnJvd246IHtcbiAgICAgICAgdGV4dDogXCIjNjQ0NzNhXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2U5ZTVlM1wiXG4gICAgICB9LFxuICAgICAgcmVkOiB7XG4gICAgICAgIHRleHQ6IFwiI2UwM2UzZVwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiNmYmU0ZTRcIlxuICAgICAgfSxcbiAgICAgIG9yYW5nZToge1xuICAgICAgICB0ZXh0OiBcIiNkOTczMGRcIixcbiAgICAgICAgYmFja2dyb3VuZDogXCIjZjZlOWQ5XCJcbiAgICAgIH0sXG4gICAgICB5ZWxsb3c6IHtcbiAgICAgICAgdGV4dDogXCIjZGZhYjAxXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2ZiZjNkYlwiXG4gICAgICB9LFxuICAgICAgZ3JlZW46IHtcbiAgICAgICAgdGV4dDogXCIjNGQ2NDYxXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2RkZWRlYVwiXG4gICAgICB9LFxuICAgICAgYmx1ZToge1xuICAgICAgICB0ZXh0OiBcIiMwYjZlOTlcIixcbiAgICAgICAgYmFja2dyb3VuZDogXCIjZGRlYmYxXCJcbiAgICAgIH0sXG4gICAgICBwdXJwbGU6IHtcbiAgICAgICAgdGV4dDogXCIjNjk0MGE1XCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2VhZTRmMlwiXG4gICAgICB9LFxuICAgICAgcGluazoge1xuICAgICAgICB0ZXh0OiBcIiNhZDFhNzJcIixcbiAgICAgICAgYmFja2dyb3VuZDogXCIjZjRkZmViXCJcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGJvcmRlclJhZGl1czogNixcbiAgZm9udEZhbWlseTogJ1wiSW50ZXJcIiwgXCJTRiBQcm8gRGlzcGxheVwiLCAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFwiT3BlbiBTYW5zXCIsIFwiU2Vnb2UgVUlcIiwgXCJSb2JvdG9cIiwgXCJPeHlnZW5cIiwgXCJVYnVudHVcIiwgXCJDYW50YXJlbGxcIiwgXCJGaXJhIFNhbnNcIiwgXCJEcm9pZCBTYW5zXCIsIFwiSGVsdmV0aWNhIE5ldWVcIiwgc2Fucy1zZXJpZidcbn0sIFF0ID0ge1xuICBjb2xvcnM6IHtcbiAgICBlZGl0b3I6IHtcbiAgICAgIHRleHQ6IHhbMl0sXG4gICAgICBiYWNrZ3JvdW5kOiB4WzZdXG4gICAgfSxcbiAgICBtZW51OiB7XG4gICAgICB0ZXh0OiB4WzJdLFxuICAgICAgYmFja2dyb3VuZDogeFs2XVxuICAgIH0sXG4gICAgdG9vbHRpcDoge1xuICAgICAgdGV4dDogeFsyXSxcbiAgICAgIGJhY2tncm91bmQ6IHhbN11cbiAgICB9LFxuICAgIGhvdmVyZWQ6IHtcbiAgICAgIHRleHQ6IHhbMl0sXG4gICAgICBiYWNrZ3JvdW5kOiB4WzddXG4gICAgfSxcbiAgICBzZWxlY3RlZDoge1xuICAgICAgdGV4dDogeFsyXSxcbiAgICAgIGJhY2tncm91bmQ6IHhbOF1cbiAgICB9LFxuICAgIGRpc2FibGVkOiB7XG4gICAgICB0ZXh0OiB4WzVdLFxuICAgICAgYmFja2dyb3VuZDogeFs3XVxuICAgIH0sXG4gICAgc2hhZG93OiB4WzhdLFxuICAgIGJvcmRlcjogeFs3XSxcbiAgICBzaWRlTWVudTogeFs0XSxcbiAgICBoaWdobGlnaHRzOiB7XG4gICAgICBncmF5OiB7XG4gICAgICAgIHRleHQ6IFwiI2JlYmRiOFwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiM5YjlhOTdcIlxuICAgICAgfSxcbiAgICAgIGJyb3duOiB7XG4gICAgICAgIHRleHQ6IFwiIzhlNjU1MlwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiM2NDQ3M2FcIlxuICAgICAgfSxcbiAgICAgIHJlZDoge1xuICAgICAgICB0ZXh0OiBcIiNlYzQwNDBcIixcbiAgICAgICAgYmFja2dyb3VuZDogXCIjYmUzNDM0XCJcbiAgICAgIH0sXG4gICAgICBvcmFuZ2U6IHtcbiAgICAgICAgdGV4dDogXCIjZTM3OTBkXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2I3NjAwYVwiXG4gICAgICB9LFxuICAgICAgeWVsbG93OiB7XG4gICAgICAgIHRleHQ6IFwiI2RmYWIwMVwiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiNiNThiMDBcIlxuICAgICAgfSxcbiAgICAgIGdyZWVuOiB7XG4gICAgICAgIHRleHQ6IFwiIzZiOGI4N1wiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiM0ZDY0NjFcIlxuICAgICAgfSxcbiAgICAgIGJsdWU6IHtcbiAgICAgICAgdGV4dDogXCIjMGU4N2JjXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiIzBiNmU5OVwiXG4gICAgICB9LFxuICAgICAgcHVycGxlOiB7XG4gICAgICAgIHRleHQ6IFwiIzg1NTJkN1wiLFxuICAgICAgICBiYWNrZ3JvdW5kOiBcIiM2OTQwYTVcIlxuICAgICAgfSxcbiAgICAgIHBpbms6IHtcbiAgICAgICAgdGV4dDogXCIjZGEyMDhmXCIsXG4gICAgICAgIGJhY2tncm91bmQ6IFwiI2FkMWE3MlwiXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBib3JkZXJSYWRpdXM6IEhlLmJvcmRlclJhZGl1cyxcbiAgZm9udEZhbWlseTogSGUuZm9udEZhbWlseVxufSwgVXQgPSB7XG4gIEZvcm1hdHRpbmdUb29sYmFyOiB7XG4gICAgUm9vdDogS2UsXG4gICAgQnV0dG9uOiBHZSxcbiAgICBTZWxlY3Q6IFl0XG4gIH0sXG4gIEZpbGVQYW5lbDoge1xuICAgIFJvb3Q6IFN0LFxuICAgIEJ1dHRvbjogUHQsXG4gICAgRmlsZUlucHV0OiBfdCxcbiAgICBUYWJQYW5lbDogQ3QsXG4gICAgVGV4dElucHV0OiBPdFxuICB9LFxuICBMaW5rVG9vbGJhcjoge1xuICAgIFJvb3Q6IEtlLFxuICAgIEJ1dHRvbjogR2VcbiAgfSxcbiAgU2lkZU1lbnU6IHtcbiAgICBSb290OiBNdCxcbiAgICBCdXR0b246IEl0XG4gIH0sXG4gIFN1Z2dlc3Rpb25NZW51OiB7XG4gICAgUm9vdDogTHQsXG4gICAgSXRlbTogJHQsXG4gICAgRW1wdHlJdGVtOiBBdCxcbiAgICBMYWJlbDogenQsXG4gICAgTG9hZGVyOiBXdFxuICB9LFxuICBUYWJsZUhhbmRsZToge1xuICAgIFJvb3Q6IEJ0XG4gIH0sXG4gIEdlbmVyaWM6IHtcbiAgICBGb3JtOiB7XG4gICAgICBSb290OiAocikgPT4gLyogQF9fUFVSRV9fICovIGwuanN4KFwiZGl2XCIsIHsgY2hpbGRyZW46IHIuY2hpbGRyZW4gfSksXG4gICAgICBUZXh0SW5wdXQ6IGN0XG4gICAgfSxcbiAgICBNZW51OiB7XG4gICAgICBSb290OiBqdCxcbiAgICAgIFRyaWdnZXI6IEV0LFxuICAgICAgRHJvcGRvd246IFR0LFxuICAgICAgRGl2aWRlcjogd3QsXG4gICAgICBMYWJlbDoga3QsXG4gICAgICBJdGVtOiBSdFxuICAgIH0sXG4gICAgUG9wb3Zlcjoge1xuICAgICAgUm9vdDogRnQsXG4gICAgICBUcmlnZ2VyOiBEdCxcbiAgICAgIENvbnRlbnQ6IE50XG4gICAgfVxuICB9XG59LCBLdCA9IHtcbiAgLy8gUmVtb3ZlcyBidXR0b24gcHJlc3MgZWZmZWN0XG4gIGFjdGl2ZUNsYXNzTmFtZTogXCJcIlxufSwgZW4gPSAocikgPT4ge1xuICBjb25zdCB7IHRoZW1lOiB0LCAuLi5uIH0gPSByLCBvID0gVXIoKSwgcyA9IG50KCksIGMgPSAobyA9PSBudWxsID8gdm9pZCAwIDogby5jb2xvclNjaGVtZVByZWZlcmVuY2UpIHx8IHMsIGYgPSBkZShcbiAgICAodSkgPT4ge1xuICAgICAgaWYgKHUgJiYgKHV0KHUpLCB0eXBlb2YgdCA9PSBcIm9iamVjdFwiKSkge1xuICAgICAgICBpZiAoXCJsaWdodFwiIGluIHQgJiYgXCJkYXJrXCIgaW4gdCkge1xuICAgICAgICAgIFZlKFxuICAgICAgICAgICAgdFtjID09PSBcImRhcmtcIiA/IFwiZGFya1wiIDogXCJsaWdodFwiXSxcbiAgICAgICAgICAgIHVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBWZSh0LCB1KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2MsIHRdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gbC5qc3goS3IuUHJvdmlkZXIsIHsgdmFsdWU6IFV0LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGwuanN4KFxuICAgIHR0LFxuICAgIHtcbiAgICAgIHRoZW1lOiBLdCxcbiAgICAgIGNzc1ZhcmlhYmxlc1NlbGVjdG9yOiBcIi5ibi1jb250YWluZXJcIixcbiAgICAgIGdldFJvb3RFbGVtZW50OiAoKSA9PiB7XG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBsLmpzeChcbiAgICAgICAgR3IsXG4gICAgICAgIHtcbiAgICAgICAgICB0aGVtZTogdHlwZW9mIHQgPT0gXCJvYmplY3RcIiA/IHZvaWQgMCA6IHQsXG4gICAgICAgICAgLi4ubixcbiAgICAgICAgICByZWY6IGZcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKSB9KTtcbn07XG5leHBvcnQge1xuICBlbiBhcyBCbG9ja05vdGVWaWV3LFxuICBWZSBhcyBhcHBseUJsb2NrTm90ZUNTU1ZhcmlhYmxlc0Zyb21UaGVtZSxcbiAgVXQgYXMgY29tcG9uZW50cyxcbiAgUXQgYXMgZGFya0RlZmF1bHRUaGVtZSxcbiAgeCBhcyBkZWZhdWx0Q29sb3JTY2hlbWUsXG4gIEhlIGFzIGxpZ2h0RGVmYXVsdFRoZW1lLFxuICB1dCBhcyByZW1vdmVCbG9ja05vdGVDU1NWYXJpYWJsZXNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ibG9ja25vdGUtbWFudGluZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@blocknote/mantine/dist/blocknote-mantine.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@blocknote/react/dist/blocknote-react.js":
/*!***************************************************************!*\
  !*** ./node_modules/@blocknote/react/dist/blocknote-react.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AddBlockButton: () => (/* binding */ wr),\n/* harmony export */   AddButton: () => (/* binding */ Bt),\n/* harmony export */   AddColumnButton: () => (/* binding */ Ir),\n/* harmony export */   AddFileButton: () => (/* binding */ we),\n/* harmony export */   AddRowButton: () => (/* binding */ Dr),\n/* harmony export */   AudioPreview: () => (/* binding */ ei),\n/* harmony export */   AudioToExternalHTML: () => (/* binding */ ti),\n/* harmony export */   BasicTextStyleButton: () => (/* binding */ me),\n/* harmony export */   BlockColorsItem: () => (/* binding */ Hr),\n/* harmony export */   BlockContentWrapper: () => (/* binding */ Ie),\n/* harmony export */   BlockNoteContext: () => (/* binding */ qt),\n/* harmony export */   BlockNoteDefaultUI: () => (/* binding */ Kr),\n/* harmony export */   BlockNoteViewRaw: () => (/* binding */ gi),\n/* harmony export */   BlockTypeSelect: () => (/* binding */ sr),\n/* harmony export */   ColorStyleButton: () => (/* binding */ Jo),\n/* harmony export */   ComponentsContext: () => (/* binding */ yo),\n/* harmony export */   CreateLinkButton: () => (/* binding */ er),\n/* harmony export */   DefaultFilePreview: () => (/* binding */ je),\n/* harmony export */   DeleteButton: () => (/* binding */ Ur),\n/* harmony export */   DeleteColumnButton: () => (/* binding */ Zr),\n/* harmony export */   DeleteLinkButton: () => (/* binding */ pr),\n/* harmony export */   DeleteRowButton: () => (/* binding */ Ar),\n/* harmony export */   DragHandleButton: () => (/* binding */ Mr),\n/* harmony export */   DragHandleMenu: () => (/* binding */ Sr),\n/* harmony export */   EditLinkButton: () => (/* binding */ xr),\n/* harmony export */   EditLinkMenuItems: () => (/* binding */ cn),\n/* harmony export */   EmbedTab: () => (/* binding */ rr),\n/* harmony export */   FigureWithCaption: () => (/* binding */ Ye),\n/* harmony export */   FileAndCaptionWrapper: () => (/* binding */ q),\n/* harmony export */   FileCaptionButton: () => (/* binding */ tr),\n/* harmony export */   FilePanel: () => (/* binding */ sn),\n/* harmony export */   FilePanelController: () => (/* binding */ yr),\n/* harmony export */   FileReplaceButton: () => (/* binding */ lr),\n/* harmony export */   FileToExternalHTML: () => (/* binding */ ni),\n/* harmony export */   FormattingToolbar: () => (/* binding */ hr),\n/* harmony export */   FormattingToolbarController: () => (/* binding */ gr),\n/* harmony export */   ImagePreview: () => (/* binding */ oi),\n/* harmony export */   ImageToExternalHTML: () => (/* binding */ ri),\n/* harmony export */   InlineContentWrapper: () => (/* binding */ si),\n/* harmony export */   LinkToolbar: () => (/* binding */ kr),\n/* harmony export */   LinkToolbarController: () => (/* binding */ Cr),\n/* harmony export */   LinkWithCaption: () => (/* binding */ He),\n/* harmony export */   NestBlockButton: () => (/* binding */ nr),\n/* harmony export */   OpenLinkButton: () => (/* binding */ vr),\n/* harmony export */   ReactAudioBlock: () => (/* binding */ pi),\n/* harmony export */   ReactFileBlock: () => (/* binding */ xi),\n/* harmony export */   ReactImageBlock: () => (/* binding */ vi),\n/* harmony export */   ReactVideoBlock: () => (/* binding */ ki),\n/* harmony export */   RemoveBlockItem: () => (/* binding */ _r),\n/* harmony export */   ResizeHandlesWrapper: () => (/* binding */ dn),\n/* harmony export */   SideMenu: () => (/* binding */ Vr),\n/* harmony export */   SideMenuController: () => (/* binding */ Tr),\n/* harmony export */   SuggestionMenuController: () => (/* binding */ Nr),\n/* harmony export */   SuggestionMenuWrapper: () => (/* binding */ Pr),\n/* harmony export */   TableHandle: () => (/* binding */ Wr),\n/* harmony export */   TableHandleMenu: () => (/* binding */ zr),\n/* harmony export */   TableHandlesController: () => (/* binding */ Yr),\n/* harmony export */   TextAlignButton: () => (/* binding */ De),\n/* harmony export */   UnnestBlockButton: () => (/* binding */ or),\n/* harmony export */   UploadTab: () => (/* binding */ ir),\n/* harmony export */   VideoPreview: () => (/* binding */ ii),\n/* harmony export */   VideoToExternalHTML: () => (/* binding */ li),\n/* harmony export */   blockTypeSelectItems: () => (/* binding */ cr),\n/* harmony export */   createReactBlockSpec: () => (/* binding */ ye),\n/* harmony export */   createReactInlineContentSpec: () => (/* binding */ wi),\n/* harmony export */   createReactStyleSpec: () => (/* binding */ Hi),\n/* harmony export */   elementOverflow: () => (/* binding */ _i),\n/* harmony export */   getDefaultReactSlashMenuItems: () => (/* binding */ Fr),\n/* harmony export */   getFormattingToolbarItems: () => (/* binding */ br),\n/* harmony export */   mergeRefs: () => (/* binding */ Co),\n/* harmony export */   useActiveStyles: () => (/* binding */ Ci),\n/* harmony export */   useBlockNote: () => (/* binding */ yi),\n/* harmony export */   useBlockNoteContext: () => (/* binding */ z),\n/* harmony export */   useBlockNoteEditor: () => (/* binding */ H),\n/* harmony export */   useCloseSuggestionMenuNoItems: () => (/* binding */ Br),\n/* harmony export */   useComponentsContext: () => (/* binding */ k),\n/* harmony export */   useCreateBlockNote: () => (/* binding */ ai),\n/* harmony export */   useDictionary: () => (/* binding */ S),\n/* harmony export */   useEditorChange: () => (/* binding */ Ge),\n/* harmony export */   useEditorContentOrSelectionChange: () => (/* binding */ W),\n/* harmony export */   useEditorForceUpdate: () => (/* binding */ ji),\n/* harmony export */   useEditorSelectionChange: () => (/* binding */ $e),\n/* harmony export */   useLoadSuggestionMenuItems: () => (/* binding */ Rr),\n/* harmony export */   useResolveUrl: () => (/* binding */ Ke),\n/* harmony export */   useSelectedBlocks: () => (/* binding */ D),\n/* harmony export */   useSuggestionMenuKeyboardNavigation: () => (/* binding */ Lr),\n/* harmony export */   useTableHandlesPositioning: () => (/* binding */ qr)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/react/dist/floating-ui.react.mjs\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs\");\n/* harmony import */ var _blocknote_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @blocknote/core */ \"(ssr)/./node_modules/@blocknote/core/dist/blocknote.js\");\n/* harmony import */ var use_prefers_color_scheme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! use-prefers-color-scheme */ \"(ssr)/./node_modules/use-prefers-color-scheme/dist/index.esm.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var _tiptap_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @tiptap/react */ \"(ssr)/./node_modules/@tiptap/react/dist/index.js\");\n/* harmony import */ var _tiptap_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @tiptap/react */ \"(ssr)/./node_modules/@tiptap/core/dist/index.js\");\n\n\n\n\n\n\nconst qt = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);\nfunction z(e) {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(qt);\n}\nvar Ze = { exports: {} }, te = {};\n/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar jt;\nfunction vo() {\n  if (jt)\n    return te;\n  jt = 1;\n  var e = react__WEBPACK_IMPORTED_MODULE_0__, t = Symbol.for(\"react.element\"), n = Symbol.for(\"react.fragment\"), o = Object.prototype.hasOwnProperty, l = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, a = { key: !0, ref: !0, __self: !0, __source: !0 };\n  function c(s, u, d) {\n    var m, h = {}, g = null, j = null;\n    d !== void 0 && (g = \"\" + d), u.key !== void 0 && (g = \"\" + u.key), u.ref !== void 0 && (j = u.ref);\n    for (m in u)\n      o.call(u, m) && !a.hasOwnProperty(m) && (h[m] = u[m]);\n    if (s && s.defaultProps)\n      for (m in u = s.defaultProps, u)\n        h[m] === void 0 && (h[m] = u[m]);\n    return { $$typeof: t, type: s, key: g, ref: j, props: h, _owner: l.current };\n  }\n  return te.Fragment = n, te.jsx = c, te.jsxs = c, te;\n}\nvar ne = {};\n/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nvar wt;\nfunction ko() {\n  return wt || (wt = 1,  true && function() {\n    var e = react__WEBPACK_IMPORTED_MODULE_0__, t = Symbol.for(\"react.element\"), n = Symbol.for(\"react.portal\"), o = Symbol.for(\"react.fragment\"), l = Symbol.for(\"react.strict_mode\"), a = Symbol.for(\"react.profiler\"), c = Symbol.for(\"react.provider\"), s = Symbol.for(\"react.context\"), u = Symbol.for(\"react.forward_ref\"), d = Symbol.for(\"react.suspense\"), m = Symbol.for(\"react.suspense_list\"), h = Symbol.for(\"react.memo\"), g = Symbol.for(\"react.lazy\"), j = Symbol.for(\"react.offscreen\"), T = Symbol.iterator, E = \"@@iterator\";\n    function O(i) {\n      if (i === null || typeof i != \"object\")\n        return null;\n      var f = T && i[T] || i[E];\n      return typeof f == \"function\" ? f : null;\n    }\n    var U = e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n    function B(i) {\n      {\n        for (var f = arguments.length, b = new Array(f > 1 ? f - 1 : 0), p = 1; p < f; p++)\n          b[p - 1] = arguments[p];\n        _e(\"error\", i, b);\n      }\n    }\n    function _e(i, f, b) {\n      {\n        var p = U.ReactDebugCurrentFrame, w = p.getStackAddendum();\n        w !== \"\" && (f += \"%s\", b = b.concat([w]));\n        var V = b.map(function(y) {\n          return String(y);\n        });\n        V.unshift(\"Warning: \" + f), Function.prototype.apply.call(console[i], console, V);\n      }\n    }\n    var Se = !1, ce = !1, Me = !1, Ve = !1, fn = !1, Xe;\n    Xe = Symbol.for(\"react.module.reference\");\n    function mn(i) {\n      return !!(typeof i == \"string\" || typeof i == \"function\" || i === o || i === a || fn || i === l || i === d || i === m || Ve || i === j || Se || ce || Me || typeof i == \"object\" && i !== null && (i.$$typeof === g || i.$$typeof === h || i.$$typeof === c || i.$$typeof === s || i.$$typeof === u || // This needs to include all possible module reference object\n      // types supported by any Flight configuration anywhere since\n      // we don't know which Flight build this will end up being used\n      // with.\n      i.$$typeof === Xe || i.getModuleId !== void 0));\n    }\n    function bn(i, f, b) {\n      var p = i.displayName;\n      if (p)\n        return p;\n      var w = f.displayName || f.name || \"\";\n      return w !== \"\" ? b + \"(\" + w + \")\" : b;\n    }\n    function Je(i) {\n      return i.displayName || \"Context\";\n    }\n    function A(i) {\n      if (i == null)\n        return null;\n      if (typeof i.tag == \"number\" && B(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"), typeof i == \"function\")\n        return i.displayName || i.name || null;\n      if (typeof i == \"string\")\n        return i;\n      switch (i) {\n        case o:\n          return \"Fragment\";\n        case n:\n          return \"Portal\";\n        case a:\n          return \"Profiler\";\n        case l:\n          return \"StrictMode\";\n        case d:\n          return \"Suspense\";\n        case m:\n          return \"SuspenseList\";\n      }\n      if (typeof i == \"object\")\n        switch (i.$$typeof) {\n          case s:\n            var f = i;\n            return Je(f) + \".Consumer\";\n          case c:\n            var b = i;\n            return Je(b._context) + \".Provider\";\n          case u:\n            return bn(i, i.render, \"ForwardRef\");\n          case h:\n            var p = i.displayName || null;\n            return p !== null ? p : A(i.type) || \"Memo\";\n          case g: {\n            var w = i, V = w._payload, y = w._init;\n            try {\n              return A(y(V));\n            } catch {\n              return null;\n            }\n          }\n        }\n      return null;\n    }\n    var G = Object.assign, J = 0, Qe, et, tt, nt, ot, rt, it;\n    function lt() {\n    }\n    lt.__reactDisabledLog = !0;\n    function hn() {\n      {\n        if (J === 0) {\n          Qe = console.log, et = console.info, tt = console.warn, nt = console.error, ot = console.group, rt = console.groupCollapsed, it = console.groupEnd;\n          var i = {\n            configurable: !0,\n            enumerable: !0,\n            value: lt,\n            writable: !0\n          };\n          Object.defineProperties(console, {\n            info: i,\n            log: i,\n            warn: i,\n            error: i,\n            group: i,\n            groupCollapsed: i,\n            groupEnd: i\n          });\n        }\n        J++;\n      }\n    }\n    function gn() {\n      {\n        if (J--, J === 0) {\n          var i = {\n            configurable: !0,\n            enumerable: !0,\n            writable: !0\n          };\n          Object.defineProperties(console, {\n            log: G({}, i, {\n              value: Qe\n            }),\n            info: G({}, i, {\n              value: et\n            }),\n            warn: G({}, i, {\n              value: tt\n            }),\n            error: G({}, i, {\n              value: nt\n            }),\n            group: G({}, i, {\n              value: ot\n            }),\n            groupCollapsed: G({}, i, {\n              value: rt\n            }),\n            groupEnd: G({}, i, {\n              value: it\n            })\n          });\n        }\n        J < 0 && B(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\");\n      }\n    }\n    var Te = U.ReactCurrentDispatcher, Ee;\n    function se(i, f, b) {\n      {\n        if (Ee === void 0)\n          try {\n            throw Error();\n          } catch (w) {\n            var p = w.stack.trim().match(/\\n( *(at )?)/);\n            Ee = p && p[1] || \"\";\n          }\n        return `\n` + Ee + i;\n      }\n    }\n    var Be = !1, ue;\n    {\n      var pn = typeof WeakMap == \"function\" ? WeakMap : Map;\n      ue = new pn();\n    }\n    function at(i, f) {\n      if (!i || Be)\n        return \"\";\n      {\n        var b = ue.get(i);\n        if (b !== void 0)\n          return b;\n      }\n      var p;\n      Be = !0;\n      var w = Error.prepareStackTrace;\n      Error.prepareStackTrace = void 0;\n      var V;\n      V = Te.current, Te.current = null, hn();\n      try {\n        if (f) {\n          var y = function() {\n            throw Error();\n          };\n          if (Object.defineProperty(y.prototype, \"props\", {\n            set: function() {\n              throw Error();\n            }\n          }), typeof Reflect == \"object\" && Reflect.construct) {\n            try {\n              Reflect.construct(y, []);\n            } catch (N) {\n              p = N;\n            }\n            Reflect.construct(i, [], y);\n          } else {\n            try {\n              y.call();\n            } catch (N) {\n              p = N;\n            }\n            i.call(y.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (N) {\n            p = N;\n          }\n          i();\n        }\n      } catch (N) {\n        if (N && p && typeof N.stack == \"string\") {\n          for (var v = N.stack.split(`\n`), F = p.stack.split(`\n`), R = v.length - 1, P = F.length - 1; R >= 1 && P >= 0 && v[R] !== F[P]; )\n            P--;\n          for (; R >= 1 && P >= 0; R--, P--)\n            if (v[R] !== F[P]) {\n              if (R !== 1 || P !== 1)\n                do\n                  if (R--, P--, P < 0 || v[R] !== F[P]) {\n                    var I = `\n` + v[R].replace(\" at new \", \" at \");\n                    return i.displayName && I.includes(\"<anonymous>\") && (I = I.replace(\"<anonymous>\", i.displayName)), typeof i == \"function\" && ue.set(i, I), I;\n                  }\n                while (R >= 1 && P >= 0);\n              break;\n            }\n        }\n      } finally {\n        Be = !1, Te.current = V, gn(), Error.prepareStackTrace = w;\n      }\n      var K = i ? i.displayName || i.name : \"\", $ = K ? se(K) : \"\";\n      return typeof i == \"function\" && ue.set(i, $), $;\n    }\n    function xn(i, f, b) {\n      return at(i, !1);\n    }\n    function vn(i) {\n      var f = i.prototype;\n      return !!(f && f.isReactComponent);\n    }\n    function de(i, f, b) {\n      if (i == null)\n        return \"\";\n      if (typeof i == \"function\")\n        return at(i, vn(i));\n      if (typeof i == \"string\")\n        return se(i);\n      switch (i) {\n        case d:\n          return se(\"Suspense\");\n        case m:\n          return se(\"SuspenseList\");\n      }\n      if (typeof i == \"object\")\n        switch (i.$$typeof) {\n          case u:\n            return xn(i.render);\n          case h:\n            return de(i.type, f, b);\n          case g: {\n            var p = i, w = p._payload, V = p._init;\n            try {\n              return de(V(w), f, b);\n            } catch {\n            }\n          }\n        }\n      return \"\";\n    }\n    var Q = Object.prototype.hasOwnProperty, ct = {}, st = U.ReactDebugCurrentFrame;\n    function fe(i) {\n      if (i) {\n        var f = i._owner, b = de(i.type, i._source, f ? f.type : null);\n        st.setExtraStackFrame(b);\n      } else\n        st.setExtraStackFrame(null);\n    }\n    function kn(i, f, b, p, w) {\n      {\n        var V = Function.call.bind(Q);\n        for (var y in i)\n          if (V(i, y)) {\n            var v = void 0;\n            try {\n              if (typeof i[y] != \"function\") {\n                var F = Error((p || \"React class\") + \": \" + b + \" type `\" + y + \"` is invalid; it must be a function, usually from the `prop-types` package, but received `\" + typeof i[y] + \"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");\n                throw F.name = \"Invariant Violation\", F;\n              }\n              v = i[y](f, y, p, b, null, \"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\");\n            } catch (R) {\n              v = R;\n            }\n            v && !(v instanceof Error) && (fe(w), B(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\", p || \"React class\", b, y, typeof v), fe(null)), v instanceof Error && !(v.message in ct) && (ct[v.message] = !0, fe(w), B(\"Failed %s type: %s\", b, v.message), fe(null));\n          }\n      }\n    }\n    var Cn = Array.isArray;\n    function Re(i) {\n      return Cn(i);\n    }\n    function yn(i) {\n      {\n        var f = typeof Symbol == \"function\" && Symbol.toStringTag, b = f && i[Symbol.toStringTag] || i.constructor.name || \"Object\";\n        return b;\n      }\n    }\n    function jn(i) {\n      try {\n        return ut(i), !1;\n      } catch {\n        return !0;\n      }\n    }\n    function ut(i) {\n      return \"\" + i;\n    }\n    function dt(i) {\n      if (jn(i))\n        return B(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\", yn(i)), ut(i);\n    }\n    var ee = U.ReactCurrentOwner, wn = {\n      key: !0,\n      ref: !0,\n      __self: !0,\n      __source: !0\n    }, ft, mt, Le;\n    Le = {};\n    function Hn(i) {\n      if (Q.call(i, \"ref\")) {\n        var f = Object.getOwnPropertyDescriptor(i, \"ref\").get;\n        if (f && f.isReactWarning)\n          return !1;\n      }\n      return i.ref !== void 0;\n    }\n    function _n(i) {\n      if (Q.call(i, \"key\")) {\n        var f = Object.getOwnPropertyDescriptor(i, \"key\").get;\n        if (f && f.isReactWarning)\n          return !1;\n      }\n      return i.key !== void 0;\n    }\n    function Sn(i, f) {\n      if (typeof i.ref == \"string\" && ee.current && f && ee.current.stateNode !== f) {\n        var b = A(ee.current.type);\n        Le[b] || (B('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref', A(ee.current.type), i.ref), Le[b] = !0);\n      }\n    }\n    function Mn(i, f) {\n      {\n        var b = function() {\n          ft || (ft = !0, B(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\", f));\n        };\n        b.isReactWarning = !0, Object.defineProperty(i, \"key\", {\n          get: b,\n          configurable: !0\n        });\n      }\n    }\n    function Vn(i, f) {\n      {\n        var b = function() {\n          mt || (mt = !0, B(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\", f));\n        };\n        b.isReactWarning = !0, Object.defineProperty(i, \"ref\", {\n          get: b,\n          configurable: !0\n        });\n      }\n    }\n    var Tn = function(i, f, b, p, w, V, y) {\n      var v = {\n        // This tag allows us to uniquely identify this as a React Element\n        $$typeof: t,\n        // Built-in properties that belong on the element\n        type: i,\n        key: f,\n        ref: b,\n        props: y,\n        // Record the component responsible for creating this element.\n        _owner: V\n      };\n      return v._store = {}, Object.defineProperty(v._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: !1\n      }), Object.defineProperty(v, \"_self\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !1,\n        value: p\n      }), Object.defineProperty(v, \"_source\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !1,\n        value: w\n      }), Object.freeze && (Object.freeze(v.props), Object.freeze(v)), v;\n    };\n    function En(i, f, b, p, w) {\n      {\n        var V, y = {}, v = null, F = null;\n        b !== void 0 && (dt(b), v = \"\" + b), _n(f) && (dt(f.key), v = \"\" + f.key), Hn(f) && (F = f.ref, Sn(f, w));\n        for (V in f)\n          Q.call(f, V) && !wn.hasOwnProperty(V) && (y[V] = f[V]);\n        if (i && i.defaultProps) {\n          var R = i.defaultProps;\n          for (V in R)\n            y[V] === void 0 && (y[V] = R[V]);\n        }\n        if (v || F) {\n          var P = typeof i == \"function\" ? i.displayName || i.name || \"Unknown\" : i;\n          v && Mn(y, P), F && Vn(y, P);\n        }\n        return Tn(i, v, F, w, p, ee.current, y);\n      }\n    }\n    var Pe = U.ReactCurrentOwner, bt = U.ReactDebugCurrentFrame;\n    function Y(i) {\n      if (i) {\n        var f = i._owner, b = de(i.type, i._source, f ? f.type : null);\n        bt.setExtraStackFrame(b);\n      } else\n        bt.setExtraStackFrame(null);\n    }\n    var Oe;\n    Oe = !1;\n    function Fe(i) {\n      return typeof i == \"object\" && i !== null && i.$$typeof === t;\n    }\n    function ht() {\n      {\n        if (Pe.current) {\n          var i = A(Pe.current.type);\n          if (i)\n            return `\n\nCheck the render method of \\`` + i + \"`.\";\n        }\n        return \"\";\n      }\n    }\n    function Bn(i) {\n      {\n        if (i !== void 0) {\n          var f = i.fileName.replace(/^.*[\\\\\\/]/, \"\"), b = i.lineNumber;\n          return `\n\nCheck your code at ` + f + \":\" + b + \".\";\n        }\n        return \"\";\n      }\n    }\n    var gt = {};\n    function Rn(i) {\n      {\n        var f = ht();\n        if (!f) {\n          var b = typeof i == \"string\" ? i : i.displayName || i.name;\n          b && (f = `\n\nCheck the top-level render call using <` + b + \">.\");\n        }\n        return f;\n      }\n    }\n    function pt(i, f) {\n      {\n        if (!i._store || i._store.validated || i.key != null)\n          return;\n        i._store.validated = !0;\n        var b = Rn(f);\n        if (gt[b])\n          return;\n        gt[b] = !0;\n        var p = \"\";\n        i && i._owner && i._owner !== Pe.current && (p = \" It was passed a child from \" + A(i._owner.type) + \".\"), Y(i), B('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.', b, p), Y(null);\n      }\n    }\n    function xt(i, f) {\n      {\n        if (typeof i != \"object\")\n          return;\n        if (Re(i))\n          for (var b = 0; b < i.length; b++) {\n            var p = i[b];\n            Fe(p) && pt(p, f);\n          }\n        else if (Fe(i))\n          i._store && (i._store.validated = !0);\n        else if (i) {\n          var w = O(i);\n          if (typeof w == \"function\" && w !== i.entries)\n            for (var V = w.call(i), y; !(y = V.next()).done; )\n              Fe(y.value) && pt(y.value, f);\n        }\n      }\n    }\n    function Ln(i) {\n      {\n        var f = i.type;\n        if (f == null || typeof f == \"string\")\n          return;\n        var b;\n        if (typeof f == \"function\")\n          b = f.propTypes;\n        else if (typeof f == \"object\" && (f.$$typeof === u || // Note: Memo only checks outer props here.\n        // Inner props are checked in the reconciler.\n        f.$$typeof === h))\n          b = f.propTypes;\n        else\n          return;\n        if (b) {\n          var p = A(f);\n          kn(b, i.props, \"prop\", p, i);\n        } else if (f.PropTypes !== void 0 && !Oe) {\n          Oe = !0;\n          var w = A(f);\n          B(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\", w || \"Unknown\");\n        }\n        typeof f.getDefaultProps == \"function\" && !f.getDefaultProps.isReactClassApproved && B(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\");\n      }\n    }\n    function Pn(i) {\n      {\n        for (var f = Object.keys(i.props), b = 0; b < f.length; b++) {\n          var p = f[b];\n          if (p !== \"children\" && p !== \"key\") {\n            Y(i), B(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\", p), Y(null);\n            break;\n          }\n        }\n        i.ref !== null && (Y(i), B(\"Invalid attribute `ref` supplied to `React.Fragment`.\"), Y(null));\n      }\n    }\n    var vt = {};\n    function kt(i, f, b, p, w, V) {\n      {\n        var y = mn(i);\n        if (!y) {\n          var v = \"\";\n          (i === void 0 || typeof i == \"object\" && i !== null && Object.keys(i).length === 0) && (v += \" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");\n          var F = Bn(w);\n          F ? v += F : v += ht();\n          var R;\n          i === null ? R = \"null\" : Re(i) ? R = \"array\" : i !== void 0 && i.$$typeof === t ? (R = \"<\" + (A(i.type) || \"Unknown\") + \" />\", v = \" Did you accidentally export a JSX literal instead of a component?\") : R = typeof i, B(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\", R, v);\n        }\n        var P = En(i, f, b, w, V);\n        if (P == null)\n          return P;\n        if (y) {\n          var I = f.children;\n          if (I !== void 0)\n            if (p)\n              if (Re(I)) {\n                for (var K = 0; K < I.length; K++)\n                  xt(I[K], i);\n                Object.freeze && Object.freeze(I);\n              } else\n                B(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");\n            else\n              xt(I, i);\n        }\n        if (Q.call(f, \"key\")) {\n          var $ = A(i), N = Object.keys(f).filter(function(An) {\n            return An !== \"key\";\n          }), Ne = N.length > 0 ? \"{key: someKey, \" + N.join(\": ..., \") + \": ...}\" : \"{key: someKey}\";\n          if (!vt[$ + Ne]) {\n            var In = N.length > 0 ? \"{\" + N.join(\": ..., \") + \": ...}\" : \"{}\";\n            B(`A props object containing a \"key\" prop is being spread into JSX:\n  let props = %s;\n  <%s {...props} />\nReact keys must be passed directly to JSX without using spread:\n  let props = %s;\n  <%s key={someKey} {...props} />`, Ne, $, In, $), vt[$ + Ne] = !0;\n          }\n        }\n        return i === o ? Pn(P) : Ln(P), P;\n      }\n    }\n    function On(i, f, b) {\n      return kt(i, f, b, !0);\n    }\n    function Fn(i, f, b) {\n      return kt(i, f, b, !1);\n    }\n    var Nn = Fn, Dn = On;\n    ne.Fragment = o, ne.jsx = Nn, ne.jsxs = Dn;\n  }()), ne;\n}\n false ? 0 : Ze.exports = ko();\nvar r = Ze.exports;\nfunction H(e) {\n  const t = z();\n  if (!(t != null && t.editor))\n    throw new Error(\n      \"useBlockNoteEditor was called outside of a BlockNoteContext provider or BlockNoteView component\"\n    );\n  return t.editor;\n}\nfunction Ge(e, t) {\n  const n = z();\n  t || (t = n == null ? void 0 : n.editor), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!t)\n      throw new Error(\n        \"'editor' is required, either from BlockNoteContext or as a function argument\"\n      );\n    return t.onChange(e);\n  }, [e, t]);\n}\nfunction $e(e, t) {\n  const n = z();\n  t || (t = n == null ? void 0 : n.editor), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!t)\n      throw new Error(\n        \"'editor' is required, either from BlockNoteContext or as a function argument\"\n      );\n    return t.onSelectionChange(e);\n  }, [e, t]);\n}\nfunction W(e, t) {\n  Ge(e, t), $e(e, t);\n}\nfunction ae(e, t, n, o) {\n  const { refs: l, update: a, context: c, floatingStyles: s } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.useFloating)({\n    open: e,\n    ...o\n  }), { isMounted: u, styles: d } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.useTransitionStyles)(c), m = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.useDismiss)(c), { getReferenceProps: h, getFloatingProps: g } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.useInteractions)([m]);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    a();\n  }, [t, a]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    t !== null && l.setReference({\n      getBoundingClientRect: () => t\n    });\n  }, [t, l]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => ({\n      isMounted: u,\n      ref: l.setFloating,\n      style: {\n        display: \"flex\",\n        ...d,\n        ...s,\n        zIndex: n\n      },\n      getFloatingProps: g,\n      getReferenceProps: h\n    }),\n    [\n      s,\n      u,\n      l.setFloating,\n      d,\n      n,\n      g,\n      h\n    ]\n  );\n}\nfunction X(e) {\n  const [t, n] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => e((o) => {\n    n({ ...o });\n  }), [e]), t;\n}\nfunction Co(e) {\n  return (t) => {\n    e.forEach((n) => {\n      typeof n == \"function\" ? n(t) : n != null && (n.current = t);\n    });\n  };\n}\nconst yo = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(\n  void 0\n);\nfunction k() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(yo);\n}\nvar Yt = {\n  color: void 0,\n  size: void 0,\n  className: void 0,\n  style: void 0,\n  attr: void 0\n}, Ht = react__WEBPACK_IMPORTED_MODULE_0__.createContext && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createContext(Yt), jo = [\"attr\", \"size\", \"title\"];\nfunction wo(e, t) {\n  if (e == null)\n    return {};\n  var n = Ho(e, t), o, l;\n  if (Object.getOwnPropertySymbols) {\n    var a = Object.getOwnPropertySymbols(e);\n    for (l = 0; l < a.length; l++)\n      o = a[l], !(t.indexOf(o) >= 0) && Object.prototype.propertyIsEnumerable.call(e, o) && (n[o] = e[o]);\n  }\n  return n;\n}\nfunction Ho(e, t) {\n  if (e == null)\n    return {};\n  var n = {};\n  for (var o in e)\n    if (Object.prototype.hasOwnProperty.call(e, o)) {\n      if (t.indexOf(o) >= 0)\n        continue;\n      n[o] = e[o];\n    }\n  return n;\n}\nfunction ge() {\n  return ge = Object.assign ? Object.assign.bind() : function(e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n = arguments[t];\n      for (var o in n)\n        Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);\n    }\n    return e;\n  }, ge.apply(this, arguments);\n}\nfunction _t(e, t) {\n  var n = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    t && (o = o.filter(function(l) {\n      return Object.getOwnPropertyDescriptor(e, l).enumerable;\n    })), n.push.apply(n, o);\n  }\n  return n;\n}\nfunction pe(e) {\n  for (var t = 1; t < arguments.length; t++) {\n    var n = arguments[t] != null ? arguments[t] : {};\n    t % 2 ? _t(Object(n), !0).forEach(function(o) {\n      _o(e, o, n[o]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : _t(Object(n)).forEach(function(o) {\n      Object.defineProperty(e, o, Object.getOwnPropertyDescriptor(n, o));\n    });\n  }\n  return e;\n}\nfunction _o(e, t, n) {\n  return t = So(t), t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e;\n}\nfunction So(e) {\n  var t = Mo(e, \"string\");\n  return typeof t == \"symbol\" ? t : t + \"\";\n}\nfunction Mo(e, t) {\n  if (typeof e != \"object\" || !e)\n    return e;\n  var n = e[Symbol.toPrimitive];\n  if (n !== void 0) {\n    var o = n.call(e, t || \"default\");\n    if (typeof o != \"object\")\n      return o;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (t === \"string\" ? String : Number)(e);\n}\nfunction Kt(e) {\n  return e && e.map((t, n) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(t.tag, pe({\n    key: n\n  }, t.attr), Kt(t.child)));\n}\nfunction C(e) {\n  return (t) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Vo, ge({\n    attr: pe({}, e.attr)\n  }, t), Kt(e.child));\n}\nfunction Vo(e) {\n  var t = (n) => {\n    var {\n      attr: o,\n      size: l,\n      title: a\n    } = e, c = wo(e, jo), s = l || n.size || \"1em\", u;\n    return n.className && (u = n.className), e.className && (u = (u ? u + \" \" : \"\") + e.className), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", ge({\n      stroke: \"currentColor\",\n      fill: \"currentColor\",\n      strokeWidth: \"0\"\n    }, n.attr, o, c, {\n      className: u,\n      style: pe(pe({\n        color: e.color || n.color\n      }, n.style), e.style),\n      height: s,\n      width: s,\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }), a && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"title\", null, a), e.children);\n  };\n  return Ht !== void 0 ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Ht.Consumer, null, (n) => t(n)) : t(Yt);\n}\nfunction To(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M23 12L15.9289 19.0711L14.5147 17.6569L20.1716 12L14.5147 6.34317L15.9289 4.92896L23 12ZM3.82843 12L9.48528 17.6569L8.07107 19.0711L1 12L8.07107 4.92896L9.48528 6.34317L3.82843 12Z\" }, child: [] }] })(e);\n}\nfunction Ce(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 8L9.00319 2H19.9978C20.5513 2 21 2.45531 21 2.9918V21.0082C21 21.556 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5501 3 20.9932V8ZM10 4V9H5V20H19V4H10Z\" }, child: [] }] })(e);\n}\nfunction Eo(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 4H21V6H3V4ZM5 19H19V21H5V19ZM3 14H21V16H3V14ZM5 9H19V11H5V9Z\" }, child: [] }] })(e);\n}\nfunction Bo(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM3 14H21V16H3V14ZM3 9H21V11H3V9Z\" }, child: [] }] })(e);\n}\nfunction Ro(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 4H21V6H3V4ZM3 19H17V21H3V19ZM3 14H21V16H3V14ZM3 9H17V11H3V9Z\" }, child: [] }] })(e);\n}\nfunction Lo(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 4H21V6H3V4ZM7 19H21V21H7V19ZM3 14H21V16H3V14ZM7 9H21V11H7V9Z\" }, child: [] }] })(e);\n}\nfunction Po(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M8 11H12.5C13.8807 11 15 9.88071 15 8.5C15 7.11929 13.8807 6 12.5 6H8V11ZM18 15.5C18 17.9853 15.9853 20 13.5 20H6V4H12.5C14.9853 4 17 6.01472 17 8.5C17 9.70431 16.5269 10.7981 15.7564 11.6058C17.0979 12.3847 18 13.837 18 15.5ZM8 13V18H13.5C14.8807 18 16 16.8807 16 15.5C16 14.1193 14.8807 13 13.5 13H8Z\" }, child: [] }] })(e);\n}\nfunction St(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M5.55397 22H3.3999L10.9999 3H12.9999L20.5999 22H18.4458L16.0458 16H7.95397L5.55397 22ZM8.75397 14H15.2458L11.9999 5.88517L8.75397 14Z\" }, child: [] }] })(e);\n}\nfunction Xt(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M13 20H11V13H4V20H2V4H4V11H11V4H13V20ZM21.0005 8V20H19.0005L19 10.204L17 10.74V8.67L19.5005 8H21.0005Z\" }, child: [] }] })(e);\n}\nfunction Jt(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M4 4V11H11V4H13V20H11V13H4V20H2V4H4ZM18.5 8C20.5711 8 22.25 9.67893 22.25 11.75C22.25 12.6074 21.9623 13.3976 21.4781 14.0292L21.3302 14.2102L18.0343 18H22V20H15L14.9993 18.444L19.8207 12.8981C20.0881 12.5908 20.25 12.1893 20.25 11.75C20.25 10.7835 19.4665 10 18.5 10C17.5818 10 16.8288 10.7071 16.7558 11.6065L16.75 11.75H14.75C14.75 9.67893 16.4289 8 18.5 8Z\" }, child: [] }] })(e);\n}\nfunction Qt(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M22 8L21.9984 10L19.4934 12.883C21.0823 13.3184 22.25 14.7728 22.25 16.5C22.25 18.5711 20.5711 20.25 18.5 20.25C16.674 20.25 15.1528 18.9449 14.8184 17.2166L16.7821 16.8352C16.9384 17.6413 17.6481 18.25 18.5 18.25C19.4665 18.25 20.25 17.4665 20.25 16.5C20.25 15.5335 19.4665 14.75 18.5 14.75C18.214 14.75 17.944 14.8186 17.7056 14.9403L16.3992 13.3932L19.3484 10H15V8H22ZM4 4V11H11V4H13V20H11V13H4V20H2V4H4Z\" }, child: [] }] })(e);\n}\nfunction Oo(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM3 12.5L7 9V16L3 12.5Z\" }, child: [] }] })(e);\n}\nfunction Fo(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 4H21V6H3V4ZM3 19H21V21H3V19ZM11 14H21V16H11V14ZM11 9H21V11H11V9ZM7 12.5L3 16V9L7 12.5Z\" }, child: [] }] })(e);\n}\nfunction Mt(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M8 5H11V19H8V21H16V19H13V5H16V3H8V5ZM2 7C1.44772 7 1 7.44772 1 8V16C1 16.5523 1.44772 17 2 17H8V15H3V9H8V7H2ZM16 9H21V15H16V17H22C22.5523 17 23 16.5523 23 16V8C23 7.44772 22.5523 7 22 7H16V9Z\" }, child: [] }] })(e);\n}\nfunction No(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M15 20H7V18H9.92661L12.0425 6H9V4H17V6H14.0734L11.9575 18H15V20Z\" }, child: [] }] })(e);\n}\nfunction Do(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M17 17H22V19H19V22H17V17ZM7 7H2V5H5V2H7V7ZM18.364 15.5355L16.9497 14.1213L18.364 12.7071C20.3166 10.7545 20.3166 7.58866 18.364 5.63604C16.4113 3.68342 13.2455 3.68342 11.2929 5.63604L9.87868 7.05025L8.46447 5.63604L9.87868 4.22183C12.6123 1.48816 17.0445 1.48816 19.7782 4.22183C22.5118 6.9555 22.5118 11.3877 19.7782 14.1213L18.364 15.5355ZM15.5355 18.364L14.1213 19.7782C11.3877 22.5118 6.9555 22.5118 4.22183 19.7782C1.48816 17.0445 1.48816 12.6123 4.22183 9.87868L5.63604 8.46447L7.05025 9.87868L5.63604 11.2929C3.68342 13.2455 3.68342 16.4113 5.63604 18.364C7.58866 20.3166 10.7545 20.3166 12.7071 18.364L14.1213 16.9497L15.5355 18.364ZM14.8284 7.75736L16.2426 9.17157L9.17157 16.2426L7.75736 14.8284L14.8284 7.75736Z\" }, child: [] }] })(e);\n}\nfunction en(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M18.3638 15.5355L16.9496 14.1213L18.3638 12.7071C20.3164 10.7545 20.3164 7.58866 18.3638 5.63604C16.4112 3.68341 13.2453 3.68341 11.2927 5.63604L9.87849 7.05025L8.46428 5.63604L9.87849 4.22182C12.6122 1.48815 17.0443 1.48815 19.778 4.22182C22.5117 6.95549 22.5117 11.3876 19.778 14.1213L18.3638 15.5355ZM15.5353 18.364L14.1211 19.7782C11.3875 22.5118 6.95531 22.5118 4.22164 19.7782C1.48797 17.0445 1.48797 12.6123 4.22164 9.87868L5.63585 8.46446L7.05007 9.87868L5.63585 11.2929C3.68323 13.2455 3.68323 16.4113 5.63585 18.364C7.58847 20.3166 10.7543 20.3166 12.7069 18.364L14.1211 16.9497L15.5353 18.364ZM14.8282 7.75736L16.2425 9.17157L9.17139 16.2426L7.75717 14.8284L14.8282 7.75736Z\" }, child: [] }] })(e);\n}\nfunction tn(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M8.00008 6V9H5.00008V6H8.00008ZM3.00008 4V11H10.0001V4H3.00008ZM13.0001 4H21.0001V6H13.0001V4ZM13.0001 11H21.0001V13H13.0001V11ZM13.0001 18H21.0001V20H13.0001V18ZM10.7072 16.2071L9.29297 14.7929L6.00008 18.0858L4.20718 16.2929L2.79297 17.7071L6.00008 20.9142L10.7072 16.2071Z\" }, child: [] }] })(e);\n}\nfunction nn(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M8 4H21V6H8V4ZM5 3V6H6V7H3V6H4V4H3V3H5ZM3 14V11.5H5V11H3V10H6V12.5H4V13H6V14H3ZM5 19.5H3V18.5H5V18H3V17H6V21H3V20H5V19.5ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z\" }, child: [] }] })(e);\n}\nfunction on(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M8 4H21V6H8V4ZM4.5 6.5C3.67157 6.5 3 5.82843 3 5C3 4.17157 3.67157 3.5 4.5 3.5C5.32843 3.5 6 4.17157 6 5C6 5.82843 5.32843 6.5 4.5 6.5ZM4.5 13.5C3.67157 13.5 3 12.8284 3 12C3 11.1716 3.67157 10.5 4.5 10.5C5.32843 10.5 6 11.1716 6 12C6 12.8284 5.32843 13.5 4.5 13.5ZM4.5 20.4C3.67157 20.4 3 19.7284 3 18.9C3 18.0716 3.67157 17.4 4.5 17.4C5.32843 17.4 6 18.0716 6 18.9C6 19.7284 5.32843 20.4 4.5 20.4ZM8 11H21V13H8V11ZM8 18H21V20H8V18Z\" }, child: [] }] })(e);\n}\nfunction Io(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M17.1538 14C17.3846 14.5161 17.5 15.0893 17.5 15.7196C17.5 17.0625 16.9762 18.1116 15.9286 18.867C14.8809 19.6223 13.4335 20 11.5862 20C9.94674 20 8.32335 19.6185 6.71592 18.8555V16.6009C8.23538 17.4783 9.7908 17.917 11.3822 17.917C13.9333 17.917 15.2128 17.1846 15.2208 15.7196C15.2208 15.0939 15.0049 14.5598 14.5731 14.1173C14.5339 14.0772 14.4939 14.0381 14.4531 14H3V12H21V14H17.1538ZM13.076 11H7.62908C7.4566 10.8433 7.29616 10.6692 7.14776 10.4778C6.71592 9.92084 6.5 9.24559 6.5 8.45207C6.5 7.21602 6.96583 6.165 7.89749 5.299C8.82916 4.43299 10.2706 4 12.2219 4C13.6934 4 15.1009 4.32808 16.4444 4.98426V7.13591C15.2448 6.44921 13.9293 6.10587 12.4978 6.10587C10.0187 6.10587 8.77917 6.88793 8.77917 8.45207C8.77917 8.87172 8.99709 9.23796 9.43293 9.55079C9.86878 9.86362 10.4066 10.1135 11.0463 10.3004C11.6665 10.4816 12.3431 10.7148 13.076 11H13.076Z\" }, child: [] }] })(e);\n}\nfunction Ao(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M13 10V14H19V10H13ZM11 10H5V14H11V10ZM13 19H19V16H13V19ZM11 19V16H5V19H11ZM13 5V8H19V5H13ZM11 5H5V8H11V5ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z\" }, child: [] }] })(e);\n}\nfunction qe(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M13 6V21H11V6H5V4H19V6H13Z\" }, child: [] }] })(e);\n}\nfunction Zo(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M8 3V12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12V3H18V12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12V3H8ZM4 20H20V22H4V20Z\" }, child: [] }] })(e);\n}\nfunction Uo(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M2 3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082C21.556 3 22 3.44495 22 3.9934V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934ZM8 5V19H16V5H8ZM4 5V7H6V5H4ZM18 5V7H20V5H18ZM4 9V11H6V9H4ZM18 9V11H20V9H18ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z\" }, child: [] }] })(e);\n}\nfunction rn(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M5 11.1005L7 9.1005L12.5 14.6005L16 11.1005L19 14.1005V5H5V11.1005ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10Z\" }, child: [] }] })(e);\n}\nfunction zo(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M21 15V18H24V20H21V23H19V20H16V18H19V15H21ZM21.0082 3C21.556 3 22 3.44495 22 3.9934L22.0007 13.3417C21.3749 13.1204 20.7015 13 20 13V5H4L4.001 19L13.2929 9.70715C13.6528 9.34604 14.22 9.31823 14.6123 9.62322L14.7065 9.70772L18.2521 13.2586C15.791 14.0069 14 16.2943 14 19C14 19.7015 14.1204 20.3749 14.3417 21.0007L2.9918 21C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H21.0082ZM8 7C9.10457 7 10 7.89543 10 9C10 10.1046 9.10457 11 8 11C6.89543 11 6 10.1046 6 9C6 7.89543 6.89543 7 8 7Z\" }, child: [] }] })(e);\n}\nfunction Wo(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M20 3C20.5523 3 21 3.44772 21 4V5.757L19 7.757V5H5V13.1L9 9.1005L13.328 13.429L12.0012 14.7562L11.995 18.995L16.2414 19.0012L17.571 17.671L18.8995 19H19V16.242L21 14.242V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20ZM21.7782 7.80761L23.1924 9.22183L15.4142 17L13.9979 16.9979L14 15.5858L21.7782 7.80761ZM15.5 7C16.3284 7 17 7.67157 17 8.5C17 9.32843 16.3284 10 15.5 10C14.6716 10 14 9.32843 14 8.5C14 7.67157 14.6716 7 15.5 7Z\" }, child: [] }] })(e);\n}\nfunction Go(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M3 3.9934C3 3.44476 3.44495 3 3.9934 3H20.0066C20.5552 3 21 3.44495 21 3.9934V20.0066C21 20.5552 20.5551 21 20.0066 21H3.9934C3.44476 21 3 20.5551 3 20.0066V3.9934ZM10.6219 8.41459C10.5562 8.37078 10.479 8.34741 10.4 8.34741C10.1791 8.34741 10 8.52649 10 8.74741V15.2526C10 15.3316 10.0234 15.4088 10.0672 15.4745C10.1897 15.6583 10.4381 15.708 10.6219 15.5854L15.5008 12.3328C15.5447 12.3035 15.5824 12.2658 15.6117 12.2219C15.7343 12.0381 15.6846 11.7897 15.5008 11.6672L10.6219 8.41459Z\" }, child: [] }] })(e);\n}\nfunction ln(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M2 16.0001H5.88889L11.1834 20.3319C11.2727 20.405 11.3846 20.4449 11.5 20.4449C11.7761 20.4449 12 20.2211 12 19.9449V4.05519C12 3.93977 11.9601 3.8279 11.887 3.73857C11.7121 3.52485 11.3971 3.49335 11.1834 3.66821L5.88889 8.00007H2C1.44772 8.00007 1 8.44778 1 9.00007V15.0001C1 15.5524 1.44772 16.0001 2 16.0001ZM23 12C23 15.292 21.5539 18.2463 19.2622 20.2622L17.8445 18.8444C19.7758 17.1937 21 14.7398 21 12C21 9.26016 19.7758 6.80629 17.8445 5.15557L19.2622 3.73779C21.5539 5.75368 23 8.70795 23 12ZM18 12C18 10.0883 17.106 8.38548 15.7133 7.28673L14.2842 8.71584C15.3213 9.43855 16 10.64 16 12C16 13.36 15.3213 14.5614 14.2842 15.2841L15.7133 16.7132C17.106 15.6145 18 13.9116 18 12Z\" }, child: [] }] })(e);\n}\nfunction $o(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 4V6H15V4H9Z\" }, child: [] }] })(e);\n}\nfunction qo(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M4 19H20V12H22V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V12H4V19ZM14 9H19L12 16L5 9H10V3H14V9Z\" }, child: [] }] })(e);\n}\nfunction Yo(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\", fill: \"currentColor\" }, child: [{ tag: \"path\", attr: { d: \"M10 6V8H5V19H16V14H18V20C18 20.5523 17.5523 21 17 21H4C3.44772 21 3 20.5523 3 20V7C3 6.44772 3.44772 6 4 6H10ZM21 3V12L17.206 8.207L11.2071 14.2071L9.79289 12.7929L15.792 6.793L12 3H21Z\" }, child: [] }] })(e);\n}\nfunction D(e) {\n  const t = z();\n  if (e || (e = t == null ? void 0 : t.editor), !e)\n    throw new Error(\n      \"'editor' is required, either from BlockNoteContext or as a function argument\"\n    );\n  const n = e, [o, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => {\n    var a;\n    return ((a = n.getSelection()) == null ? void 0 : a.blocks) || [n.getTextCursorPosition().block];\n  });\n  return W(\n    () => {\n      var a;\n      return l(\n        ((a = n.getSelection()) == null ? void 0 : a.blocks) || [n.getTextCursorPosition().block]\n      );\n    },\n    n\n  ), o;\n}\nfunction S() {\n  return z().editor.dictionary;\n}\nconst Ko = {\n  bold: Po,\n  italic: No,\n  underline: Zo,\n  strike: Io,\n  code: To\n};\nfunction Xo(e, t) {\n  return e in t.schema.styleSchema && t.schema.styleSchema[e].type === e && t.schema.styleSchema[e].propSchema === \"boolean\";\n}\nconst me = (e) => {\n  const t = S(), n = k(), o = H(), l = Xo(\n    e.basicTextStyle,\n    o\n  ), a = D(o), [c, s] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    e.basicTextStyle in o.getActiveStyles()\n  );\n  W(() => {\n    l && s(e.basicTextStyle in o.getActiveStyles());\n  }, o);\n  const u = (h) => {\n    if (o.focus(), !!l) {\n      if (o.schema.styleSchema[h].propSchema !== \"boolean\")\n        throw new Error(\"can only toggle boolean styles\");\n      o.toggleStyles({ [h]: !0 });\n    }\n  };\n  if (!(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => l ? !!a.find((h) => h.content !== void 0) : !1, [l, a]) || !o.isEditable)\n    return null;\n  const m = Ko[e.basicTextStyle];\n  return /* @__PURE__ */ r.jsx(\n    n.FormattingToolbar.Button,\n    {\n      className: \"bn-button\",\n      \"data-test\": e.basicTextStyle,\n      onClick: () => u(e.basicTextStyle),\n      isSelected: c,\n      label: t.formatting_toolbar[e.basicTextStyle].tooltip,\n      mainTooltip: t.formatting_toolbar[e.basicTextStyle].tooltip,\n      secondaryTooltip: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.formatKeyboardShortcut)(\n        t.formatting_toolbar[e.basicTextStyle].secondary_tooltip,\n        t.generic.ctrl_shortcut\n      ),\n      icon: /* @__PURE__ */ r.jsx(m, {})\n    }\n  );\n}, Ue = (e) => {\n  const t = e.textColor || \"default\", n = e.backgroundColor || \"default\", o = e.size || 16, l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => ({\n      pointerEvents: \"none\",\n      fontSize: (o * 0.75).toString() + \"px\",\n      height: o.toString() + \"px\",\n      lineHeight: o.toString() + \"px\",\n      textAlign: \"center\",\n      width: o.toString() + \"px\"\n    }),\n    [o]\n  );\n  return /* @__PURE__ */ r.jsx(\n    \"div\",\n    {\n      className: \"bn-color-icon\",\n      \"data-background-color\": n,\n      \"data-text-color\": t,\n      style: l,\n      children: \"A\"\n    }\n  );\n}, Vt = [\n  \"default\",\n  \"gray\",\n  \"brown\",\n  \"red\",\n  \"orange\",\n  \"yellow\",\n  \"green\",\n  \"blue\",\n  \"purple\",\n  \"pink\"\n], an = (e) => {\n  const t = k(), n = S(), o = () => e.text ? /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Menu.Label, { children: n.color_picker.text_title }),\n    Vt.map((a) => /* @__PURE__ */ r.jsx(\n      t.Generic.Menu.Item,\n      {\n        onClick: () => {\n          e.onClick && e.onClick(), e.text.setColor(a);\n        },\n        \"data-test\": \"text-color-\" + a,\n        icon: /* @__PURE__ */ r.jsx(Ue, { textColor: a, size: e.iconSize }),\n        checked: e.text.color === a,\n        children: n.color_picker.colors[a]\n      },\n      \"text-color-\" + a\n    ))\n  ] }) : null, l = () => e.background ? /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Menu.Label, { children: n.color_picker.background_title }),\n    Vt.map((a) => /* @__PURE__ */ r.jsx(\n      t.Generic.Menu.Item,\n      {\n        onClick: () => {\n          e.onClick && e.onClick(), e.background.setColor(a);\n        },\n        \"data-test\": \"background-color-\" + a,\n        icon: /* @__PURE__ */ r.jsx(Ue, { backgroundColor: a, size: e.iconSize }),\n        checked: e.background.color === a,\n        children: n.color_picker.colors[a]\n      },\n      \"background-color-\" + a\n    ))\n  ] }) : null;\n  return /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    /* @__PURE__ */ r.jsx(o, {}),\n    /* @__PURE__ */ r.jsx(l, {})\n  ] });\n};\nfunction Tt(e, t) {\n  return `${e}Color` in t.schema.styleSchema && t.schema.styleSchema[`${e}Color`].type === `${e}Color` && t.schema.styleSchema[`${e}Color`].propSchema === \"string\";\n}\nconst Jo = () => {\n  const e = k(), t = S(), n = H(), o = Tt(\"text\", n), l = Tt(\"background\", n), a = D(n), [c, s] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    o && n.getActiveStyles().textColor || \"default\"\n  ), [u, d] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    l && n.getActiveStyles().backgroundColor || \"default\"\n  );\n  W(() => {\n    o && s(n.getActiveStyles().textColor || \"default\"), l && d(\n      n.getActiveStyles().backgroundColor || \"default\"\n    );\n  }, n);\n  const m = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (j) => {\n      if (!o)\n        throw Error(\n          \"Tried to set text color, but style does not exist in editor schema.\"\n        );\n      j === \"default\" ? n.removeStyles({ textColor: j }) : n.addStyles({ textColor: j }), setTimeout(() => {\n        n.focus();\n      });\n    },\n    [n, o]\n  ), h = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (j) => {\n      if (!l)\n        throw Error(\n          \"Tried to set background color, but style does not exist in editor schema.\"\n        );\n      j === \"default\" ? n.removeStyles({ backgroundColor: j }) : n.addStyles({ backgroundColor: j }), setTimeout(() => {\n        n.focus();\n      });\n    },\n    [l, n]\n  );\n  return !(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (!o && !l)\n      return !1;\n    for (const j of a)\n      if (j.content !== void 0)\n        return !0;\n    return !1;\n  }, [l, a, o]) || !n.isEditable ? null : /* @__PURE__ */ r.jsxs(e.Generic.Menu.Root, { children: [\n    /* @__PURE__ */ r.jsx(e.Generic.Menu.Trigger, { children: /* @__PURE__ */ r.jsx(\n      e.FormattingToolbar.Button,\n      {\n        className: \"bn-button\",\n        \"data-test\": \"colors\",\n        label: t.formatting_toolbar.colors.tooltip,\n        mainTooltip: t.formatting_toolbar.colors.tooltip,\n        icon: /* @__PURE__ */ r.jsx(\n          Ue,\n          {\n            textColor: c,\n            backgroundColor: u,\n            size: 20\n          }\n        )\n      }\n    ) }),\n    /* @__PURE__ */ r.jsx(\n      e.Generic.Menu.Dropdown,\n      {\n        className: \"bn-menu-dropdown bn-color-picker-dropdown\",\n        children: /* @__PURE__ */ r.jsx(\n          an,\n          {\n            text: o ? {\n              color: c,\n              setColor: m\n            } : void 0,\n            background: l ? {\n              color: u,\n              setColor: h\n            } : void 0\n          }\n        )\n      }\n    )\n  ] });\n}, cn = (e) => {\n  const t = k(), n = S(), { url: o, text: l, editLink: a } = e, [c, s] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(o), [u, d] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(l);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    s(o), d(l);\n  }, [l, o]);\n  const m = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (T) => {\n      T.key === \"Enter\" && (T.preventDefault(), a(c, u));\n    },\n    [a, c, u]\n  ), h = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (T) => s(T.currentTarget.value),\n    []\n  ), g = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (T) => d(T.currentTarget.value),\n    []\n  ), j = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    () => a(c, u),\n    [a, c, u]\n  );\n  return /* @__PURE__ */ r.jsxs(t.Generic.Form.Root, { children: [\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Form.TextInput,\n      {\n        className: \"bn-text-input\",\n        name: \"url\",\n        icon: /* @__PURE__ */ r.jsx(en, {}),\n        autoFocus: !0,\n        placeholder: n.link_toolbar.form.url_placeholder,\n        value: c,\n        onKeyDown: m,\n        onChange: h,\n        onSubmit: j\n      }\n    ),\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Form.TextInput,\n      {\n        className: \"bn-text-input\",\n        name: \"title\",\n        icon: /* @__PURE__ */ r.jsx(qe, {}),\n        placeholder: n.link_toolbar.form.title_placeholder,\n        value: u,\n        onKeyDown: m,\n        onChange: g,\n        onSubmit: j\n      }\n    )\n  ] });\n};\nfunction Qo(e) {\n  return \"link\" in e.schema.inlineContentSchema && e.schema.inlineContentSchema.link === \"link\";\n}\nconst er = () => {\n  const e = H(), t = k(), n = S(), o = Qo(e), l = D(e), [a, c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e.getSelectedLinkUrl() || \"\"), [s, u] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e.getSelectedText());\n  W(() => {\n    u(e.getSelectedText() || \"\"), c(e.getSelectedLinkUrl() || \"\");\n  }, e);\n  const d = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (h, g) => {\n      e.createLink(h, g), e.focus();\n    },\n    [e]\n  );\n  return !(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (!o)\n      return !1;\n    for (const h of l)\n      if (h.content === void 0)\n        return !1;\n    return !0;\n  }, [o, l]) || !(\"link\" in e.schema.inlineContentSchema) || !e.isEditable ? null : /* @__PURE__ */ r.jsxs(t.Generic.Popover.Root, { children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Popover.Trigger, { children: /* @__PURE__ */ r.jsx(\n      t.FormattingToolbar.Button,\n      {\n        className: \"bn-button\",\n        \"data-test\": \"createLink\",\n        label: n.formatting_toolbar.link.tooltip,\n        mainTooltip: n.formatting_toolbar.link.tooltip,\n        secondaryTooltip: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.formatKeyboardShortcut)(\n          n.formatting_toolbar.link.secondary_tooltip,\n          n.generic.ctrl_shortcut\n        ),\n        icon: /* @__PURE__ */ r.jsx(en, {})\n      }\n    ) }),\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Popover.Content,\n      {\n        className: \"bn-popover-content bn-form-popover\",\n        variant: \"form-popover\",\n        children: /* @__PURE__ */ r.jsx(cn, { url: a, text: s, editLink: d })\n      }\n    )\n  ] });\n}, tr = () => {\n  const e = S(), t = k(), n = H(), [o, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(), a = D(n), c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (a.length !== 1)\n      return;\n    const d = a[0];\n    if ((0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlock)(d, n))\n      return l(d.props.caption), d;\n  }, [n, a]), s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (d) => {\n      c && d.key === \"Enter\" && (d.preventDefault(), n.updateBlock(c, {\n        props: {\n          caption: o\n          // TODO\n        }\n      }));\n    },\n    [o, n, c]\n  ), u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (d) => l(d.currentTarget.value),\n    []\n  );\n  return !c || (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlockWithPlaceholder)(c, n) || !n.isEditable ? null : /* @__PURE__ */ r.jsxs(t.Generic.Popover.Root, { children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Popover.Trigger, { children: /* @__PURE__ */ r.jsx(\n      t.FormattingToolbar.Button,\n      {\n        className: \"bn-button\",\n        label: e.formatting_toolbar.file_caption.tooltip,\n        mainTooltip: e.formatting_toolbar.file_caption.tooltip,\n        icon: /* @__PURE__ */ r.jsx(Mt, {}),\n        isSelected: c.props.caption !== \"\"\n      }\n    ) }),\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Popover.Content,\n      {\n        className: \"bn-popover-content bn-form-popover\",\n        variant: \"form-popover\",\n        children: /* @__PURE__ */ r.jsx(t.Generic.Form.Root, { children: /* @__PURE__ */ r.jsx(\n          t.Generic.Form.TextInput,\n          {\n            name: \"file-caption\",\n            icon: /* @__PURE__ */ r.jsx(Mt, {}),\n            value: o || \"\",\n            autoFocus: !0,\n            placeholder: e.formatting_toolbar.file_caption.input_placeholder,\n            onKeyDown: s,\n            onChange: u\n          }\n        ) })\n      }\n    )\n  ] });\n}, nr = () => {\n  const e = S(), t = k(), n = H(), o = D(n), [l, a] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    () => n.canNestBlock()\n  );\n  W(() => {\n    a(n.canNestBlock());\n  }, n);\n  const c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    n.focus(), n.nestBlock();\n  }, [n]);\n  return !(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => !o.find(\n    (u) => n.schema.blockSchema[u.type].content !== \"inline\"\n  ), [n.schema.blockSchema, o]) || !n.isEditable ? null : /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Button,\n    {\n      className: \"bn-button\",\n      \"data-test\": \"nestBlock\",\n      onClick: c,\n      isDisabled: !l,\n      label: e.formatting_toolbar.nest.tooltip,\n      mainTooltip: e.formatting_toolbar.nest.tooltip,\n      secondaryTooltip: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.formatKeyboardShortcut)(\n        e.formatting_toolbar.nest.secondary_tooltip,\n        e.generic.ctrl_shortcut\n      ),\n      icon: /* @__PURE__ */ r.jsx(Fo, {})\n    }\n  );\n}, or = () => {\n  const e = S(), t = k(), n = H(), o = D(n), [l, a] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    () => n.canUnnestBlock()\n  );\n  W(() => {\n    a(n.canUnnestBlock());\n  }, n);\n  const c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    n.focus(), n.unnestBlock();\n  }, [n]);\n  return !(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => !o.find(\n    (u) => n.schema.blockSchema[u.type].content !== \"inline\"\n  ), [n.schema.blockSchema, o]) || !n.isEditable ? null : /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Button,\n    {\n      className: \"bn-button\",\n      \"data-test\": \"unnestBlock\",\n      onClick: c,\n      isDisabled: !l,\n      label: e.formatting_toolbar.unnest.tooltip,\n      mainTooltip: e.formatting_toolbar.unnest.tooltip,\n      secondaryTooltip: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.formatKeyboardShortcut)(\n        e.formatting_toolbar.unnest.secondary_tooltip,\n        e.generic.ctrl_shortcut\n      ),\n      icon: /* @__PURE__ */ r.jsx(Oo, {})\n    }\n  );\n}, rr = (e) => {\n  const t = k(), n = S(), { block: o } = e, l = H(), [a, c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\"), s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (m) => {\n      c(m.currentTarget.value);\n    },\n    []\n  ), u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (m) => {\n      m.key === \"Enter\" && (m.preventDefault(), l.updateBlock(o, {\n        props: {\n          name: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.filenameFromURL)(a),\n          url: a\n        }\n      }));\n    },\n    [l, o, a]\n  ), d = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    l.updateBlock(o, {\n      props: {\n        name: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.filenameFromURL)(a),\n        url: a\n      }\n    });\n  }, [l, o, a]);\n  return /* @__PURE__ */ r.jsxs(t.FilePanel.TabPanel, { className: \"bn-tab-panel\", children: [\n    /* @__PURE__ */ r.jsx(\n      t.FilePanel.TextInput,\n      {\n        className: \"bn-text-input\",\n        placeholder: n.file_panel.embed.url_placeholder,\n        value: a,\n        onChange: s,\n        onKeyDown: u,\n        \"data-test\": \"embed-input\"\n      }\n    ),\n    /* @__PURE__ */ r.jsx(\n      t.FilePanel.Button,\n      {\n        className: \"bn-button\",\n        onClick: d,\n        \"data-test\": \"embed-input-button\",\n        children: n.file_panel.embed.embed_button[o.type] || n.file_panel.embed.embed_button.file\n      }\n    )\n  ] });\n}, ir = (e) => {\n  var h;\n  const t = k(), n = S(), { block: o, setLoading: l } = e, a = H(), [c, s] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    c && setTimeout(() => {\n      s(!1);\n    }, 3e3);\n  }, [c]);\n  const u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (g) => {\n      if (g === null)\n        return;\n      async function j(T) {\n        if (l(!0), a.uploadFile !== void 0)\n          try {\n            let E = await a.uploadFile(T);\n            typeof E == \"string\" && (E = {\n              props: {\n                name: T.name,\n                url: E\n              }\n            }), a.updateBlock(o, E);\n          } catch {\n            s(!0);\n          } finally {\n            l(!1);\n          }\n      }\n      j(g);\n    },\n    [o, a, l]\n  ), d = a.schema.blockSchema[o.type], m = d.isFileBlock && ((h = d.fileBlockAcceptMimeTypes) != null && h.length) ? d.fileBlockAcceptMimeTypes.join(\",\") : \"*/*\";\n  return /* @__PURE__ */ r.jsxs(t.FilePanel.TabPanel, { className: \"bn-tab-panel\", children: [\n    /* @__PURE__ */ r.jsx(\n      t.FilePanel.FileInput,\n      {\n        className: \"bn-file-input\",\n        \"data-test\": \"upload-input\",\n        accept: m,\n        placeholder: n.file_panel.upload.file_placeholder[o.type] || n.file_panel.upload.file_placeholder.file,\n        value: null,\n        onChange: u\n      }\n    ),\n    c && /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-error-text\", children: n.file_panel.upload.upload_error })\n  ] });\n}, sn = (e) => {\n  const t = k(), n = S(), o = H(), [l, a] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), c = e.tabs ?? [\n    ...o.uploadFile !== void 0 ? [\n      {\n        name: n.file_panel.upload.title,\n        tabPanel: /* @__PURE__ */ r.jsx(ir, { block: e.block, setLoading: a })\n      }\n    ] : [],\n    {\n      name: n.file_panel.embed.title,\n      tabPanel: /* @__PURE__ */ r.jsx(rr, { block: e.block })\n    }\n  ], [s, u] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    e.defaultOpenTab || c[0].name\n  );\n  return /* @__PURE__ */ r.jsx(\n    t.FilePanel.Root,\n    {\n      className: \"bn-panel\",\n      defaultOpenTab: s,\n      openTab: s,\n      setOpenTab: u,\n      tabs: c,\n      loading: l\n    }\n  );\n}, lr = () => {\n  const e = S(), t = k(), n = H(), o = D(n), [l, a] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    a(!1);\n  }, [o]);\n  const c = o.length === 1 ? o[0] : void 0;\n  return c === void 0 || !(0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlock)(c, n) || !n.isEditable ? null : /* @__PURE__ */ r.jsxs(t.Generic.Popover.Root, { opened: l, position: \"bottom\", children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Popover.Trigger, { children: /* @__PURE__ */ r.jsx(\n      t.FormattingToolbar.Button,\n      {\n        className: \"bn-button\",\n        onClick: () => a(!l),\n        isSelected: l,\n        mainTooltip: e.formatting_toolbar.file_replace.tooltip[c.type] || e.formatting_toolbar.file_replace.tooltip.file,\n        label: e.formatting_toolbar.file_replace.tooltip[c.type] || e.formatting_toolbar.file_replace.tooltip.file,\n        icon: /* @__PURE__ */ r.jsx(Wo, {})\n      }\n    ) }),\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Popover.Content,\n      {\n        className: \"bn-popover-content bn-panel-popover\",\n        variant: \"panel-popover\",\n        children: /* @__PURE__ */ r.jsx(sn, { block: c })\n      }\n    )\n  ] });\n}, ar = {\n  left: Ro,\n  center: Eo,\n  right: Lo,\n  justify: Bo\n}, De = (e) => {\n  const t = k(), n = S(), o = H(), l = D(o), a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const d = l[0];\n    if ((0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockHasDefaultProp)(\"textAlignment\", d, o))\n      return d.props.textAlignment;\n  }, [o, l]), c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (d) => {\n      o.focus();\n      for (const m of l)\n        (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockTypeHasDefaultProp)(\"textAlignment\", m.type, o) && o.updateBlock(m, {\n          props: { textAlignment: d }\n        });\n    },\n    [o, l]\n  );\n  if (!(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => !!l.find((d) => \"textAlignment\" in d.props), [l]) || !o.isEditable)\n    return null;\n  const u = ar[e.textAlignment];\n  return /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Button,\n    {\n      className: \"bn-button\",\n      \"data-test\": `alignText${e.textAlignment.slice(0, 1).toUpperCase() + e.textAlignment.slice(1)}`,\n      onClick: () => c(e.textAlignment),\n      isSelected: a === e.textAlignment,\n      label: n.formatting_toolbar[`align_${e.textAlignment}`].tooltip,\n      mainTooltip: n.formatting_toolbar[`align_${e.textAlignment}`].tooltip,\n      icon: /* @__PURE__ */ r.jsx(u, {})\n    }\n  );\n}, cr = (e) => [\n  {\n    name: e.slash_menu.paragraph.title,\n    type: \"paragraph\",\n    icon: qe,\n    isSelected: (t) => t.type === \"paragraph\"\n  },\n  {\n    name: e.slash_menu.heading.title,\n    type: \"heading\",\n    props: { level: 1 },\n    icon: Xt,\n    isSelected: (t) => t.type === \"heading\" && \"level\" in t.props && t.props.level === 1\n  },\n  {\n    name: e.slash_menu.heading_2.title,\n    type: \"heading\",\n    props: { level: 2 },\n    icon: Jt,\n    isSelected: (t) => t.type === \"heading\" && \"level\" in t.props && t.props.level === 2\n  },\n  {\n    name: e.slash_menu.heading_3.title,\n    type: \"heading\",\n    props: { level: 3 },\n    icon: Qt,\n    isSelected: (t) => t.type === \"heading\" && \"level\" in t.props && t.props.level === 3\n  },\n  {\n    name: e.slash_menu.bullet_list.title,\n    type: \"bulletListItem\",\n    icon: on,\n    isSelected: (t) => t.type === \"bulletListItem\"\n  },\n  {\n    name: e.slash_menu.numbered_list.title,\n    type: \"numberedListItem\",\n    icon: nn,\n    isSelected: (t) => t.type === \"numberedListItem\"\n  },\n  {\n    name: e.slash_menu.check_list.title,\n    type: \"checkListItem\",\n    icon: tn,\n    isSelected: (t) => t.type === \"checkListItem\"\n  }\n], sr = (e) => {\n  const t = k(), n = S(), o = H(), l = D(o), [a, c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(o.getTextCursorPosition().block), s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (e.items || cr(n)).filter(\n    (m) => m.type in o.schema.blockSchema\n  ), [o, n, e.items]), u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => s.find((m) => m.type === a.type) !== void 0,\n    [a.type, s]\n  ), d = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const m = (h) => {\n      o.focus();\n      for (const g of l)\n        o.updateBlock(g, {\n          type: h.type,\n          props: h.props\n        });\n    };\n    return s.map((h) => {\n      const g = h.icon;\n      return {\n        text: h.name,\n        icon: /* @__PURE__ */ r.jsx(g, { size: 16 }),\n        onClick: () => m(h),\n        isSelected: h.isSelected(a)\n      };\n    });\n  }, [a, s, o, l]);\n  return W(() => {\n    c(o.getTextCursorPosition().block);\n  }, o), !u || !o.isEditable ? null : /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Select,\n    {\n      className: \"bn-select\",\n      items: d\n    }\n  );\n}, ur = () => {\n  const e = S(), t = k(), n = H(), [o, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(), a = D(n), c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (a.length !== 1)\n      return;\n    const d = a[0];\n    if ((0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlock)(d, n))\n      return l(d.props.name), d;\n  }, [n, a]), s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (d) => {\n      c && d.key === \"Enter\" && (d.preventDefault(), n.updateBlock(c, {\n        props: {\n          name: o\n          // TODO\n        }\n      }));\n    },\n    [o, n, c]\n  ), u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (d) => l(d.currentTarget.value),\n    []\n  );\n  return !c || (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlockWithPlaceholder)(c, n) || !n.isEditable ? null : /* @__PURE__ */ r.jsxs(t.Generic.Popover.Root, { children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Popover.Trigger, { children: /* @__PURE__ */ r.jsx(\n      t.FormattingToolbar.Button,\n      {\n        className: \"bn-button\",\n        label: e.formatting_toolbar.file_rename.tooltip[c.type] || e.formatting_toolbar.file_rename.tooltip.file,\n        mainTooltip: e.formatting_toolbar.file_rename.tooltip[c.type] || e.formatting_toolbar.file_rename.tooltip.file,\n        icon: /* @__PURE__ */ r.jsx(St, {})\n      }\n    ) }),\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Popover.Content,\n      {\n        className: \"bn-popover-content bn-form-popover\",\n        variant: \"form-popover\",\n        children: /* @__PURE__ */ r.jsx(t.Generic.Form.Root, { children: /* @__PURE__ */ r.jsx(\n          t.Generic.Form.TextInput,\n          {\n            name: \"file-name\",\n            icon: /* @__PURE__ */ r.jsx(St, {}),\n            value: o || \"\",\n            autoFocus: !0,\n            placeholder: e.formatting_toolbar.file_rename.input_placeholder[c.type] || e.formatting_toolbar.file_rename.input_placeholder.file,\n            onKeyDown: s,\n            onChange: u\n          }\n        ) })\n      }\n    )\n  ] });\n}, dr = () => {\n  const e = S(), t = k(), n = H(), o = D(n), l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (o.length !== 1)\n      return;\n    const c = o[0];\n    if ((0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlock)(c, n))\n      return c;\n  }, [n, o]), a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    l && l.props.url && (n.focus(), n.resolveFileUrl(l.props.url).then((c) => window.open(c)));\n  }, [n, l]);\n  return !l || (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlockWithPlaceholder)(l, n) ? null : /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Button,\n    {\n      className: \"bn-button\",\n      label: e.formatting_toolbar.file_download.tooltip[l.type] || e.formatting_toolbar.file_download.tooltip.file,\n      mainTooltip: e.formatting_toolbar.file_download.tooltip[l.type] || e.formatting_toolbar.file_download.tooltip.file,\n      icon: /* @__PURE__ */ r.jsx(qo, {}),\n      onClick: a\n    }\n  );\n}, fr = () => {\n  const e = S(), t = k(), n = H(), o = D(n), l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (o.length !== 1)\n      return;\n    const c = o[0];\n    if ((0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlockWithPreview)(c, n))\n      return c;\n  }, [n, o]), a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    l && n.updateBlock(l, {\n      props: {\n        showPreview: !l.props.showPreview\n        // TODO\n      }\n    });\n  }, [n, l]);\n  return !l || (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlockWithPlaceholder)(l, n) || !n.isEditable ? null : /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Button,\n    {\n      className: \"bn-button\",\n      label: \"Toggle preview\",\n      mainTooltip: e.formatting_toolbar.file_preview_toggle.tooltip,\n      icon: /* @__PURE__ */ r.jsx(zo, {}),\n      isSelected: l.props.showPreview,\n      onClick: a\n    }\n  );\n}, mr = () => {\n  const e = S(), t = k(), n = H(), o = D(n), l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (o.length !== 1)\n      return;\n    const c = o[0];\n    if ((0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlock)(c, n))\n      return c;\n  }, [n, o]), a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    n.focus(), n.removeBlocks([l]);\n  }, [n, l]);\n  return !l || (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockIsFileBlockWithPlaceholder)(l, n) || !n.isEditable ? null : /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Button,\n    {\n      className: \"bn-button\",\n      label: e.formatting_toolbar.file_delete.tooltip[l.type] || e.formatting_toolbar.file_delete.tooltip.file,\n      mainTooltip: e.formatting_toolbar.file_delete.tooltip[l.type] || e.formatting_toolbar.file_delete.tooltip.file,\n      icon: /* @__PURE__ */ r.jsx($o, {}),\n      onClick: a\n    }\n  );\n}, br = (e) => [\n  /* @__PURE__ */ r.jsx(sr, { items: e }, \"blockTypeSelect\"),\n  /* @__PURE__ */ r.jsx(tr, {}, \"fileCaptionButton\"),\n  /* @__PURE__ */ r.jsx(lr, {}, \"replaceFileButton\"),\n  /* @__PURE__ */ r.jsx(ur, {}, \"fileRenameButton\"),\n  /* @__PURE__ */ r.jsx(mr, {}, \"fileDeleteButton\"),\n  /* @__PURE__ */ r.jsx(dr, {}, \"fileDownloadButton\"),\n  /* @__PURE__ */ r.jsx(fr, {}, \"filePreviewButton\"),\n  /* @__PURE__ */ r.jsx(me, { basicTextStyle: \"bold\" }, \"boldStyleButton\"),\n  /* @__PURE__ */ r.jsx(me, { basicTextStyle: \"italic\" }, \"italicStyleButton\"),\n  /* @__PURE__ */ r.jsx(\n    me,\n    {\n      basicTextStyle: \"underline\"\n    },\n    \"underlineStyleButton\"\n  ),\n  /* @__PURE__ */ r.jsx(me, { basicTextStyle: \"strike\" }, \"strikeStyleButton\"),\n  /* @__PURE__ */ r.jsx(De, { textAlignment: \"left\" }, \"textAlignLeftButton\"),\n  /* @__PURE__ */ r.jsx(De, { textAlignment: \"center\" }, \"textAlignCenterButton\"),\n  /* @__PURE__ */ r.jsx(De, { textAlignment: \"right\" }, \"textAlignRightButton\"),\n  /* @__PURE__ */ r.jsx(Jo, {}, \"colorStyleButton\"),\n  /* @__PURE__ */ r.jsx(nr, {}, \"nestBlockButton\"),\n  /* @__PURE__ */ r.jsx(or, {}, \"unnestBlockButton\"),\n  /* @__PURE__ */ r.jsx(er, {}, \"createLinkButton\")\n], hr = (e) => {\n  const t = k();\n  return /* @__PURE__ */ r.jsx(\n    t.FormattingToolbar.Root,\n    {\n      className: \"bn-toolbar bn-formatting-toolbar\",\n      children: e.children || br(e.blockTypeSelectItems)\n    }\n  );\n}, Et = (e) => {\n  switch (e) {\n    case \"left\":\n      return \"top-start\";\n    case \"center\":\n      return \"top\";\n    case \"right\":\n      return \"top-end\";\n    default:\n      return \"top-start\";\n  }\n}, gr = (e) => {\n  const t = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null), n = H(), [o, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    () => {\n      const g = n.getTextCursorPosition().block;\n      return \"textAlignment\" in g.props ? Et(\n        g.props.textAlignment\n      ) : \"top-start\";\n    }\n  );\n  W(() => {\n    const g = n.getTextCursorPosition().block;\n    \"textAlignment\" in g.props ? l(\n      Et(\n        g.props.textAlignment\n      )\n    ) : l(\"top-start\");\n  }, n);\n  const a = X(\n    n.formattingToolbar.onUpdate.bind(n.formattingToolbar)\n  ), { isMounted: c, ref: s, style: u, getFloatingProps: d } = ae(\n    (a == null ? void 0 : a.show) || !1,\n    (a == null ? void 0 : a.referencePos) || null,\n    3e3,\n    {\n      placement: o,\n      middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.offset)(10), (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.flip)()],\n      onOpenChange: (g, j) => {\n        g || (n.formattingToolbar.closeMenu(), n.focus());\n      }\n    }\n  ), m = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => Co([t, s]), [t, s]);\n  if (!c || !a)\n    return null;\n  if (!a.show && t.current)\n    return /* @__PURE__ */ r.jsx(\n      \"div\",\n      {\n        ref: m,\n        style: u,\n        dangerouslySetInnerHTML: { __html: t.current.innerHTML }\n      }\n    );\n  const h = e.formattingToolbar || hr;\n  return /* @__PURE__ */ r.jsx(\"div\", { ref: m, style: u, ...d(), children: /* @__PURE__ */ r.jsx(h, {}) });\n}, pr = (e) => {\n  const t = k(), n = S();\n  return /* @__PURE__ */ r.jsx(\n    t.LinkToolbar.Button,\n    {\n      className: \"bn-button\",\n      label: n.link_toolbar.delete.tooltip,\n      mainTooltip: n.link_toolbar.delete.tooltip,\n      isSelected: !1,\n      onClick: e.deleteLink,\n      icon: /* @__PURE__ */ r.jsx(Do, {})\n    }\n  );\n}, xr = (e) => {\n  const t = k(), n = S();\n  return /* @__PURE__ */ r.jsxs(t.Generic.Popover.Root, { children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Popover.Trigger, { children: /* @__PURE__ */ r.jsx(\n      t.LinkToolbar.Button,\n      {\n        className: \"bn-button\",\n        mainTooltip: n.link_toolbar.edit.tooltip,\n        isSelected: !1,\n        children: n.link_toolbar.edit.text\n      }\n    ) }),\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Popover.Content,\n      {\n        className: \"bn-popover-content bn-form-popover\",\n        variant: \"form-popover\",\n        children: /* @__PURE__ */ r.jsx(cn, { ...e })\n      }\n    )\n  ] });\n}, vr = (e) => {\n  const t = k(), n = S();\n  return /* @__PURE__ */ r.jsx(\n    t.LinkToolbar.Button,\n    {\n      className: \"bn-button\",\n      mainTooltip: n.link_toolbar.open.tooltip,\n      label: n.link_toolbar.open.tooltip,\n      isSelected: !1,\n      onClick: () => {\n        window.open(e.url, \"_blank\");\n      },\n      icon: /* @__PURE__ */ r.jsx(Yo, {})\n    }\n  );\n}, kr = (e) => {\n  const t = k();\n  return e.children ? /* @__PURE__ */ r.jsx(t.LinkToolbar.Root, { className: \"bn-toolbar bn-link-toolbar\", children: e.children }) : /* @__PURE__ */ r.jsxs(\n    t.LinkToolbar.Root,\n    {\n      className: \"bn-toolbar bn-link-toolbar\",\n      onMouseEnter: e.stopHideTimer,\n      onMouseLeave: e.startHideTimer,\n      children: [\n        /* @__PURE__ */ r.jsx(\n          xr,\n          {\n            url: e.url,\n            text: e.text,\n            editLink: e.editLink\n          }\n        ),\n        /* @__PURE__ */ r.jsx(vr, { url: e.url }),\n        /* @__PURE__ */ r.jsx(pr, { deleteLink: e.deleteLink })\n      ]\n    }\n  );\n}, Cr = (e) => {\n  const t = H(), n = {\n    deleteLink: t.linkToolbar.deleteLink,\n    editLink: t.linkToolbar.editLink,\n    startHideTimer: t.linkToolbar.startHideTimer,\n    stopHideTimer: t.linkToolbar.stopHideTimer\n  }, o = X(\n    t.linkToolbar.onUpdate.bind(t.linkToolbar)\n  ), { isMounted: l, ref: a, style: c, getFloatingProps: s } = ae(\n    (o == null ? void 0 : o.show) || !1,\n    (o == null ? void 0 : o.referencePos) || null,\n    4e3,\n    {\n      placement: \"top-start\",\n      middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.offset)(10), (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.flip)()],\n      onOpenChange: (g) => {\n        g || (t.linkToolbar.closeMenu(), t.focus());\n      }\n    }\n  );\n  if (!l || !o)\n    return null;\n  const { show: u, referencePos: d, ...m } = o, h = e.linkToolbar || kr;\n  return /* @__PURE__ */ r.jsx(\"div\", { ref: a, style: c, ...s(), children: /* @__PURE__ */ r.jsx(h, { ...m, ...n }) });\n}, yr = (e) => {\n  const t = H();\n  if (!t.filePanel)\n    throw new Error(\n      \"FileToolbarController can only be used when BlockNote editor schema contains file block\"\n    );\n  const n = X(\n    t.filePanel.onUpdate.bind(t.filePanel)\n  ), { isMounted: o, ref: l, style: a, getFloatingProps: c } = ae(\n    (n == null ? void 0 : n.show) || !1,\n    (n == null ? void 0 : n.referencePos) || null,\n    5e3,\n    {\n      placement: \"bottom\",\n      middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.offset)(10), (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.flip)()],\n      onOpenChange: (h) => {\n        h || (t.filePanel.closeMenu(), t.focus());\n      }\n    }\n  );\n  if (!o || !n)\n    return null;\n  const { show: s, referencePos: u, ...d } = n, m = e.filePanel || sn;\n  return /* @__PURE__ */ r.jsx(\"div\", { ref: l, style: a, ...c(), children: /* @__PURE__ */ r.jsx(m, { ...d }) });\n};\nfunction jr(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 1024 1024\" }, child: [{ tag: \"path\", attr: { d: \"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z\" }, child: [] }, { tag: \"path\", attr: { d: \"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z\" }, child: [] }] })(e);\n}\nconst wr = (e) => {\n  const t = k(), n = S();\n  return /* @__PURE__ */ r.jsx(\n    t.SideMenu.Button,\n    {\n      className: \"bn-button\",\n      label: n.side_menu.add_block_label,\n      icon: /* @__PURE__ */ r.jsx(\n        jr,\n        {\n          size: 24,\n          onClick: e.addBlock,\n          \"data-test\": \"dragHandleAdd\"\n        }\n      )\n    }\n  );\n};\nfunction un(e) {\n  return C({ tag: \"svg\", attr: { viewBox: \"0 0 24 24\" }, child: [{ tag: \"path\", attr: { fill: \"none\", d: \"M0 0h24v24H0V0z\" }, child: [] }, { tag: \"path\", attr: { d: \"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" }, child: [] }] })(e);\n}\nconst Hr = (e) => {\n  const t = k(), n = H();\n  return !(0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockTypeHasDefaultProp)(\"textColor\", e.block.type, n) && !(0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockTypeHasDefaultProp)(\"backgroundColor\", e.block.type, n) ? null : /* @__PURE__ */ r.jsxs(t.Generic.Menu.Root, { position: \"right\", sub: !0, children: [\n    /* @__PURE__ */ r.jsx(t.Generic.Menu.Trigger, { sub: !0, children: /* @__PURE__ */ r.jsx(\n      t.Generic.Menu.Item,\n      {\n        className: \"bn-menu-item\",\n        subTrigger: !0,\n        children: e.children\n      }\n    ) }),\n    /* @__PURE__ */ r.jsx(\n      t.Generic.Menu.Dropdown,\n      {\n        sub: !0,\n        className: \"bn-menu-dropdown bn-color-picker-dropdown\",\n        children: /* @__PURE__ */ r.jsx(\n          an,\n          {\n            iconSize: 18,\n            text: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockTypeHasDefaultProp)(\n              \"textColor\",\n              e.block.type,\n              n\n            ) && (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockHasDefaultProp)(\"textColor\", e.block, n) ? {\n              color: e.block.props.textColor,\n              setColor: (o) => n.updateBlock(e.block, {\n                type: e.block.type,\n                props: { textColor: o }\n              })\n            } : void 0,\n            background: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockTypeHasDefaultProp)(\n              \"backgroundColor\",\n              e.block.type,\n              n\n            ) && (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.checkBlockHasDefaultProp)(\"backgroundColor\", e.block, n) ? {\n              color: e.block.props.backgroundColor,\n              setColor: (o) => n.updateBlock(e.block, {\n                props: { backgroundColor: o }\n              })\n            } : void 0\n          }\n        )\n      }\n    )\n  ] });\n}, _r = (e) => {\n  const t = k(), n = H();\n  return /* @__PURE__ */ r.jsx(\n    t.Generic.Menu.Item,\n    {\n      className: \"bn-menu-item\",\n      onClick: () => n.removeBlocks([e.block]),\n      children: e.children\n    }\n  );\n}, Sr = (e) => {\n  const t = k(), n = S();\n  return /* @__PURE__ */ r.jsx(\n    t.Generic.Menu.Dropdown,\n    {\n      className: \"bn-menu-dropdown bn-drag-handle-menu\",\n      children: e.children || /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n        /* @__PURE__ */ r.jsx(_r, { ...e, children: n.drag_handle.delete_menuitem }),\n        /* @__PURE__ */ r.jsx(Hr, { ...e, children: n.drag_handle.colors_menuitem })\n      ] })\n    }\n  );\n}, Mr = (e) => {\n  const t = k(), n = S(), o = e.dragHandleMenu || Sr;\n  return /* @__PURE__ */ r.jsxs(\n    t.Generic.Menu.Root,\n    {\n      onOpenChange: (l) => {\n        l ? e.freezeMenu() : (e.unfreezeMenu(), e.editor.focus());\n      },\n      position: \"left\",\n      children: [\n        /* @__PURE__ */ r.jsx(t.Generic.Menu.Trigger, { children: /* @__PURE__ */ r.jsx(\n          t.SideMenu.Button,\n          {\n            label: n.side_menu.drag_handle_label,\n            draggable: !0,\n            onDragStart: e.blockDragStart,\n            onDragEnd: e.blockDragEnd,\n            className: \"bn-button\",\n            icon: /* @__PURE__ */ r.jsx(un, { size: 24, \"data-test\": \"dragHandle\" })\n          }\n        ) }),\n        /* @__PURE__ */ r.jsx(o, { block: e.block })\n      ]\n    }\n  );\n}, Vr = (e) => {\n  const t = k(), { addBlock: n, ...o } = e, l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const a = {\n      \"data-block-type\": e.block.type\n    };\n    return e.block.type === \"heading\" && (a[\"data-level\"] = e.block.props.level.toString()), e.editor.schema.blockSchema[e.block.type].isFileBlock && (e.block.props.url ? a[\"data-url\"] = \"true\" : a[\"data-url\"] = \"false\"), a;\n  }, [e.block, e.editor.schema.blockSchema]);\n  return /* @__PURE__ */ r.jsx(t.SideMenu.Root, { className: \"bn-side-menu\", ...l, children: e.children || /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    /* @__PURE__ */ r.jsx(wr, { addBlock: n }),\n    /* @__PURE__ */ r.jsx(Mr, { ...o })\n  ] }) });\n}, Tr = (e) => {\n  const t = H(), n = {\n    addBlock: t.sideMenu.addBlock,\n    blockDragStart: t.sideMenu.blockDragStart,\n    blockDragEnd: t.sideMenu.blockDragEnd,\n    freezeMenu: t.sideMenu.freezeMenu,\n    unfreezeMenu: t.sideMenu.unfreezeMenu\n  }, o = X(\n    t.sideMenu.onUpdate.bind(t.sideMenu)\n  ), { isMounted: l, ref: a, style: c, getFloatingProps: s } = ae(\n    (o == null ? void 0 : o.show) || !1,\n    (o == null ? void 0 : o.referencePos) || null,\n    1e3,\n    {\n      placement: \"left-start\"\n    }\n  );\n  if (!l || !o)\n    return null;\n  const { show: u, referencePos: d, ...m } = o, h = e.sideMenu || Vr;\n  return /* @__PURE__ */ r.jsx(\"div\", { ref: a, style: c, ...s(), children: /* @__PURE__ */ r.jsx(h, { ...m, ...n, editor: t }) });\n};\nfunction Er(e) {\n  const t = k(), n = S(), { items: o, loadingState: l, selectedIndex: a, onItemClick: c } = e, s = l === \"loading-initial\" || l === \"loading\" ? /* @__PURE__ */ r.jsx(t.SuggestionMenu.Loader, { className: \"bn-suggestion-menu-loader\", children: n.suggestion_menu.loading }) : null, u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    let d;\n    const m = [];\n    for (let h = 0; h < o.length; h++) {\n      const g = o[h];\n      g.group !== d && (d = g.group, m.push(\n        /* @__PURE__ */ r.jsx(\n          t.SuggestionMenu.Label,\n          {\n            className: \"bn-suggestion-menu-label\",\n            children: d\n          },\n          d\n        )\n      )), m.push(\n        /* @__PURE__ */ r.jsx(\n          t.SuggestionMenu.Item,\n          {\n            className: \"bn-suggestion-menu-item\",\n            item: g,\n            id: `bn-suggestion-menu-item-${h}`,\n            isSelected: h === a,\n            onClick: () => c == null ? void 0 : c(g)\n          },\n          g.title\n        )\n      );\n    }\n    return m;\n  }, [t, o, c, a]);\n  return /* @__PURE__ */ r.jsxs(\n    t.SuggestionMenu.Root,\n    {\n      id: \"bn-suggestion-menu\",\n      className: \"bn-suggestion-menu\",\n      children: [\n        u,\n        u.length === 0 && (e.loadingState === \"loading\" || e.loadingState === \"loaded\") && /* @__PURE__ */ r.jsx(\n          t.SuggestionMenu.EmptyItem,\n          {\n            className: \"bn-suggestion-menu-item\",\n            children: n.suggestion_menu.no_items_title\n          }\n        ),\n        s\n      ]\n    }\n  );\n}\nfunction Br(e, t, n, o = 3) {\n  const l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    t !== void 0 && (e.length > 0 ? l.current = t.length : t.length - l.current > o && n());\n  }, [n, o, e.length, t]);\n}\nfunction Rr(e, t) {\n  const [n, o] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]), [l, a] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(), s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const u = e;\n    c.current = e, a(!0), t(e).then((d) => {\n      c.current === u && (o(d), a(!1), s.current = u);\n    });\n  }, [e, t]), {\n    items: n || [],\n    // The query that was used to retrieve the last set of items may not be the\n    // same as the current query as the items from the current query may not\n    // have been retrieved yet. This is useful when using the returns of this\n    // hook in other hooks.\n    usedQuery: s.current,\n    loadingState: s.current === void 0 ? \"loading-initial\" : l ? \"loading\" : \"loaded\"\n  };\n}\nfunction Lr(e, t, n, o) {\n  const [l, a] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const c = (s) => s.key === \"ArrowUp\" ? (s.preventDefault(), n.length && a((l - 1 + n.length) % n.length), !0) : s.key === \"ArrowDown\" ? (s.preventDefault(), n.length && a((l + 1) % n.length), !0) : s.key === \"Enter\" ? (s.preventDefault(), n.length && (o == null || o(n[l])), !0) : !1;\n    return e.domElement.addEventListener(\n      \"keydown\",\n      c,\n      !0\n    ), () => {\n      e.domElement.removeEventListener(\n        \"keydown\",\n        c,\n        !0\n      );\n    };\n  }, [e.domElement, n, l, o]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    a(0);\n  }, [t]), {\n    selectedIndex: n.length === 0 ? void 0 : l\n  };\n}\nfunction Pr(e) {\n  const n = z().setContentEditableProps, o = H(), {\n    getItems: l,\n    suggestionMenuComponent: a,\n    query: c,\n    clearQuery: s,\n    closeMenu: u,\n    onItemClick: d\n  } = e, m = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (O) => {\n      u(), s(), d == null || d(O);\n    },\n    [d, u, s]\n  ), { items: h, usedQuery: g, loadingState: j } = Rr(\n    c,\n    l\n  );\n  Br(h, g, u);\n  const { selectedIndex: T } = Lr(\n    o,\n    c,\n    h,\n    m\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => (n((O) => ({\n    ...O,\n    \"aria-expanded\": !0,\n    \"aria-controls\": \"bn-suggestion-menu\"\n  })), () => {\n    n((O) => ({\n      ...O,\n      \"aria-expanded\": !1,\n      \"aria-controls\": void 0\n    }));\n  }), [n]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => (n((O) => ({\n    ...O,\n    \"aria-activedescendant\": T ? \"bn-suggestion-menu-item-\" + T : void 0\n  })), () => {\n    n((O) => ({\n      ...O,\n      \"aria-activedescendant\": void 0\n    }));\n  }), [n, T]);\n  const E = a;\n  return /* @__PURE__ */ r.jsx(\n    E,\n    {\n      items: h,\n      onItemClick: m,\n      loadingState: j,\n      selectedIndex: T\n    }\n  );\n}\nconst Or = {\n  heading: Xt,\n  heading_2: Jt,\n  heading_3: Qt,\n  numbered_list: nn,\n  bullet_list: on,\n  check_list: tn,\n  paragraph: qe,\n  table: Ao,\n  image: rn,\n  video: Uo,\n  audio: ln,\n  file: Ce\n};\nfunction Fr(e) {\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.getDefaultSlashMenuItems)(e).map((t) => {\n    const n = Or[t.key];\n    return {\n      ...t,\n      icon: /* @__PURE__ */ r.jsx(n, { size: 18 })\n    };\n  });\n}\nfunction Nr(e) {\n  const t = H(), { triggerCharacter: n, suggestionMenuComponent: o } = e, { onItemClick: l, getItems: a } = e, c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => l || ((E) => {\n    E.onItemClick(t);\n  }), [t, l]), s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => a || (async (E) => (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.filterSuggestionItems)(\n    Fr(t),\n    E\n  )), [t, a]), u = {\n    closeMenu: t.suggestionMenus.closeMenu,\n    clearQuery: t.suggestionMenus.clearQuery\n  }, d = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (E) => t.suggestionMenus.onUpdate(n, E),\n    [t.suggestionMenus, n]\n  ), m = X(d), { isMounted: h, ref: g, style: j, getFloatingProps: T } = ae(\n    (m == null ? void 0 : m.show) || !1,\n    (m == null ? void 0 : m.referencePos) || null,\n    2e3,\n    {\n      placement: \"bottom-start\",\n      middleware: [\n        (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.offset)(10),\n        // Flips the menu placement to maximize the space available, and prevents\n        // the menu from being cut off by the confines of the screen.\n        (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.flip)(),\n        (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.size)({\n          apply({ availableHeight: E, elements: O }) {\n            Object.assign(O.floating.style, {\n              maxHeight: `${E - 10}px`\n            });\n          }\n        })\n      ],\n      onOpenChange(E) {\n        E || t.suggestionMenus.closeMenu();\n      }\n    }\n  );\n  return !h || !m ? null : /* @__PURE__ */ r.jsx(\"div\", { ref: g, style: j, ...T(), children: /* @__PURE__ */ r.jsx(\n    Pr,\n    {\n      query: m.query,\n      closeMenu: u.closeMenu,\n      clearQuery: u.clearQuery,\n      getItems: s,\n      suggestionMenuComponent: o || Er,\n      onItemClick: c\n    }\n  ) });\n}\nconst Dr = (e) => {\n  const t = k(), n = S(), o = H();\n  return /* @__PURE__ */ r.jsx(\n    t.Generic.Menu.Item,\n    {\n      onClick: () => {\n        const l = e.block.content.rows[e.index].cells.map(\n          () => []\n        ), a = [...e.block.content.rows];\n        a.splice(e.index + (e.side === \"below\" ? 1 : 0), 0, {\n          cells: l\n        }), o.updateBlock(e.block, {\n          type: \"table\",\n          content: {\n            type: \"tableContent\",\n            rows: a\n          }\n        });\n      },\n      children: n.table_handle[`add_${e.side}_menuitem`]\n    }\n  );\n}, Ir = (e) => {\n  const t = k(), n = S(), o = H();\n  return /* @__PURE__ */ r.jsx(\n    t.Generic.Menu.Item,\n    {\n      onClick: () => {\n        const l = {\n          type: \"tableContent\",\n          rows: e.block.content.rows.map((a) => {\n            const c = [...a.cells];\n            return c.splice(e.index + (e.side === \"right\" ? 1 : 0), 0, []), { cells: c };\n          })\n        };\n        o.updateBlock(e.block, {\n          type: \"table\",\n          content: l\n        });\n      },\n      children: n.table_handle[`add_${e.side}_menuitem`]\n    }\n  );\n}, Bt = (e) => e.orientation === \"row\" ? /* @__PURE__ */ r.jsx(Dr, { ...e, side: e.side }) : /* @__PURE__ */ r.jsx(Ir, { ...e, side: e.side }), Ar = (e) => {\n  const t = k(), n = S(), o = H();\n  return /* @__PURE__ */ r.jsx(\n    t.Generic.Menu.Item,\n    {\n      onClick: () => {\n        const l = {\n          type: \"tableContent\",\n          rows: e.block.content.rows.filter(\n            (a, c) => c !== e.index\n          )\n        };\n        o.updateBlock(e.block, {\n          type: \"table\",\n          content: l\n        });\n      },\n      children: n.table_handle.delete_row_menuitem\n    }\n  );\n}, Zr = (e) => {\n  const t = k(), n = S(), o = H();\n  return /* @__PURE__ */ r.jsx(\n    t.Generic.Menu.Item,\n    {\n      onClick: () => {\n        const l = {\n          type: \"tableContent\",\n          rows: e.block.content.rows.map((a) => ({\n            cells: a.cells.filter((c, s) => s !== e.index)\n          }))\n        };\n        o.updateBlock(e.block, {\n          type: \"table\",\n          content: l\n        });\n      },\n      children: n.table_handle.delete_column_menuitem\n    }\n  );\n}, Ur = (e) => e.orientation === \"row\" ? /* @__PURE__ */ r.jsx(Ar, { ...e }) : /* @__PURE__ */ r.jsx(Zr, { ...e }), zr = (e) => {\n  const t = k();\n  return /* @__PURE__ */ r.jsx(t.Generic.Menu.Dropdown, { className: \"bn-table-handle-menu\", children: e.children || /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    /* @__PURE__ */ r.jsx(\n      Ur,\n      {\n        orientation: e.orientation,\n        block: e.block,\n        index: e.index\n      }\n    ),\n    /* @__PURE__ */ r.jsx(\n      Bt,\n      {\n        orientation: e.orientation,\n        block: e.block,\n        index: e.index,\n        side: e.orientation === \"row\" ? \"above\" : \"left\"\n      }\n    ),\n    /* @__PURE__ */ r.jsx(\n      Bt,\n      {\n        orientation: e.orientation,\n        block: e.block,\n        index: e.index,\n        side: e.orientation === \"row\" ? \"below\" : \"right\"\n      }\n    )\n  ] }) });\n}, Wr = (e) => {\n  const t = k(), [n, o] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), l = e.tableHandleMenu || zr;\n  return /* @__PURE__ */ r.jsxs(\n    t.Generic.Menu.Root,\n    {\n      onOpenChange: (a) => {\n        a ? (e.freezeHandles(), e.hideOtherSide()) : (e.unfreezeHandles(), e.showOtherSide(), e.editor.focus());\n      },\n      position: \"right\",\n      children: [\n        /* @__PURE__ */ r.jsx(t.Generic.Menu.Trigger, { children: /* @__PURE__ */ r.jsx(\n          t.TableHandle.Root,\n          {\n            className: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.mergeCSSClasses)(\n              \"bn-table-handle\",\n              n ? \"bn-table-handle-dragging\" : \"\"\n            ),\n            draggable: !0,\n            onDragStart: (a) => {\n              o(!0), e.dragStart(a);\n            },\n            onDragEnd: () => {\n              e.dragEnd(), o(!1);\n            },\n            style: e.orientation === \"column\" ? { transform: \"rotate(0.25turn)\" } : void 0,\n            children: e.children || /* @__PURE__ */ r.jsx(un, { size: 24, \"data-test\": \"tableHandle\" })\n          }\n        ) }),\n        /* @__PURE__ */ r.jsx(\n          l,\n          {\n            orientation: e.orientation,\n            block: e.block,\n            index: e.index\n          }\n        )\n      ]\n    }\n  );\n};\nfunction Gr(e, t, n) {\n  return n && n.draggedCellOrientation === \"row\" ? new DOMRect(\n    t.x,\n    n.mousePos,\n    t.width,\n    0\n  ) : new DOMRect(\n    t.x,\n    e.y,\n    t.width,\n    e.height\n  );\n}\nfunction $r(e, t, n) {\n  return n && n.draggedCellOrientation === \"col\" ? new DOMRect(\n    n.mousePos,\n    t.y,\n    0,\n    t.height\n  ) : new DOMRect(\n    e.x,\n    t.y,\n    e.width,\n    t.height\n  );\n}\nfunction Rt(e, t, n, o, l) {\n  const { refs: a, update: c, context: s, floatingStyles: u } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.useFloating)({\n    open: t,\n    placement: e === \"row\" ? \"left\" : \"top\",\n    middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_5__.offset)(e === \"row\" ? -10 : -12)]\n  }), { isMounted: d, styles: m } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_4__.useTransitionStyles)(s);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    c();\n  }, [n, o, c]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    n === null || o === null || a.setReference({\n      getBoundingClientRect: () => (e === \"row\" ? Gr : $r)(n, o, l)\n    });\n  }, [l, e, n, o, a]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => ({\n      isMounted: d,\n      ref: a.setFloating,\n      style: {\n        display: \"flex\",\n        ...m,\n        ...u,\n        zIndex: 1e4\n      }\n    }),\n    [u, d, a.setFloating, m]\n  );\n}\nfunction qr(e, t, n, o) {\n  const l = Rt(\n    \"row\",\n    e,\n    t,\n    n,\n    o\n  ), a = Rt(\n    \"col\",\n    e,\n    t,\n    n,\n    o\n  );\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => ({\n      rowHandle: l,\n      colHandle: a\n    }),\n    [a, l]\n  );\n}\nconst Yr = (e) => {\n  var g, j;\n  const t = H();\n  if (!t.tableHandles)\n    throw new Error(\n      \"TableHandlesController can only be used when BlockNote editor schema contains table block\"\n    );\n  const n = {\n    rowDragStart: t.tableHandles.rowDragStart,\n    colDragStart: t.tableHandles.colDragStart,\n    dragEnd: t.tableHandles.dragEnd,\n    freezeHandles: t.tableHandles.freezeHandles,\n    unfreezeHandles: t.tableHandles.unfreezeHandles\n  }, o = X(\n    t.tableHandles.onUpdate.bind(t.tableHandles)\n  ), l = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    var T, E;\n    return o != null && o.draggingState ? {\n      draggedCellOrientation: (T = o == null ? void 0 : o.draggingState) == null ? void 0 : T.draggedCellOrientation,\n      mousePos: (E = o == null ? void 0 : o.draggingState) == null ? void 0 : E.mousePos\n    } : void 0;\n  }, [\n    o == null ? void 0 : o.draggingState,\n    (g = o == null ? void 0 : o.draggingState) == null ? void 0 : g.draggedCellOrientation,\n    (j = o == null ? void 0 : o.draggingState) == null ? void 0 : j.mousePos\n  ]), { rowHandle: a, colHandle: c } = qr(\n    (o == null ? void 0 : o.show) || !1,\n    (o == null ? void 0 : o.referencePosCell) || null,\n    (o == null ? void 0 : o.referencePosTable) || null,\n    l\n  ), [s, u] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), [d, m] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);\n  if (!a.isMounted || !c.isMounted || !o)\n    return null;\n  const h = e.tableHandle || Wr;\n  return /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    !s && /* @__PURE__ */ r.jsx(\"div\", { ref: a.ref, style: a.style, children: /* @__PURE__ */ r.jsx(\n      h,\n      {\n        editor: t,\n        orientation: \"row\",\n        showOtherSide: () => m(!1),\n        hideOtherSide: () => m(!0),\n        index: o.rowIndex,\n        block: o.block,\n        dragStart: n.rowDragStart,\n        dragEnd: n.dragEnd,\n        freezeHandles: n.freezeHandles,\n        unfreezeHandles: n.unfreezeHandles\n      }\n    ) }),\n    !d && /* @__PURE__ */ r.jsx(\"div\", { ref: c.ref, style: c.style, children: /* @__PURE__ */ r.jsx(\n      h,\n      {\n        editor: t,\n        orientation: \"column\",\n        showOtherSide: () => u(!1),\n        hideOtherSide: () => u(!0),\n        index: o.colIndex,\n        block: o.block,\n        dragStart: n.colDragStart,\n        dragEnd: n.dragEnd,\n        freezeHandles: n.freezeHandles,\n        unfreezeHandles: n.unfreezeHandles\n      }\n    ) })\n  ] });\n};\nfunction Kr(e) {\n  const t = H();\n  if (!t)\n    throw new Error(\n      \"BlockNoteDefaultUI must be used within a BlockNoteContext.Provider\"\n    );\n  return /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    e.formattingToolbar !== !1 && /* @__PURE__ */ r.jsx(gr, {}),\n    e.linkToolbar !== !1 && /* @__PURE__ */ r.jsx(Cr, {}),\n    e.slashMenu !== !1 && /* @__PURE__ */ r.jsx(Nr, { triggerCharacter: \"/\" }),\n    e.sideMenu !== !1 && /* @__PURE__ */ r.jsx(Tr, {}),\n    t.filePanel && e.filePanel !== !1 && /* @__PURE__ */ r.jsx(yr, {}),\n    t.tableHandles && e.tableHandles !== !1 && /* @__PURE__ */ r.jsx(Yr, {})\n  ] });\n}\nconst Xr = ({\n  renderers: e\n}) => /* @__PURE__ */ r.jsx(r.Fragment, { children: Object.entries(e).map(([t, n]) => (0,react_dom__WEBPACK_IMPORTED_MODULE_3__.createPortal)(n.reactElement, n.element, t)) });\nfunction Jr(e) {\n  const [t, n] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}), [o, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => (e.editor._tiptapEditor.contentComponent = {\n    /**\n     * Used by TipTap\n     */\n    setRenderer(a, c) {\n      n((s) => ({ ...s, [a]: c }));\n    },\n    /**\n     * Used by TipTap\n     */\n    removeRenderer(a) {\n      n((c) => {\n        const s = { ...c };\n        return delete s[a], s;\n      });\n    },\n    /**\n     * Render a single node to a container within the React context (used by BlockNote renderToDOMSpec)\n     */\n    renderToElement(a, c) {\n      (0,react_dom__WEBPACK_IMPORTED_MODULE_3__.flushSync)(() => {\n        l({ node: a, container: c });\n      }), l(void 0);\n    }\n  }, queueMicrotask(() => {\n    e.editor._tiptapEditor.createNodeViews();\n  }), () => {\n    e.editor._tiptapEditor.contentComponent = null;\n  }), [e.editor._tiptapEditor]), /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    /* @__PURE__ */ r.jsx(Xr, { renderers: t }),\n    o && (0,react_dom__WEBPACK_IMPORTED_MODULE_3__.createPortal)(o.node, o.container),\n    e.children\n  ] });\n}\nconst Lt = () => {\n};\nfunction Qr(e, t) {\n  const {\n    editor: n,\n    className: o,\n    theme: l,\n    children: a,\n    editable: c,\n    onSelectionChange: s,\n    onChange: u,\n    formattingToolbar: d,\n    linkToolbar: m,\n    slashMenu: h,\n    sideMenu: g,\n    filePanel: j,\n    tableHandles: T,\n    ...E\n  } = e, [O, U] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(), B = z(), _e = (0,use_prefers_color_scheme__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(), Se = (B == null ? void 0 : B.colorSchemePreference) || _e, ce = l || (Se === \"dark\" ? \"dark\" : \"light\");\n  Ge(u || Lt, n), $e(s || Lt, n), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    n.isEditable = c !== !1;\n  }, [c, n]);\n  const Me = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n    a,\n    /* @__PURE__ */ r.jsx(\n      Kr,\n      {\n        formattingToolbar: d,\n        linkToolbar: m,\n        slashMenu: h,\n        sideMenu: g,\n        filePanel: j,\n        tableHandles: T\n      }\n    )\n  ] }), [\n    a,\n    d,\n    m,\n    j,\n    g,\n    h,\n    T\n  ]), Ve = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({\n    ...B,\n    editor: n,\n    setContentEditableProps: U\n  }), [B, n]);\n  return /* @__PURE__ */ r.jsx(qt.Provider, { value: Ve, children: /* @__PURE__ */ r.jsx(Jr, { editor: n, children: /* @__PURE__ */ r.jsxs(\n    \"div\",\n    {\n      className: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.mergeCSSClasses)(\n        \"bn-container\",\n        ce || \"\",\n        o || \"\"\n      ),\n      \"data-color-scheme\": ce,\n      ...E,\n      ref: t,\n      children: [\n        /* @__PURE__ */ r.jsx(\n          \"div\",\n          {\n            \"aria-autocomplete\": \"list\",\n            \"aria-haspopup\": \"listbox\",\n            ref: n._tiptapEditor.mount,\n            ...O\n          }\n        ),\n        Me\n      ]\n    }\n  ) }) });\n}\nconst gi = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(Qr);\nvar ze, be = react_dom__WEBPACK_IMPORTED_MODULE_3__;\nif (false)\n  {}\nelse {\n  var Pt = be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  ze = function(e, t) {\n    Pt.usingClientEntryPoint = !0;\n    try {\n      return be.createRoot(e, t);\n    } finally {\n      Pt.usingClientEntryPoint = !1;\n    }\n  };\n}\nfunction xe(e, t) {\n  let n;\n  const o = document.createElement(\"div\");\n  let l;\n  const { _tiptapEditor: a } = t || {};\n  if (a != null && a.contentComponent ? a.contentComponent.renderToElement(\n    e((d) => n = d || void 0),\n    o\n  ) : (l = ze(o), (0,react_dom__WEBPACK_IMPORTED_MODULE_3__.flushSync)(() => {\n    l.render(e((d) => n = d || void 0));\n  })), !o.childElementCount)\n    return console.warn(\"ReactInlineContentSpec: renderHTML() failed\"), {\n      dom: document.createElement(\"span\")\n    };\n  n == null || n.setAttribute(\"data-tmp-find\", \"true\");\n  const c = o.cloneNode(!0), s = c.firstElementChild, u = c.querySelector(\n    \"[data-tmp-find]\"\n  );\n  return u == null || u.removeAttribute(\"data-tmp-find\"), l == null || l.unmount(), {\n    dom: s,\n    contentDOM: u || void 0\n  };\n}\nfunction Ie(e) {\n  var t;\n  return (\n    // Creates `blockContent` element\n    /* @__PURE__ */ r.jsx(\n      _tiptap_react__WEBPACK_IMPORTED_MODULE_6__.NodeViewWrapper,\n      {\n        ...Object.fromEntries(\n          Object.entries(e.domAttributes || {}).filter(\n            ([n]) => n !== \"class\"\n          )\n        ),\n        className: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.mergeCSSClasses)(\n          \"bn-block-content\",\n          ((t = e.domAttributes) == null ? void 0 : t.class) || \"\"\n        ),\n        \"data-content-type\": e.blockType,\n        ...Object.fromEntries(\n          Object.entries(e.blockProps).filter(\n            ([n, o]) => !_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.inheritedProps.includes(n) && o !== e.propSchema[n].default\n          ).map(([n, o]) => [(0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.camelToDataKebab)(n), o])\n        ),\n        \"data-file-block\": e.isFileBlock === !0 || void 0,\n        children: e.children\n      }\n    )\n  );\n}\nfunction ye(e, t) {\n  const n = (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.createStronglyTypedTiptapNode)({\n    name: e.type,\n    content: e.content === \"inline\" ? \"inline*\" : \"\",\n    group: \"blockContent\",\n    selectable: !0,\n    addAttributes() {\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.propsToAttributes)(e.propSchema);\n    },\n    parseHTML() {\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.getParseRules)(e, t.parse);\n    },\n    renderHTML() {\n      const o = document.createElement(\"div\");\n      return o.setAttribute(\"data-tmp-placeholder\", \"true\"), {\n        dom: o\n      };\n    },\n    addNodeView() {\n      return (o) => (0,_tiptap_react__WEBPACK_IMPORTED_MODULE_6__.ReactNodeViewRenderer)(\n        (l) => {\n          var m;\n          const a = this.options.editor, c = (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.getBlockFromPos)(\n            l.getPos,\n            a,\n            this.editor,\n            e.type\n          ), s = ((m = this.options.domAttributes) == null ? void 0 : m.blockContent) || {}, u = (0,_tiptap_react__WEBPACK_IMPORTED_MODULE_6__.NodeViewContent)({}).ref, d = t.render;\n          return /* @__PURE__ */ r.jsx(\n            Ie,\n            {\n              blockType: c.type,\n              blockProps: c.props,\n              propSchema: e.propSchema,\n              isFileBlock: e.isFileBlock,\n              domAttributes: s,\n              children: /* @__PURE__ */ r.jsx(\n                d,\n                {\n                  block: c,\n                  editor: a,\n                  contentRef: u\n                }\n              )\n            }\n          );\n        },\n        {\n          className: \"bn-react-node-view-renderer\"\n        }\n      )(o);\n    }\n  });\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.createInternalBlockSpec)(e, {\n    node: n,\n    toInternalHTML: (o, l) => {\n      var u, d;\n      const a = ((u = n.options.domAttributes) == null ? void 0 : u.blockContent) || {}, c = t.render, s = xe(\n        (m) => /* @__PURE__ */ r.jsx(\n          Ie,\n          {\n            blockType: o.type,\n            blockProps: o.props,\n            propSchema: e.propSchema,\n            domAttributes: a,\n            children: /* @__PURE__ */ r.jsx(\n              c,\n              {\n                block: o,\n                editor: l,\n                contentRef: m\n              }\n            )\n          }\n        ),\n        l\n      );\n      return (d = s.contentDOM) == null || d.setAttribute(\"data-editable\", \"\"), s;\n    },\n    toExternalHTML: (o, l) => {\n      var u, d;\n      const a = ((u = n.options.domAttributes) == null ? void 0 : u.blockContent) || {}, c = t.toExternalHTML || t.render, s = xe((m) => /* @__PURE__ */ r.jsx(\n        Ie,\n        {\n          blockType: o.type,\n          blockProps: o.props,\n          propSchema: e.propSchema,\n          domAttributes: a,\n          children: /* @__PURE__ */ r.jsx(\n            c,\n            {\n              block: o,\n              editor: l,\n              contentRef: m\n            }\n          )\n        }\n      ), l);\n      return (d = s.contentDOM) == null || d.setAttribute(\"data-editable\", \"\"), s;\n    }\n  });\n}\nconst je = (e) => /* @__PURE__ */ r.jsxs(\n  \"div\",\n  {\n    className: \"bn-file-default-preview\",\n    contentEditable: !1,\n    draggable: !1,\n    children: [\n      /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-file-default-preview-icon\", children: /* @__PURE__ */ r.jsx(Ce, { size: 24 }) }),\n      /* @__PURE__ */ r.jsx(\"p\", { className: \"bn-file-default-preview-name\", children: e.block.props.name })\n    ]\n  }\n), q = (e) => /* @__PURE__ */ r.jsxs(\"div\", { className: \"bn-file-and-caption-wrapper\", children: [\n  e.children,\n  e.block.props.caption && /* @__PURE__ */ r.jsx(\"p\", { className: \"bn-file-caption\", children: e.block.props.caption })\n] }), we = (e) => {\n  const t = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (o) => {\n      o.preventDefault();\n    },\n    []\n  ), n = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    e.editor._tiptapEditor.view.dispatch(\n      e.editor._tiptapEditor.state.tr.setMeta(\n        e.editor.filePanel.plugin,\n        {\n          block: e.block\n        }\n      )\n    );\n  }, [\n    e.block,\n    e.editor._tiptapEditor.state.tr,\n    e.editor._tiptapEditor.view,\n    e.editor.filePanel\n  ]);\n  return /* @__PURE__ */ r.jsxs(\n    \"div\",\n    {\n      className: \"bn-add-file-button\",\n      onMouseDown: t,\n      onClick: n,\n      children: [\n        /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-add-file-button-icon\", children: e.buttonIcon || /* @__PURE__ */ r.jsx(Ce, { size: 24 }) }),\n        /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-add-file-button-text\", children: e.buttonText })\n      ]\n    }\n  );\n}, He = (e) => /* @__PURE__ */ r.jsxs(\"div\", { children: [\n  e.children,\n  /* @__PURE__ */ r.jsx(\"p\", { children: e.caption })\n] }), Ye = (e) => /* @__PURE__ */ r.jsxs(\"figure\", { children: [\n  e.children,\n  /* @__PURE__ */ r.jsx(\"figcaption\", { children: e.caption })\n] }), dn = (e) => {\n  const [t, n] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), [o, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const d = (h) => {\n      let g;\n      e.block.props.textAlignment === \"center\" ? o.handleUsed === \"left\" ? g = o.initialWidth + (o.initialClientX - h.clientX) * 2 : g = o.initialWidth + (h.clientX - o.initialClientX) * 2 : o.handleUsed === \"left\" ? g = o.initialWidth + o.initialClientX - h.clientX : g = o.initialWidth + h.clientX - o.initialClientX;\n      const j = 64;\n      g < j ? e.setWidth(j) : g > e.editor.domElement.firstElementChild.clientWidth ? e.setWidth(e.editor.domElement.firstElementChild.clientWidth) : e.setWidth(g);\n    }, m = () => {\n      l(void 0), e.editor.updateBlock(e.block, {\n        props: {\n          previewWidth: e.width\n        }\n      });\n    };\n    return o && (window.addEventListener(\"mousemove\", d), window.addEventListener(\"mouseup\", m)), () => {\n      window.removeEventListener(\"mousemove\", d), window.removeEventListener(\"mouseup\", m);\n    };\n  }, [e, o]);\n  const a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    e.editor.isEditable && n(!0);\n  }, [e.editor.isEditable]), c = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    n(!1);\n  }, []), s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (d) => {\n      d.preventDefault(), l({\n        handleUsed: \"left\",\n        initialWidth: e.width,\n        initialClientX: d.clientX\n      });\n    },\n    [e.width]\n  ), u = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (d) => {\n      d.preventDefault(), l({\n        handleUsed: \"right\",\n        initialWidth: e.width,\n        initialClientX: d.clientX\n      });\n    },\n    [e.width]\n  );\n  return /* @__PURE__ */ r.jsxs(\n    \"div\",\n    {\n      className: \"bn-visual-media-wrapper\",\n      onMouseEnter: a,\n      onMouseLeave: c,\n      children: [\n        e.children,\n        (t || o) && /* @__PURE__ */ r.jsxs(r.Fragment, { children: [\n          /* @__PURE__ */ r.jsx(\n            \"div\",\n            {\n              className: \"bn-visual-media-resize-handle\",\n              style: { left: \"4px\" },\n              onMouseDown: s\n            }\n          ),\n          /* @__PURE__ */ r.jsx(\n            \"div\",\n            {\n              className: \"bn-visual-media-resize-handle\",\n              style: { right: \"4px\" },\n              onMouseDown: u\n            }\n          )\n        ] })\n      ]\n    }\n  );\n};\nfunction Ke(e) {\n  const t = H(), [n, o] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"loading\"), [l, a] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n  if ((0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    let c = !0;\n    return (async () => {\n      let s = \"\";\n      o(\"loading\");\n      try {\n        s = await t.resolveFileUrl(e);\n      } catch {\n        o(\"error\");\n        return;\n      }\n      c && (o(\"loaded\"), a(s));\n    })(), () => {\n      c = !1;\n    };\n  }, [t, e]), n !== \"loaded\")\n    return {\n      loadingState: n\n    };\n  if (!l)\n    throw new Error(\"Finished fetching file but did not get download URL.\");\n  return {\n    loadingState: n,\n    downloadUrl: l\n  };\n}\nconst ei = (e) => {\n  const t = Ke(e.block.props.url);\n  return t.loadingState === \"loading\" ? null : /* @__PURE__ */ r.jsx(\n    \"audio\",\n    {\n      className: \"bn-audio\",\n      src: t.downloadUrl,\n      controls: !0,\n      contentEditable: !1,\n      draggable: !1\n    }\n  );\n}, ti = (e) => {\n  if (!e.block.props.url)\n    return /* @__PURE__ */ r.jsx(\"p\", { children: \"Add audio\" });\n  const t = e.block.props.showPreview ? /* @__PURE__ */ r.jsx(\"audio\", { src: e.block.props.url }) : /* @__PURE__ */ r.jsx(\"a\", { href: e.block.props.url, children: e.block.props.name || e.block.props.url });\n  return e.block.props.caption ? e.block.props.showPreview ? /* @__PURE__ */ r.jsx(Ye, { caption: e.block.props.caption, children: t }) : /* @__PURE__ */ r.jsx(He, { caption: e.block.props.caption, children: t }) : t;\n}, pi = ye(_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.audioBlockConfig, {\n  render: (e) => /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-file-block-content-wrapper\", children: e.block.props.url === \"\" ? /* @__PURE__ */ r.jsx(\n    we,\n    {\n      ...e,\n      editor: e.editor,\n      buttonText: e.editor.dictionary.file_blocks.audio.add_button_text,\n      buttonIcon: /* @__PURE__ */ r.jsx(ln, { size: 24 })\n    }\n  ) : e.block.props.showPreview ? /* @__PURE__ */ r.jsx(q, { block: e.block, editor: e.editor, children: /* @__PURE__ */ r.jsx(ei, { block: e.block, editor: e.editor }) }) : /* @__PURE__ */ r.jsx(q, { block: e.block, editor: e.editor, children: /* @__PURE__ */ r.jsx(\n    je,\n    {\n      block: e.block,\n      editor: e.editor\n    }\n  ) }) }),\n  parse: _blocknote_core__WEBPACK_IMPORTED_MODULE_1__.audioParse,\n  toExternalHTML: (e) => /* @__PURE__ */ r.jsx(ti, { ...e })\n}), ni = (e) => {\n  if (!e.block.props.url)\n    return /* @__PURE__ */ r.jsx(\"p\", { children: \"Add file\" });\n  const t = /* @__PURE__ */ r.jsx(\"a\", { href: e.block.props.url, children: e.block.props.name || e.block.props.url });\n  return e.block.props.caption ? /* @__PURE__ */ r.jsx(He, { caption: e.block.props.caption, children: t }) : t;\n}, xi = ye(_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.fileBlockConfig, {\n  render: (e) => /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-file-block-content-wrapper\", children: e.block.props.url === \"\" ? /* @__PURE__ */ r.jsx(\n    we,\n    {\n      block: e.block,\n      editor: e.editor,\n      buttonIcon: /* @__PURE__ */ r.jsx(Ce, { size: 24 }),\n      buttonText: e.editor.dictionary.file_blocks.file.add_button_text\n    }\n  ) : /* @__PURE__ */ r.jsx(q, { block: e.block, editor: e.editor, children: /* @__PURE__ */ r.jsx(\n    je,\n    {\n      block: e.block,\n      editor: e.editor\n    }\n  ) }) }),\n  parse: _blocknote_core__WEBPACK_IMPORTED_MODULE_1__.fileParse,\n  toExternalHTML: (e) => /* @__PURE__ */ r.jsx(ni, { ...e })\n}), oi = (e) => {\n  const [t, n] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    Math.min(\n      e.block.props.previewWidth,\n      e.editor.domElement.firstElementChild.clientWidth\n    )\n  ), o = Ke(e.block.props.url);\n  return o.loadingState === \"loading\" ? null : /* @__PURE__ */ r.jsx(dn, { ...e, width: t, setWidth: n, children: /* @__PURE__ */ r.jsx(\n    \"img\",\n    {\n      className: \"bn-visual-media\",\n      src: o.downloadUrl,\n      alt: e.block.props.caption || \"BlockNote image\",\n      contentEditable: !1,\n      draggable: !1,\n      width: t\n    }\n  ) });\n}, ri = (e) => {\n  if (!e.block.props.url)\n    return /* @__PURE__ */ r.jsx(\"p\", { children: \"Add image\" });\n  const t = e.block.props.showPreview ? /* @__PURE__ */ r.jsx(\n    \"img\",\n    {\n      src: e.block.props.url,\n      alt: e.block.props.name || e.block.props.caption || \"BlockNote image\",\n      width: e.block.props.previewWidth\n    }\n  ) : /* @__PURE__ */ r.jsx(\"a\", { href: e.block.props.url, children: e.block.props.name || e.block.props.url });\n  return e.block.props.caption ? e.block.props.showPreview ? /* @__PURE__ */ r.jsx(Ye, { caption: e.block.props.caption, children: t }) : /* @__PURE__ */ r.jsx(He, { caption: e.block.props.caption, children: t }) : t;\n}, vi = ye(_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.imageBlockConfig, {\n  render: (e) => /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-file-block-content-wrapper\", children: e.block.props.url === \"\" ? /* @__PURE__ */ r.jsx(\n    we,\n    {\n      ...e,\n      editor: e.editor,\n      buttonText: e.editor.dictionary.file_blocks.image.add_button_text,\n      buttonIcon: /* @__PURE__ */ r.jsx(rn, { size: 24 })\n    }\n  ) : e.block.props.showPreview ? /* @__PURE__ */ r.jsx(q, { block: e.block, editor: e.editor, children: /* @__PURE__ */ r.jsx(oi, { block: e.block, editor: e.editor }) }) : /* @__PURE__ */ r.jsx(q, { block: e.block, editor: e.editor, children: /* @__PURE__ */ r.jsx(\n    je,\n    {\n      block: e.block,\n      editor: e.editor\n    }\n  ) }) }),\n  parse: _blocknote_core__WEBPACK_IMPORTED_MODULE_1__.imageParse,\n  toExternalHTML: (e) => /* @__PURE__ */ r.jsx(ri, { ...e })\n}), ii = (e) => {\n  const [t, n] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    Math.min(\n      e.block.props.previewWidth,\n      e.editor.domElement.firstElementChild.clientWidth\n    )\n  ), o = Ke(e.block.props.url);\n  return o.loadingState === \"loading\" ? null : /* @__PURE__ */ r.jsx(dn, { ...e, width: t, setWidth: n, children: /* @__PURE__ */ r.jsx(\n    \"video\",\n    {\n      className: \"bn-visual-media\",\n      src: o.downloadUrl,\n      controls: !0,\n      contentEditable: !1,\n      draggable: !1,\n      width: t\n    }\n  ) });\n}, li = (e) => {\n  if (!e.block.props.url)\n    return /* @__PURE__ */ r.jsx(\"p\", { children: \"Add video\" });\n  const t = e.block.props.showPreview ? /* @__PURE__ */ r.jsx(\"video\", { src: e.block.props.url }) : /* @__PURE__ */ r.jsx(\"a\", { href: e.block.props.url, children: e.block.props.name || e.block.props.url });\n  return e.block.props.caption ? e.block.props.showPreview ? /* @__PURE__ */ r.jsx(Ye, { caption: e.block.props.caption, children: t }) : /* @__PURE__ */ r.jsx(He, { caption: e.block.props.caption, children: t }) : t;\n}, ki = ye(_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.videoBlockConfig, {\n  render: (e) => /* @__PURE__ */ r.jsx(\"div\", { className: \"bn-file-block-content-wrapper\", children: e.block.props.url === \"\" ? /* @__PURE__ */ r.jsx(\n    we,\n    {\n      ...e,\n      editor: e.editor,\n      buttonText: e.editor.dictionary.file_blocks.video.add_button_text,\n      buttonIcon: /* @__PURE__ */ r.jsx(Go, { size: 24 })\n    }\n  ) : e.block.props.showPreview ? /* @__PURE__ */ r.jsx(q, { block: e.block, editor: e.editor, children: /* @__PURE__ */ r.jsx(ii, { block: e.block, editor: e.editor }) }) : /* @__PURE__ */ r.jsx(q, { block: e.block, editor: e.editor, children: /* @__PURE__ */ r.jsx(\n    je,\n    {\n      block: e.block,\n      editor: e.editor\n    }\n  ) }) }),\n  parse: _blocknote_core__WEBPACK_IMPORTED_MODULE_1__.videoParse,\n  toExternalHTML: (e) => /* @__PURE__ */ r.jsx(li, { ...e })\n});\nfunction Ci(e) {\n  const t = z();\n  if (e || (e = t == null ? void 0 : t.editor), !e)\n    throw new Error(\n      \"'editor' is required, either from BlockNoteContext or as a function argument\"\n    );\n  const n = e, [o, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(() => n.getActiveStyles());\n  return Ge(() => {\n    l(n.getActiveStyles());\n  }, n), $e(() => {\n    l(n.getActiveStyles());\n  }, n), o;\n}\nconst ai = (e = {}, t = []) => (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n  const n = _blocknote_core__WEBPACK_IMPORTED_MODULE_1__.BlockNoteEditor.create(e);\n  return window && (window.ProseMirror = n._tiptapEditor), n;\n}, t), yi = ai;\nfunction ci() {\n  const [, e] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n  return () => e((t) => t + 1);\n}\nconst ji = (e) => {\n  const t = ci();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const n = () => {\n      requestAnimationFrame(() => {\n        requestAnimationFrame(() => {\n          t();\n        });\n      });\n    };\n    return e.on(\"transaction\", n), () => {\n      e.off(\"transaction\", n);\n    };\n  }, [e]);\n};\nfunction si(e) {\n  return (\n    // Creates inline content section element\n    /* @__PURE__ */ r.jsx(\n      _tiptap_react__WEBPACK_IMPORTED_MODULE_6__.NodeViewWrapper,\n      {\n        as: \"span\",\n        className: \"bn-inline-content-section\",\n        \"data-inline-content-type\": e.inlineContentType,\n        ...Object.fromEntries(\n          Object.entries(e.inlineContentProps).filter(([t, n]) => n !== e.propSchema[t].default).map(([t, n]) => [(0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.camelToDataKebab)(t), n])\n        ),\n        children: e.children\n      }\n    )\n  );\n}\nfunction wi(e, t) {\n  const n = (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.createStronglyTypedTiptapNode)({\n    name: e.type,\n    inline: !0,\n    group: \"inline\",\n    selectable: e.content === \"styled\",\n    atom: e.content === \"none\",\n    content: e.content === \"styled\" ? \"inline*\" : \"\",\n    addAttributes() {\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.propsToAttributes)(e.propSchema);\n    },\n    addKeyboardShortcuts() {\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.addInlineContentKeyboardShortcuts)(e);\n    },\n    parseHTML() {\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.getInlineContentParseRules)(e);\n    },\n    renderHTML({ node: o }) {\n      const l = this.options.editor, a = (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.nodeToCustomInlineContent)(\n        o,\n        l.schema.inlineContentSchema,\n        l.schema.styleSchema\n      ), c = t.render, s = xe(\n        (u) => /* @__PURE__ */ r.jsx(c, { inlineContent: a, contentRef: u }),\n        l\n      );\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.addInlineContentAttributes)(\n        s,\n        e.type,\n        o.attrs,\n        e.propSchema\n      );\n    },\n    // TODO: needed?\n    addNodeView() {\n      const o = this.options.editor;\n      return (l) => (0,_tiptap_react__WEBPACK_IMPORTED_MODULE_6__.ReactNodeViewRenderer)(\n        (a) => {\n          const c = (0,_tiptap_react__WEBPACK_IMPORTED_MODULE_6__.NodeViewContent)({}).ref, s = t.render;\n          return /* @__PURE__ */ r.jsx(\n            si,\n            {\n              inlineContentProps: a.node.attrs,\n              inlineContentType: e.type,\n              propSchema: e.propSchema,\n              children: /* @__PURE__ */ r.jsx(\n                s,\n                {\n                  contentRef: c,\n                  inlineContent: (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.nodeToCustomInlineContent)(\n                    a.node,\n                    o.schema.inlineContentSchema,\n                    o.schema.styleSchema\n                  )\n                }\n              )\n            }\n          );\n        },\n        {\n          className: \"bn-ic-react-node-view-renderer\",\n          as: \"span\"\n          // contentDOMElementTag: \"span\", (requires tt upgrade)\n        }\n      )(l);\n    }\n  });\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.createInternalInlineContentSpec)(e, {\n    node: n\n  });\n}\nfunction Hi(e, t) {\n  const n = _tiptap_react__WEBPACK_IMPORTED_MODULE_7__.Mark.create({\n    name: e.type,\n    addAttributes() {\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.stylePropsToAttributes)(e.propSchema);\n    },\n    parseHTML() {\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.getStyleParseRules)(e);\n    },\n    renderHTML({ mark: o }) {\n      const l = {};\n      e.propSchema === \"string\" && (l.value = o.attrs.stringValue);\n      const a = t.render, c = xe(\n        (s) => /* @__PURE__ */ r.jsx(a, { ...l, contentRef: s }),\n        void 0\n      );\n      return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.addStyleAttributes)(\n        c,\n        e.type,\n        o.attrs.stringValue,\n        e.propSchema\n      );\n    }\n  });\n  return (0,_blocknote_core__WEBPACK_IMPORTED_MODULE_1__.createInternalStyleSpec)(e, {\n    mark: n\n  });\n}\nfunction _i(e) {\n  if (!e.parentElement)\n    return \"none\";\n  const t = e.getBoundingClientRect(), n = e.parentElement.getBoundingClientRect(), o = t.top < n.top, l = t.bottom > n.bottom;\n  return o && l ? \"both\" : o ? \"top\" : l ? \"bottom\" : \"none\";\n}\n\n//# sourceMappingURL=blocknote-react.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGJsb2Nrbm90ZS9yZWFjdC9kaXN0L2Jsb2Nrbm90ZS1yZWFjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE4STtBQUNtQjtBQUN3MUI7QUFDLzhCO0FBQzBCO0FBQ2tEO0FBQ3RILFdBQVcsb0RBQUU7QUFDYjtBQUNBLFNBQVMsaURBQUU7QUFDWDtBQUNBLFdBQVcsYUFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxrQ0FBQyw0TEFBNEw7QUFDdk07QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixLQUFxQztBQUM3RCxZQUFZLGtDQUFDO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGLE9BQU87QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGNBQWM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxzQkFBc0I7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxjQUFjO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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LFNBQVM7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLHFCQUFxQjtBQUMvRDtBQUNBO0FBQ0EsYUFBYSxtRUFBRTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxTQUFTLHdFQUFFO0FBQ1g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF5RkU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BsaXZlYmxvY2tzLWV4YW1wbGVzL25leHRqcy15anMtYmxvY2tub3RlLy4vbm9kZV9tb2R1bGVzL0BibG9ja25vdGUvcmVhY3QvZGlzdC9ibG9ja25vdGUtcmVhY3QuanM/ZTNmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgWiwgeyBjcmVhdGVDb250ZXh0IGFzIE90LCB1c2VDb250ZXh0IGFzIEZ0LCB1c2VFZmZlY3QgYXMgTCwgdXNlTWVtbyBhcyBNLCB1c2VTdGF0ZSBhcyB4LCB1c2VDYWxsYmFjayBhcyBfLCB1c2VSZWYgYXMgaGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUZsb2F0aW5nIGFzIE50LCB1c2VUcmFuc2l0aW9uU3R5bGVzIGFzIER0LCB1c2VEaXNtaXNzIGFzIFpuLCB1c2VJbnRlcmFjdGlvbnMgYXMgVW4sIG9mZnNldCBhcyByZSwgZmxpcCBhcyB2ZSwgc2l6ZSBhcyB6biB9IGZyb20gXCJAZmxvYXRpbmctdWkvcmVhY3RcIjtcbmltcG9ydCB7IGZvcm1hdEtleWJvYXJkU2hvcnRjdXQgYXMga2UsIGNoZWNrQmxvY2tJc0ZpbGVCbG9jayBhcyBpZSwgY2hlY2tCbG9ja0lzRmlsZUJsb2NrV2l0aFBsYWNlaG9sZGVyIGFzIGxlLCBmaWxlbmFtZUZyb21VUkwgYXMgQ3QsIGNoZWNrQmxvY2tIYXNEZWZhdWx0UHJvcCBhcyBBZSwgY2hlY2tCbG9ja1R5cGVIYXNEZWZhdWx0UHJvcCBhcyBvZSwgY2hlY2tCbG9ja0lzRmlsZUJsb2NrV2l0aFByZXZpZXcgYXMgV24sIGdldERlZmF1bHRTbGFzaE1lbnVJdGVtcyBhcyBHbiwgZmlsdGVyU3VnZ2VzdGlvbkl0ZW1zIGFzICRuLCBtZXJnZUNTU0NsYXNzZXMgYXMgV2UsIGluaGVyaXRlZFByb3BzIGFzIHFuLCBjYW1lbFRvRGF0YUtlYmFiIGFzIEl0LCBjcmVhdGVTdHJvbmdseVR5cGVkVGlwdGFwTm9kZSBhcyBBdCwgcHJvcHNUb0F0dHJpYnV0ZXMgYXMgWnQsIGdldFBhcnNlUnVsZXMgYXMgWW4sIGdldEJsb2NrRnJvbVBvcyBhcyBLbiwgY3JlYXRlSW50ZXJuYWxCbG9ja1NwZWMgYXMgWG4sIGF1ZGlvUGFyc2UgYXMgSm4sIGF1ZGlvQmxvY2tDb25maWcgYXMgUW4sIGZpbGVQYXJzZSBhcyBlbywgZmlsZUJsb2NrQ29uZmlnIGFzIHRvLCBpbWFnZVBhcnNlIGFzIG5vLCBpbWFnZUJsb2NrQ29uZmlnIGFzIG9vLCB2aWRlb1BhcnNlIGFzIHJvLCB2aWRlb0Jsb2NrQ29uZmlnIGFzIGlvLCBCbG9ja05vdGVFZGl0b3IgYXMgbG8sIGFkZElubGluZUNvbnRlbnRLZXlib2FyZFNob3J0Y3V0cyBhcyBhbywgZ2V0SW5saW5lQ29udGVudFBhcnNlUnVsZXMgYXMgY28sIG5vZGVUb0N1c3RvbUlubGluZUNvbnRlbnQgYXMgeXQsIGFkZElubGluZUNvbnRlbnRBdHRyaWJ1dGVzIGFzIHNvLCBjcmVhdGVJbnRlcm5hbElubGluZUNvbnRlbnRTcGVjIGFzIHVvLCBzdHlsZVByb3BzVG9BdHRyaWJ1dGVzIGFzIGZvLCBnZXRTdHlsZVBhcnNlUnVsZXMgYXMgbW8sIGFkZFN0eWxlQXR0cmlidXRlcyBhcyBibywgY3JlYXRlSW50ZXJuYWxTdHlsZVNwZWMgYXMgaG8gfSBmcm9tIFwiQGJsb2Nrbm90ZS9jb3JlXCI7XG5pbXBvcnQgZ28gZnJvbSBcInVzZS1wcmVmZXJzLWNvbG9yLXNjaGVtZVwiO1xuaW1wb3J0IHBvLCB7IGZsdXNoU3luYyBhcyBVdCwgY3JlYXRlUG9ydGFsIGFzIHp0IH0gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHsgTm9kZVZpZXdXcmFwcGVyIGFzIFd0LCBSZWFjdE5vZGVWaWV3UmVuZGVyZXIgYXMgR3QsIE5vZGVWaWV3Q29udGVudCBhcyAkdCwgTWFyayBhcyB4byB9IGZyb20gXCJAdGlwdGFwL3JlYWN0XCI7XG5jb25zdCBxdCA9IE90KHZvaWQgMCk7XG5mdW5jdGlvbiB6KGUpIHtcbiAgcmV0dXJuIEZ0KHF0KTtcbn1cbnZhciBaZSA9IHsgZXhwb3J0czoge30gfSwgdGUgPSB7fTtcbi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbnZhciBqdDtcbmZ1bmN0aW9uIHZvKCkge1xuICBpZiAoanQpXG4gICAgcmV0dXJuIHRlO1xuICBqdCA9IDE7XG4gIHZhciBlID0gWiwgdCA9IFN5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpLCBuID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLCBvID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSwgbCA9IGUuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQuUmVhY3RDdXJyZW50T3duZXIsIGEgPSB7IGtleTogITAsIHJlZjogITAsIF9fc2VsZjogITAsIF9fc291cmNlOiAhMCB9O1xuICBmdW5jdGlvbiBjKHMsIHUsIGQpIHtcbiAgICB2YXIgbSwgaCA9IHt9LCBnID0gbnVsbCwgaiA9IG51bGw7XG4gICAgZCAhPT0gdm9pZCAwICYmIChnID0gXCJcIiArIGQpLCB1LmtleSAhPT0gdm9pZCAwICYmIChnID0gXCJcIiArIHUua2V5KSwgdS5yZWYgIT09IHZvaWQgMCAmJiAoaiA9IHUucmVmKTtcbiAgICBmb3IgKG0gaW4gdSlcbiAgICAgIG8uY2FsbCh1LCBtKSAmJiAhYS5oYXNPd25Qcm9wZXJ0eShtKSAmJiAoaFttXSA9IHVbbV0pO1xuICAgIGlmIChzICYmIHMuZGVmYXVsdFByb3BzKVxuICAgICAgZm9yIChtIGluIHUgPSBzLmRlZmF1bHRQcm9wcywgdSlcbiAgICAgICAgaFttXSA9PT0gdm9pZCAwICYmIChoW21dID0gdVttXSk7XG4gICAgcmV0dXJuIHsgJCR0eXBlb2Y6IHQsIHR5cGU6IHMsIGtleTogZywgcmVmOiBqLCBwcm9wczogaCwgX293bmVyOiBsLmN1cnJlbnQgfTtcbiAgfVxuICByZXR1cm4gdGUuRnJhZ21lbnQgPSBuLCB0ZS5qc3ggPSBjLCB0ZS5qc3hzID0gYywgdGU7XG59XG52YXIgbmUgPSB7fTtcbi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cbnZhciB3dDtcbmZ1bmN0aW9uIGtvKCkge1xuICByZXR1cm4gd3QgfHwgKHd0ID0gMSwgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiICYmIGZ1bmN0aW9uKCkge1xuICAgIHZhciBlID0gWiwgdCA9IFN5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpLCBuID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSwgbyA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSwgbCA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSwgYSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKSwgYyA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKSwgcyA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLCB1ID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLCBkID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLCBtID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIiksIGggPSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKSwgZyA9IFN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpLCBqID0gU3ltYm9sLmZvcihcInJlYWN0Lm9mZnNjcmVlblwiKSwgVCA9IFN5bWJvbC5pdGVyYXRvciwgRSA9IFwiQEBpdGVyYXRvclwiO1xuICAgIGZ1bmN0aW9uIE8oaSkge1xuICAgICAgaWYgKGkgPT09IG51bGwgfHwgdHlwZW9mIGkgIT0gXCJvYmplY3RcIilcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgZiA9IFQgJiYgaVtUXSB8fCBpW0VdO1xuICAgICAgcmV0dXJuIHR5cGVvZiBmID09IFwiZnVuY3Rpb25cIiA/IGYgOiBudWxsO1xuICAgIH1cbiAgICB2YXIgVSA9IGUuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG4gICAgZnVuY3Rpb24gQihpKSB7XG4gICAgICB7XG4gICAgICAgIGZvciAodmFyIGYgPSBhcmd1bWVudHMubGVuZ3RoLCBiID0gbmV3IEFycmF5KGYgPiAxID8gZiAtIDEgOiAwKSwgcCA9IDE7IHAgPCBmOyBwKyspXG4gICAgICAgICAgYltwIC0gMV0gPSBhcmd1bWVudHNbcF07XG4gICAgICAgIF9lKFwiZXJyb3JcIiwgaSwgYik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9lKGksIGYsIGIpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIHAgPSBVLlJlYWN0RGVidWdDdXJyZW50RnJhbWUsIHcgPSBwLmdldFN0YWNrQWRkZW5kdW0oKTtcbiAgICAgICAgdyAhPT0gXCJcIiAmJiAoZiArPSBcIiVzXCIsIGIgPSBiLmNvbmNhdChbd10pKTtcbiAgICAgICAgdmFyIFYgPSBiLm1hcChmdW5jdGlvbih5KSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh5KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFYudW5zaGlmdChcIldhcm5pbmc6IFwiICsgZiksIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGVbaV0sIGNvbnNvbGUsIFYpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgU2UgPSAhMSwgY2UgPSAhMSwgTWUgPSAhMSwgVmUgPSAhMSwgZm4gPSAhMSwgWGU7XG4gICAgWGUgPSBTeW1ib2wuZm9yKFwicmVhY3QubW9kdWxlLnJlZmVyZW5jZVwiKTtcbiAgICBmdW5jdGlvbiBtbihpKSB7XG4gICAgICByZXR1cm4gISEodHlwZW9mIGkgPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgaSA9PSBcImZ1bmN0aW9uXCIgfHwgaSA9PT0gbyB8fCBpID09PSBhIHx8IGZuIHx8IGkgPT09IGwgfHwgaSA9PT0gZCB8fCBpID09PSBtIHx8IFZlIHx8IGkgPT09IGogfHwgU2UgfHwgY2UgfHwgTWUgfHwgdHlwZW9mIGkgPT0gXCJvYmplY3RcIiAmJiBpICE9PSBudWxsICYmIChpLiQkdHlwZW9mID09PSBnIHx8IGkuJCR0eXBlb2YgPT09IGggfHwgaS4kJHR5cGVvZiA9PT0gYyB8fCBpLiQkdHlwZW9mID09PSBzIHx8IGkuJCR0eXBlb2YgPT09IHUgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxuICAgICAgLy8gdHlwZXMgc3VwcG9ydGVkIGJ5IGFueSBGbGlnaHQgY29uZmlndXJhdGlvbiBhbnl3aGVyZSBzaW5jZVxuICAgICAgLy8gd2UgZG9uJ3Qga25vdyB3aGljaCBGbGlnaHQgYnVpbGQgdGhpcyB3aWxsIGVuZCB1cCBiZWluZyB1c2VkXG4gICAgICAvLyB3aXRoLlxuICAgICAgaS4kJHR5cGVvZiA9PT0gWGUgfHwgaS5nZXRNb2R1bGVJZCAhPT0gdm9pZCAwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJuKGksIGYsIGIpIHtcbiAgICAgIHZhciBwID0gaS5kaXNwbGF5TmFtZTtcbiAgICAgIGlmIChwKVxuICAgICAgICByZXR1cm4gcDtcbiAgICAgIHZhciB3ID0gZi5kaXNwbGF5TmFtZSB8fCBmLm5hbWUgfHwgXCJcIjtcbiAgICAgIHJldHVybiB3ICE9PSBcIlwiID8gYiArIFwiKFwiICsgdyArIFwiKVwiIDogYjtcbiAgICB9XG4gICAgZnVuY3Rpb24gSmUoaSkge1xuICAgICAgcmV0dXJuIGkuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEEoaSkge1xuICAgICAgaWYgKGkgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBpZiAodHlwZW9mIGkudGFnID09IFwibnVtYmVyXCIgJiYgQihcIlJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIpLCB0eXBlb2YgaSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHJldHVybiBpLmRpc3BsYXlOYW1lIHx8IGkubmFtZSB8fCBudWxsO1xuICAgICAgaWYgKHR5cGVvZiBpID09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBpO1xuICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgIGNhc2UgbzpcbiAgICAgICAgICByZXR1cm4gXCJGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIG46XG4gICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgIGNhc2UgYTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIGw6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIGQ6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBtOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlTGlzdFwiO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBpID09IFwib2JqZWN0XCIpXG4gICAgICAgIHN3aXRjaCAoaS4kJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgczpcbiAgICAgICAgICAgIHZhciBmID0gaTtcbiAgICAgICAgICAgIHJldHVybiBKZShmKSArIFwiLkNvbnN1bWVyXCI7XG4gICAgICAgICAgY2FzZSBjOlxuICAgICAgICAgICAgdmFyIGIgPSBpO1xuICAgICAgICAgICAgcmV0dXJuIEplKGIuX2NvbnRleHQpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgICBjYXNlIHU6XG4gICAgICAgICAgICByZXR1cm4gYm4oaSwgaS5yZW5kZXIsIFwiRm9yd2FyZFJlZlwiKTtcbiAgICAgICAgICBjYXNlIGg6XG4gICAgICAgICAgICB2YXIgcCA9IGkuZGlzcGxheU5hbWUgfHwgbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBwICE9PSBudWxsID8gcCA6IEEoaS50eXBlKSB8fCBcIk1lbW9cIjtcbiAgICAgICAgICBjYXNlIGc6IHtcbiAgICAgICAgICAgIHZhciB3ID0gaSwgViA9IHcuX3BheWxvYWQsIHkgPSB3Ll9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIEEoeShWKSk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIEcgPSBPYmplY3QuYXNzaWduLCBKID0gMCwgUWUsIGV0LCB0dCwgbnQsIG90LCBydCwgaXQ7XG4gICAgZnVuY3Rpb24gbHQoKSB7XG4gICAgfVxuICAgIGx0Ll9fcmVhY3REaXNhYmxlZExvZyA9ICEwO1xuICAgIGZ1bmN0aW9uIGhuKCkge1xuICAgICAge1xuICAgICAgICBpZiAoSiA9PT0gMCkge1xuICAgICAgICAgIFFlID0gY29uc29sZS5sb2csIGV0ID0gY29uc29sZS5pbmZvLCB0dCA9IGNvbnNvbGUud2FybiwgbnQgPSBjb25zb2xlLmVycm9yLCBvdCA9IGNvbnNvbGUuZ3JvdXAsIHJ0ID0gY29uc29sZS5ncm91cENvbGxhcHNlZCwgaXQgPSBjb25zb2xlLmdyb3VwRW5kO1xuICAgICAgICAgIHZhciBpID0ge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgICAgICAgdmFsdWU6IGx0LFxuICAgICAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICAgICAgfTtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgICBpbmZvOiBpLFxuICAgICAgICAgICAgbG9nOiBpLFxuICAgICAgICAgICAgd2FybjogaSxcbiAgICAgICAgICAgIGVycm9yOiBpLFxuICAgICAgICAgICAgZ3JvdXA6IGksXG4gICAgICAgICAgICBncm91cENvbGxhcHNlZDogaSxcbiAgICAgICAgICAgIGdyb3VwRW5kOiBpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgSisrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnbigpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKEotLSwgSiA9PT0gMCkge1xuICAgICAgICAgIHZhciBpID0ge1xuICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICAgICAgfTtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgICBsb2c6IEcoe30sIGksIHtcbiAgICAgICAgICAgICAgdmFsdWU6IFFlXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGluZm86IEcoe30sIGksIHtcbiAgICAgICAgICAgICAgdmFsdWU6IGV0XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHdhcm46IEcoe30sIGksIHtcbiAgICAgICAgICAgICAgdmFsdWU6IHR0XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGVycm9yOiBHKHt9LCBpLCB7XG4gICAgICAgICAgICAgIHZhbHVlOiBudFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBncm91cDogRyh7fSwgaSwge1xuICAgICAgICAgICAgICB2YWx1ZTogb3RcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IEcoe30sIGksIHtcbiAgICAgICAgICAgICAgdmFsdWU6IHJ0XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGdyb3VwRW5kOiBHKHt9LCBpLCB7XG4gICAgICAgICAgICAgIHZhbHVlOiBpdFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBKIDwgMCAmJiBCKFwiZGlzYWJsZWREZXB0aCBmZWxsIGJlbG93IHplcm8uIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIFRlID0gVS5SZWFjdEN1cnJlbnREaXNwYXRjaGVyLCBFZTtcbiAgICBmdW5jdGlvbiBzZShpLCBmLCBiKSB7XG4gICAgICB7XG4gICAgICAgIGlmIChFZSA9PT0gdm9pZCAwKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgIH0gY2F0Y2ggKHcpIHtcbiAgICAgICAgICAgIHZhciBwID0gdy5zdGFjay50cmltKCkubWF0Y2goL1xcbiggKihhdCApPykvKTtcbiAgICAgICAgICAgIEVlID0gcCAmJiBwWzFdIHx8IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICByZXR1cm4gYFxuYCArIEVlICsgaTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIEJlID0gITEsIHVlO1xuICAgIHtcbiAgICAgIHZhciBwbiA9IHR5cGVvZiBXZWFrTWFwID09IFwiZnVuY3Rpb25cIiA/IFdlYWtNYXAgOiBNYXA7XG4gICAgICB1ZSA9IG5ldyBwbigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhdChpLCBmKSB7XG4gICAgICBpZiAoIWkgfHwgQmUpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAge1xuICAgICAgICB2YXIgYiA9IHVlLmdldChpKTtcbiAgICAgICAgaWYgKGIgIT09IHZvaWQgMClcbiAgICAgICAgICByZXR1cm4gYjtcbiAgICAgIH1cbiAgICAgIHZhciBwO1xuICAgICAgQmUgPSAhMDtcbiAgICAgIHZhciB3ID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7XG4gICAgICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHZvaWQgMDtcbiAgICAgIHZhciBWO1xuICAgICAgViA9IFRlLmN1cnJlbnQsIFRlLmN1cnJlbnQgPSBudWxsLCBobigpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGYpIHtcbiAgICAgICAgICB2YXIgeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkoeS5wcm90b3R5cGUsIFwicHJvcHNcIiwge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSwgdHlwZW9mIFJlZmxlY3QgPT0gXCJvYmplY3RcIiAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoeSwgW10pO1xuICAgICAgICAgICAgfSBjYXRjaCAoTikge1xuICAgICAgICAgICAgICBwID0gTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGksIFtdLCB5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgeS5jYWxsKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChOKSB7XG4gICAgICAgICAgICAgIHAgPSBOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaS5jYWxsKHkucHJvdG90eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfSBjYXRjaCAoTikge1xuICAgICAgICAgICAgcCA9IE47XG4gICAgICAgICAgfVxuICAgICAgICAgIGkoKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoTikge1xuICAgICAgICBpZiAoTiAmJiBwICYmIHR5cGVvZiBOLnN0YWNrID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBmb3IgKHZhciB2ID0gTi5zdGFjay5zcGxpdChgXG5gKSwgRiA9IHAuc3RhY2suc3BsaXQoYFxuYCksIFIgPSB2Lmxlbmd0aCAtIDEsIFAgPSBGLmxlbmd0aCAtIDE7IFIgPj0gMSAmJiBQID49IDAgJiYgdltSXSAhPT0gRltQXTsgKVxuICAgICAgICAgICAgUC0tO1xuICAgICAgICAgIGZvciAoOyBSID49IDEgJiYgUCA+PSAwOyBSLS0sIFAtLSlcbiAgICAgICAgICAgIGlmICh2W1JdICE9PSBGW1BdKSB7XG4gICAgICAgICAgICAgIGlmIChSICE9PSAxIHx8IFAgIT09IDEpXG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgIGlmIChSLS0sIFAtLSwgUCA8IDAgfHwgdltSXSAhPT0gRltQXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgSSA9IGBcbmAgKyB2W1JdLnJlcGxhY2UoXCIgYXQgbmV3IFwiLCBcIiBhdCBcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmRpc3BsYXlOYW1lICYmIEkuaW5jbHVkZXMoXCI8YW5vbnltb3VzPlwiKSAmJiAoSSA9IEkucmVwbGFjZShcIjxhbm9ueW1vdXM+XCIsIGkuZGlzcGxheU5hbWUpKSwgdHlwZW9mIGkgPT0gXCJmdW5jdGlvblwiICYmIHVlLnNldChpLCBJKSwgSTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aGlsZSAoUiA+PSAxICYmIFAgPj0gMCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBCZSA9ICExLCBUZS5jdXJyZW50ID0gViwgZ24oKSwgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSB3O1xuICAgICAgfVxuICAgICAgdmFyIEsgPSBpID8gaS5kaXNwbGF5TmFtZSB8fCBpLm5hbWUgOiBcIlwiLCAkID0gSyA/IHNlKEspIDogXCJcIjtcbiAgICAgIHJldHVybiB0eXBlb2YgaSA9PSBcImZ1bmN0aW9uXCIgJiYgdWUuc2V0KGksICQpLCAkO1xuICAgIH1cbiAgICBmdW5jdGlvbiB4bihpLCBmLCBiKSB7XG4gICAgICByZXR1cm4gYXQoaSwgITEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2bihpKSB7XG4gICAgICB2YXIgZiA9IGkucHJvdG90eXBlO1xuICAgICAgcmV0dXJuICEhKGYgJiYgZi5pc1JlYWN0Q29tcG9uZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGUoaSwgZiwgYikge1xuICAgICAgaWYgKGkgPT0gbnVsbClcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICBpZiAodHlwZW9mIGkgPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICByZXR1cm4gYXQoaSwgdm4oaSkpO1xuICAgICAgaWYgKHR5cGVvZiBpID09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBzZShpKTtcbiAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICBjYXNlIGQ6XG4gICAgICAgICAgcmV0dXJuIHNlKFwiU3VzcGVuc2VcIik7XG4gICAgICAgIGNhc2UgbTpcbiAgICAgICAgICByZXR1cm4gc2UoXCJTdXNwZW5zZUxpc3RcIik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGkgPT0gXCJvYmplY3RcIilcbiAgICAgICAgc3dpdGNoIChpLiQkdHlwZW9mKSB7XG4gICAgICAgICAgY2FzZSB1OlxuICAgICAgICAgICAgcmV0dXJuIHhuKGkucmVuZGVyKTtcbiAgICAgICAgICBjYXNlIGg6XG4gICAgICAgICAgICByZXR1cm4gZGUoaS50eXBlLCBmLCBiKTtcbiAgICAgICAgICBjYXNlIGc6IHtcbiAgICAgICAgICAgIHZhciBwID0gaSwgdyA9IHAuX3BheWxvYWQsIFYgPSBwLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlKFYodyksIGYsIGIpO1xuICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgdmFyIFEgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LCBjdCA9IHt9LCBzdCA9IFUuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcbiAgICBmdW5jdGlvbiBmZShpKSB7XG4gICAgICBpZiAoaSkge1xuICAgICAgICB2YXIgZiA9IGkuX293bmVyLCBiID0gZGUoaS50eXBlLCBpLl9zb3VyY2UsIGYgPyBmLnR5cGUgOiBudWxsKTtcbiAgICAgICAgc3Quc2V0RXh0cmFTdGFja0ZyYW1lKGIpO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHN0LnNldEV4dHJhU3RhY2tGcmFtZShudWxsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24ga24oaSwgZiwgYiwgcCwgdykge1xuICAgICAge1xuICAgICAgICB2YXIgViA9IEZ1bmN0aW9uLmNhbGwuYmluZChRKTtcbiAgICAgICAgZm9yICh2YXIgeSBpbiBpKVxuICAgICAgICAgIGlmIChWKGksIHkpKSB7XG4gICAgICAgICAgICB2YXIgdiA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgaVt5XSAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgRiA9IEVycm9yKChwIHx8IFwiUmVhY3QgY2xhc3NcIikgKyBcIjogXCIgKyBiICsgXCIgdHlwZSBgXCIgKyB5ICsgXCJgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tIHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZSwgYnV0IHJlY2VpdmVkIGBcIiArIHR5cGVvZiBpW3ldICsgXCJgLlRoaXMgb2Z0ZW4gaGFwcGVucyBiZWNhdXNlIG9mIHR5cG9zIHN1Y2ggYXMgYFByb3BUeXBlcy5mdW5jdGlvbmAgaW5zdGVhZCBvZiBgUHJvcFR5cGVzLmZ1bmNgLlwiKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBGLm5hbWUgPSBcIkludmFyaWFudCBWaW9sYXRpb25cIiwgRjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2ID0gaVt5XShmLCB5LCBwLCBiLCBudWxsLCBcIlNFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEXCIpO1xuICAgICAgICAgICAgfSBjYXRjaCAoUikge1xuICAgICAgICAgICAgICB2ID0gUjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHYgJiYgISh2IGluc3RhbmNlb2YgRXJyb3IpICYmIChmZSh3KSwgQihcIiVzOiB0eXBlIHNwZWNpZmljYXRpb24gb2YgJXMgYCVzYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGBudWxsYCBvciBhbiBgRXJyb3JgIGJ1dCByZXR1cm5lZCBhICVzLiBZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciBjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kIHNoYXBlIGFsbCByZXF1aXJlIGFuIGFyZ3VtZW50KS5cIiwgcCB8fCBcIlJlYWN0IGNsYXNzXCIsIGIsIHksIHR5cGVvZiB2KSwgZmUobnVsbCkpLCB2IGluc3RhbmNlb2YgRXJyb3IgJiYgISh2Lm1lc3NhZ2UgaW4gY3QpICYmIChjdFt2Lm1lc3NhZ2VdID0gITAsIGZlKHcpLCBCKFwiRmFpbGVkICVzIHR5cGU6ICVzXCIsIGIsIHYubWVzc2FnZSksIGZlKG51bGwpKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBDbiA9IEFycmF5LmlzQXJyYXk7XG4gICAgZnVuY3Rpb24gUmUoaSkge1xuICAgICAgcmV0dXJuIENuKGkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB5bihpKSB7XG4gICAgICB7XG4gICAgICAgIHZhciBmID0gdHlwZW9mIFN5bWJvbCA9PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLnRvU3RyaW5nVGFnLCBiID0gZiAmJiBpW1N5bWJvbC50b1N0cmluZ1RhZ10gfHwgaS5jb25zdHJ1Y3Rvci5uYW1lIHx8IFwiT2JqZWN0XCI7XG4gICAgICAgIHJldHVybiBiO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBqbihpKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gdXQoaSksICExO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdXQoaSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyBpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkdChpKSB7XG4gICAgICBpZiAoam4oaSkpXG4gICAgICAgIHJldHVybiBCKFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsIHluKGkpKSwgdXQoaSk7XG4gICAgfVxuICAgIHZhciBlZSA9IFUuUmVhY3RDdXJyZW50T3duZXIsIHduID0ge1xuICAgICAga2V5OiAhMCxcbiAgICAgIHJlZjogITAsXG4gICAgICBfX3NlbGY6ICEwLFxuICAgICAgX19zb3VyY2U6ICEwXG4gICAgfSwgZnQsIG10LCBMZTtcbiAgICBMZSA9IHt9O1xuICAgIGZ1bmN0aW9uIEhuKGkpIHtcbiAgICAgIGlmIChRLmNhbGwoaSwgXCJyZWZcIikpIHtcbiAgICAgICAgdmFyIGYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksIFwicmVmXCIpLmdldDtcbiAgICAgICAgaWYgKGYgJiYgZi5pc1JlYWN0V2FybmluZylcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICByZXR1cm4gaS5yZWYgIT09IHZvaWQgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gX24oaSkge1xuICAgICAgaWYgKFEuY2FsbChpLCBcImtleVwiKSkge1xuICAgICAgICB2YXIgZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSwgXCJrZXlcIikuZ2V0O1xuICAgICAgICBpZiAoZiAmJiBmLmlzUmVhY3RXYXJuaW5nKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpLmtleSAhPT0gdm9pZCAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBTbihpLCBmKSB7XG4gICAgICBpZiAodHlwZW9mIGkucmVmID09IFwic3RyaW5nXCIgJiYgZWUuY3VycmVudCAmJiBmICYmIGVlLmN1cnJlbnQuc3RhdGVOb2RlICE9PSBmKSB7XG4gICAgICAgIHZhciBiID0gQShlZS5jdXJyZW50LnR5cGUpO1xuICAgICAgICBMZVtiXSB8fCAoQignQ29tcG9uZW50IFwiJXNcIiBjb250YWlucyB0aGUgc3RyaW5nIHJlZiBcIiVzXCIuIFN1cHBvcnQgZm9yIHN0cmluZyByZWZzIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBUaGlzIGNhc2UgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIGFuIGFycm93IGZ1bmN0aW9uLiBXZSBhc2sgeW91IHRvIG1hbnVhbGx5IGZpeCB0aGlzIGNhc2UgYnkgdXNpbmcgdXNlUmVmKCkgb3IgY3JlYXRlUmVmKCkgaW5zdGVhZC4gTGVhcm4gbW9yZSBhYm91dCB1c2luZyByZWZzIHNhZmVseSBoZXJlOiBodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3RyaWN0LW1vZGUtc3RyaW5nLXJlZicsIEEoZWUuY3VycmVudC50eXBlKSwgaS5yZWYpLCBMZVtiXSA9ICEwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gTW4oaSwgZikge1xuICAgICAge1xuICAgICAgICB2YXIgYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGZ0IHx8IChmdCA9ICEwLCBCKFwiJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSB2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50IHByb3AuIChodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3BlY2lhbC1wcm9wcylcIiwgZikpO1xuICAgICAgICB9O1xuICAgICAgICBiLmlzUmVhY3RXYXJuaW5nID0gITAsIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCBcImtleVwiLCB7XG4gICAgICAgICAgZ2V0OiBiLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIFZuKGksIGYpIHtcbiAgICAgIHtcbiAgICAgICAgdmFyIGIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBtdCB8fCAobXQgPSAhMCwgQihcIiVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgdmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCBwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpXCIsIGYpKTtcbiAgICAgICAgfTtcbiAgICAgICAgYi5pc1JlYWN0V2FybmluZyA9ICEwLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwgXCJyZWZcIiwge1xuICAgICAgICAgIGdldDogYixcbiAgICAgICAgICBjb25maWd1cmFibGU6ICEwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgVG4gPSBmdW5jdGlvbihpLCBmLCBiLCBwLCB3LCBWLCB5KSB7XG4gICAgICB2YXIgdiA9IHtcbiAgICAgICAgLy8gVGhpcyB0YWcgYWxsb3dzIHVzIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgYXMgYSBSZWFjdCBFbGVtZW50XG4gICAgICAgICQkdHlwZW9mOiB0LFxuICAgICAgICAvLyBCdWlsdC1pbiBwcm9wZXJ0aWVzIHRoYXQgYmVsb25nIG9uIHRoZSBlbGVtZW50XG4gICAgICAgIHR5cGU6IGksXG4gICAgICAgIGtleTogZixcbiAgICAgICAgcmVmOiBiLFxuICAgICAgICBwcm9wczogeSxcbiAgICAgICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgX293bmVyOiBWXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHYuX3N0b3JlID0ge30sIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2Ll9zdG9yZSwgXCJ2YWxpZGF0ZWRcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogITFcbiAgICAgIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodiwgXCJfc2VsZlwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITEsXG4gICAgICAgIHZhbHVlOiBwXG4gICAgICB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHYsIFwiX3NvdXJjZVwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITEsXG4gICAgICAgIHZhbHVlOiB3XG4gICAgICB9KSwgT2JqZWN0LmZyZWV6ZSAmJiAoT2JqZWN0LmZyZWV6ZSh2LnByb3BzKSwgT2JqZWN0LmZyZWV6ZSh2KSksIHY7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBFbihpLCBmLCBiLCBwLCB3KSB7XG4gICAgICB7XG4gICAgICAgIHZhciBWLCB5ID0ge30sIHYgPSBudWxsLCBGID0gbnVsbDtcbiAgICAgICAgYiAhPT0gdm9pZCAwICYmIChkdChiKSwgdiA9IFwiXCIgKyBiKSwgX24oZikgJiYgKGR0KGYua2V5KSwgdiA9IFwiXCIgKyBmLmtleSksIEhuKGYpICYmIChGID0gZi5yZWYsIFNuKGYsIHcpKTtcbiAgICAgICAgZm9yIChWIGluIGYpXG4gICAgICAgICAgUS5jYWxsKGYsIFYpICYmICF3bi5oYXNPd25Qcm9wZXJ0eShWKSAmJiAoeVtWXSA9IGZbVl0pO1xuICAgICAgICBpZiAoaSAmJiBpLmRlZmF1bHRQcm9wcykge1xuICAgICAgICAgIHZhciBSID0gaS5kZWZhdWx0UHJvcHM7XG4gICAgICAgICAgZm9yIChWIGluIFIpXG4gICAgICAgICAgICB5W1ZdID09PSB2b2lkIDAgJiYgKHlbVl0gPSBSW1ZdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodiB8fCBGKSB7XG4gICAgICAgICAgdmFyIFAgPSB0eXBlb2YgaSA9PSBcImZ1bmN0aW9uXCIgPyBpLmRpc3BsYXlOYW1lIHx8IGkubmFtZSB8fCBcIlVua25vd25cIiA6IGk7XG4gICAgICAgICAgdiAmJiBNbih5LCBQKSwgRiAmJiBWbih5LCBQKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVG4oaSwgdiwgRiwgdywgcCwgZWUuY3VycmVudCwgeSk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBQZSA9IFUuUmVhY3RDdXJyZW50T3duZXIsIGJ0ID0gVS5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICAgIGZ1bmN0aW9uIFkoaSkge1xuICAgICAgaWYgKGkpIHtcbiAgICAgICAgdmFyIGYgPSBpLl9vd25lciwgYiA9IGRlKGkudHlwZSwgaS5fc291cmNlLCBmID8gZi50eXBlIDogbnVsbCk7XG4gICAgICAgIGJ0LnNldEV4dHJhU3RhY2tGcmFtZShiKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICBidC5zZXRFeHRyYVN0YWNrRnJhbWUobnVsbCk7XG4gICAgfVxuICAgIHZhciBPZTtcbiAgICBPZSA9ICExO1xuICAgIGZ1bmN0aW9uIEZlKGkpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgaSA9PSBcIm9iamVjdFwiICYmIGkgIT09IG51bGwgJiYgaS4kJHR5cGVvZiA9PT0gdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaHQoKSB7XG4gICAgICB7XG4gICAgICAgIGlmIChQZS5jdXJyZW50KSB7XG4gICAgICAgICAgdmFyIGkgPSBBKFBlLmN1cnJlbnQudHlwZSk7XG4gICAgICAgICAgaWYgKGkpXG4gICAgICAgICAgICByZXR1cm4gYFxuXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBcXGBgICsgaSArIFwiYC5cIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gQm4oaSkge1xuICAgICAge1xuICAgICAgICBpZiAoaSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgdmFyIGYgPSBpLmZpbGVOYW1lLnJlcGxhY2UoL14uKltcXFxcXFwvXS8sIFwiXCIpLCBiID0gaS5saW5lTnVtYmVyO1xuICAgICAgICAgIHJldHVybiBgXG5cbkNoZWNrIHlvdXIgY29kZSBhdCBgICsgZiArIFwiOlwiICsgYiArIFwiLlwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgZ3QgPSB7fTtcbiAgICBmdW5jdGlvbiBSbihpKSB7XG4gICAgICB7XG4gICAgICAgIHZhciBmID0gaHQoKTtcbiAgICAgICAgaWYgKCFmKSB7XG4gICAgICAgICAgdmFyIGIgPSB0eXBlb2YgaSA9PSBcInN0cmluZ1wiID8gaSA6IGkuZGlzcGxheU5hbWUgfHwgaS5uYW1lO1xuICAgICAgICAgIGIgJiYgKGYgPSBgXG5cbkNoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPGAgKyBiICsgXCI+LlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHQoaSwgZikge1xuICAgICAge1xuICAgICAgICBpZiAoIWkuX3N0b3JlIHx8IGkuX3N0b3JlLnZhbGlkYXRlZCB8fCBpLmtleSAhPSBudWxsKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaS5fc3RvcmUudmFsaWRhdGVkID0gITA7XG4gICAgICAgIHZhciBiID0gUm4oZik7XG4gICAgICAgIGlmIChndFtiXSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGd0W2JdID0gITA7XG4gICAgICAgIHZhciBwID0gXCJcIjtcbiAgICAgICAgaSAmJiBpLl9vd25lciAmJiBpLl9vd25lciAhPT0gUGUuY3VycmVudCAmJiAocCA9IFwiIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tIFwiICsgQShpLl9vd25lci50eXBlKSArIFwiLlwiKSwgWShpKSwgQignRWFjaCBjaGlsZCBpbiBhIGxpc3Qgc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLiVzJXMgU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay93YXJuaW5nLWtleXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uJywgYiwgcCksIFkobnVsbCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHh0KGksIGYpIHtcbiAgICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpICE9IFwib2JqZWN0XCIpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoUmUoaSkpXG4gICAgICAgICAgZm9yICh2YXIgYiA9IDA7IGIgPCBpLmxlbmd0aDsgYisrKSB7XG4gICAgICAgICAgICB2YXIgcCA9IGlbYl07XG4gICAgICAgICAgICBGZShwKSAmJiBwdChwLCBmKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEZlKGkpKVxuICAgICAgICAgIGkuX3N0b3JlICYmIChpLl9zdG9yZS52YWxpZGF0ZWQgPSAhMCk7XG4gICAgICAgIGVsc2UgaWYgKGkpIHtcbiAgICAgICAgICB2YXIgdyA9IE8oaSk7XG4gICAgICAgICAgaWYgKHR5cGVvZiB3ID09IFwiZnVuY3Rpb25cIiAmJiB3ICE9PSBpLmVudHJpZXMpXG4gICAgICAgICAgICBmb3IgKHZhciBWID0gdy5jYWxsKGkpLCB5OyAhKHkgPSBWLm5leHQoKSkuZG9uZTsgKVxuICAgICAgICAgICAgICBGZSh5LnZhbHVlKSAmJiBwdCh5LnZhbHVlLCBmKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBMbihpKSB7XG4gICAgICB7XG4gICAgICAgIHZhciBmID0gaS50eXBlO1xuICAgICAgICBpZiAoZiA9PSBudWxsIHx8IHR5cGVvZiBmID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgYjtcbiAgICAgICAgaWYgKHR5cGVvZiBmID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICBiID0gZi5wcm9wVHlwZXM7XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBmID09IFwib2JqZWN0XCIgJiYgKGYuJCR0eXBlb2YgPT09IHUgfHwgLy8gTm90ZTogTWVtbyBvbmx5IGNoZWNrcyBvdXRlciBwcm9wcyBoZXJlLlxuICAgICAgICAvLyBJbm5lciBwcm9wcyBhcmUgY2hlY2tlZCBpbiB0aGUgcmVjb25jaWxlci5cbiAgICAgICAgZi4kJHR5cGVvZiA9PT0gaCkpXG4gICAgICAgICAgYiA9IGYucHJvcFR5cGVzO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoYikge1xuICAgICAgICAgIHZhciBwID0gQShmKTtcbiAgICAgICAgICBrbihiLCBpLnByb3BzLCBcInByb3BcIiwgcCwgaSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZi5Qcm9wVHlwZXMgIT09IHZvaWQgMCAmJiAhT2UpIHtcbiAgICAgICAgICBPZSA9ICEwO1xuICAgICAgICAgIHZhciB3ID0gQShmKTtcbiAgICAgICAgICBCKFwiQ29tcG9uZW50ICVzIGRlY2xhcmVkIGBQcm9wVHlwZXNgIGluc3RlYWQgb2YgYHByb3BUeXBlc2AuIERpZCB5b3UgbWlzc3BlbGwgdGhlIHByb3BlcnR5IGFzc2lnbm1lbnQ/XCIsIHcgfHwgXCJVbmtub3duXCIpO1xuICAgICAgICB9XG4gICAgICAgIHR5cGVvZiBmLmdldERlZmF1bHRQcm9wcyA9PSBcImZ1bmN0aW9uXCIgJiYgIWYuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkICYmIEIoXCJnZXREZWZhdWx0UHJvcHMgaXMgb25seSB1c2VkIG9uIGNsYXNzaWMgUmVhY3QuY3JlYXRlQ2xhc3MgZGVmaW5pdGlvbnMuIFVzZSBhIHN0YXRpYyBwcm9wZXJ0eSBuYW1lZCBgZGVmYXVsdFByb3BzYCBpbnN0ZWFkLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gUG4oaSkge1xuICAgICAge1xuICAgICAgICBmb3IgKHZhciBmID0gT2JqZWN0LmtleXMoaS5wcm9wcyksIGIgPSAwOyBiIDwgZi5sZW5ndGg7IGIrKykge1xuICAgICAgICAgIHZhciBwID0gZltiXTtcbiAgICAgICAgICBpZiAocCAhPT0gXCJjaGlsZHJlblwiICYmIHAgIT09IFwia2V5XCIpIHtcbiAgICAgICAgICAgIFkoaSksIEIoXCJJbnZhbGlkIHByb3AgYCVzYCBzdXBwbGllZCB0byBgUmVhY3QuRnJhZ21lbnRgLiBSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLlwiLCBwKSwgWShudWxsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpLnJlZiAhPT0gbnVsbCAmJiAoWShpKSwgQihcIkludmFsaWQgYXR0cmlidXRlIGByZWZgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuXCIpLCBZKG51bGwpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHZ0ID0ge307XG4gICAgZnVuY3Rpb24ga3QoaSwgZiwgYiwgcCwgdywgVikge1xuICAgICAge1xuICAgICAgICB2YXIgeSA9IG1uKGkpO1xuICAgICAgICBpZiAoIXkpIHtcbiAgICAgICAgICB2YXIgdiA9IFwiXCI7XG4gICAgICAgICAgKGkgPT09IHZvaWQgMCB8fCB0eXBlb2YgaSA9PSBcIm9iamVjdFwiICYmIGkgIT09IG51bGwgJiYgT2JqZWN0LmtleXMoaSkubGVuZ3RoID09PSAwKSAmJiAodiArPSBcIiBZb3UgbGlrZWx5IGZvcmdvdCB0byBleHBvcnQgeW91ciBjb21wb25lbnQgZnJvbSB0aGUgZmlsZSBpdCdzIGRlZmluZWQgaW4sIG9yIHlvdSBtaWdodCBoYXZlIG1peGVkIHVwIGRlZmF1bHQgYW5kIG5hbWVkIGltcG9ydHMuXCIpO1xuICAgICAgICAgIHZhciBGID0gQm4odyk7XG4gICAgICAgICAgRiA/IHYgKz0gRiA6IHYgKz0gaHQoKTtcbiAgICAgICAgICB2YXIgUjtcbiAgICAgICAgICBpID09PSBudWxsID8gUiA9IFwibnVsbFwiIDogUmUoaSkgPyBSID0gXCJhcnJheVwiIDogaSAhPT0gdm9pZCAwICYmIGkuJCR0eXBlb2YgPT09IHQgPyAoUiA9IFwiPFwiICsgKEEoaS50eXBlKSB8fCBcIlVua25vd25cIikgKyBcIiAvPlwiLCB2ID0gXCIgRGlkIHlvdSBhY2NpZGVudGFsbHkgZXhwb3J0IGEgSlNYIGxpdGVyYWwgaW5zdGVhZCBvZiBhIGNvbXBvbmVudD9cIikgOiBSID0gdHlwZW9mIGksIEIoXCJSZWFjdC5qc3g6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yIGJ1aWx0LWluIGNvbXBvbmVudHMpIG9yIGEgY2xhc3MvZnVuY3Rpb24gKGZvciBjb21wb3NpdGUgY29tcG9uZW50cykgYnV0IGdvdDogJXMuJXNcIiwgUiwgdik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIFAgPSBFbihpLCBmLCBiLCB3LCBWKTtcbiAgICAgICAgaWYgKFAgPT0gbnVsbClcbiAgICAgICAgICByZXR1cm4gUDtcbiAgICAgICAgaWYgKHkpIHtcbiAgICAgICAgICB2YXIgSSA9IGYuY2hpbGRyZW47XG4gICAgICAgICAgaWYgKEkgIT09IHZvaWQgMClcbiAgICAgICAgICAgIGlmIChwKVxuICAgICAgICAgICAgICBpZiAoUmUoSSkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBLID0gMDsgSyA8IEkubGVuZ3RoOyBLKyspXG4gICAgICAgICAgICAgICAgICB4dChJW0tdLCBpKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZnJlZXplICYmIE9iamVjdC5mcmVlemUoSSk7XG4gICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIEIoXCJSZWFjdC5qc3g6IFN0YXRpYyBjaGlsZHJlbiBzaG91bGQgYWx3YXlzIGJlIGFuIGFycmF5LiBZb3UgYXJlIGxpa2VseSBleHBsaWNpdGx5IGNhbGxpbmcgUmVhY3QuanN4cyBvciBSZWFjdC5qc3hERVYuIFVzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICB4dChJLCBpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoUS5jYWxsKGYsIFwia2V5XCIpKSB7XG4gICAgICAgICAgdmFyICQgPSBBKGkpLCBOID0gT2JqZWN0LmtleXMoZikuZmlsdGVyKGZ1bmN0aW9uKEFuKSB7XG4gICAgICAgICAgICByZXR1cm4gQW4gIT09IFwia2V5XCI7XG4gICAgICAgICAgfSksIE5lID0gTi5sZW5ndGggPiAwID8gXCJ7a2V5OiBzb21lS2V5LCBcIiArIE4uam9pbihcIjogLi4uLCBcIikgKyBcIjogLi4ufVwiIDogXCJ7a2V5OiBzb21lS2V5fVwiO1xuICAgICAgICAgIGlmICghdnRbJCArIE5lXSkge1xuICAgICAgICAgICAgdmFyIEluID0gTi5sZW5ndGggPiAwID8gXCJ7XCIgKyBOLmpvaW4oXCI6IC4uLiwgXCIpICsgXCI6IC4uLn1cIiA6IFwie31cIjtcbiAgICAgICAgICAgIEIoYEEgcHJvcHMgb2JqZWN0IGNvbnRhaW5pbmcgYSBcImtleVwiIHByb3AgaXMgYmVpbmcgc3ByZWFkIGludG8gSlNYOlxuICBsZXQgcHJvcHMgPSAlcztcbiAgPCVzIHsuLi5wcm9wc30gLz5cblJlYWN0IGtleXMgbXVzdCBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gSlNYIHdpdGhvdXQgdXNpbmcgc3ByZWFkOlxuICBsZXQgcHJvcHMgPSAlcztcbiAgPCVzIGtleT17c29tZUtleX0gey4uLnByb3BzfSAvPmAsIE5lLCAkLCBJbiwgJCksIHZ0WyQgKyBOZV0gPSAhMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGkgPT09IG8gPyBQbihQKSA6IExuKFApLCBQO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBPbihpLCBmLCBiKSB7XG4gICAgICByZXR1cm4ga3QoaSwgZiwgYiwgITApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBGbihpLCBmLCBiKSB7XG4gICAgICByZXR1cm4ga3QoaSwgZiwgYiwgITEpO1xuICAgIH1cbiAgICB2YXIgTm4gPSBGbiwgRG4gPSBPbjtcbiAgICBuZS5GcmFnbWVudCA9IG8sIG5lLmpzeCA9IE5uLCBuZS5qc3hzID0gRG47XG4gIH0oKSksIG5lO1xufVxucHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiID8gWmUuZXhwb3J0cyA9IHZvKCkgOiBaZS5leHBvcnRzID0ga28oKTtcbnZhciByID0gWmUuZXhwb3J0cztcbmZ1bmN0aW9uIEgoZSkge1xuICBjb25zdCB0ID0geigpO1xuICBpZiAoISh0ICE9IG51bGwgJiYgdC5lZGl0b3IpKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwidXNlQmxvY2tOb3RlRWRpdG9yIHdhcyBjYWxsZWQgb3V0c2lkZSBvZiBhIEJsb2NrTm90ZUNvbnRleHQgcHJvdmlkZXIgb3IgQmxvY2tOb3RlVmlldyBjb21wb25lbnRcIlxuICAgICk7XG4gIHJldHVybiB0LmVkaXRvcjtcbn1cbmZ1bmN0aW9uIEdlKGUsIHQpIHtcbiAgY29uc3QgbiA9IHooKTtcbiAgdCB8fCAodCA9IG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4uZWRpdG9yKSwgTCgoKSA9PiB7XG4gICAgaWYgKCF0KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIidlZGl0b3InIGlzIHJlcXVpcmVkLCBlaXRoZXIgZnJvbSBCbG9ja05vdGVDb250ZXh0IG9yIGFzIGEgZnVuY3Rpb24gYXJndW1lbnRcIlxuICAgICAgKTtcbiAgICByZXR1cm4gdC5vbkNoYW5nZShlKTtcbiAgfSwgW2UsIHRdKTtcbn1cbmZ1bmN0aW9uICRlKGUsIHQpIHtcbiAgY29uc3QgbiA9IHooKTtcbiAgdCB8fCAodCA9IG4gPT0gbnVsbCA/IHZvaWQgMCA6IG4uZWRpdG9yKSwgTCgoKSA9PiB7XG4gICAgaWYgKCF0KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIidlZGl0b3InIGlzIHJlcXVpcmVkLCBlaXRoZXIgZnJvbSBCbG9ja05vdGVDb250ZXh0IG9yIGFzIGEgZnVuY3Rpb24gYXJndW1lbnRcIlxuICAgICAgKTtcbiAgICByZXR1cm4gdC5vblNlbGVjdGlvbkNoYW5nZShlKTtcbiAgfSwgW2UsIHRdKTtcbn1cbmZ1bmN0aW9uIFcoZSwgdCkge1xuICBHZShlLCB0KSwgJGUoZSwgdCk7XG59XG5mdW5jdGlvbiBhZShlLCB0LCBuLCBvKSB7XG4gIGNvbnN0IHsgcmVmczogbCwgdXBkYXRlOiBhLCBjb250ZXh0OiBjLCBmbG9hdGluZ1N0eWxlczogcyB9ID0gTnQoe1xuICAgIG9wZW46IGUsXG4gICAgLi4ub1xuICB9KSwgeyBpc01vdW50ZWQ6IHUsIHN0eWxlczogZCB9ID0gRHQoYyksIG0gPSBabihjKSwgeyBnZXRSZWZlcmVuY2VQcm9wczogaCwgZ2V0RmxvYXRpbmdQcm9wczogZyB9ID0gVW4oW21dKTtcbiAgcmV0dXJuIEwoKCkgPT4ge1xuICAgIGEoKTtcbiAgfSwgW3QsIGFdKSwgTCgoKSA9PiB7XG4gICAgdCAhPT0gbnVsbCAmJiBsLnNldFJlZmVyZW5jZSh7XG4gICAgICBnZXRCb3VuZGluZ0NsaWVudFJlY3Q6ICgpID0+IHRcbiAgICB9KTtcbiAgfSwgW3QsIGxdKSwgTShcbiAgICAoKSA9PiAoe1xuICAgICAgaXNNb3VudGVkOiB1LFxuICAgICAgcmVmOiBsLnNldEZsb2F0aW5nLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIC4uLmQsXG4gICAgICAgIC4uLnMsXG4gICAgICAgIHpJbmRleDogblxuICAgICAgfSxcbiAgICAgIGdldEZsb2F0aW5nUHJvcHM6IGcsXG4gICAgICBnZXRSZWZlcmVuY2VQcm9wczogaFxuICAgIH0pLFxuICAgIFtcbiAgICAgIHMsXG4gICAgICB1LFxuICAgICAgbC5zZXRGbG9hdGluZyxcbiAgICAgIGQsXG4gICAgICBuLFxuICAgICAgZyxcbiAgICAgIGhcbiAgICBdXG4gICk7XG59XG5mdW5jdGlvbiBYKGUpIHtcbiAgY29uc3QgW3QsIG5dID0geCgpO1xuICByZXR1cm4gTCgoKSA9PiBlKChvKSA9PiB7XG4gICAgbih7IC4uLm8gfSk7XG4gIH0pLCBbZV0pLCB0O1xufVxuZnVuY3Rpb24gQ28oZSkge1xuICByZXR1cm4gKHQpID0+IHtcbiAgICBlLmZvckVhY2goKG4pID0+IHtcbiAgICAgIHR5cGVvZiBuID09IFwiZnVuY3Rpb25cIiA/IG4odCkgOiBuICE9IG51bGwgJiYgKG4uY3VycmVudCA9IHQpO1xuICAgIH0pO1xuICB9O1xufVxuY29uc3QgeW8gPSBPdChcbiAgdm9pZCAwXG4pO1xuZnVuY3Rpb24gaygpIHtcbiAgcmV0dXJuIEZ0KHlvKTtcbn1cbnZhciBZdCA9IHtcbiAgY29sb3I6IHZvaWQgMCxcbiAgc2l6ZTogdm9pZCAwLFxuICBjbGFzc05hbWU6IHZvaWQgMCxcbiAgc3R5bGU6IHZvaWQgMCxcbiAgYXR0cjogdm9pZCAwXG59LCBIdCA9IFouY3JlYXRlQ29udGV4dCAmJiAvKiBAX19QVVJFX18gKi8gWi5jcmVhdGVDb250ZXh0KFl0KSwgam8gPSBbXCJhdHRyXCIsIFwic2l6ZVwiLCBcInRpdGxlXCJdO1xuZnVuY3Rpb24gd28oZSwgdCkge1xuICBpZiAoZSA9PSBudWxsKVxuICAgIHJldHVybiB7fTtcbiAgdmFyIG4gPSBIbyhlLCB0KSwgbywgbDtcbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgYSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7XG4gICAgZm9yIChsID0gMDsgbCA8IGEubGVuZ3RoOyBsKyspXG4gICAgICBvID0gYVtsXSwgISh0LmluZGV4T2YobykgPj0gMCkgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsIG8pICYmIChuW29dID0gZVtvXSk7XG4gIH1cbiAgcmV0dXJuIG47XG59XG5mdW5jdGlvbiBIbyhlLCB0KSB7XG4gIGlmIChlID09IG51bGwpXG4gICAgcmV0dXJuIHt9O1xuICB2YXIgbiA9IHt9O1xuICBmb3IgKHZhciBvIGluIGUpXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCBvKSkge1xuICAgICAgaWYgKHQuaW5kZXhPZihvKSA+PSAwKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIG5bb10gPSBlW29dO1xuICAgIH1cbiAgcmV0dXJuIG47XG59XG5mdW5jdGlvbiBnZSgpIHtcbiAgcmV0dXJuIGdlID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24oZSkge1xuICAgIGZvciAodmFyIHQgPSAxOyB0IDwgYXJndW1lbnRzLmxlbmd0aDsgdCsrKSB7XG4gICAgICB2YXIgbiA9IGFyZ3VtZW50c1t0XTtcbiAgICAgIGZvciAodmFyIG8gaW4gbilcbiAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIG8pICYmIChlW29dID0gbltvXSk7XG4gICAgfVxuICAgIHJldHVybiBlO1xuICB9LCBnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuZnVuY3Rpb24gX3QoZSwgdCkge1xuICB2YXIgbiA9IE9iamVjdC5rZXlzKGUpO1xuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtcbiAgICB0ICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24obCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgbCkuZW51bWVyYWJsZTtcbiAgICB9KSksIG4ucHVzaC5hcHBseShuLCBvKTtcbiAgfVxuICByZXR1cm4gbjtcbn1cbmZ1bmN0aW9uIHBlKGUpIHtcbiAgZm9yICh2YXIgdCA9IDE7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHtcbiAgICB2YXIgbiA9IGFyZ3VtZW50c1t0XSAhPSBudWxsID8gYXJndW1lbnRzW3RdIDoge307XG4gICAgdCAlIDIgPyBfdChPYmplY3QobiksICEwKS5mb3JFYWNoKGZ1bmN0aW9uKG8pIHtcbiAgICAgIF9vKGUsIG8sIG5bb10pO1xuICAgIH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSkgOiBfdChPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24obykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIG8sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobiwgbykpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBlO1xufVxuZnVuY3Rpb24gX28oZSwgdCwgbikge1xuICByZXR1cm4gdCA9IFNvKHQpLCB0IGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgdCwgeyB2YWx1ZTogbiwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IGVbdF0gPSBuLCBlO1xufVxuZnVuY3Rpb24gU28oZSkge1xuICB2YXIgdCA9IE1vKGUsIFwic3RyaW5nXCIpO1xuICByZXR1cm4gdHlwZW9mIHQgPT0gXCJzeW1ib2xcIiA/IHQgOiB0ICsgXCJcIjtcbn1cbmZ1bmN0aW9uIE1vKGUsIHQpIHtcbiAgaWYgKHR5cGVvZiBlICE9IFwib2JqZWN0XCIgfHwgIWUpXG4gICAgcmV0dXJuIGU7XG4gIHZhciBuID0gZVtTeW1ib2wudG9QcmltaXRpdmVdO1xuICBpZiAobiAhPT0gdm9pZCAwKSB7XG4gICAgdmFyIG8gPSBuLmNhbGwoZSwgdCB8fCBcImRlZmF1bHRcIik7XG4gICAgaWYgKHR5cGVvZiBvICE9IFwib2JqZWN0XCIpXG4gICAgICByZXR1cm4gbztcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7XG4gIH1cbiAgcmV0dXJuICh0ID09PSBcInN0cmluZ1wiID8gU3RyaW5nIDogTnVtYmVyKShlKTtcbn1cbmZ1bmN0aW9uIEt0KGUpIHtcbiAgcmV0dXJuIGUgJiYgZS5tYXAoKHQsIG4pID0+IC8qIEBfX1BVUkVfXyAqLyBaLmNyZWF0ZUVsZW1lbnQodC50YWcsIHBlKHtcbiAgICBrZXk6IG5cbiAgfSwgdC5hdHRyKSwgS3QodC5jaGlsZCkpKTtcbn1cbmZ1bmN0aW9uIEMoZSkge1xuICByZXR1cm4gKHQpID0+IC8qIEBfX1BVUkVfXyAqLyBaLmNyZWF0ZUVsZW1lbnQoVm8sIGdlKHtcbiAgICBhdHRyOiBwZSh7fSwgZS5hdHRyKVxuICB9LCB0KSwgS3QoZS5jaGlsZCkpO1xufVxuZnVuY3Rpb24gVm8oZSkge1xuICB2YXIgdCA9IChuKSA9PiB7XG4gICAgdmFyIHtcbiAgICAgIGF0dHI6IG8sXG4gICAgICBzaXplOiBsLFxuICAgICAgdGl0bGU6IGFcbiAgICB9ID0gZSwgYyA9IHdvKGUsIGpvKSwgcyA9IGwgfHwgbi5zaXplIHx8IFwiMWVtXCIsIHU7XG4gICAgcmV0dXJuIG4uY2xhc3NOYW1lICYmICh1ID0gbi5jbGFzc05hbWUpLCBlLmNsYXNzTmFtZSAmJiAodSA9ICh1ID8gdSArIFwiIFwiIDogXCJcIikgKyBlLmNsYXNzTmFtZSksIC8qIEBfX1BVUkVfXyAqLyBaLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgZ2Uoe1xuICAgICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgIHN0cm9rZVdpZHRoOiBcIjBcIlxuICAgIH0sIG4uYXR0ciwgbywgYywge1xuICAgICAgY2xhc3NOYW1lOiB1LFxuICAgICAgc3R5bGU6IHBlKHBlKHtcbiAgICAgICAgY29sb3I6IGUuY29sb3IgfHwgbi5jb2xvclxuICAgICAgfSwgbi5zdHlsZSksIGUuc3R5bGUpLFxuICAgICAgaGVpZ2h0OiBzLFxuICAgICAgd2lkdGg6IHMsXG4gICAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG4gICAgfSksIGEgJiYgLyogQF9fUFVSRV9fICovIFouY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIG51bGwsIGEpLCBlLmNoaWxkcmVuKTtcbiAgfTtcbiAgcmV0dXJuIEh0ICE9PSB2b2lkIDAgPyAvKiBAX19QVVJFX18gKi8gWi5jcmVhdGVFbGVtZW50KEh0LkNvbnN1bWVyLCBudWxsLCAobikgPT4gdChuKSkgOiB0KFl0KTtcbn1cbmZ1bmN0aW9uIFRvKGUpIHtcbiAgcmV0dXJuIEMoeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0yMyAxMkwxNS45Mjg5IDE5LjA3MTFMMTQuNTE0NyAxNy42NTY5TDIwLjE3MTYgMTJMMTQuNTE0NyA2LjM0MzE3TDE1LjkyODkgNC45Mjg5NkwyMyAxMlpNMy44Mjg0MyAxMkw5LjQ4NTI4IDE3LjY1NjlMOC4wNzEwNyAxOS4wNzExTDEgMTJMOC4wNzEwNyA0LjkyODk2TDkuNDg1MjggNi4zNDMxN0wzLjgyODQzIDEyWlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIENlKGUpIHtcbiAgcmV0dXJuIEMoeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0zIDhMOS4wMDMxOSAySDE5Ljk5NzhDMjAuNTUxMyAyIDIxIDIuNDU1MzEgMjEgMi45OTE4VjIxLjAwODJDMjEgMjEuNTU2IDIwLjU1NTEgMjIgMjAuMDA2NiAyMkgzLjk5MzRDMy40NDQ3NiAyMiAzIDIxLjU1MDEgMyAyMC45OTMyVjhaTTEwIDRWOUg1VjIwSDE5VjRIMTBaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gRW8oZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTMgNEgyMVY2SDNWNFpNNSAxOUgxOVYyMUg1VjE5Wk0zIDE0SDIxVjE2SDNWMTRaTTUgOUgxOVYxMUg1VjlaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gQm8oZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTMgNEgyMVY2SDNWNFpNMyAxOUgyMVYyMUgzVjE5Wk0zIDE0SDIxVjE2SDNWMTRaTTMgOUgyMVYxMUgzVjlaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gUm8oZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTMgNEgyMVY2SDNWNFpNMyAxOUgxN1YyMUgzVjE5Wk0zIDE0SDIxVjE2SDNWMTRaTTMgOUgxN1YxMUgzVjlaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gTG8oZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTMgNEgyMVY2SDNWNFpNNyAxOUgyMVYyMUg3VjE5Wk0zIDE0SDIxVjE2SDNWMTRaTTcgOUgyMVYxMUg3VjlaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gUG8oZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTggMTFIMTIuNUMxMy44ODA3IDExIDE1IDkuODgwNzEgMTUgOC41QzE1IDcuMTE5MjkgMTMuODgwNyA2IDEyLjUgNkg4VjExWk0xOCAxNS41QzE4IDE3Ljk4NTMgMTUuOTg1MyAyMCAxMy41IDIwSDZWNEgxMi41QzE0Ljk4NTMgNCAxNyA2LjAxNDcyIDE3IDguNUMxNyA5LjcwNDMxIDE2LjUyNjkgMTAuNzk4MSAxNS43NTY0IDExLjYwNThDMTcuMDk3OSAxMi4zODQ3IDE4IDEzLjgzNyAxOCAxNS41Wk04IDEzVjE4SDEzLjVDMTQuODgwNyAxOCAxNiAxNi44ODA3IDE2IDE1LjVDMTYgMTQuMTE5MyAxNC44ODA3IDEzIDEzLjUgMTNIOFpcIiB9LCBjaGlsZDogW10gfV0gfSkoZSk7XG59XG5mdW5jdGlvbiBTdChlKSB7XG4gIHJldHVybiBDKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZDogXCJNNS41NTM5NyAyMkgzLjM5OTlMMTAuOTk5OSAzSDEyLjk5OTlMMjAuNTk5OSAyMkgxOC40NDU4TDE2LjA0NTggMTZINy45NTM5N0w1LjU1Mzk3IDIyWk04Ljc1Mzk3IDE0SDE1LjI0NThMMTEuOTk5OSA1Ljg4NTE3TDguNzUzOTcgMTRaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gWHQoZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTEzIDIwSDExVjEzSDRWMjBIMlY0SDRWMTFIMTFWNEgxM1YyMFpNMjEuMDAwNSA4VjIwSDE5LjAwMDVMMTkgMTAuMjA0TDE3IDEwLjc0VjguNjdMMTkuNTAwNSA4SDIxLjAwMDVaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gSnQoZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTQgNFYxMUgxMVY0SDEzVjIwSDExVjEzSDRWMjBIMlY0SDRaTTE4LjUgOEMyMC41NzExIDggMjIuMjUgOS42Nzg5MyAyMi4yNSAxMS43NUMyMi4yNSAxMi42MDc0IDIxLjk2MjMgMTMuMzk3NiAyMS40NzgxIDE0LjAyOTJMMjEuMzMwMiAxNC4yMTAyTDE4LjAzNDMgMThIMjJWMjBIMTVMMTQuOTk5MyAxOC40NDRMMTkuODIwNyAxMi44OTgxQzIwLjA4ODEgMTIuNTkwOCAyMC4yNSAxMi4xODkzIDIwLjI1IDExLjc1QzIwLjI1IDEwLjc4MzUgMTkuNDY2NSAxMCAxOC41IDEwQzE3LjU4MTggMTAgMTYuODI4OCAxMC43MDcxIDE2Ljc1NTggMTEuNjA2NUwxNi43NSAxMS43NUgxNC43NUMxNC43NSA5LjY3ODkzIDE2LjQyODkgOCAxOC41IDhaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gUXQoZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTIyIDhMMjEuOTk4NCAxMEwxOS40OTM0IDEyLjg4M0MyMS4wODIzIDEzLjMxODQgMjIuMjUgMTQuNzcyOCAyMi4yNSAxNi41QzIyLjI1IDE4LjU3MTEgMjAuNTcxMSAyMC4yNSAxOC41IDIwLjI1QzE2LjY3NCAyMC4yNSAxNS4xNTI4IDE4Ljk0NDkgMTQuODE4NCAxNy4yMTY2TDE2Ljc4MjEgMTYuODM1MkMxNi45Mzg0IDE3LjY0MTMgMTcuNjQ4MSAxOC4yNSAxOC41IDE4LjI1QzE5LjQ2NjUgMTguMjUgMjAuMjUgMTcuNDY2NSAyMC4yNSAxNi41QzIwLjI1IDE1LjUzMzUgMTkuNDY2NSAxNC43NSAxOC41IDE0Ljc1QzE4LjIxNCAxNC43NSAxNy45NDQgMTQuODE4NiAxNy43MDU2IDE0Ljk0MDNMMTYuMzk5MiAxMy4zOTMyTDE5LjM0ODQgMTBIMTVWOEgyMlpNNCA0VjExSDExVjRIMTNWMjBIMTFWMTNINFYyMEgyVjRINFpcIiB9LCBjaGlsZDogW10gfV0gfSkoZSk7XG59XG5mdW5jdGlvbiBPbyhlKSB7XG4gIHJldHVybiBDKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZDogXCJNMyA0SDIxVjZIM1Y0Wk0zIDE5SDIxVjIxSDNWMTlaTTExIDE0SDIxVjE2SDExVjE0Wk0xMSA5SDIxVjExSDExVjlaTTMgMTIuNUw3IDlWMTZMMyAxMi41WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIEZvKGUpIHtcbiAgcmV0dXJuIEMoeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0zIDRIMjFWNkgzVjRaTTMgMTlIMjFWMjFIM1YxOVpNMTEgMTRIMjFWMTZIMTFWMTRaTTExIDlIMjFWMTFIMTFWOVpNNyAxMi41TDMgMTZWOUw3IDEyLjVaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gTXQoZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTggNUgxMVYxOUg4VjIxSDE2VjE5SDEzVjVIMTZWM0g4VjVaTTIgN0MxLjQ0NzcyIDcgMSA3LjQ0NzcyIDEgOFYxNkMxIDE2LjU1MjMgMS40NDc3MiAxNyAyIDE3SDhWMTVIM1Y5SDhWN0gyWk0xNiA5SDIxVjE1SDE2VjE3SDIyQzIyLjU1MjMgMTcgMjMgMTYuNTUyMyAyMyAxNlY4QzIzIDcuNDQ3NzIgMjIuNTUyMyA3IDIyIDdIMTZWOVpcIiB9LCBjaGlsZDogW10gfV0gfSkoZSk7XG59XG5mdW5jdGlvbiBObyhlKSB7XG4gIHJldHVybiBDKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZDogXCJNMTUgMjBIN1YxOEg5LjkyNjYxTDEyLjA0MjUgNkg5VjRIMTdWNkgxNC4wNzM0TDExLjk1NzUgMThIMTVWMjBaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gRG8oZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTE3IDE3SDIyVjE5SDE5VjIySDE3VjE3Wk03IDdIMlY1SDVWMkg3VjdaTTE4LjM2NCAxNS41MzU1TDE2Ljk0OTcgMTQuMTIxM0wxOC4zNjQgMTIuNzA3MUMyMC4zMTY2IDEwLjc1NDUgMjAuMzE2NiA3LjU4ODY2IDE4LjM2NCA1LjYzNjA0QzE2LjQxMTMgMy42ODM0MiAxMy4yNDU1IDMuNjgzNDIgMTEuMjkyOSA1LjYzNjA0TDkuODc4NjggNy4wNTAyNUw4LjQ2NDQ3IDUuNjM2MDRMOS44Nzg2OCA0LjIyMTgzQzEyLjYxMjMgMS40ODgxNiAxNy4wNDQ1IDEuNDg4MTYgMTkuNzc4MiA0LjIyMTgzQzIyLjUxMTggNi45NTU1IDIyLjUxMTggMTEuMzg3NyAxOS43NzgyIDE0LjEyMTNMMTguMzY0IDE1LjUzNTVaTTE1LjUzNTUgMTguMzY0TDE0LjEyMTMgMTkuNzc4MkMxMS4zODc3IDIyLjUxMTggNi45NTU1IDIyLjUxMTggNC4yMjE4MyAxOS43NzgyQzEuNDg4MTYgMTcuMDQ0NSAxLjQ4ODE2IDEyLjYxMjMgNC4yMjE4MyA5Ljg3ODY4TDUuNjM2MDQgOC40NjQ0N0w3LjA1MDI1IDkuODc4NjhMNS42MzYwNCAxMS4yOTI5QzMuNjgzNDIgMTMuMjQ1NSAzLjY4MzQyIDE2LjQxMTMgNS42MzYwNCAxOC4zNjRDNy41ODg2NiAyMC4zMTY2IDEwLjc1NDUgMjAuMzE2NiAxMi43MDcxIDE4LjM2NEwxNC4xMjEzIDE2Ljk0OTdMMTUuNTM1NSAxOC4zNjRaTTE0LjgyODQgNy43NTczNkwxNi4yNDI2IDkuMTcxNTdMOS4xNzE1NyAxNi4yNDI2TDcuNzU3MzYgMTQuODI4NEwxNC44Mjg0IDcuNzU3MzZaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gZW4oZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTE4LjM2MzggMTUuNTM1NUwxNi45NDk2IDE0LjEyMTNMMTguMzYzOCAxMi43MDcxQzIwLjMxNjQgMTAuNzU0NSAyMC4zMTY0IDcuNTg4NjYgMTguMzYzOCA1LjYzNjA0QzE2LjQxMTIgMy42ODM0MSAxMy4yNDUzIDMuNjgzNDEgMTEuMjkyNyA1LjYzNjA0TDkuODc4NDkgNy4wNTAyNUw4LjQ2NDI4IDUuNjM2MDRMOS44Nzg0OSA0LjIyMTgyQzEyLjYxMjIgMS40ODgxNSAxNy4wNDQzIDEuNDg4MTUgMTkuNzc4IDQuMjIxODJDMjIuNTExNyA2Ljk1NTQ5IDIyLjUxMTcgMTEuMzg3NiAxOS43NzggMTQuMTIxM0wxOC4zNjM4IDE1LjUzNTVaTTE1LjUzNTMgMTguMzY0TDE0LjEyMTEgMTkuNzc4MkMxMS4zODc1IDIyLjUxMTggNi45NTUzMSAyMi41MTE4IDQuMjIxNjQgMTkuNzc4MkMxLjQ4Nzk3IDE3LjA0NDUgMS40ODc5NyAxMi42MTIzIDQuMjIxNjQgOS44Nzg2OEw1LjYzNTg1IDguNDY0NDZMNy4wNTAwNyA5Ljg3ODY4TDUuNjM1ODUgMTEuMjkyOUMzLjY4MzIzIDEzLjI0NTUgMy42ODMyMyAxNi40MTEzIDUuNjM1ODUgMTguMzY0QzcuNTg4NDcgMjAuMzE2NiAxMC43NTQzIDIwLjMxNjYgMTIuNzA2OSAxOC4zNjRMMTQuMTIxMSAxNi45NDk3TDE1LjUzNTMgMTguMzY0Wk0xNC44MjgyIDcuNzU3MzZMMTYuMjQyNSA5LjE3MTU3TDkuMTcxMzkgMTYuMjQyNkw3Ljc1NzE3IDE0LjgyODRMMTQuODI4MiA3Ljc1NzM2WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIHRuKGUpIHtcbiAgcmV0dXJuIEMoeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk04LjAwMDA4IDZWOUg1LjAwMDA4VjZIOC4wMDAwOFpNMy4wMDAwOCA0VjExSDEwLjAwMDFWNEgzLjAwMDA4Wk0xMy4wMDAxIDRIMjEuMDAwMVY2SDEzLjAwMDFWNFpNMTMuMDAwMSAxMUgyMS4wMDAxVjEzSDEzLjAwMDFWMTFaTTEzLjAwMDEgMThIMjEuMDAwMVYyMEgxMy4wMDAxVjE4Wk0xMC43MDcyIDE2LjIwNzFMOS4yOTI5NyAxNC43OTI5TDYuMDAwMDggMTguMDg1OEw0LjIwNzE4IDE2LjI5MjlMMi43OTI5NyAxNy43MDcxTDYuMDAwMDggMjAuOTE0MkwxMC43MDcyIDE2LjIwNzFaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gbm4oZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTggNEgyMVY2SDhWNFpNNSAzVjZINlY3SDNWNkg0VjRIM1YzSDVaTTMgMTRWMTEuNUg1VjExSDNWMTBINlYxMi41SDRWMTNINlYxNEgzWk01IDE5LjVIM1YxOC41SDVWMThIM1YxN0g2VjIxSDNWMjBINVYxOS41Wk04IDExSDIxVjEzSDhWMTFaTTggMThIMjFWMjBIOFYxOFpcIiB9LCBjaGlsZDogW10gfV0gfSkoZSk7XG59XG5mdW5jdGlvbiBvbihlKSB7XG4gIHJldHVybiBDKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZDogXCJNOCA0SDIxVjZIOFY0Wk00LjUgNi41QzMuNjcxNTcgNi41IDMgNS44Mjg0MyAzIDVDMyA0LjE3MTU3IDMuNjcxNTcgMy41IDQuNSAzLjVDNS4zMjg0MyAzLjUgNiA0LjE3MTU3IDYgNUM2IDUuODI4NDMgNS4zMjg0MyA2LjUgNC41IDYuNVpNNC41IDEzLjVDMy42NzE1NyAxMy41IDMgMTIuODI4NCAzIDEyQzMgMTEuMTcxNiAzLjY3MTU3IDEwLjUgNC41IDEwLjVDNS4zMjg0MyAxMC41IDYgMTEuMTcxNiA2IDEyQzYgMTIuODI4NCA1LjMyODQzIDEzLjUgNC41IDEzLjVaTTQuNSAyMC40QzMuNjcxNTcgMjAuNCAzIDE5LjcyODQgMyAxOC45QzMgMTguMDcxNiAzLjY3MTU3IDE3LjQgNC41IDE3LjRDNS4zMjg0MyAxNy40IDYgMTguMDcxNiA2IDE4LjlDNiAxOS43Mjg0IDUuMzI4NDMgMjAuNCA0LjUgMjAuNFpNOCAxMUgyMVYxM0g4VjExWk04IDE4SDIxVjIwSDhWMThaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gSW8oZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTE3LjE1MzggMTRDMTcuMzg0NiAxNC41MTYxIDE3LjUgMTUuMDg5MyAxNy41IDE1LjcxOTZDMTcuNSAxNy4wNjI1IDE2Ljk3NjIgMTguMTExNiAxNS45Mjg2IDE4Ljg2N0MxNC44ODA5IDE5LjYyMjMgMTMuNDMzNSAyMCAxMS41ODYyIDIwQzkuOTQ2NzQgMjAgOC4zMjMzNSAxOS42MTg1IDYuNzE1OTIgMTguODU1NVYxNi42MDA5QzguMjM1MzggMTcuNDc4MyA5Ljc5MDggMTcuOTE3IDExLjM4MjIgMTcuOTE3QzEzLjkzMzMgMTcuOTE3IDE1LjIxMjggMTcuMTg0NiAxNS4yMjA4IDE1LjcxOTZDMTUuMjIwOCAxNS4wOTM5IDE1LjAwNDkgMTQuNTU5OCAxNC41NzMxIDE0LjExNzNDMTQuNTMzOSAxNC4wNzcyIDE0LjQ5MzkgMTQuMDM4MSAxNC40NTMxIDE0SDNWMTJIMjFWMTRIMTcuMTUzOFpNMTMuMDc2IDExSDcuNjI5MDhDNy40NTY2IDEwLjg0MzMgNy4yOTYxNiAxMC42NjkyIDcuMTQ3NzYgMTAuNDc3OEM2LjcxNTkyIDkuOTIwODQgNi41IDkuMjQ1NTkgNi41IDguNDUyMDdDNi41IDcuMjE2MDIgNi45NjU4MyA2LjE2NSA3Ljg5NzQ5IDUuMjk5QzguODI5MTYgNC40MzI5OSAxMC4yNzA2IDQgMTIuMjIxOSA0QzEzLjY5MzQgNCAxNS4xMDA5IDQuMzI4MDggMTYuNDQ0NCA0Ljk4NDI2VjcuMTM1OTFDMTUuMjQ0OCA2LjQ0OTIxIDEzLjkyOTMgNi4xMDU4NyAxMi40OTc4IDYuMTA1ODdDMTAuMDE4NyA2LjEwNTg3IDguNzc5MTcgNi44ODc5MyA4Ljc3OTE3IDguNDUyMDdDOC43NzkxNyA4Ljg3MTcyIDguOTk3MDkgOS4yMzc5NiA5LjQzMjkzIDkuNTUwNzlDOS44Njg3OCA5Ljg2MzYyIDEwLjQwNjYgMTAuMTEzNSAxMS4wNDYzIDEwLjMwMDRDMTEuNjY2NSAxMC40ODE2IDEyLjM0MzEgMTAuNzE0OCAxMy4wNzYgMTFIMTMuMDc2WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIEFvKGUpIHtcbiAgcmV0dXJuIEMoeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0xMyAxMFYxNEgxOVYxMEgxM1pNMTEgMTBINVYxNEgxMVYxMFpNMTMgMTlIMTlWMTZIMTNWMTlaTTExIDE5VjE2SDVWMTlIMTFaTTEzIDVWOEgxOVY1SDEzWk0xMSA1SDVWOEgxMVY1Wk00IDNIMjBDMjAuNTUyMyAzIDIxIDMuNDQ3NzIgMjEgNFYyMEMyMSAyMC41NTIzIDIwLjU1MjMgMjEgMjAgMjFINEMzLjQ0NzcyIDIxIDMgMjAuNTUyMyAzIDIwVjRDMyAzLjQ0NzcyIDMuNDQ3NzIgMyA0IDNaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gcWUoZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTEzIDZWMjFIMTFWNkg1VjRIMTlWNkgxM1pcIiB9LCBjaGlsZDogW10gfV0gfSkoZSk7XG59XG5mdW5jdGlvbiBabyhlKSB7XG4gIHJldHVybiBDKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZDogXCJNOCAzVjEyQzggMTQuMjA5MSA5Ljc5MDg2IDE2IDEyIDE2QzE0LjIwOTEgMTYgMTYgMTQuMjA5MSAxNiAxMlYzSDE4VjEyQzE4IDE1LjMxMzcgMTUuMzEzNyAxOCAxMiAxOEM4LjY4NjI5IDE4IDYgMTUuMzEzNyA2IDEyVjNIOFpNNCAyMEgyMFYyMkg0VjIwWlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIFVvKGUpIHtcbiAgcmV0dXJuIEMoeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0yIDMuOTkzNEMyIDMuNDQ0NzYgMi40NTUzMSAzIDIuOTkxOCAzSDIxLjAwODJDMjEuNTU2IDMgMjIgMy40NDQ5NSAyMiAzLjk5MzRWMjAuMDA2NkMyMiAyMC41NTUyIDIxLjU0NDcgMjEgMjEuMDA4MiAyMUgyLjk5MThDMi40NDQwNSAyMSAyIDIwLjU1NTEgMiAyMC4wMDY2VjMuOTkzNFpNOCA1VjE5SDE2VjVIOFpNNCA1VjdINlY1SDRaTTE4IDVWN0gyMFY1SDE4Wk00IDlWMTFINlY5SDRaTTE4IDlWMTFIMjBWOUgxOFpNNCAxM1YxNUg2VjEzSDRaTTE4IDEzVjE1SDIwVjEzSDE4Wk00IDE3VjE5SDZWMTdINFpNMTggMTdWMTlIMjBWMTdIMThaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gcm4oZSkge1xuICByZXR1cm4gQyh7IHRhZzogXCJzdmdcIiwgYXR0cjogeyB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTUgMTEuMTAwNUw3IDkuMTAwNUwxMi41IDE0LjYwMDVMMTYgMTEuMTAwNUwxOSAxNC4xMDA1VjVINVYxMS4xMDA1Wk00IDNIMjBDMjAuNTUyMyAzIDIxIDMuNDQ3NzIgMjEgNFYyMEMyMSAyMC41NTIzIDIwLjU1MjMgMjEgMjAgMjFINEMzLjQ0NzcyIDIxIDMgMjAuNTUyMyAzIDIwVjRDMyAzLjQ0NzcyIDMuNDQ3NzIgMyA0IDNaTTE1LjUgMTBDMTQuNjcxNiAxMCAxNCA5LjMyODQzIDE0IDguNUMxNCA3LjY3MTU3IDE0LjY3MTYgNyAxNS41IDdDMTYuMzI4NCA3IDE3IDcuNjcxNTcgMTcgOC41QzE3IDkuMzI4NDMgMTYuMzI4NCAxMCAxNS41IDEwWlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIHpvKGUpIHtcbiAgcmV0dXJuIEMoeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0yMSAxNVYxOEgyNFYyMEgyMVYyM0gxOVYyMEgxNlYxOEgxOVYxNUgyMVpNMjEuMDA4MiAzQzIxLjU1NiAzIDIyIDMuNDQ0OTUgMjIgMy45OTM0TDIyLjAwMDcgMTMuMzQxN0MyMS4zNzQ5IDEzLjEyMDQgMjAuNzAxNSAxMyAyMCAxM1Y1SDRMNC4wMDEgMTlMMTMuMjkyOSA5LjcwNzE1QzEzLjY1MjggOS4zNDYwNCAxNC4yMiA5LjMxODIzIDE0LjYxMjMgOS42MjMyMkwxNC43MDY1IDkuNzA3NzJMMTguMjUyMSAxMy4yNTg2QzE1Ljc5MSAxNC4wMDY5IDE0IDE2LjI5NDMgMTQgMTlDMTQgMTkuNzAxNSAxNC4xMjA0IDIwLjM3NDkgMTQuMzQxNyAyMS4wMDA3TDIuOTkxOCAyMUMyLjQ0NDA1IDIxIDIgMjAuNTU1MSAyIDIwLjAwNjZWMy45OTM0QzIgMy40NDQ3NiAyLjQ1NTMxIDMgMi45OTE4IDNIMjEuMDA4MlpNOCA3QzkuMTA0NTcgNyAxMCA3Ljg5NTQzIDEwIDlDMTAgMTAuMTA0NiA5LjEwNDU3IDExIDggMTFDNi44OTU0MyAxMSA2IDEwLjEwNDYgNiA5QzYgNy44OTU0MyA2Ljg5NTQzIDcgOCA3WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIFdvKGUpIHtcbiAgcmV0dXJuIEMoeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0yMCAzQzIwLjU1MjMgMyAyMSAzLjQ0NzcyIDIxIDRWNS43NTdMMTkgNy43NTdWNUg1VjEzLjFMOSA5LjEwMDVMMTMuMzI4IDEzLjQyOUwxMi4wMDEyIDE0Ljc1NjJMMTEuOTk1IDE4Ljk5NUwxNi4yNDE0IDE5LjAwMTJMMTcuNTcxIDE3LjY3MUwxOC44OTk1IDE5SDE5VjE2LjI0MkwyMSAxNC4yNDJWMjBDMjEgMjAuNTUyMyAyMC41NTIzIDIxIDIwIDIxSDRDMy40NDc3MiAyMSAzIDIwLjU1MjMgMyAyMFY0QzMgMy40NDc3MiAzLjQ0NzcyIDMgNCAzSDIwWk0yMS43NzgyIDcuODA3NjFMMjMuMTkyNCA5LjIyMTgzTDE1LjQxNDIgMTdMMTMuOTk3OSAxNi45OTc5TDE0IDE1LjU4NThMMjEuNzc4MiA3LjgwNzYxWk0xNS41IDdDMTYuMzI4NCA3IDE3IDcuNjcxNTcgMTcgOC41QzE3IDkuMzI4NDMgMTYuMzI4NCAxMCAxNS41IDEwQzE0LjY3MTYgMTAgMTQgOS4zMjg0MyAxNCA4LjVDMTQgNy42NzE1NyAxNC42NzE2IDcgMTUuNSA3WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIEdvKGUpIHtcbiAgcmV0dXJuIEMoeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0zIDMuOTkzNEMzIDMuNDQ0NzYgMy40NDQ5NSAzIDMuOTkzNCAzSDIwLjAwNjZDMjAuNTU1MiAzIDIxIDMuNDQ0OTUgMjEgMy45OTM0VjIwLjAwNjZDMjEgMjAuNTU1MiAyMC41NTUxIDIxIDIwLjAwNjYgMjFIMy45OTM0QzMuNDQ0NzYgMjEgMyAyMC41NTUxIDMgMjAuMDA2NlYzLjk5MzRaTTEwLjYyMTkgOC40MTQ1OUMxMC41NTYyIDguMzcwNzggMTAuNDc5IDguMzQ3NDEgMTAuNCA4LjM0NzQxQzEwLjE3OTEgOC4zNDc0MSAxMCA4LjUyNjQ5IDEwIDguNzQ3NDFWMTUuMjUyNkMxMCAxNS4zMzE2IDEwLjAyMzQgMTUuNDA4OCAxMC4wNjcyIDE1LjQ3NDVDMTAuMTg5NyAxNS42NTgzIDEwLjQzODEgMTUuNzA4IDEwLjYyMTkgMTUuNTg1NEwxNS41MDA4IDEyLjMzMjhDMTUuNTQ0NyAxMi4zMDM1IDE1LjU4MjQgMTIuMjY1OCAxNS42MTE3IDEyLjIyMTlDMTUuNzM0MyAxMi4wMzgxIDE1LjY4NDYgMTEuNzg5NyAxNS41MDA4IDExLjY2NzJMMTAuNjIxOSA4LjQxNDU5WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIGxuKGUpIHtcbiAgcmV0dXJuIEMoeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0yIDE2LjAwMDFINS44ODg4OUwxMS4xODM0IDIwLjMzMTlDMTEuMjcyNyAyMC40MDUgMTEuMzg0NiAyMC40NDQ5IDExLjUgMjAuNDQ0OUMxMS43NzYxIDIwLjQ0NDkgMTIgMjAuMjIxMSAxMiAxOS45NDQ5VjQuMDU1MTlDMTIgMy45Mzk3NyAxMS45NjAxIDMuODI3OSAxMS44ODcgMy43Mzg1N0MxMS43MTIxIDMuNTI0ODUgMTEuMzk3MSAzLjQ5MzM1IDExLjE4MzQgMy42NjgyMUw1Ljg4ODg5IDguMDAwMDdIMkMxLjQ0NzcyIDguMDAwMDcgMSA4LjQ0Nzc4IDEgOS4wMDAwN1YxNS4wMDAxQzEgMTUuNTUyNCAxLjQ0NzcyIDE2LjAwMDEgMiAxNi4wMDAxWk0yMyAxMkMyMyAxNS4yOTIgMjEuNTUzOSAxOC4yNDYzIDE5LjI2MjIgMjAuMjYyMkwxNy44NDQ1IDE4Ljg0NDRDMTkuNzc1OCAxNy4xOTM3IDIxIDE0LjczOTggMjEgMTJDMjEgOS4yNjAxNiAxOS43NzU4IDYuODA2MjkgMTcuODQ0NSA1LjE1NTU3TDE5LjI2MjIgMy43Mzc3OUMyMS41NTM5IDUuNzUzNjggMjMgOC43MDc5NSAyMyAxMlpNMTggMTJDMTggMTAuMDg4MyAxNy4xMDYgOC4zODU0OCAxNS43MTMzIDcuMjg2NzNMMTQuMjg0MiA4LjcxNTg0QzE1LjMyMTMgOS40Mzg1NSAxNiAxMC42NCAxNiAxMkMxNiAxMy4zNiAxNS4zMjEzIDE0LjU2MTQgMTQuMjg0MiAxNS4yODQxTDE1LjcxMzMgMTYuNzEzMkMxNy4xMDYgMTUuNjE0NSAxOCAxMy45MTE2IDE4IDEyWlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uICRvKGUpIHtcbiAgcmV0dXJuIEMoeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0xNyA2SDIyVjhIMjBWMjFDMjAgMjEuNTUyMyAxOS41NTIzIDIyIDE5IDIySDVDNC40NDc3MiAyMiA0IDIxLjU1MjMgNCAyMVY4SDJWNkg3VjNDNyAyLjQ0NzcyIDcuNDQ3NzIgMiA4IDJIMTZDMTYuNTUyMyAyIDE3IDIuNDQ3NzIgMTcgM1Y2Wk0xOCA4SDZWMjBIMThWOFpNOSA0VjZIMTVWNEg5WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIHFvKGUpIHtcbiAgcmV0dXJuIEMoeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk00IDE5SDIwVjEySDIyVjIwQzIyIDIwLjU1MjMgMjEuNTUyMyAyMSAyMSAyMUgzQzIuNDQ3NzIgMjEgMiAyMC41NTIzIDIgMjBWMTJINFYxOVpNMTQgOUgxOUwxMiAxNkw1IDlIMTBWM0gxNFY5WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmZ1bmN0aW9uIFlvKGUpIHtcbiAgcmV0dXJuIEMoeyB0YWc6IFwic3ZnXCIsIGF0dHI6IHsgdmlld0JveDogXCIwIDAgMjQgMjRcIiwgZmlsbDogXCJjdXJyZW50Q29sb3JcIiB9LCBjaGlsZDogW3sgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0xMCA2VjhINVYxOUgxNlYxNEgxOFYyMEMxOCAyMC41NTIzIDE3LjU1MjMgMjEgMTcgMjFINEMzLjQ0NzcyIDIxIDMgMjAuNTUyMyAzIDIwVjdDMyA2LjQ0NzcyIDMuNDQ3NzIgNiA0IDZIMTBaTTIxIDNWMTJMMTcuMjA2IDguMjA3TDExLjIwNzEgMTQuMjA3MUw5Ljc5Mjg5IDEyLjc5MjlMMTUuNzkyIDYuNzkzTDEyIDNIMjFaXCIgfSwgY2hpbGQ6IFtdIH1dIH0pKGUpO1xufVxuZnVuY3Rpb24gRChlKSB7XG4gIGNvbnN0IHQgPSB6KCk7XG4gIGlmIChlIHx8IChlID0gdCA9PSBudWxsID8gdm9pZCAwIDogdC5lZGl0b3IpLCAhZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIidlZGl0b3InIGlzIHJlcXVpcmVkLCBlaXRoZXIgZnJvbSBCbG9ja05vdGVDb250ZXh0IG9yIGFzIGEgZnVuY3Rpb24gYXJndW1lbnRcIlxuICAgICk7XG4gIGNvbnN0IG4gPSBlLCBbbywgbF0gPSB4KCgpID0+IHtcbiAgICB2YXIgYTtcbiAgICByZXR1cm4gKChhID0gbi5nZXRTZWxlY3Rpb24oKSkgPT0gbnVsbCA/IHZvaWQgMCA6IGEuYmxvY2tzKSB8fCBbbi5nZXRUZXh0Q3Vyc29yUG9zaXRpb24oKS5ibG9ja107XG4gIH0pO1xuICByZXR1cm4gVyhcbiAgICAoKSA9PiB7XG4gICAgICB2YXIgYTtcbiAgICAgIHJldHVybiBsKFxuICAgICAgICAoKGEgPSBuLmdldFNlbGVjdGlvbigpKSA9PSBudWxsID8gdm9pZCAwIDogYS5ibG9ja3MpIHx8IFtuLmdldFRleHRDdXJzb3JQb3NpdGlvbigpLmJsb2NrXVxuICAgICAgKTtcbiAgICB9LFxuICAgIG5cbiAgKSwgbztcbn1cbmZ1bmN0aW9uIFMoKSB7XG4gIHJldHVybiB6KCkuZWRpdG9yLmRpY3Rpb25hcnk7XG59XG5jb25zdCBLbyA9IHtcbiAgYm9sZDogUG8sXG4gIGl0YWxpYzogTm8sXG4gIHVuZGVybGluZTogWm8sXG4gIHN0cmlrZTogSW8sXG4gIGNvZGU6IFRvXG59O1xuZnVuY3Rpb24gWG8oZSwgdCkge1xuICByZXR1cm4gZSBpbiB0LnNjaGVtYS5zdHlsZVNjaGVtYSAmJiB0LnNjaGVtYS5zdHlsZVNjaGVtYVtlXS50eXBlID09PSBlICYmIHQuc2NoZW1hLnN0eWxlU2NoZW1hW2VdLnByb3BTY2hlbWEgPT09IFwiYm9vbGVhblwiO1xufVxuY29uc3QgbWUgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gUygpLCBuID0gaygpLCBvID0gSCgpLCBsID0gWG8oXG4gICAgZS5iYXNpY1RleHRTdHlsZSxcbiAgICBvXG4gICksIGEgPSBEKG8pLCBbYywgc10gPSB4KFxuICAgIGUuYmFzaWNUZXh0U3R5bGUgaW4gby5nZXRBY3RpdmVTdHlsZXMoKVxuICApO1xuICBXKCgpID0+IHtcbiAgICBsICYmIHMoZS5iYXNpY1RleHRTdHlsZSBpbiBvLmdldEFjdGl2ZVN0eWxlcygpKTtcbiAgfSwgbyk7XG4gIGNvbnN0IHUgPSAoaCkgPT4ge1xuICAgIGlmIChvLmZvY3VzKCksICEhbCkge1xuICAgICAgaWYgKG8uc2NoZW1hLnN0eWxlU2NoZW1hW2hdLnByb3BTY2hlbWEgIT09IFwiYm9vbGVhblwiKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW4gb25seSB0b2dnbGUgYm9vbGVhbiBzdHlsZXNcIik7XG4gICAgICBvLnRvZ2dsZVN0eWxlcyh7IFtoXTogITAgfSk7XG4gICAgfVxuICB9O1xuICBpZiAoIU0oKCkgPT4gbCA/ICEhYS5maW5kKChoKSA9PiBoLmNvbnRlbnQgIT09IHZvaWQgMCkgOiAhMSwgW2wsIGFdKSB8fCAhby5pc0VkaXRhYmxlKVxuICAgIHJldHVybiBudWxsO1xuICBjb25zdCBtID0gS29bZS5iYXNpY1RleHRTdHlsZV07XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgbi5Gb3JtYXR0aW5nVG9vbGJhci5CdXR0b24sXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgXCJkYXRhLXRlc3RcIjogZS5iYXNpY1RleHRTdHlsZSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHUoZS5iYXNpY1RleHRTdHlsZSksXG4gICAgICBpc1NlbGVjdGVkOiBjLFxuICAgICAgbGFiZWw6IHQuZm9ybWF0dGluZ190b29sYmFyW2UuYmFzaWNUZXh0U3R5bGVdLnRvb2x0aXAsXG4gICAgICBtYWluVG9vbHRpcDogdC5mb3JtYXR0aW5nX3Rvb2xiYXJbZS5iYXNpY1RleHRTdHlsZV0udG9vbHRpcCxcbiAgICAgIHNlY29uZGFyeVRvb2x0aXA6IGtlKFxuICAgICAgICB0LmZvcm1hdHRpbmdfdG9vbGJhcltlLmJhc2ljVGV4dFN0eWxlXS5zZWNvbmRhcnlfdG9vbHRpcCxcbiAgICAgICAgdC5nZW5lcmljLmN0cmxfc2hvcnRjdXRcbiAgICAgICksXG4gICAgICBpY29uOiAvKiBAX19QVVJFX18gKi8gci5qc3gobSwge30pXG4gICAgfVxuICApO1xufSwgVWUgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gZS50ZXh0Q29sb3IgfHwgXCJkZWZhdWx0XCIsIG4gPSBlLmJhY2tncm91bmRDb2xvciB8fCBcImRlZmF1bHRcIiwgbyA9IGUuc2l6ZSB8fCAxNiwgbCA9IE0oXG4gICAgKCkgPT4gKHtcbiAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxuICAgICAgZm9udFNpemU6IChvICogMC43NSkudG9TdHJpbmcoKSArIFwicHhcIixcbiAgICAgIGhlaWdodDogby50b1N0cmluZygpICsgXCJweFwiLFxuICAgICAgbGluZUhlaWdodDogby50b1N0cmluZygpICsgXCJweFwiLFxuICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgd2lkdGg6IG8udG9TdHJpbmcoKSArIFwicHhcIlxuICAgIH0pLFxuICAgIFtvXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLWNvbG9yLWljb25cIixcbiAgICAgIFwiZGF0YS1iYWNrZ3JvdW5kLWNvbG9yXCI6IG4sXG4gICAgICBcImRhdGEtdGV4dC1jb2xvclwiOiB0LFxuICAgICAgc3R5bGU6IGwsXG4gICAgICBjaGlsZHJlbjogXCJBXCJcbiAgICB9XG4gICk7XG59LCBWdCA9IFtcbiAgXCJkZWZhdWx0XCIsXG4gIFwiZ3JheVwiLFxuICBcImJyb3duXCIsXG4gIFwicmVkXCIsXG4gIFwib3JhbmdlXCIsXG4gIFwieWVsbG93XCIsXG4gIFwiZ3JlZW5cIixcbiAgXCJibHVlXCIsXG4gIFwicHVycGxlXCIsXG4gIFwicGlua1wiXG5dLCBhbiA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSBrKCksIG4gPSBTKCksIG8gPSAoKSA9PiBlLnRleHQgPyAvKiBAX19QVVJFX18gKi8gci5qc3hzKHIuRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3godC5HZW5lcmljLk1lbnUuTGFiZWwsIHsgY2hpbGRyZW46IG4uY29sb3JfcGlja2VyLnRleHRfdGl0bGUgfSksXG4gICAgVnQubWFwKChhKSA9PiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkdlbmVyaWMuTWVudS5JdGVtLFxuICAgICAge1xuICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgZS5vbkNsaWNrICYmIGUub25DbGljaygpLCBlLnRleHQuc2V0Q29sb3IoYSk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGF0YS10ZXN0XCI6IFwidGV4dC1jb2xvci1cIiArIGEsXG4gICAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeChVZSwgeyB0ZXh0Q29sb3I6IGEsIHNpemU6IGUuaWNvblNpemUgfSksXG4gICAgICAgIGNoZWNrZWQ6IGUudGV4dC5jb2xvciA9PT0gYSxcbiAgICAgICAgY2hpbGRyZW46IG4uY29sb3JfcGlja2VyLmNvbG9yc1thXVxuICAgICAgfSxcbiAgICAgIFwidGV4dC1jb2xvci1cIiArIGFcbiAgICApKVxuICBdIH0pIDogbnVsbCwgbCA9ICgpID0+IGUuYmFja2dyb3VuZCA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoci5GcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LkdlbmVyaWMuTWVudS5MYWJlbCwgeyBjaGlsZHJlbjogbi5jb2xvcl9waWNrZXIuYmFja2dyb3VuZF90aXRsZSB9KSxcbiAgICBWdC5tYXAoKGEpID0+IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIHQuR2VuZXJpYy5NZW51Lkl0ZW0sXG4gICAgICB7XG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICBlLm9uQ2xpY2sgJiYgZS5vbkNsaWNrKCksIGUuYmFja2dyb3VuZC5zZXRDb2xvcihhKTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJkYXRhLXRlc3RcIjogXCJiYWNrZ3JvdW5kLWNvbG9yLVwiICsgYSxcbiAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KFVlLCB7IGJhY2tncm91bmRDb2xvcjogYSwgc2l6ZTogZS5pY29uU2l6ZSB9KSxcbiAgICAgICAgY2hlY2tlZDogZS5iYWNrZ3JvdW5kLmNvbG9yID09PSBhLFxuICAgICAgICBjaGlsZHJlbjogbi5jb2xvcl9waWNrZXIuY29sb3JzW2FdXG4gICAgICB9LFxuICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yLVwiICsgYVxuICAgICkpXG4gIF0gfSkgOiBudWxsO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4cyhyLkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KG8sIHt9KSxcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3gobCwge30pXG4gIF0gfSk7XG59O1xuZnVuY3Rpb24gVHQoZSwgdCkge1xuICByZXR1cm4gYCR7ZX1Db2xvcmAgaW4gdC5zY2hlbWEuc3R5bGVTY2hlbWEgJiYgdC5zY2hlbWEuc3R5bGVTY2hlbWFbYCR7ZX1Db2xvcmBdLnR5cGUgPT09IGAke2V9Q29sb3JgICYmIHQuc2NoZW1hLnN0eWxlU2NoZW1hW2Ake2V9Q29sb3JgXS5wcm9wU2NoZW1hID09PSBcInN0cmluZ1wiO1xufVxuY29uc3QgSm8gPSAoKSA9PiB7XG4gIGNvbnN0IGUgPSBrKCksIHQgPSBTKCksIG4gPSBIKCksIG8gPSBUdChcInRleHRcIiwgbiksIGwgPSBUdChcImJhY2tncm91bmRcIiwgbiksIGEgPSBEKG4pLCBbYywgc10gPSB4KFxuICAgIG8gJiYgbi5nZXRBY3RpdmVTdHlsZXMoKS50ZXh0Q29sb3IgfHwgXCJkZWZhdWx0XCJcbiAgKSwgW3UsIGRdID0geChcbiAgICBsICYmIG4uZ2V0QWN0aXZlU3R5bGVzKCkuYmFja2dyb3VuZENvbG9yIHx8IFwiZGVmYXVsdFwiXG4gICk7XG4gIFcoKCkgPT4ge1xuICAgIG8gJiYgcyhuLmdldEFjdGl2ZVN0eWxlcygpLnRleHRDb2xvciB8fCBcImRlZmF1bHRcIiksIGwgJiYgZChcbiAgICAgIG4uZ2V0QWN0aXZlU3R5bGVzKCkuYmFja2dyb3VuZENvbG9yIHx8IFwiZGVmYXVsdFwiXG4gICAgKTtcbiAgfSwgbik7XG4gIGNvbnN0IG0gPSBfKFxuICAgIChqKSA9PiB7XG4gICAgICBpZiAoIW8pXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiVHJpZWQgdG8gc2V0IHRleHQgY29sb3IsIGJ1dCBzdHlsZSBkb2VzIG5vdCBleGlzdCBpbiBlZGl0b3Igc2NoZW1hLlwiXG4gICAgICAgICk7XG4gICAgICBqID09PSBcImRlZmF1bHRcIiA/IG4ucmVtb3ZlU3R5bGVzKHsgdGV4dENvbG9yOiBqIH0pIDogbi5hZGRTdHlsZXMoeyB0ZXh0Q29sb3I6IGogfSksIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBuLmZvY3VzKCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtuLCBvXVxuICApLCBoID0gXyhcbiAgICAoaikgPT4ge1xuICAgICAgaWYgKCFsKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIlRyaWVkIHRvIHNldCBiYWNrZ3JvdW5kIGNvbG9yLCBidXQgc3R5bGUgZG9lcyBub3QgZXhpc3QgaW4gZWRpdG9yIHNjaGVtYS5cIlxuICAgICAgICApO1xuICAgICAgaiA9PT0gXCJkZWZhdWx0XCIgPyBuLnJlbW92ZVN0eWxlcyh7IGJhY2tncm91bmRDb2xvcjogaiB9KSA6IG4uYWRkU3R5bGVzKHsgYmFja2dyb3VuZENvbG9yOiBqIH0pLCBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgbi5mb2N1cygpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbbCwgbl1cbiAgKTtcbiAgcmV0dXJuICFNKCgpID0+IHtcbiAgICBpZiAoIW8gJiYgIWwpXG4gICAgICByZXR1cm4gITE7XG4gICAgZm9yIChjb25zdCBqIG9mIGEpXG4gICAgICBpZiAoai5jb250ZW50ICE9PSB2b2lkIDApXG4gICAgICAgIHJldHVybiAhMDtcbiAgICByZXR1cm4gITE7XG4gIH0sIFtsLCBhLCBvXSkgfHwgIW4uaXNFZGl0YWJsZSA/IG51bGwgOiAvKiBAX19QVVJFX18gKi8gci5qc3hzKGUuR2VuZXJpYy5NZW51LlJvb3QsIHsgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3goZS5HZW5lcmljLk1lbnUuVHJpZ2dlciwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgZS5Gb3JtYXR0aW5nVG9vbGJhci5CdXR0b24sXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1idXR0b25cIixcbiAgICAgICAgXCJkYXRhLXRlc3RcIjogXCJjb2xvcnNcIixcbiAgICAgICAgbGFiZWw6IHQuZm9ybWF0dGluZ190b29sYmFyLmNvbG9ycy50b29sdGlwLFxuICAgICAgICBtYWluVG9vbHRpcDogdC5mb3JtYXR0aW5nX3Rvb2xiYXIuY29sb3JzLnRvb2x0aXAsXG4gICAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICBVZSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0Q29sb3I6IGMsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHUsXG4gICAgICAgICAgICBzaXplOiAyMFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfVxuICAgICkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgZS5HZW5lcmljLk1lbnUuRHJvcGRvd24sXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1tZW51LWRyb3Bkb3duIGJuLWNvbG9yLXBpY2tlci1kcm9wZG93blwiLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICAgIGFuLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6IG8gPyB7XG4gICAgICAgICAgICAgIGNvbG9yOiBjLFxuICAgICAgICAgICAgICBzZXRDb2xvcjogbVxuICAgICAgICAgICAgfSA6IHZvaWQgMCxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGwgPyB7XG4gICAgICAgICAgICAgIGNvbG9yOiB1LFxuICAgICAgICAgICAgICBzZXRDb2xvcjogaFxuICAgICAgICAgICAgfSA6IHZvaWQgMFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfVxuICAgIClcbiAgXSB9KTtcbn0sIGNuID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IGsoKSwgbiA9IFMoKSwgeyB1cmw6IG8sIHRleHQ6IGwsIGVkaXRMaW5rOiBhIH0gPSBlLCBbYywgc10gPSB4KG8pLCBbdSwgZF0gPSB4KGwpO1xuICBMKCgpID0+IHtcbiAgICBzKG8pLCBkKGwpO1xuICB9LCBbbCwgb10pO1xuICBjb25zdCBtID0gXyhcbiAgICAoVCkgPT4ge1xuICAgICAgVC5rZXkgPT09IFwiRW50ZXJcIiAmJiAoVC5wcmV2ZW50RGVmYXVsdCgpLCBhKGMsIHUpKTtcbiAgICB9LFxuICAgIFthLCBjLCB1XVxuICApLCBoID0gXyhcbiAgICAoVCkgPT4gcyhULmN1cnJlbnRUYXJnZXQudmFsdWUpLFxuICAgIFtdXG4gICksIGcgPSBfKFxuICAgIChUKSA9PiBkKFQuY3VycmVudFRhcmdldC52YWx1ZSksXG4gICAgW11cbiAgKSwgaiA9IF8oXG4gICAgKCkgPT4gYShjLCB1KSxcbiAgICBbYSwgYywgdV1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeHModC5HZW5lcmljLkZvcm0uUm9vdCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIHQuR2VuZXJpYy5Gb3JtLlRleHRJbnB1dCxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLXRleHQtaW5wdXRcIixcbiAgICAgICAgbmFtZTogXCJ1cmxcIixcbiAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KGVuLCB7fSksXG4gICAgICAgIGF1dG9Gb2N1czogITAsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBuLmxpbmtfdG9vbGJhci5mb3JtLnVybF9wbGFjZWhvbGRlcixcbiAgICAgICAgdmFsdWU6IGMsXG4gICAgICAgIG9uS2V5RG93bjogbSxcbiAgICAgICAgb25DaGFuZ2U6IGgsXG4gICAgICAgIG9uU3VibWl0OiBqXG4gICAgICB9XG4gICAgKSxcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkdlbmVyaWMuRm9ybS5UZXh0SW5wdXQsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJibi10ZXh0LWlucHV0XCIsXG4gICAgICAgIG5hbWU6IFwidGl0bGVcIixcbiAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KHFlLCB7fSksXG4gICAgICAgIHBsYWNlaG9sZGVyOiBuLmxpbmtfdG9vbGJhci5mb3JtLnRpdGxlX3BsYWNlaG9sZGVyLFxuICAgICAgICB2YWx1ZTogdSxcbiAgICAgICAgb25LZXlEb3duOiBtLFxuICAgICAgICBvbkNoYW5nZTogZyxcbiAgICAgICAgb25TdWJtaXQ6IGpcbiAgICAgIH1cbiAgICApXG4gIF0gfSk7XG59O1xuZnVuY3Rpb24gUW8oZSkge1xuICByZXR1cm4gXCJsaW5rXCIgaW4gZS5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSAmJiBlLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hLmxpbmsgPT09IFwibGlua1wiO1xufVxuY29uc3QgZXIgPSAoKSA9PiB7XG4gIGNvbnN0IGUgPSBIKCksIHQgPSBrKCksIG4gPSBTKCksIG8gPSBRbyhlKSwgbCA9IEQoZSksIFthLCBjXSA9IHgoZS5nZXRTZWxlY3RlZExpbmtVcmwoKSB8fCBcIlwiKSwgW3MsIHVdID0geChlLmdldFNlbGVjdGVkVGV4dCgpKTtcbiAgVygoKSA9PiB7XG4gICAgdShlLmdldFNlbGVjdGVkVGV4dCgpIHx8IFwiXCIpLCBjKGUuZ2V0U2VsZWN0ZWRMaW5rVXJsKCkgfHwgXCJcIik7XG4gIH0sIGUpO1xuICBjb25zdCBkID0gXyhcbiAgICAoaCwgZykgPT4ge1xuICAgICAgZS5jcmVhdGVMaW5rKGgsIGcpLCBlLmZvY3VzKCk7XG4gICAgfSxcbiAgICBbZV1cbiAgKTtcbiAgcmV0dXJuICFNKCgpID0+IHtcbiAgICBpZiAoIW8pXG4gICAgICByZXR1cm4gITE7XG4gICAgZm9yIChjb25zdCBoIG9mIGwpXG4gICAgICBpZiAoaC5jb250ZW50ID09PSB2b2lkIDApXG4gICAgICAgIHJldHVybiAhMTtcbiAgICByZXR1cm4gITA7XG4gIH0sIFtvLCBsXSkgfHwgIShcImxpbmtcIiBpbiBlLnNjaGVtYS5pbmxpbmVDb250ZW50U2NoZW1hKSB8fCAhZS5pc0VkaXRhYmxlID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeHModC5HZW5lcmljLlBvcG92ZXIuUm9vdCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LkdlbmVyaWMuUG9wb3Zlci5UcmlnZ2VyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkZvcm1hdHRpbmdUb29sYmFyLkJ1dHRvbixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgICBcImRhdGEtdGVzdFwiOiBcImNyZWF0ZUxpbmtcIixcbiAgICAgICAgbGFiZWw6IG4uZm9ybWF0dGluZ190b29sYmFyLmxpbmsudG9vbHRpcCxcbiAgICAgICAgbWFpblRvb2x0aXA6IG4uZm9ybWF0dGluZ190b29sYmFyLmxpbmsudG9vbHRpcCxcbiAgICAgICAgc2Vjb25kYXJ5VG9vbHRpcDoga2UoXG4gICAgICAgICAgbi5mb3JtYXR0aW5nX3Rvb2xiYXIubGluay5zZWNvbmRhcnlfdG9vbHRpcCxcbiAgICAgICAgICBuLmdlbmVyaWMuY3RybF9zaG9ydGN1dFxuICAgICAgICApLFxuICAgICAgICBpY29uOiAvKiBAX19QVVJFX18gKi8gci5qc3goZW4sIHt9KVxuICAgICAgfVxuICAgICkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgdC5HZW5lcmljLlBvcG92ZXIuQ29udGVudCxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLXBvcG92ZXItY29udGVudCBibi1mb3JtLXBvcG92ZXJcIixcbiAgICAgICAgdmFyaWFudDogXCJmb3JtLXBvcG92ZXJcIixcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChjbiwgeyB1cmw6IGEsIHRleHQ6IHMsIGVkaXRMaW5rOiBkIH0pXG4gICAgICB9XG4gICAgKVxuICBdIH0pO1xufSwgdHIgPSAoKSA9PiB7XG4gIGNvbnN0IGUgPSBTKCksIHQgPSBrKCksIG4gPSBIKCksIFtvLCBsXSA9IHgoKSwgYSA9IEQobiksIGMgPSBNKCgpID0+IHtcbiAgICBpZiAoYS5sZW5ndGggIT09IDEpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZCA9IGFbMF07XG4gICAgaWYgKGllKGQsIG4pKVxuICAgICAgcmV0dXJuIGwoZC5wcm9wcy5jYXB0aW9uKSwgZDtcbiAgfSwgW24sIGFdKSwgcyA9IF8oXG4gICAgKGQpID0+IHtcbiAgICAgIGMgJiYgZC5rZXkgPT09IFwiRW50ZXJcIiAmJiAoZC5wcmV2ZW50RGVmYXVsdCgpLCBuLnVwZGF0ZUJsb2NrKGMsIHtcbiAgICAgICAgcHJvcHM6IHtcbiAgICAgICAgICBjYXB0aW9uOiBvXG4gICAgICAgICAgLy8gVE9ET1xuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBbbywgbiwgY11cbiAgKSwgdSA9IF8oXG4gICAgKGQpID0+IGwoZC5jdXJyZW50VGFyZ2V0LnZhbHVlKSxcbiAgICBbXVxuICApO1xuICByZXR1cm4gIWMgfHwgbGUoYywgbikgfHwgIW4uaXNFZGl0YWJsZSA/IG51bGwgOiAvKiBAX19QVVJFX18gKi8gci5qc3hzKHQuR2VuZXJpYy5Qb3BvdmVyLlJvb3QsIHsgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3godC5HZW5lcmljLlBvcG92ZXIuVHJpZ2dlciwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgdC5Gb3JtYXR0aW5nVG9vbGJhci5CdXR0b24sXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1idXR0b25cIixcbiAgICAgICAgbGFiZWw6IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfY2FwdGlvbi50b29sdGlwLFxuICAgICAgICBtYWluVG9vbHRpcDogZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9jYXB0aW9uLnRvb2x0aXAsXG4gICAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeChNdCwge30pLFxuICAgICAgICBpc1NlbGVjdGVkOiBjLnByb3BzLmNhcHRpb24gIT09IFwiXCJcbiAgICAgIH1cbiAgICApIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIHQuR2VuZXJpYy5Qb3BvdmVyLkNvbnRlbnQsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1wb3BvdmVyLWNvbnRlbnQgYm4tZm9ybS1wb3BvdmVyXCIsXG4gICAgICAgIHZhcmlhbnQ6IFwiZm9ybS1wb3BvdmVyXCIsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3godC5HZW5lcmljLkZvcm0uUm9vdCwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICAgIHQuR2VuZXJpYy5Gb3JtLlRleHRJbnB1dCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcImZpbGUtY2FwdGlvblwiLFxuICAgICAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KE10LCB7fSksXG4gICAgICAgICAgICB2YWx1ZTogbyB8fCBcIlwiLFxuICAgICAgICAgICAgYXV0b0ZvY3VzOiAhMCxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBlLmZvcm1hdHRpbmdfdG9vbGJhci5maWxlX2NhcHRpb24uaW5wdXRfcGxhY2Vob2xkZXIsXG4gICAgICAgICAgICBvbktleURvd246IHMsXG4gICAgICAgICAgICBvbkNoYW5nZTogdVxuICAgICAgICAgIH1cbiAgICAgICAgKSB9KVxuICAgICAgfVxuICAgIClcbiAgXSB9KTtcbn0sIG5yID0gKCkgPT4ge1xuICBjb25zdCBlID0gUygpLCB0ID0gaygpLCBuID0gSCgpLCBvID0gRChuKSwgW2wsIGFdID0geChcbiAgICAoKSA9PiBuLmNhbk5lc3RCbG9jaygpXG4gICk7XG4gIFcoKCkgPT4ge1xuICAgIGEobi5jYW5OZXN0QmxvY2soKSk7XG4gIH0sIG4pO1xuICBjb25zdCBjID0gXygoKSA9PiB7XG4gICAgbi5mb2N1cygpLCBuLm5lc3RCbG9jaygpO1xuICB9LCBbbl0pO1xuICByZXR1cm4gIU0oKCkgPT4gIW8uZmluZChcbiAgICAodSkgPT4gbi5zY2hlbWEuYmxvY2tTY2hlbWFbdS50eXBlXS5jb250ZW50ICE9PSBcImlubGluZVwiXG4gICksIFtuLnNjaGVtYS5ibG9ja1NjaGVtYSwgb10pIHx8ICFuLmlzRWRpdGFibGUgPyBudWxsIDogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIHQuRm9ybWF0dGluZ1Rvb2xiYXIuQnV0dG9uLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogXCJibi1idXR0b25cIixcbiAgICAgIFwiZGF0YS10ZXN0XCI6IFwibmVzdEJsb2NrXCIsXG4gICAgICBvbkNsaWNrOiBjLFxuICAgICAgaXNEaXNhYmxlZDogIWwsXG4gICAgICBsYWJlbDogZS5mb3JtYXR0aW5nX3Rvb2xiYXIubmVzdC50b29sdGlwLFxuICAgICAgbWFpblRvb2x0aXA6IGUuZm9ybWF0dGluZ190b29sYmFyLm5lc3QudG9vbHRpcCxcbiAgICAgIHNlY29uZGFyeVRvb2x0aXA6IGtlKFxuICAgICAgICBlLmZvcm1hdHRpbmdfdG9vbGJhci5uZXN0LnNlY29uZGFyeV90b29sdGlwLFxuICAgICAgICBlLmdlbmVyaWMuY3RybF9zaG9ydGN1dFxuICAgICAgKSxcbiAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeChGbywge30pXG4gICAgfVxuICApO1xufSwgb3IgPSAoKSA9PiB7XG4gIGNvbnN0IGUgPSBTKCksIHQgPSBrKCksIG4gPSBIKCksIG8gPSBEKG4pLCBbbCwgYV0gPSB4KFxuICAgICgpID0+IG4uY2FuVW5uZXN0QmxvY2soKVxuICApO1xuICBXKCgpID0+IHtcbiAgICBhKG4uY2FuVW5uZXN0QmxvY2soKSk7XG4gIH0sIG4pO1xuICBjb25zdCBjID0gXygoKSA9PiB7XG4gICAgbi5mb2N1cygpLCBuLnVubmVzdEJsb2NrKCk7XG4gIH0sIFtuXSk7XG4gIHJldHVybiAhTSgoKSA9PiAhby5maW5kKFxuICAgICh1KSA9PiBuLnNjaGVtYS5ibG9ja1NjaGVtYVt1LnR5cGVdLmNvbnRlbnQgIT09IFwiaW5saW5lXCJcbiAgKSwgW24uc2NoZW1hLmJsb2NrU2NoZW1hLCBvXSkgfHwgIW4uaXNFZGl0YWJsZSA/IG51bGwgOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5Gb3JtYXR0aW5nVG9vbGJhci5CdXR0b24sXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgXCJkYXRhLXRlc3RcIjogXCJ1bm5lc3RCbG9ja1wiLFxuICAgICAgb25DbGljazogYyxcbiAgICAgIGlzRGlzYWJsZWQ6ICFsLFxuICAgICAgbGFiZWw6IGUuZm9ybWF0dGluZ190b29sYmFyLnVubmVzdC50b29sdGlwLFxuICAgICAgbWFpblRvb2x0aXA6IGUuZm9ybWF0dGluZ190b29sYmFyLnVubmVzdC50b29sdGlwLFxuICAgICAgc2Vjb25kYXJ5VG9vbHRpcDoga2UoXG4gICAgICAgIGUuZm9ybWF0dGluZ190b29sYmFyLnVubmVzdC5zZWNvbmRhcnlfdG9vbHRpcCxcbiAgICAgICAgZS5nZW5lcmljLmN0cmxfc2hvcnRjdXRcbiAgICAgICksXG4gICAgICBpY29uOiAvKiBAX19QVVJFX18gKi8gci5qc3goT28sIHt9KVxuICAgIH1cbiAgKTtcbn0sIHJyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IGsoKSwgbiA9IFMoKSwgeyBibG9jazogbyB9ID0gZSwgbCA9IEgoKSwgW2EsIGNdID0geChcIlwiKSwgcyA9IF8oXG4gICAgKG0pID0+IHtcbiAgICAgIGMobS5jdXJyZW50VGFyZ2V0LnZhbHVlKTtcbiAgICB9LFxuICAgIFtdXG4gICksIHUgPSBfKFxuICAgIChtKSA9PiB7XG4gICAgICBtLmtleSA9PT0gXCJFbnRlclwiICYmIChtLnByZXZlbnREZWZhdWx0KCksIGwudXBkYXRlQmxvY2sobywge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIG5hbWU6IEN0KGEpLFxuICAgICAgICAgIHVybDogYVxuICAgICAgICB9XG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBbbCwgbywgYV1cbiAgKSwgZCA9IF8oKCkgPT4ge1xuICAgIGwudXBkYXRlQmxvY2sobywge1xuICAgICAgcHJvcHM6IHtcbiAgICAgICAgbmFtZTogQ3QoYSksXG4gICAgICAgIHVybDogYVxuICAgICAgfVxuICAgIH0pO1xuICB9LCBbbCwgbywgYV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4cyh0LkZpbGVQYW5lbC5UYWJQYW5lbCwgeyBjbGFzc05hbWU6IFwiYm4tdGFiLXBhbmVsXCIsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgdC5GaWxlUGFuZWwuVGV4dElucHV0LFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IFwiYm4tdGV4dC1pbnB1dFwiLFxuICAgICAgICBwbGFjZWhvbGRlcjogbi5maWxlX3BhbmVsLmVtYmVkLnVybF9wbGFjZWhvbGRlcixcbiAgICAgICAgdmFsdWU6IGEsXG4gICAgICAgIG9uQ2hhbmdlOiBzLFxuICAgICAgICBvbktleURvd246IHUsXG4gICAgICAgIFwiZGF0YS10ZXN0XCI6IFwiZW1iZWQtaW5wdXRcIlxuICAgICAgfVxuICAgICksXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgdC5GaWxlUGFuZWwuQnV0dG9uLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IFwiYm4tYnV0dG9uXCIsXG4gICAgICAgIG9uQ2xpY2s6IGQsXG4gICAgICAgIFwiZGF0YS10ZXN0XCI6IFwiZW1iZWQtaW5wdXQtYnV0dG9uXCIsXG4gICAgICAgIGNoaWxkcmVuOiBuLmZpbGVfcGFuZWwuZW1iZWQuZW1iZWRfYnV0dG9uW28udHlwZV0gfHwgbi5maWxlX3BhbmVsLmVtYmVkLmVtYmVkX2J1dHRvbi5maWxlXG4gICAgICB9XG4gICAgKVxuICBdIH0pO1xufSwgaXIgPSAoZSkgPT4ge1xuICB2YXIgaDtcbiAgY29uc3QgdCA9IGsoKSwgbiA9IFMoKSwgeyBibG9jazogbywgc2V0TG9hZGluZzogbCB9ID0gZSwgYSA9IEgoKSwgW2MsIHNdID0geCghMSk7XG4gIEwoKCkgPT4ge1xuICAgIGMgJiYgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzKCExKTtcbiAgICB9LCAzZTMpO1xuICB9LCBbY10pO1xuICBjb25zdCB1ID0gXyhcbiAgICAoZykgPT4ge1xuICAgICAgaWYgKGcgPT09IG51bGwpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGFzeW5jIGZ1bmN0aW9uIGooVCkge1xuICAgICAgICBpZiAobCghMCksIGEudXBsb2FkRmlsZSAhPT0gdm9pZCAwKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgRSA9IGF3YWl0IGEudXBsb2FkRmlsZShUKTtcbiAgICAgICAgICAgIHR5cGVvZiBFID09IFwic3RyaW5nXCIgJiYgKEUgPSB7XG4gICAgICAgICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogVC5uYW1lLFxuICAgICAgICAgICAgICAgIHVybDogRVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSwgYS51cGRhdGVCbG9jayhvLCBFKTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIHMoITApO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBsKCExKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBqKGcpO1xuICAgIH0sXG4gICAgW28sIGEsIGxdXG4gICksIGQgPSBhLnNjaGVtYS5ibG9ja1NjaGVtYVtvLnR5cGVdLCBtID0gZC5pc0ZpbGVCbG9jayAmJiAoKGggPSBkLmZpbGVCbG9ja0FjY2VwdE1pbWVUeXBlcykgIT0gbnVsbCAmJiBoLmxlbmd0aCkgPyBkLmZpbGVCbG9ja0FjY2VwdE1pbWVUeXBlcy5qb2luKFwiLFwiKSA6IFwiKi8qXCI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3hzKHQuRmlsZVBhbmVsLlRhYlBhbmVsLCB7IGNsYXNzTmFtZTogXCJibi10YWItcGFuZWxcIiwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkZpbGVQYW5lbC5GaWxlSW5wdXQsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1maWxlLWlucHV0XCIsXG4gICAgICAgIFwiZGF0YS10ZXN0XCI6IFwidXBsb2FkLWlucHV0XCIsXG4gICAgICAgIGFjY2VwdDogbSxcbiAgICAgICAgcGxhY2Vob2xkZXI6IG4uZmlsZV9wYW5lbC51cGxvYWQuZmlsZV9wbGFjZWhvbGRlcltvLnR5cGVdIHx8IG4uZmlsZV9wYW5lbC51cGxvYWQuZmlsZV9wbGFjZWhvbGRlci5maWxlLFxuICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgb25DaGFuZ2U6IHVcbiAgICAgIH1cbiAgICApLFxuICAgIGMgJiYgLyogQF9fUFVSRV9fICovIHIuanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJuLWVycm9yLXRleHRcIiwgY2hpbGRyZW46IG4uZmlsZV9wYW5lbC51cGxvYWQudXBsb2FkX2Vycm9yIH0pXG4gIF0gfSk7XG59LCBzbiA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSBrKCksIG4gPSBTKCksIG8gPSBIKCksIFtsLCBhXSA9IHgoITEpLCBjID0gZS50YWJzID8/IFtcbiAgICAuLi5vLnVwbG9hZEZpbGUgIT09IHZvaWQgMCA/IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogbi5maWxlX3BhbmVsLnVwbG9hZC50aXRsZSxcbiAgICAgICAgdGFiUGFuZWw6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChpciwgeyBibG9jazogZS5ibG9jaywgc2V0TG9hZGluZzogYSB9KVxuICAgICAgfVxuICAgIF0gOiBbXSxcbiAgICB7XG4gICAgICBuYW1lOiBuLmZpbGVfcGFuZWwuZW1iZWQudGl0bGUsXG4gICAgICB0YWJQYW5lbDogLyogQF9fUFVSRV9fICovIHIuanN4KHJyLCB7IGJsb2NrOiBlLmJsb2NrIH0pXG4gICAgfVxuICBdLCBbcywgdV0gPSB4KFxuICAgIGUuZGVmYXVsdE9wZW5UYWIgfHwgY1swXS5uYW1lXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5GaWxlUGFuZWwuUm9vdCxcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tcGFuZWxcIixcbiAgICAgIGRlZmF1bHRPcGVuVGFiOiBzLFxuICAgICAgb3BlblRhYjogcyxcbiAgICAgIHNldE9wZW5UYWI6IHUsXG4gICAgICB0YWJzOiBjLFxuICAgICAgbG9hZGluZzogbFxuICAgIH1cbiAgKTtcbn0sIGxyID0gKCkgPT4ge1xuICBjb25zdCBlID0gUygpLCB0ID0gaygpLCBuID0gSCgpLCBvID0gRChuKSwgW2wsIGFdID0geCghMSk7XG4gIEwoKCkgPT4ge1xuICAgIGEoITEpO1xuICB9LCBbb10pO1xuICBjb25zdCBjID0gby5sZW5ndGggPT09IDEgPyBvWzBdIDogdm9pZCAwO1xuICByZXR1cm4gYyA9PT0gdm9pZCAwIHx8ICFpZShjLCBuKSB8fCAhbi5pc0VkaXRhYmxlID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeHModC5HZW5lcmljLlBvcG92ZXIuUm9vdCwgeyBvcGVuZWQ6IGwsIHBvc2l0aW9uOiBcImJvdHRvbVwiLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LkdlbmVyaWMuUG9wb3Zlci5UcmlnZ2VyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkZvcm1hdHRpbmdUb29sYmFyLkJ1dHRvbixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgICBvbkNsaWNrOiAoKSA9PiBhKCFsKSxcbiAgICAgICAgaXNTZWxlY3RlZDogbCxcbiAgICAgICAgbWFpblRvb2x0aXA6IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfcmVwbGFjZS50b29sdGlwW2MudHlwZV0gfHwgZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9yZXBsYWNlLnRvb2x0aXAuZmlsZSxcbiAgICAgICAgbGFiZWw6IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfcmVwbGFjZS50b29sdGlwW2MudHlwZV0gfHwgZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9yZXBsYWNlLnRvb2x0aXAuZmlsZSxcbiAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KFdvLCB7fSlcbiAgICAgIH1cbiAgICApIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIHQuR2VuZXJpYy5Qb3BvdmVyLkNvbnRlbnQsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1wb3BvdmVyLWNvbnRlbnQgYm4tcGFuZWwtcG9wb3ZlclwiLFxuICAgICAgICB2YXJpYW50OiBcInBhbmVsLXBvcG92ZXJcIixcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChzbiwgeyBibG9jazogYyB9KVxuICAgICAgfVxuICAgIClcbiAgXSB9KTtcbn0sIGFyID0ge1xuICBsZWZ0OiBSbyxcbiAgY2VudGVyOiBFbyxcbiAgcmlnaHQ6IExvLFxuICBqdXN0aWZ5OiBCb1xufSwgRGUgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gaygpLCBuID0gUygpLCBvID0gSCgpLCBsID0gRChvKSwgYSA9IE0oKCkgPT4ge1xuICAgIGNvbnN0IGQgPSBsWzBdO1xuICAgIGlmIChBZShcInRleHRBbGlnbm1lbnRcIiwgZCwgbykpXG4gICAgICByZXR1cm4gZC5wcm9wcy50ZXh0QWxpZ25tZW50O1xuICB9LCBbbywgbF0pLCBjID0gXyhcbiAgICAoZCkgPT4ge1xuICAgICAgby5mb2N1cygpO1xuICAgICAgZm9yIChjb25zdCBtIG9mIGwpXG4gICAgICAgIG9lKFwidGV4dEFsaWdubWVudFwiLCBtLnR5cGUsIG8pICYmIG8udXBkYXRlQmxvY2sobSwge1xuICAgICAgICAgIHByb3BzOiB7IHRleHRBbGlnbm1lbnQ6IGQgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIFtvLCBsXVxuICApO1xuICBpZiAoIU0oKCkgPT4gISFsLmZpbmQoKGQpID0+IFwidGV4dEFsaWdubWVudFwiIGluIGQucHJvcHMpLCBbbF0pIHx8ICFvLmlzRWRpdGFibGUpXG4gICAgcmV0dXJuIG51bGw7XG4gIGNvbnN0IHUgPSBhcltlLnRleHRBbGlnbm1lbnRdO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIHQuRm9ybWF0dGluZ1Rvb2xiYXIuQnV0dG9uLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogXCJibi1idXR0b25cIixcbiAgICAgIFwiZGF0YS10ZXN0XCI6IGBhbGlnblRleHQke2UudGV4dEFsaWdubWVudC5zbGljZSgwLCAxKS50b1VwcGVyQ2FzZSgpICsgZS50ZXh0QWxpZ25tZW50LnNsaWNlKDEpfWAsXG4gICAgICBvbkNsaWNrOiAoKSA9PiBjKGUudGV4dEFsaWdubWVudCksXG4gICAgICBpc1NlbGVjdGVkOiBhID09PSBlLnRleHRBbGlnbm1lbnQsXG4gICAgICBsYWJlbDogbi5mb3JtYXR0aW5nX3Rvb2xiYXJbYGFsaWduXyR7ZS50ZXh0QWxpZ25tZW50fWBdLnRvb2x0aXAsXG4gICAgICBtYWluVG9vbHRpcDogbi5mb3JtYXR0aW5nX3Rvb2xiYXJbYGFsaWduXyR7ZS50ZXh0QWxpZ25tZW50fWBdLnRvb2x0aXAsXG4gICAgICBpY29uOiAvKiBAX19QVVJFX18gKi8gci5qc3godSwge30pXG4gICAgfVxuICApO1xufSwgY3IgPSAoZSkgPT4gW1xuICB7XG4gICAgbmFtZTogZS5zbGFzaF9tZW51LnBhcmFncmFwaC50aXRsZSxcbiAgICB0eXBlOiBcInBhcmFncmFwaFwiLFxuICAgIGljb246IHFlLFxuICAgIGlzU2VsZWN0ZWQ6ICh0KSA9PiB0LnR5cGUgPT09IFwicGFyYWdyYXBoXCJcbiAgfSxcbiAge1xuICAgIG5hbWU6IGUuc2xhc2hfbWVudS5oZWFkaW5nLnRpdGxlLFxuICAgIHR5cGU6IFwiaGVhZGluZ1wiLFxuICAgIHByb3BzOiB7IGxldmVsOiAxIH0sXG4gICAgaWNvbjogWHQsXG4gICAgaXNTZWxlY3RlZDogKHQpID0+IHQudHlwZSA9PT0gXCJoZWFkaW5nXCIgJiYgXCJsZXZlbFwiIGluIHQucHJvcHMgJiYgdC5wcm9wcy5sZXZlbCA9PT0gMVxuICB9LFxuICB7XG4gICAgbmFtZTogZS5zbGFzaF9tZW51LmhlYWRpbmdfMi50aXRsZSxcbiAgICB0eXBlOiBcImhlYWRpbmdcIixcbiAgICBwcm9wczogeyBsZXZlbDogMiB9LFxuICAgIGljb246IEp0LFxuICAgIGlzU2VsZWN0ZWQ6ICh0KSA9PiB0LnR5cGUgPT09IFwiaGVhZGluZ1wiICYmIFwibGV2ZWxcIiBpbiB0LnByb3BzICYmIHQucHJvcHMubGV2ZWwgPT09IDJcbiAgfSxcbiAge1xuICAgIG5hbWU6IGUuc2xhc2hfbWVudS5oZWFkaW5nXzMudGl0bGUsXG4gICAgdHlwZTogXCJoZWFkaW5nXCIsXG4gICAgcHJvcHM6IHsgbGV2ZWw6IDMgfSxcbiAgICBpY29uOiBRdCxcbiAgICBpc1NlbGVjdGVkOiAodCkgPT4gdC50eXBlID09PSBcImhlYWRpbmdcIiAmJiBcImxldmVsXCIgaW4gdC5wcm9wcyAmJiB0LnByb3BzLmxldmVsID09PSAzXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBlLnNsYXNoX21lbnUuYnVsbGV0X2xpc3QudGl0bGUsXG4gICAgdHlwZTogXCJidWxsZXRMaXN0SXRlbVwiLFxuICAgIGljb246IG9uLFxuICAgIGlzU2VsZWN0ZWQ6ICh0KSA9PiB0LnR5cGUgPT09IFwiYnVsbGV0TGlzdEl0ZW1cIlxuICB9LFxuICB7XG4gICAgbmFtZTogZS5zbGFzaF9tZW51Lm51bWJlcmVkX2xpc3QudGl0bGUsXG4gICAgdHlwZTogXCJudW1iZXJlZExpc3RJdGVtXCIsXG4gICAgaWNvbjogbm4sXG4gICAgaXNTZWxlY3RlZDogKHQpID0+IHQudHlwZSA9PT0gXCJudW1iZXJlZExpc3RJdGVtXCJcbiAgfSxcbiAge1xuICAgIG5hbWU6IGUuc2xhc2hfbWVudS5jaGVja19saXN0LnRpdGxlLFxuICAgIHR5cGU6IFwiY2hlY2tMaXN0SXRlbVwiLFxuICAgIGljb246IHRuLFxuICAgIGlzU2VsZWN0ZWQ6ICh0KSA9PiB0LnR5cGUgPT09IFwiY2hlY2tMaXN0SXRlbVwiXG4gIH1cbl0sIHNyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IGsoKSwgbiA9IFMoKSwgbyA9IEgoKSwgbCA9IEQobyksIFthLCBjXSA9IHgoby5nZXRUZXh0Q3Vyc29yUG9zaXRpb24oKS5ibG9jayksIHMgPSBNKCgpID0+IChlLml0ZW1zIHx8IGNyKG4pKS5maWx0ZXIoXG4gICAgKG0pID0+IG0udHlwZSBpbiBvLnNjaGVtYS5ibG9ja1NjaGVtYVxuICApLCBbbywgbiwgZS5pdGVtc10pLCB1ID0gTShcbiAgICAoKSA9PiBzLmZpbmQoKG0pID0+IG0udHlwZSA9PT0gYS50eXBlKSAhPT0gdm9pZCAwLFxuICAgIFthLnR5cGUsIHNdXG4gICksIGQgPSBNKCgpID0+IHtcbiAgICBjb25zdCBtID0gKGgpID0+IHtcbiAgICAgIG8uZm9jdXMoKTtcbiAgICAgIGZvciAoY29uc3QgZyBvZiBsKVxuICAgICAgICBvLnVwZGF0ZUJsb2NrKGcsIHtcbiAgICAgICAgICB0eXBlOiBoLnR5cGUsXG4gICAgICAgICAgcHJvcHM6IGgucHJvcHNcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gcy5tYXAoKGgpID0+IHtcbiAgICAgIGNvbnN0IGcgPSBoLmljb247XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0OiBoLm5hbWUsXG4gICAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeChnLCB7IHNpemU6IDE2IH0pLFxuICAgICAgICBvbkNsaWNrOiAoKSA9PiBtKGgpLFxuICAgICAgICBpc1NlbGVjdGVkOiBoLmlzU2VsZWN0ZWQoYSlcbiAgICAgIH07XG4gICAgfSk7XG4gIH0sIFthLCBzLCBvLCBsXSk7XG4gIHJldHVybiBXKCgpID0+IHtcbiAgICBjKG8uZ2V0VGV4dEN1cnNvclBvc2l0aW9uKCkuYmxvY2spO1xuICB9LCBvKSwgIXUgfHwgIW8uaXNFZGl0YWJsZSA/IG51bGwgOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5Gb3JtYXR0aW5nVG9vbGJhci5TZWxlY3QsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLXNlbGVjdFwiLFxuICAgICAgaXRlbXM6IGRcbiAgICB9XG4gICk7XG59LCB1ciA9ICgpID0+IHtcbiAgY29uc3QgZSA9IFMoKSwgdCA9IGsoKSwgbiA9IEgoKSwgW28sIGxdID0geCgpLCBhID0gRChuKSwgYyA9IE0oKCkgPT4ge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gMSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBkID0gYVswXTtcbiAgICBpZiAoaWUoZCwgbikpXG4gICAgICByZXR1cm4gbChkLnByb3BzLm5hbWUpLCBkO1xuICB9LCBbbiwgYV0pLCBzID0gXyhcbiAgICAoZCkgPT4ge1xuICAgICAgYyAmJiBkLmtleSA9PT0gXCJFbnRlclwiICYmIChkLnByZXZlbnREZWZhdWx0KCksIG4udXBkYXRlQmxvY2soYywge1xuICAgICAgICBwcm9wczoge1xuICAgICAgICAgIG5hbWU6IG9cbiAgICAgICAgICAvLyBUT0RPXG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFtvLCBuLCBjXVxuICApLCB1ID0gXyhcbiAgICAoZCkgPT4gbChkLmN1cnJlbnRUYXJnZXQudmFsdWUpLFxuICAgIFtdXG4gICk7XG4gIHJldHVybiAhYyB8fCBsZShjLCBuKSB8fCAhbi5pc0VkaXRhYmxlID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeHModC5HZW5lcmljLlBvcG92ZXIuUm9vdCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LkdlbmVyaWMuUG9wb3Zlci5UcmlnZ2VyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkZvcm1hdHRpbmdUb29sYmFyLkJ1dHRvbixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgICBsYWJlbDogZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9yZW5hbWUudG9vbHRpcFtjLnR5cGVdIHx8IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfcmVuYW1lLnRvb2x0aXAuZmlsZSxcbiAgICAgICAgbWFpblRvb2x0aXA6IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfcmVuYW1lLnRvb2x0aXBbYy50eXBlXSB8fCBlLmZvcm1hdHRpbmdfdG9vbGJhci5maWxlX3JlbmFtZS50b29sdGlwLmZpbGUsXG4gICAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeChTdCwge30pXG4gICAgICB9XG4gICAgKSB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkdlbmVyaWMuUG9wb3Zlci5Db250ZW50LFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IFwiYm4tcG9wb3Zlci1jb250ZW50IGJuLWZvcm0tcG9wb3ZlclwiLFxuICAgICAgICB2YXJpYW50OiBcImZvcm0tcG9wb3ZlclwiLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KHQuR2VuZXJpYy5Gb3JtLlJvb3QsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICB0LkdlbmVyaWMuRm9ybS5UZXh0SW5wdXQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJmaWxlLW5hbWVcIixcbiAgICAgICAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeChTdCwge30pLFxuICAgICAgICAgICAgdmFsdWU6IG8gfHwgXCJcIixcbiAgICAgICAgICAgIGF1dG9Gb2N1czogITAsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9yZW5hbWUuaW5wdXRfcGxhY2Vob2xkZXJbYy50eXBlXSB8fCBlLmZvcm1hdHRpbmdfdG9vbGJhci5maWxlX3JlbmFtZS5pbnB1dF9wbGFjZWhvbGRlci5maWxlLFxuICAgICAgICAgICAgb25LZXlEb3duOiBzLFxuICAgICAgICAgICAgb25DaGFuZ2U6IHVcbiAgICAgICAgICB9XG4gICAgICAgICkgfSlcbiAgICAgIH1cbiAgICApXG4gIF0gfSk7XG59LCBkciA9ICgpID0+IHtcbiAgY29uc3QgZSA9IFMoKSwgdCA9IGsoKSwgbiA9IEgoKSwgbyA9IEQobiksIGwgPSBNKCgpID0+IHtcbiAgICBpZiAoby5sZW5ndGggIT09IDEpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgYyA9IG9bMF07XG4gICAgaWYgKGllKGMsIG4pKVxuICAgICAgcmV0dXJuIGM7XG4gIH0sIFtuLCBvXSksIGEgPSBfKCgpID0+IHtcbiAgICBsICYmIGwucHJvcHMudXJsICYmIChuLmZvY3VzKCksIG4ucmVzb2x2ZUZpbGVVcmwobC5wcm9wcy51cmwpLnRoZW4oKGMpID0+IHdpbmRvdy5vcGVuKGMpKSk7XG4gIH0sIFtuLCBsXSk7XG4gIHJldHVybiAhbCB8fCBsZShsLCBuKSA/IG51bGwgOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5Gb3JtYXR0aW5nVG9vbGJhci5CdXR0b24sXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgbGFiZWw6IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfZG93bmxvYWQudG9vbHRpcFtsLnR5cGVdIHx8IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfZG93bmxvYWQudG9vbHRpcC5maWxlLFxuICAgICAgbWFpblRvb2x0aXA6IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfZG93bmxvYWQudG9vbHRpcFtsLnR5cGVdIHx8IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfZG93bmxvYWQudG9vbHRpcC5maWxlLFxuICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KHFvLCB7fSksXG4gICAgICBvbkNsaWNrOiBhXG4gICAgfVxuICApO1xufSwgZnIgPSAoKSA9PiB7XG4gIGNvbnN0IGUgPSBTKCksIHQgPSBrKCksIG4gPSBIKCksIG8gPSBEKG4pLCBsID0gTSgoKSA9PiB7XG4gICAgaWYgKG8ubGVuZ3RoICE9PSAxKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGMgPSBvWzBdO1xuICAgIGlmIChXbihjLCBuKSlcbiAgICAgIHJldHVybiBjO1xuICB9LCBbbiwgb10pLCBhID0gXygoKSA9PiB7XG4gICAgbCAmJiBuLnVwZGF0ZUJsb2NrKGwsIHtcbiAgICAgIHByb3BzOiB7XG4gICAgICAgIHNob3dQcmV2aWV3OiAhbC5wcm9wcy5zaG93UHJldmlld1xuICAgICAgICAvLyBUT0RPXG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtuLCBsXSk7XG4gIHJldHVybiAhbCB8fCBsZShsLCBuKSB8fCAhbi5pc0VkaXRhYmxlID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB0LkZvcm1hdHRpbmdUb29sYmFyLkJ1dHRvbixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tYnV0dG9uXCIsXG4gICAgICBsYWJlbDogXCJUb2dnbGUgcHJldmlld1wiLFxuICAgICAgbWFpblRvb2x0aXA6IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfcHJldmlld190b2dnbGUudG9vbHRpcCxcbiAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeCh6bywge30pLFxuICAgICAgaXNTZWxlY3RlZDogbC5wcm9wcy5zaG93UHJldmlldyxcbiAgICAgIG9uQ2xpY2s6IGFcbiAgICB9XG4gICk7XG59LCBtciA9ICgpID0+IHtcbiAgY29uc3QgZSA9IFMoKSwgdCA9IGsoKSwgbiA9IEgoKSwgbyA9IEQobiksIGwgPSBNKCgpID0+IHtcbiAgICBpZiAoby5sZW5ndGggIT09IDEpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgYyA9IG9bMF07XG4gICAgaWYgKGllKGMsIG4pKVxuICAgICAgcmV0dXJuIGM7XG4gIH0sIFtuLCBvXSksIGEgPSBfKCgpID0+IHtcbiAgICBuLmZvY3VzKCksIG4ucmVtb3ZlQmxvY2tzKFtsXSk7XG4gIH0sIFtuLCBsXSk7XG4gIHJldHVybiAhbCB8fCBsZShsLCBuKSB8fCAhbi5pc0VkaXRhYmxlID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB0LkZvcm1hdHRpbmdUb29sYmFyLkJ1dHRvbixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tYnV0dG9uXCIsXG4gICAgICBsYWJlbDogZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9kZWxldGUudG9vbHRpcFtsLnR5cGVdIHx8IGUuZm9ybWF0dGluZ190b29sYmFyLmZpbGVfZGVsZXRlLnRvb2x0aXAuZmlsZSxcbiAgICAgIG1haW5Ub29sdGlwOiBlLmZvcm1hdHRpbmdfdG9vbGJhci5maWxlX2RlbGV0ZS50b29sdGlwW2wudHlwZV0gfHwgZS5mb3JtYXR0aW5nX3Rvb2xiYXIuZmlsZV9kZWxldGUudG9vbHRpcC5maWxlLFxuICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KCRvLCB7fSksXG4gICAgICBvbkNsaWNrOiBhXG4gICAgfVxuICApO1xufSwgYnIgPSAoZSkgPT4gW1xuICAvKiBAX19QVVJFX18gKi8gci5qc3goc3IsIHsgaXRlbXM6IGUgfSwgXCJibG9ja1R5cGVTZWxlY3RcIiksXG4gIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0ciwge30sIFwiZmlsZUNhcHRpb25CdXR0b25cIiksXG4gIC8qIEBfX1BVUkVfXyAqLyByLmpzeChsciwge30sIFwicmVwbGFjZUZpbGVCdXR0b25cIiksXG4gIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh1ciwge30sIFwiZmlsZVJlbmFtZUJ1dHRvblwiKSxcbiAgLyogQF9fUFVSRV9fICovIHIuanN4KG1yLCB7fSwgXCJmaWxlRGVsZXRlQnV0dG9uXCIpLFxuICAvKiBAX19QVVJFX18gKi8gci5qc3goZHIsIHt9LCBcImZpbGVEb3dubG9hZEJ1dHRvblwiKSxcbiAgLyogQF9fUFVSRV9fICovIHIuanN4KGZyLCB7fSwgXCJmaWxlUHJldmlld0J1dHRvblwiKSxcbiAgLyogQF9fUFVSRV9fICovIHIuanN4KG1lLCB7IGJhc2ljVGV4dFN0eWxlOiBcImJvbGRcIiB9LCBcImJvbGRTdHlsZUJ1dHRvblwiKSxcbiAgLyogQF9fUFVSRV9fICovIHIuanN4KG1lLCB7IGJhc2ljVGV4dFN0eWxlOiBcIml0YWxpY1wiIH0sIFwiaXRhbGljU3R5bGVCdXR0b25cIiksXG4gIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICBtZSxcbiAgICB7XG4gICAgICBiYXNpY1RleHRTdHlsZTogXCJ1bmRlcmxpbmVcIlxuICAgIH0sXG4gICAgXCJ1bmRlcmxpbmVTdHlsZUJ1dHRvblwiXG4gICksXG4gIC8qIEBfX1BVUkVfXyAqLyByLmpzeChtZSwgeyBiYXNpY1RleHRTdHlsZTogXCJzdHJpa2VcIiB9LCBcInN0cmlrZVN0eWxlQnV0dG9uXCIpLFxuICAvKiBAX19QVVJFX18gKi8gci5qc3goRGUsIHsgdGV4dEFsaWdubWVudDogXCJsZWZ0XCIgfSwgXCJ0ZXh0QWxpZ25MZWZ0QnV0dG9uXCIpLFxuICAvKiBAX19QVVJFX18gKi8gci5qc3goRGUsIHsgdGV4dEFsaWdubWVudDogXCJjZW50ZXJcIiB9LCBcInRleHRBbGlnbkNlbnRlckJ1dHRvblwiKSxcbiAgLyogQF9fUFVSRV9fICovIHIuanN4KERlLCB7IHRleHRBbGlnbm1lbnQ6IFwicmlnaHRcIiB9LCBcInRleHRBbGlnblJpZ2h0QnV0dG9uXCIpLFxuICAvKiBAX19QVVJFX18gKi8gci5qc3goSm8sIHt9LCBcImNvbG9yU3R5bGVCdXR0b25cIiksXG4gIC8qIEBfX1BVUkVfXyAqLyByLmpzeChuciwge30sIFwibmVzdEJsb2NrQnV0dG9uXCIpLFxuICAvKiBAX19QVVJFX18gKi8gci5qc3gob3IsIHt9LCBcInVubmVzdEJsb2NrQnV0dG9uXCIpLFxuICAvKiBAX19QVVJFX18gKi8gci5qc3goZXIsIHt9LCBcImNyZWF0ZUxpbmtCdXR0b25cIilcbl0sIGhyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IGsoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB0LkZvcm1hdHRpbmdUb29sYmFyLlJvb3QsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLXRvb2xiYXIgYm4tZm9ybWF0dGluZy10b29sYmFyXCIsXG4gICAgICBjaGlsZHJlbjogZS5jaGlsZHJlbiB8fCBicihlLmJsb2NrVHlwZVNlbGVjdEl0ZW1zKVxuICAgIH1cbiAgKTtcbn0sIEV0ID0gKGUpID0+IHtcbiAgc3dpdGNoIChlKSB7XG4gICAgY2FzZSBcImxlZnRcIjpcbiAgICAgIHJldHVybiBcInRvcC1zdGFydFwiO1xuICAgIGNhc2UgXCJjZW50ZXJcIjpcbiAgICAgIHJldHVybiBcInRvcFwiO1xuICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgcmV0dXJuIFwidG9wLWVuZFwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCJ0b3Atc3RhcnRcIjtcbiAgfVxufSwgZ3IgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gaGUobnVsbCksIG4gPSBIKCksIFtvLCBsXSA9IHgoXG4gICAgKCkgPT4ge1xuICAgICAgY29uc3QgZyA9IG4uZ2V0VGV4dEN1cnNvclBvc2l0aW9uKCkuYmxvY2s7XG4gICAgICByZXR1cm4gXCJ0ZXh0QWxpZ25tZW50XCIgaW4gZy5wcm9wcyA/IEV0KFxuICAgICAgICBnLnByb3BzLnRleHRBbGlnbm1lbnRcbiAgICAgICkgOiBcInRvcC1zdGFydFwiO1xuICAgIH1cbiAgKTtcbiAgVygoKSA9PiB7XG4gICAgY29uc3QgZyA9IG4uZ2V0VGV4dEN1cnNvclBvc2l0aW9uKCkuYmxvY2s7XG4gICAgXCJ0ZXh0QWxpZ25tZW50XCIgaW4gZy5wcm9wcyA/IGwoXG4gICAgICBFdChcbiAgICAgICAgZy5wcm9wcy50ZXh0QWxpZ25tZW50XG4gICAgICApXG4gICAgKSA6IGwoXCJ0b3Atc3RhcnRcIik7XG4gIH0sIG4pO1xuICBjb25zdCBhID0gWChcbiAgICBuLmZvcm1hdHRpbmdUb29sYmFyLm9uVXBkYXRlLmJpbmQobi5mb3JtYXR0aW5nVG9vbGJhcilcbiAgKSwgeyBpc01vdW50ZWQ6IGMsIHJlZjogcywgc3R5bGU6IHUsIGdldEZsb2F0aW5nUHJvcHM6IGQgfSA9IGFlKFxuICAgIChhID09IG51bGwgPyB2b2lkIDAgOiBhLnNob3cpIHx8ICExLFxuICAgIChhID09IG51bGwgPyB2b2lkIDAgOiBhLnJlZmVyZW5jZVBvcykgfHwgbnVsbCxcbiAgICAzZTMsXG4gICAge1xuICAgICAgcGxhY2VtZW50OiBvLFxuICAgICAgbWlkZGxld2FyZTogW3JlKDEwKSwgdmUoKV0sXG4gICAgICBvbk9wZW5DaGFuZ2U6IChnLCBqKSA9PiB7XG4gICAgICAgIGcgfHwgKG4uZm9ybWF0dGluZ1Rvb2xiYXIuY2xvc2VNZW51KCksIG4uZm9jdXMoKSk7XG4gICAgICB9XG4gICAgfVxuICApLCBtID0gTSgoKSA9PiBDbyhbdCwgc10pLCBbdCwgc10pO1xuICBpZiAoIWMgfHwgIWEpXG4gICAgcmV0dXJuIG51bGw7XG4gIGlmICghYS5zaG93ICYmIHQuY3VycmVudClcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgXCJkaXZcIixcbiAgICAgIHtcbiAgICAgICAgcmVmOiBtLFxuICAgICAgICBzdHlsZTogdSxcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiB0LmN1cnJlbnQuaW5uZXJIVE1MIH1cbiAgICAgIH1cbiAgICApO1xuICBjb25zdCBoID0gZS5mb3JtYXR0aW5nVG9vbGJhciB8fCBocjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcImRpdlwiLCB7IHJlZjogbSwgc3R5bGU6IHUsIC4uLmQoKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChoLCB7fSkgfSk7XG59LCBwciA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSBrKCksIG4gPSBTKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5MaW5rVG9vbGJhci5CdXR0b24sXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgbGFiZWw6IG4ubGlua190b29sYmFyLmRlbGV0ZS50b29sdGlwLFxuICAgICAgbWFpblRvb2x0aXA6IG4ubGlua190b29sYmFyLmRlbGV0ZS50b29sdGlwLFxuICAgICAgaXNTZWxlY3RlZDogITEsXG4gICAgICBvbkNsaWNrOiBlLmRlbGV0ZUxpbmssXG4gICAgICBpY29uOiAvKiBAX19QVVJFX18gKi8gci5qc3goRG8sIHt9KVxuICAgIH1cbiAgKTtcbn0sIHhyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IGsoKSwgbiA9IFMoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeHModC5HZW5lcmljLlBvcG92ZXIuUm9vdCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LkdlbmVyaWMuUG9wb3Zlci5UcmlnZ2VyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkxpbmtUb29sYmFyLkJ1dHRvbixcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLWJ1dHRvblwiLFxuICAgICAgICBtYWluVG9vbHRpcDogbi5saW5rX3Rvb2xiYXIuZWRpdC50b29sdGlwLFxuICAgICAgICBpc1NlbGVjdGVkOiAhMSxcbiAgICAgICAgY2hpbGRyZW46IG4ubGlua190b29sYmFyLmVkaXQudGV4dFxuICAgICAgfVxuICAgICkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgdC5HZW5lcmljLlBvcG92ZXIuQ29udGVudCxcbiAgICAgIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImJuLXBvcG92ZXItY29udGVudCBibi1mb3JtLXBvcG92ZXJcIixcbiAgICAgICAgdmFyaWFudDogXCJmb3JtLXBvcG92ZXJcIixcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChjbiwgeyAuLi5lIH0pXG4gICAgICB9XG4gICAgKVxuICBdIH0pO1xufSwgdnIgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gaygpLCBuID0gUygpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIHQuTGlua1Rvb2xiYXIuQnV0dG9uLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogXCJibi1idXR0b25cIixcbiAgICAgIG1haW5Ub29sdGlwOiBuLmxpbmtfdG9vbGJhci5vcGVuLnRvb2x0aXAsXG4gICAgICBsYWJlbDogbi5saW5rX3Rvb2xiYXIub3Blbi50b29sdGlwLFxuICAgICAgaXNTZWxlY3RlZDogITEsXG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5vcGVuKGUudXJsLCBcIl9ibGFua1wiKTtcbiAgICAgIH0sXG4gICAgICBpY29uOiAvKiBAX19QVVJFX18gKi8gci5qc3goWW8sIHt9KVxuICAgIH1cbiAgKTtcbn0sIGtyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IGsoKTtcbiAgcmV0dXJuIGUuY2hpbGRyZW4gPyAvKiBAX19QVVJFX18gKi8gci5qc3godC5MaW5rVG9vbGJhci5Sb290LCB7IGNsYXNzTmFtZTogXCJibi10b29sYmFyIGJuLWxpbmstdG9vbGJhclwiLCBjaGlsZHJlbjogZS5jaGlsZHJlbiB9KSA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoXG4gICAgdC5MaW5rVG9vbGJhci5Sb290LFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogXCJibi10b29sYmFyIGJuLWxpbmstdG9vbGJhclwiLFxuICAgICAgb25Nb3VzZUVudGVyOiBlLnN0b3BIaWRlVGltZXIsXG4gICAgICBvbk1vdXNlTGVhdmU6IGUuc3RhcnRIaWRlVGltZXIsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgeHIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgdXJsOiBlLnVybCxcbiAgICAgICAgICAgIHRleHQ6IGUudGV4dCxcbiAgICAgICAgICAgIGVkaXRMaW5rOiBlLmVkaXRMaW5rXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8gci5qc3godnIsIHsgdXJsOiBlLnVybCB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIHIuanN4KHByLCB7IGRlbGV0ZUxpbms6IGUuZGVsZXRlTGluayB9KVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn0sIENyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IEgoKSwgbiA9IHtcbiAgICBkZWxldGVMaW5rOiB0LmxpbmtUb29sYmFyLmRlbGV0ZUxpbmssXG4gICAgZWRpdExpbms6IHQubGlua1Rvb2xiYXIuZWRpdExpbmssXG4gICAgc3RhcnRIaWRlVGltZXI6IHQubGlua1Rvb2xiYXIuc3RhcnRIaWRlVGltZXIsXG4gICAgc3RvcEhpZGVUaW1lcjogdC5saW5rVG9vbGJhci5zdG9wSGlkZVRpbWVyXG4gIH0sIG8gPSBYKFxuICAgIHQubGlua1Rvb2xiYXIub25VcGRhdGUuYmluZCh0LmxpbmtUb29sYmFyKVxuICApLCB7IGlzTW91bnRlZDogbCwgcmVmOiBhLCBzdHlsZTogYywgZ2V0RmxvYXRpbmdQcm9wczogcyB9ID0gYWUoXG4gICAgKG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8uc2hvdykgfHwgITEsXG4gICAgKG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8ucmVmZXJlbmNlUG9zKSB8fCBudWxsLFxuICAgIDRlMyxcbiAgICB7XG4gICAgICBwbGFjZW1lbnQ6IFwidG9wLXN0YXJ0XCIsXG4gICAgICBtaWRkbGV3YXJlOiBbcmUoMTApLCB2ZSgpXSxcbiAgICAgIG9uT3BlbkNoYW5nZTogKGcpID0+IHtcbiAgICAgICAgZyB8fCAodC5saW5rVG9vbGJhci5jbG9zZU1lbnUoKSwgdC5mb2N1cygpKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIGlmICghbCB8fCAhbylcbiAgICByZXR1cm4gbnVsbDtcbiAgY29uc3QgeyBzaG93OiB1LCByZWZlcmVuY2VQb3M6IGQsIC4uLm0gfSA9IG8sIGggPSBlLmxpbmtUb29sYmFyIHx8IGtyO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFwiZGl2XCIsIHsgcmVmOiBhLCBzdHlsZTogYywgLi4ucygpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KGgsIHsgLi4ubSwgLi4ubiB9KSB9KTtcbn0sIHlyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IEgoKTtcbiAgaWYgKCF0LmZpbGVQYW5lbClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkZpbGVUb29sYmFyQ29udHJvbGxlciBjYW4gb25seSBiZSB1c2VkIHdoZW4gQmxvY2tOb3RlIGVkaXRvciBzY2hlbWEgY29udGFpbnMgZmlsZSBibG9ja1wiXG4gICAgKTtcbiAgY29uc3QgbiA9IFgoXG4gICAgdC5maWxlUGFuZWwub25VcGRhdGUuYmluZCh0LmZpbGVQYW5lbClcbiAgKSwgeyBpc01vdW50ZWQ6IG8sIHJlZjogbCwgc3R5bGU6IGEsIGdldEZsb2F0aW5nUHJvcHM6IGMgfSA9IGFlKFxuICAgIChuID09IG51bGwgPyB2b2lkIDAgOiBuLnNob3cpIHx8ICExLFxuICAgIChuID09IG51bGwgPyB2b2lkIDAgOiBuLnJlZmVyZW5jZVBvcykgfHwgbnVsbCxcbiAgICA1ZTMsXG4gICAge1xuICAgICAgcGxhY2VtZW50OiBcImJvdHRvbVwiLFxuICAgICAgbWlkZGxld2FyZTogW3JlKDEwKSwgdmUoKV0sXG4gICAgICBvbk9wZW5DaGFuZ2U6IChoKSA9PiB7XG4gICAgICAgIGggfHwgKHQuZmlsZVBhbmVsLmNsb3NlTWVudSgpLCB0LmZvY3VzKCkpO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbiAgaWYgKCFvIHx8ICFuKVxuICAgIHJldHVybiBudWxsO1xuICBjb25zdCB7IHNob3c6IHMsIHJlZmVyZW5jZVBvczogdSwgLi4uZCB9ID0gbiwgbSA9IGUuZmlsZVBhbmVsIHx8IHNuO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFwiZGl2XCIsIHsgcmVmOiBsLCBzdHlsZTogYSwgLi4uYygpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KG0sIHsgLi4uZCB9KSB9KTtcbn07XG5mdW5jdGlvbiBqcihlKSB7XG4gIHJldHVybiBDKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDEwMjQgMTAyNFwiIH0sIGNoaWxkOiBbeyB0YWc6IFwicGF0aFwiLCBhdHRyOiB7IGQ6IFwiTTQ4MiAxNTJoNjBxOCAwIDggOHY3MDRxMCA4LTggOGgtNjBxLTggMC04LThWMTYwcTAtOCA4LThaXCIgfSwgY2hpbGQ6IFtdIH0sIHsgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0xOTIgNDc0aDY3MnE4IDAgOCA4djYwcTAgOC04IDhIMTYwcS04IDAtOC04di02MHEwLTggOC04WlwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmNvbnN0IHdyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IGsoKSwgbiA9IFMoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB0LlNpZGVNZW51LkJ1dHRvbixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tYnV0dG9uXCIsXG4gICAgICBsYWJlbDogbi5zaWRlX21lbnUuYWRkX2Jsb2NrX2xhYmVsLFxuICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICBqcixcbiAgICAgICAge1xuICAgICAgICAgIHNpemU6IDI0LFxuICAgICAgICAgIG9uQ2xpY2s6IGUuYWRkQmxvY2ssXG4gICAgICAgICAgXCJkYXRhLXRlc3RcIjogXCJkcmFnSGFuZGxlQWRkXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn07XG5mdW5jdGlvbiB1bihlKSB7XG4gIHJldHVybiBDKHsgdGFnOiBcInN2Z1wiLCBhdHRyOiB7IHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIgfSwgY2hpbGQ6IFt7IHRhZzogXCJwYXRoXCIsIGF0dHI6IHsgZmlsbDogXCJub25lXCIsIGQ6IFwiTTAgMGgyNHYyNEgwVjB6XCIgfSwgY2hpbGQ6IFtdIH0sIHsgdGFnOiBcInBhdGhcIiwgYXR0cjogeyBkOiBcIk0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTIgLjktMiAyLTIgMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0wLTZjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem02IDRjMS4xIDAgMi0uOSAyLTJzLS45LTItMi0yLTIgLjktMiAyIC45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yem0wIDZjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyIDItLjkgMi0yLS45LTItMi0yelwiIH0sIGNoaWxkOiBbXSB9XSB9KShlKTtcbn1cbmNvbnN0IEhyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IGsoKSwgbiA9IEgoKTtcbiAgcmV0dXJuICFvZShcInRleHRDb2xvclwiLCBlLmJsb2NrLnR5cGUsIG4pICYmICFvZShcImJhY2tncm91bmRDb2xvclwiLCBlLmJsb2NrLnR5cGUsIG4pID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeHModC5HZW5lcmljLk1lbnUuUm9vdCwgeyBwb3NpdGlvbjogXCJyaWdodFwiLCBzdWI6ICEwLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LkdlbmVyaWMuTWVudS5UcmlnZ2VyLCB7IHN1YjogITAsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICB0LkdlbmVyaWMuTWVudS5JdGVtLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IFwiYm4tbWVudS1pdGVtXCIsXG4gICAgICAgIHN1YlRyaWdnZXI6ICEwLFxuICAgICAgICBjaGlsZHJlbjogZS5jaGlsZHJlblxuICAgICAgfVxuICAgICkgfSksXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgdC5HZW5lcmljLk1lbnUuRHJvcGRvd24sXG4gICAgICB7XG4gICAgICAgIHN1YjogITAsXG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1tZW51LWRyb3Bkb3duIGJuLWNvbG9yLXBpY2tlci1kcm9wZG93blwiLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICAgIGFuLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGljb25TaXplOiAxOCxcbiAgICAgICAgICAgIHRleHQ6IG9lKFxuICAgICAgICAgICAgICBcInRleHRDb2xvclwiLFxuICAgICAgICAgICAgICBlLmJsb2NrLnR5cGUsXG4gICAgICAgICAgICAgIG5cbiAgICAgICAgICAgICkgJiYgQWUoXCJ0ZXh0Q29sb3JcIiwgZS5ibG9jaywgbikgPyB7XG4gICAgICAgICAgICAgIGNvbG9yOiBlLmJsb2NrLnByb3BzLnRleHRDb2xvcixcbiAgICAgICAgICAgICAgc2V0Q29sb3I6IChvKSA9PiBuLnVwZGF0ZUJsb2NrKGUuYmxvY2ssIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBlLmJsb2NrLnR5cGUsXG4gICAgICAgICAgICAgICAgcHJvcHM6IHsgdGV4dENvbG9yOiBvIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gOiB2b2lkIDAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBvZShcbiAgICAgICAgICAgICAgXCJiYWNrZ3JvdW5kQ29sb3JcIixcbiAgICAgICAgICAgICAgZS5ibG9jay50eXBlLFxuICAgICAgICAgICAgICBuXG4gICAgICAgICAgICApICYmIEFlKFwiYmFja2dyb3VuZENvbG9yXCIsIGUuYmxvY2ssIG4pID8ge1xuICAgICAgICAgICAgICBjb2xvcjogZS5ibG9jay5wcm9wcy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgIHNldENvbG9yOiAobykgPT4gbi51cGRhdGVCbG9jayhlLmJsb2NrLCB7XG4gICAgICAgICAgICAgICAgcHJvcHM6IHsgYmFja2dyb3VuZENvbG9yOiBvIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gOiB2b2lkIDBcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICApXG4gIF0gfSk7XG59LCBfciA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSBrKCksIG4gPSBIKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5HZW5lcmljLk1lbnUuSXRlbSxcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tbWVudS1pdGVtXCIsXG4gICAgICBvbkNsaWNrOiAoKSA9PiBuLnJlbW92ZUJsb2NrcyhbZS5ibG9ja10pLFxuICAgICAgY2hpbGRyZW46IGUuY2hpbGRyZW5cbiAgICB9XG4gICk7XG59LCBTciA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSBrKCksIG4gPSBTKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5HZW5lcmljLk1lbnUuRHJvcGRvd24sXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLW1lbnUtZHJvcGRvd24gYm4tZHJhZy1oYW5kbGUtbWVudVwiLFxuICAgICAgY2hpbGRyZW46IGUuY2hpbGRyZW4gfHwgLyogQF9fUFVSRV9fICovIHIuanN4cyhyLkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChfciwgeyAuLi5lLCBjaGlsZHJlbjogbi5kcmFnX2hhbmRsZS5kZWxldGVfbWVudWl0ZW0gfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChIciwgeyAuLi5lLCBjaGlsZHJlbjogbi5kcmFnX2hhbmRsZS5jb2xvcnNfbWVudWl0ZW0gfSlcbiAgICAgIF0gfSlcbiAgICB9XG4gICk7XG59LCBNciA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSBrKCksIG4gPSBTKCksIG8gPSBlLmRyYWdIYW5kbGVNZW51IHx8IFNyO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4cyhcbiAgICB0LkdlbmVyaWMuTWVudS5Sb290LFxuICAgIHtcbiAgICAgIG9uT3BlbkNoYW5nZTogKGwpID0+IHtcbiAgICAgICAgbCA/IGUuZnJlZXplTWVudSgpIDogKGUudW5mcmVlemVNZW51KCksIGUuZWRpdG9yLmZvY3VzKCkpO1xuICAgICAgfSxcbiAgICAgIHBvc2l0aW9uOiBcImxlZnRcIixcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LkdlbmVyaWMuTWVudS5UcmlnZ2VyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgdC5TaWRlTWVudS5CdXR0b24sXG4gICAgICAgICAge1xuICAgICAgICAgICAgbGFiZWw6IG4uc2lkZV9tZW51LmRyYWdfaGFuZGxlX2xhYmVsLFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiAhMCxcbiAgICAgICAgICAgIG9uRHJhZ1N0YXJ0OiBlLmJsb2NrRHJhZ1N0YXJ0LFxuICAgICAgICAgICAgb25EcmFnRW5kOiBlLmJsb2NrRHJhZ0VuZCxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJibi1idXR0b25cIixcbiAgICAgICAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeCh1biwgeyBzaXplOiAyNCwgXCJkYXRhLXRlc3RcIjogXCJkcmFnSGFuZGxlXCIgfSlcbiAgICAgICAgICB9XG4gICAgICAgICkgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChvLCB7IGJsb2NrOiBlLmJsb2NrIH0pXG4gICAgICBdXG4gICAgfVxuICApO1xufSwgVnIgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gaygpLCB7IGFkZEJsb2NrOiBuLCAuLi5vIH0gPSBlLCBsID0gTSgoKSA9PiB7XG4gICAgY29uc3QgYSA9IHtcbiAgICAgIFwiZGF0YS1ibG9jay10eXBlXCI6IGUuYmxvY2sudHlwZVxuICAgIH07XG4gICAgcmV0dXJuIGUuYmxvY2sudHlwZSA9PT0gXCJoZWFkaW5nXCIgJiYgKGFbXCJkYXRhLWxldmVsXCJdID0gZS5ibG9jay5wcm9wcy5sZXZlbC50b1N0cmluZygpKSwgZS5lZGl0b3Iuc2NoZW1hLmJsb2NrU2NoZW1hW2UuYmxvY2sudHlwZV0uaXNGaWxlQmxvY2sgJiYgKGUuYmxvY2sucHJvcHMudXJsID8gYVtcImRhdGEtdXJsXCJdID0gXCJ0cnVlXCIgOiBhW1wiZGF0YS11cmxcIl0gPSBcImZhbHNlXCIpLCBhO1xuICB9LCBbZS5ibG9jaywgZS5lZGl0b3Iuc2NoZW1hLmJsb2NrU2NoZW1hXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3godC5TaWRlTWVudS5Sb290LCB7IGNsYXNzTmFtZTogXCJibi1zaWRlLW1lbnVcIiwgLi4ubCwgY2hpbGRyZW46IGUuY2hpbGRyZW4gfHwgLyogQF9fUFVSRV9fICovIHIuanN4cyhyLkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KHdyLCB7IGFkZEJsb2NrOiBuIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChNciwgeyAuLi5vIH0pXG4gIF0gfSkgfSk7XG59LCBUciA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSBIKCksIG4gPSB7XG4gICAgYWRkQmxvY2s6IHQuc2lkZU1lbnUuYWRkQmxvY2ssXG4gICAgYmxvY2tEcmFnU3RhcnQ6IHQuc2lkZU1lbnUuYmxvY2tEcmFnU3RhcnQsXG4gICAgYmxvY2tEcmFnRW5kOiB0LnNpZGVNZW51LmJsb2NrRHJhZ0VuZCxcbiAgICBmcmVlemVNZW51OiB0LnNpZGVNZW51LmZyZWV6ZU1lbnUsXG4gICAgdW5mcmVlemVNZW51OiB0LnNpZGVNZW51LnVuZnJlZXplTWVudVxuICB9LCBvID0gWChcbiAgICB0LnNpZGVNZW51Lm9uVXBkYXRlLmJpbmQodC5zaWRlTWVudSlcbiAgKSwgeyBpc01vdW50ZWQ6IGwsIHJlZjogYSwgc3R5bGU6IGMsIGdldEZsb2F0aW5nUHJvcHM6IHMgfSA9IGFlKFxuICAgIChvID09IG51bGwgPyB2b2lkIDAgOiBvLnNob3cpIHx8ICExLFxuICAgIChvID09IG51bGwgPyB2b2lkIDAgOiBvLnJlZmVyZW5jZVBvcykgfHwgbnVsbCxcbiAgICAxZTMsXG4gICAge1xuICAgICAgcGxhY2VtZW50OiBcImxlZnQtc3RhcnRcIlxuICAgIH1cbiAgKTtcbiAgaWYgKCFsIHx8ICFvKVxuICAgIHJldHVybiBudWxsO1xuICBjb25zdCB7IHNob3c6IHUsIHJlZmVyZW5jZVBvczogZCwgLi4ubSB9ID0gbywgaCA9IGUuc2lkZU1lbnUgfHwgVnI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXCJkaXZcIiwgeyByZWY6IGEsIHN0eWxlOiBjLCAuLi5zKCksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goaCwgeyAuLi5tLCAuLi5uLCBlZGl0b3I6IHQgfSkgfSk7XG59O1xuZnVuY3Rpb24gRXIoZSkge1xuICBjb25zdCB0ID0gaygpLCBuID0gUygpLCB7IGl0ZW1zOiBvLCBsb2FkaW5nU3RhdGU6IGwsIHNlbGVjdGVkSW5kZXg6IGEsIG9uSXRlbUNsaWNrOiBjIH0gPSBlLCBzID0gbCA9PT0gXCJsb2FkaW5nLWluaXRpYWxcIiB8fCBsID09PSBcImxvYWRpbmdcIiA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LlN1Z2dlc3Rpb25NZW51LkxvYWRlciwgeyBjbGFzc05hbWU6IFwiYm4tc3VnZ2VzdGlvbi1tZW51LWxvYWRlclwiLCBjaGlsZHJlbjogbi5zdWdnZXN0aW9uX21lbnUubG9hZGluZyB9KSA6IG51bGwsIHUgPSBNKCgpID0+IHtcbiAgICBsZXQgZDtcbiAgICBjb25zdCBtID0gW107XG4gICAgZm9yIChsZXQgaCA9IDA7IGggPCBvLmxlbmd0aDsgaCsrKSB7XG4gICAgICBjb25zdCBnID0gb1toXTtcbiAgICAgIGcuZ3JvdXAgIT09IGQgJiYgKGQgPSBnLmdyb3VwLCBtLnB1c2goXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICB0LlN1Z2dlc3Rpb25NZW51LkxhYmVsLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJibi1zdWdnZXN0aW9uLW1lbnUtbGFiZWxcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBkXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkXG4gICAgICAgIClcbiAgICAgICkpLCBtLnB1c2goXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICB0LlN1Z2dlc3Rpb25NZW51Lkl0ZW0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJuLXN1Z2dlc3Rpb24tbWVudS1pdGVtXCIsXG4gICAgICAgICAgICBpdGVtOiBnLFxuICAgICAgICAgICAgaWQ6IGBibi1zdWdnZXN0aW9uLW1lbnUtaXRlbS0ke2h9YCxcbiAgICAgICAgICAgIGlzU2VsZWN0ZWQ6IGggPT09IGEsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBjID09IG51bGwgPyB2b2lkIDAgOiBjKGcpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBnLnRpdGxlXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBtO1xuICB9LCBbdCwgbywgYywgYV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4cyhcbiAgICB0LlN1Z2dlc3Rpb25NZW51LlJvb3QsXG4gICAge1xuICAgICAgaWQ6IFwiYm4tc3VnZ2VzdGlvbi1tZW51XCIsXG4gICAgICBjbGFzc05hbWU6IFwiYm4tc3VnZ2VzdGlvbi1tZW51XCIsXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICB1LFxuICAgICAgICB1Lmxlbmd0aCA9PT0gMCAmJiAoZS5sb2FkaW5nU3RhdGUgPT09IFwibG9hZGluZ1wiIHx8IGUubG9hZGluZ1N0YXRlID09PSBcImxvYWRlZFwiKSAmJiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgdC5TdWdnZXN0aW9uTWVudS5FbXB0eUl0ZW0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJuLXN1Z2dlc3Rpb24tbWVudS1pdGVtXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogbi5zdWdnZXN0aW9uX21lbnUubm9faXRlbXNfdGl0bGVcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIHNcbiAgICAgIF1cbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBCcihlLCB0LCBuLCBvID0gMykge1xuICBjb25zdCBsID0gaGUoMCk7XG4gIEwoKCkgPT4ge1xuICAgIHQgIT09IHZvaWQgMCAmJiAoZS5sZW5ndGggPiAwID8gbC5jdXJyZW50ID0gdC5sZW5ndGggOiB0Lmxlbmd0aCAtIGwuY3VycmVudCA+IG8gJiYgbigpKTtcbiAgfSwgW24sIG8sIGUubGVuZ3RoLCB0XSk7XG59XG5mdW5jdGlvbiBScihlLCB0KSB7XG4gIGNvbnN0IFtuLCBvXSA9IHgoW10pLCBbbCwgYV0gPSB4KCExKSwgYyA9IGhlKCksIHMgPSBoZSgpO1xuICByZXR1cm4gTCgoKSA9PiB7XG4gICAgY29uc3QgdSA9IGU7XG4gICAgYy5jdXJyZW50ID0gZSwgYSghMCksIHQoZSkudGhlbigoZCkgPT4ge1xuICAgICAgYy5jdXJyZW50ID09PSB1ICYmIChvKGQpLCBhKCExKSwgcy5jdXJyZW50ID0gdSk7XG4gICAgfSk7XG4gIH0sIFtlLCB0XSksIHtcbiAgICBpdGVtczogbiB8fCBbXSxcbiAgICAvLyBUaGUgcXVlcnkgdGhhdCB3YXMgdXNlZCB0byByZXRyaWV2ZSB0aGUgbGFzdCBzZXQgb2YgaXRlbXMgbWF5IG5vdCBiZSB0aGVcbiAgICAvLyBzYW1lIGFzIHRoZSBjdXJyZW50IHF1ZXJ5IGFzIHRoZSBpdGVtcyBmcm9tIHRoZSBjdXJyZW50IHF1ZXJ5IG1heSBub3RcbiAgICAvLyBoYXZlIGJlZW4gcmV0cmlldmVkIHlldC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB1c2luZyB0aGUgcmV0dXJucyBvZiB0aGlzXG4gICAgLy8gaG9vayBpbiBvdGhlciBob29rcy5cbiAgICB1c2VkUXVlcnk6IHMuY3VycmVudCxcbiAgICBsb2FkaW5nU3RhdGU6IHMuY3VycmVudCA9PT0gdm9pZCAwID8gXCJsb2FkaW5nLWluaXRpYWxcIiA6IGwgPyBcImxvYWRpbmdcIiA6IFwibG9hZGVkXCJcbiAgfTtcbn1cbmZ1bmN0aW9uIExyKGUsIHQsIG4sIG8pIHtcbiAgY29uc3QgW2wsIGFdID0geCgwKTtcbiAgcmV0dXJuIEwoKCkgPT4ge1xuICAgIGNvbnN0IGMgPSAocykgPT4gcy5rZXkgPT09IFwiQXJyb3dVcFwiID8gKHMucHJldmVudERlZmF1bHQoKSwgbi5sZW5ndGggJiYgYSgobCAtIDEgKyBuLmxlbmd0aCkgJSBuLmxlbmd0aCksICEwKSA6IHMua2V5ID09PSBcIkFycm93RG93blwiID8gKHMucHJldmVudERlZmF1bHQoKSwgbi5sZW5ndGggJiYgYSgobCArIDEpICUgbi5sZW5ndGgpLCAhMCkgOiBzLmtleSA9PT0gXCJFbnRlclwiID8gKHMucHJldmVudERlZmF1bHQoKSwgbi5sZW5ndGggJiYgKG8gPT0gbnVsbCB8fCBvKG5bbF0pKSwgITApIDogITE7XG4gICAgcmV0dXJuIGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJrZXlkb3duXCIsXG4gICAgICBjLFxuICAgICAgITBcbiAgICApLCAoKSA9PiB7XG4gICAgICBlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJrZXlkb3duXCIsXG4gICAgICAgIGMsXG4gICAgICAgICEwXG4gICAgICApO1xuICAgIH07XG4gIH0sIFtlLmRvbUVsZW1lbnQsIG4sIGwsIG9dKSwgTCgoKSA9PiB7XG4gICAgYSgwKTtcbiAgfSwgW3RdKSwge1xuICAgIHNlbGVjdGVkSW5kZXg6IG4ubGVuZ3RoID09PSAwID8gdm9pZCAwIDogbFxuICB9O1xufVxuZnVuY3Rpb24gUHIoZSkge1xuICBjb25zdCBuID0geigpLnNldENvbnRlbnRFZGl0YWJsZVByb3BzLCBvID0gSCgpLCB7XG4gICAgZ2V0SXRlbXM6IGwsXG4gICAgc3VnZ2VzdGlvbk1lbnVDb21wb25lbnQ6IGEsXG4gICAgcXVlcnk6IGMsXG4gICAgY2xlYXJRdWVyeTogcyxcbiAgICBjbG9zZU1lbnU6IHUsXG4gICAgb25JdGVtQ2xpY2s6IGRcbiAgfSA9IGUsIG0gPSBfKFxuICAgIChPKSA9PiB7XG4gICAgICB1KCksIHMoKSwgZCA9PSBudWxsIHx8IGQoTyk7XG4gICAgfSxcbiAgICBbZCwgdSwgc11cbiAgKSwgeyBpdGVtczogaCwgdXNlZFF1ZXJ5OiBnLCBsb2FkaW5nU3RhdGU6IGogfSA9IFJyKFxuICAgIGMsXG4gICAgbFxuICApO1xuICBCcihoLCBnLCB1KTtcbiAgY29uc3QgeyBzZWxlY3RlZEluZGV4OiBUIH0gPSBMcihcbiAgICBvLFxuICAgIGMsXG4gICAgaCxcbiAgICBtXG4gICk7XG4gIEwoKCkgPT4gKG4oKE8pID0+ICh7XG4gICAgLi4uTyxcbiAgICBcImFyaWEtZXhwYW5kZWRcIjogITAsXG4gICAgXCJhcmlhLWNvbnRyb2xzXCI6IFwiYm4tc3VnZ2VzdGlvbi1tZW51XCJcbiAgfSkpLCAoKSA9PiB7XG4gICAgbigoTykgPT4gKHtcbiAgICAgIC4uLk8sXG4gICAgICBcImFyaWEtZXhwYW5kZWRcIjogITEsXG4gICAgICBcImFyaWEtY29udHJvbHNcIjogdm9pZCAwXG4gICAgfSkpO1xuICB9KSwgW25dKSwgTCgoKSA9PiAobigoTykgPT4gKHtcbiAgICAuLi5PLFxuICAgIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IFQgPyBcImJuLXN1Z2dlc3Rpb24tbWVudS1pdGVtLVwiICsgVCA6IHZvaWQgMFxuICB9KSksICgpID0+IHtcbiAgICBuKChPKSA9PiAoe1xuICAgICAgLi4uTyxcbiAgICAgIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IHZvaWQgMFxuICAgIH0pKTtcbiAgfSksIFtuLCBUXSk7XG4gIGNvbnN0IEUgPSBhO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIEUsXG4gICAge1xuICAgICAgaXRlbXM6IGgsXG4gICAgICBvbkl0ZW1DbGljazogbSxcbiAgICAgIGxvYWRpbmdTdGF0ZTogaixcbiAgICAgIHNlbGVjdGVkSW5kZXg6IFRcbiAgICB9XG4gICk7XG59XG5jb25zdCBPciA9IHtcbiAgaGVhZGluZzogWHQsXG4gIGhlYWRpbmdfMjogSnQsXG4gIGhlYWRpbmdfMzogUXQsXG4gIG51bWJlcmVkX2xpc3Q6IG5uLFxuICBidWxsZXRfbGlzdDogb24sXG4gIGNoZWNrX2xpc3Q6IHRuLFxuICBwYXJhZ3JhcGg6IHFlLFxuICB0YWJsZTogQW8sXG4gIGltYWdlOiBybixcbiAgdmlkZW86IFVvLFxuICBhdWRpbzogbG4sXG4gIGZpbGU6IENlXG59O1xuZnVuY3Rpb24gRnIoZSkge1xuICByZXR1cm4gR24oZSkubWFwKCh0KSA9PiB7XG4gICAgY29uc3QgbiA9IE9yW3Qua2V5XTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4udCxcbiAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyByLmpzeChuLCB7IHNpemU6IDE4IH0pXG4gICAgfTtcbiAgfSk7XG59XG5mdW5jdGlvbiBOcihlKSB7XG4gIGNvbnN0IHQgPSBIKCksIHsgdHJpZ2dlckNoYXJhY3Rlcjogbiwgc3VnZ2VzdGlvbk1lbnVDb21wb25lbnQ6IG8gfSA9IGUsIHsgb25JdGVtQ2xpY2s6IGwsIGdldEl0ZW1zOiBhIH0gPSBlLCBjID0gTSgoKSA9PiBsIHx8ICgoRSkgPT4ge1xuICAgIEUub25JdGVtQ2xpY2sodCk7XG4gIH0pLCBbdCwgbF0pLCBzID0gTSgoKSA9PiBhIHx8IChhc3luYyAoRSkgPT4gJG4oXG4gICAgRnIodCksXG4gICAgRVxuICApKSwgW3QsIGFdKSwgdSA9IHtcbiAgICBjbG9zZU1lbnU6IHQuc3VnZ2VzdGlvbk1lbnVzLmNsb3NlTWVudSxcbiAgICBjbGVhclF1ZXJ5OiB0LnN1Z2dlc3Rpb25NZW51cy5jbGVhclF1ZXJ5XG4gIH0sIGQgPSBfKFxuICAgIChFKSA9PiB0LnN1Z2dlc3Rpb25NZW51cy5vblVwZGF0ZShuLCBFKSxcbiAgICBbdC5zdWdnZXN0aW9uTWVudXMsIG5dXG4gICksIG0gPSBYKGQpLCB7IGlzTW91bnRlZDogaCwgcmVmOiBnLCBzdHlsZTogaiwgZ2V0RmxvYXRpbmdQcm9wczogVCB9ID0gYWUoXG4gICAgKG0gPT0gbnVsbCA/IHZvaWQgMCA6IG0uc2hvdykgfHwgITEsXG4gICAgKG0gPT0gbnVsbCA/IHZvaWQgMCA6IG0ucmVmZXJlbmNlUG9zKSB8fCBudWxsLFxuICAgIDJlMyxcbiAgICB7XG4gICAgICBwbGFjZW1lbnQ6IFwiYm90dG9tLXN0YXJ0XCIsXG4gICAgICBtaWRkbGV3YXJlOiBbXG4gICAgICAgIHJlKDEwKSxcbiAgICAgICAgLy8gRmxpcHMgdGhlIG1lbnUgcGxhY2VtZW50IHRvIG1heGltaXplIHRoZSBzcGFjZSBhdmFpbGFibGUsIGFuZCBwcmV2ZW50c1xuICAgICAgICAvLyB0aGUgbWVudSBmcm9tIGJlaW5nIGN1dCBvZmYgYnkgdGhlIGNvbmZpbmVzIG9mIHRoZSBzY3JlZW4uXG4gICAgICAgIHZlKCksXG4gICAgICAgIHpuKHtcbiAgICAgICAgICBhcHBseSh7IGF2YWlsYWJsZUhlaWdodDogRSwgZWxlbWVudHM6IE8gfSkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihPLmZsb2F0aW5nLnN0eWxlLCB7XG4gICAgICAgICAgICAgIG1heEhlaWdodDogYCR7RSAtIDEwfXB4YFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgXSxcbiAgICAgIG9uT3BlbkNoYW5nZShFKSB7XG4gICAgICAgIEUgfHwgdC5zdWdnZXN0aW9uTWVudXMuY2xvc2VNZW51KCk7XG4gICAgICB9XG4gICAgfVxuICApO1xuICByZXR1cm4gIWggfHwgIW0gPyBudWxsIDogLyogQF9fUFVSRV9fICovIHIuanN4KFwiZGl2XCIsIHsgcmVmOiBnLCBzdHlsZTogaiwgLi4uVCgpLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIFByLFxuICAgIHtcbiAgICAgIHF1ZXJ5OiBtLnF1ZXJ5LFxuICAgICAgY2xvc2VNZW51OiB1LmNsb3NlTWVudSxcbiAgICAgIGNsZWFyUXVlcnk6IHUuY2xlYXJRdWVyeSxcbiAgICAgIGdldEl0ZW1zOiBzLFxuICAgICAgc3VnZ2VzdGlvbk1lbnVDb21wb25lbnQ6IG8gfHwgRXIsXG4gICAgICBvbkl0ZW1DbGljazogY1xuICAgIH1cbiAgKSB9KTtcbn1cbmNvbnN0IERyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IGsoKSwgbiA9IFMoKSwgbyA9IEgoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB0LkdlbmVyaWMuTWVudS5JdGVtLFxuICAgIHtcbiAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgY29uc3QgbCA9IGUuYmxvY2suY29udGVudC5yb3dzW2UuaW5kZXhdLmNlbGxzLm1hcChcbiAgICAgICAgICAoKSA9PiBbXVxuICAgICAgICApLCBhID0gWy4uLmUuYmxvY2suY29udGVudC5yb3dzXTtcbiAgICAgICAgYS5zcGxpY2UoZS5pbmRleCArIChlLnNpZGUgPT09IFwiYmVsb3dcIiA/IDEgOiAwKSwgMCwge1xuICAgICAgICAgIGNlbGxzOiBsXG4gICAgICAgIH0pLCBvLnVwZGF0ZUJsb2NrKGUuYmxvY2ssIHtcbiAgICAgICAgICB0eXBlOiBcInRhYmxlXCIsXG4gICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgdHlwZTogXCJ0YWJsZUNvbnRlbnRcIixcbiAgICAgICAgICAgIHJvd3M6IGFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiBuLnRhYmxlX2hhbmRsZVtgYWRkXyR7ZS5zaWRlfV9tZW51aXRlbWBdXG4gICAgfVxuICApO1xufSwgSXIgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gaygpLCBuID0gUygpLCBvID0gSCgpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIHQuR2VuZXJpYy5NZW51Lkl0ZW0sXG4gICAge1xuICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICBjb25zdCBsID0ge1xuICAgICAgICAgIHR5cGU6IFwidGFibGVDb250ZW50XCIsXG4gICAgICAgICAgcm93czogZS5ibG9jay5jb250ZW50LnJvd3MubWFwKChhKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjID0gWy4uLmEuY2VsbHNdO1xuICAgICAgICAgICAgcmV0dXJuIGMuc3BsaWNlKGUuaW5kZXggKyAoZS5zaWRlID09PSBcInJpZ2h0XCIgPyAxIDogMCksIDAsIFtdKSwgeyBjZWxsczogYyB9O1xuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICAgIG8udXBkYXRlQmxvY2soZS5ibG9jaywge1xuICAgICAgICAgIHR5cGU6IFwidGFibGVcIixcbiAgICAgICAgICBjb250ZW50OiBsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiBuLnRhYmxlX2hhbmRsZVtgYWRkXyR7ZS5zaWRlfV9tZW51aXRlbWBdXG4gICAgfVxuICApO1xufSwgQnQgPSAoZSkgPT4gZS5vcmllbnRhdGlvbiA9PT0gXCJyb3dcIiA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeChEciwgeyAuLi5lLCBzaWRlOiBlLnNpZGUgfSkgOiAvKiBAX19QVVJFX18gKi8gci5qc3goSXIsIHsgLi4uZSwgc2lkZTogZS5zaWRlIH0pLCBBciA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSBrKCksIG4gPSBTKCksIG8gPSBIKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5HZW5lcmljLk1lbnUuSXRlbSxcbiAgICB7XG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGwgPSB7XG4gICAgICAgICAgdHlwZTogXCJ0YWJsZUNvbnRlbnRcIixcbiAgICAgICAgICByb3dzOiBlLmJsb2NrLmNvbnRlbnQucm93cy5maWx0ZXIoXG4gICAgICAgICAgICAoYSwgYykgPT4gYyAhPT0gZS5pbmRleFxuICAgICAgICAgIClcbiAgICAgICAgfTtcbiAgICAgICAgby51cGRhdGVCbG9jayhlLmJsb2NrLCB7XG4gICAgICAgICAgdHlwZTogXCJ0YWJsZVwiLFxuICAgICAgICAgIGNvbnRlbnQ6IGxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IG4udGFibGVfaGFuZGxlLmRlbGV0ZV9yb3dfbWVudWl0ZW1cbiAgICB9XG4gICk7XG59LCBaciA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSBrKCksIG4gPSBTKCksIG8gPSBIKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgdC5HZW5lcmljLk1lbnUuSXRlbSxcbiAgICB7XG4gICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGwgPSB7XG4gICAgICAgICAgdHlwZTogXCJ0YWJsZUNvbnRlbnRcIixcbiAgICAgICAgICByb3dzOiBlLmJsb2NrLmNvbnRlbnQucm93cy5tYXAoKGEpID0+ICh7XG4gICAgICAgICAgICBjZWxsczogYS5jZWxscy5maWx0ZXIoKGMsIHMpID0+IHMgIT09IGUuaW5kZXgpXG4gICAgICAgICAgfSkpXG4gICAgICAgIH07XG4gICAgICAgIG8udXBkYXRlQmxvY2soZS5ibG9jaywge1xuICAgICAgICAgIHR5cGU6IFwidGFibGVcIixcbiAgICAgICAgICBjb250ZW50OiBsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiBuLnRhYmxlX2hhbmRsZS5kZWxldGVfY29sdW1uX21lbnVpdGVtXG4gICAgfVxuICApO1xufSwgVXIgPSAoZSkgPT4gZS5vcmllbnRhdGlvbiA9PT0gXCJyb3dcIiA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeChBciwgeyAuLi5lIH0pIDogLyogQF9fUFVSRV9fICovIHIuanN4KFpyLCB7IC4uLmUgfSksIHpyID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IGsoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh0LkdlbmVyaWMuTWVudS5Ecm9wZG93biwgeyBjbGFzc05hbWU6IFwiYm4tdGFibGUtaGFuZGxlLW1lbnVcIiwgY2hpbGRyZW46IGUuY2hpbGRyZW4gfHwgLyogQF9fUFVSRV9fICovIHIuanN4cyhyLkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgVXIsXG4gICAgICB7XG4gICAgICAgIG9yaWVudGF0aW9uOiBlLm9yaWVudGF0aW9uLFxuICAgICAgICBibG9jazogZS5ibG9jayxcbiAgICAgICAgaW5kZXg6IGUuaW5kZXhcbiAgICAgIH1cbiAgICApLFxuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIEJ0LFxuICAgICAge1xuICAgICAgICBvcmllbnRhdGlvbjogZS5vcmllbnRhdGlvbixcbiAgICAgICAgYmxvY2s6IGUuYmxvY2ssXG4gICAgICAgIGluZGV4OiBlLmluZGV4LFxuICAgICAgICBzaWRlOiBlLm9yaWVudGF0aW9uID09PSBcInJvd1wiID8gXCJhYm92ZVwiIDogXCJsZWZ0XCJcbiAgICAgIH1cbiAgICApLFxuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIEJ0LFxuICAgICAge1xuICAgICAgICBvcmllbnRhdGlvbjogZS5vcmllbnRhdGlvbixcbiAgICAgICAgYmxvY2s6IGUuYmxvY2ssXG4gICAgICAgIGluZGV4OiBlLmluZGV4LFxuICAgICAgICBzaWRlOiBlLm9yaWVudGF0aW9uID09PSBcInJvd1wiID8gXCJiZWxvd1wiIDogXCJyaWdodFwiXG4gICAgICB9XG4gICAgKVxuICBdIH0pIH0pO1xufSwgV3IgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gaygpLCBbbiwgb10gPSB4KCExKSwgbCA9IGUudGFibGVIYW5kbGVNZW51IHx8IHpyO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4cyhcbiAgICB0LkdlbmVyaWMuTWVudS5Sb290LFxuICAgIHtcbiAgICAgIG9uT3BlbkNoYW5nZTogKGEpID0+IHtcbiAgICAgICAgYSA/IChlLmZyZWV6ZUhhbmRsZXMoKSwgZS5oaWRlT3RoZXJTaWRlKCkpIDogKGUudW5mcmVlemVIYW5kbGVzKCksIGUuc2hvd090aGVyU2lkZSgpLCBlLmVkaXRvci5mb2N1cygpKTtcbiAgICAgIH0sXG4gICAgICBwb3NpdGlvbjogXCJyaWdodFwiLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIHIuanN4KHQuR2VuZXJpYy5NZW51LlRyaWdnZXIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICB0LlRhYmxlSGFuZGxlLlJvb3QsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBXZShcbiAgICAgICAgICAgICAgXCJibi10YWJsZS1oYW5kbGVcIixcbiAgICAgICAgICAgICAgbiA/IFwiYm4tdGFibGUtaGFuZGxlLWRyYWdnaW5nXCIgOiBcIlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgZHJhZ2dhYmxlOiAhMCxcbiAgICAgICAgICAgIG9uRHJhZ1N0YXJ0OiAoYSkgPT4ge1xuICAgICAgICAgICAgICBvKCEwKSwgZS5kcmFnU3RhcnQoYSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25EcmFnRW5kOiAoKSA9PiB7XG4gICAgICAgICAgICAgIGUuZHJhZ0VuZCgpLCBvKCExKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHlsZTogZS5vcmllbnRhdGlvbiA9PT0gXCJjb2x1bW5cIiA/IHsgdHJhbnNmb3JtOiBcInJvdGF0ZSgwLjI1dHVybilcIiB9IDogdm9pZCAwLFxuICAgICAgICAgICAgY2hpbGRyZW46IGUuY2hpbGRyZW4gfHwgLyogQF9fUFVSRV9fICovIHIuanN4KHVuLCB7IHNpemU6IDI0LCBcImRhdGEtdGVzdFwiOiBcInRhYmxlSGFuZGxlXCIgfSlcbiAgICAgICAgICB9XG4gICAgICAgICkgfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICBsLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiBlLm9yaWVudGF0aW9uLFxuICAgICAgICAgICAgYmxvY2s6IGUuYmxvY2ssXG4gICAgICAgICAgICBpbmRleDogZS5pbmRleFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn07XG5mdW5jdGlvbiBHcihlLCB0LCBuKSB7XG4gIHJldHVybiBuICYmIG4uZHJhZ2dlZENlbGxPcmllbnRhdGlvbiA9PT0gXCJyb3dcIiA/IG5ldyBET01SZWN0KFxuICAgIHQueCxcbiAgICBuLm1vdXNlUG9zLFxuICAgIHQud2lkdGgsXG4gICAgMFxuICApIDogbmV3IERPTVJlY3QoXG4gICAgdC54LFxuICAgIGUueSxcbiAgICB0LndpZHRoLFxuICAgIGUuaGVpZ2h0XG4gICk7XG59XG5mdW5jdGlvbiAkcihlLCB0LCBuKSB7XG4gIHJldHVybiBuICYmIG4uZHJhZ2dlZENlbGxPcmllbnRhdGlvbiA9PT0gXCJjb2xcIiA/IG5ldyBET01SZWN0KFxuICAgIG4ubW91c2VQb3MsXG4gICAgdC55LFxuICAgIDAsXG4gICAgdC5oZWlnaHRcbiAgKSA6IG5ldyBET01SZWN0KFxuICAgIGUueCxcbiAgICB0LnksXG4gICAgZS53aWR0aCxcbiAgICB0LmhlaWdodFxuICApO1xufVxuZnVuY3Rpb24gUnQoZSwgdCwgbiwgbywgbCkge1xuICBjb25zdCB7IHJlZnM6IGEsIHVwZGF0ZTogYywgY29udGV4dDogcywgZmxvYXRpbmdTdHlsZXM6IHUgfSA9IE50KHtcbiAgICBvcGVuOiB0LFxuICAgIHBsYWNlbWVudDogZSA9PT0gXCJyb3dcIiA/IFwibGVmdFwiIDogXCJ0b3BcIixcbiAgICBtaWRkbGV3YXJlOiBbcmUoZSA9PT0gXCJyb3dcIiA/IC0xMCA6IC0xMildXG4gIH0pLCB7IGlzTW91bnRlZDogZCwgc3R5bGVzOiBtIH0gPSBEdChzKTtcbiAgcmV0dXJuIEwoKCkgPT4ge1xuICAgIGMoKTtcbiAgfSwgW24sIG8sIGNdKSwgTCgoKSA9PiB7XG4gICAgbiA9PT0gbnVsbCB8fCBvID09PSBudWxsIHx8IGEuc2V0UmVmZXJlbmNlKHtcbiAgICAgIGdldEJvdW5kaW5nQ2xpZW50UmVjdDogKCkgPT4gKGUgPT09IFwicm93XCIgPyBHciA6ICRyKShuLCBvLCBsKVxuICAgIH0pO1xuICB9LCBbbCwgZSwgbiwgbywgYV0pLCBNKFxuICAgICgpID0+ICh7XG4gICAgICBpc01vdW50ZWQ6IGQsXG4gICAgICByZWY6IGEuc2V0RmxvYXRpbmcsXG4gICAgICBzdHlsZToge1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgLi4ubSxcbiAgICAgICAgLi4udSxcbiAgICAgICAgekluZGV4OiAxZTRcbiAgICAgIH1cbiAgICB9KSxcbiAgICBbdSwgZCwgYS5zZXRGbG9hdGluZywgbV1cbiAgKTtcbn1cbmZ1bmN0aW9uIHFyKGUsIHQsIG4sIG8pIHtcbiAgY29uc3QgbCA9IFJ0KFxuICAgIFwicm93XCIsXG4gICAgZSxcbiAgICB0LFxuICAgIG4sXG4gICAgb1xuICApLCBhID0gUnQoXG4gICAgXCJjb2xcIixcbiAgICBlLFxuICAgIHQsXG4gICAgbixcbiAgICBvXG4gICk7XG4gIHJldHVybiBNKFxuICAgICgpID0+ICh7XG4gICAgICByb3dIYW5kbGU6IGwsXG4gICAgICBjb2xIYW5kbGU6IGFcbiAgICB9KSxcbiAgICBbYSwgbF1cbiAgKTtcbn1cbmNvbnN0IFlyID0gKGUpID0+IHtcbiAgdmFyIGcsIGo7XG4gIGNvbnN0IHQgPSBIKCk7XG4gIGlmICghdC50YWJsZUhhbmRsZXMpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJUYWJsZUhhbmRsZXNDb250cm9sbGVyIGNhbiBvbmx5IGJlIHVzZWQgd2hlbiBCbG9ja05vdGUgZWRpdG9yIHNjaGVtYSBjb250YWlucyB0YWJsZSBibG9ja1wiXG4gICAgKTtcbiAgY29uc3QgbiA9IHtcbiAgICByb3dEcmFnU3RhcnQ6IHQudGFibGVIYW5kbGVzLnJvd0RyYWdTdGFydCxcbiAgICBjb2xEcmFnU3RhcnQ6IHQudGFibGVIYW5kbGVzLmNvbERyYWdTdGFydCxcbiAgICBkcmFnRW5kOiB0LnRhYmxlSGFuZGxlcy5kcmFnRW5kLFxuICAgIGZyZWV6ZUhhbmRsZXM6IHQudGFibGVIYW5kbGVzLmZyZWV6ZUhhbmRsZXMsXG4gICAgdW5mcmVlemVIYW5kbGVzOiB0LnRhYmxlSGFuZGxlcy51bmZyZWV6ZUhhbmRsZXNcbiAgfSwgbyA9IFgoXG4gICAgdC50YWJsZUhhbmRsZXMub25VcGRhdGUuYmluZCh0LnRhYmxlSGFuZGxlcylcbiAgKSwgbCA9IE0oKCkgPT4ge1xuICAgIHZhciBULCBFO1xuICAgIHJldHVybiBvICE9IG51bGwgJiYgby5kcmFnZ2luZ1N0YXRlID8ge1xuICAgICAgZHJhZ2dlZENlbGxPcmllbnRhdGlvbjogKFQgPSBvID09IG51bGwgPyB2b2lkIDAgOiBvLmRyYWdnaW5nU3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBULmRyYWdnZWRDZWxsT3JpZW50YXRpb24sXG4gICAgICBtb3VzZVBvczogKEUgPSBvID09IG51bGwgPyB2b2lkIDAgOiBvLmRyYWdnaW5nU3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBFLm1vdXNlUG9zXG4gICAgfSA6IHZvaWQgMDtcbiAgfSwgW1xuICAgIG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8uZHJhZ2dpbmdTdGF0ZSxcbiAgICAoZyA9IG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8uZHJhZ2dpbmdTdGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IGcuZHJhZ2dlZENlbGxPcmllbnRhdGlvbixcbiAgICAoaiA9IG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8uZHJhZ2dpbmdTdGF0ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IGoubW91c2VQb3NcbiAgXSksIHsgcm93SGFuZGxlOiBhLCBjb2xIYW5kbGU6IGMgfSA9IHFyKFxuICAgIChvID09IG51bGwgPyB2b2lkIDAgOiBvLnNob3cpIHx8ICExLFxuICAgIChvID09IG51bGwgPyB2b2lkIDAgOiBvLnJlZmVyZW5jZVBvc0NlbGwpIHx8IG51bGwsXG4gICAgKG8gPT0gbnVsbCA/IHZvaWQgMCA6IG8ucmVmZXJlbmNlUG9zVGFibGUpIHx8IG51bGwsXG4gICAgbFxuICApLCBbcywgdV0gPSB4KCExKSwgW2QsIG1dID0geCghMSk7XG4gIGlmICghYS5pc01vdW50ZWQgfHwgIWMuaXNNb3VudGVkIHx8ICFvKVxuICAgIHJldHVybiBudWxsO1xuICBjb25zdCBoID0gZS50YWJsZUhhbmRsZSB8fCBXcjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoci5GcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgICFzICYmIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcImRpdlwiLCB7IHJlZjogYS5yZWYsIHN0eWxlOiBhLnN0eWxlLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgaCxcbiAgICAgIHtcbiAgICAgICAgZWRpdG9yOiB0LFxuICAgICAgICBvcmllbnRhdGlvbjogXCJyb3dcIixcbiAgICAgICAgc2hvd090aGVyU2lkZTogKCkgPT4gbSghMSksXG4gICAgICAgIGhpZGVPdGhlclNpZGU6ICgpID0+IG0oITApLFxuICAgICAgICBpbmRleDogby5yb3dJbmRleCxcbiAgICAgICAgYmxvY2s6IG8uYmxvY2ssXG4gICAgICAgIGRyYWdTdGFydDogbi5yb3dEcmFnU3RhcnQsXG4gICAgICAgIGRyYWdFbmQ6IG4uZHJhZ0VuZCxcbiAgICAgICAgZnJlZXplSGFuZGxlczogbi5mcmVlemVIYW5kbGVzLFxuICAgICAgICB1bmZyZWV6ZUhhbmRsZXM6IG4udW5mcmVlemVIYW5kbGVzXG4gICAgICB9XG4gICAgKSB9KSxcbiAgICAhZCAmJiAvKiBAX19QVVJFX18gKi8gci5qc3goXCJkaXZcIiwgeyByZWY6IGMucmVmLCBzdHlsZTogYy5zdHlsZSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIGgsXG4gICAgICB7XG4gICAgICAgIGVkaXRvcjogdCxcbiAgICAgICAgb3JpZW50YXRpb246IFwiY29sdW1uXCIsXG4gICAgICAgIHNob3dPdGhlclNpZGU6ICgpID0+IHUoITEpLFxuICAgICAgICBoaWRlT3RoZXJTaWRlOiAoKSA9PiB1KCEwKSxcbiAgICAgICAgaW5kZXg6IG8uY29sSW5kZXgsXG4gICAgICAgIGJsb2NrOiBvLmJsb2NrLFxuICAgICAgICBkcmFnU3RhcnQ6IG4uY29sRHJhZ1N0YXJ0LFxuICAgICAgICBkcmFnRW5kOiBuLmRyYWdFbmQsXG4gICAgICAgIGZyZWV6ZUhhbmRsZXM6IG4uZnJlZXplSGFuZGxlcyxcbiAgICAgICAgdW5mcmVlemVIYW5kbGVzOiBuLnVuZnJlZXplSGFuZGxlc1xuICAgICAgfVxuICAgICkgfSlcbiAgXSB9KTtcbn07XG5mdW5jdGlvbiBLcihlKSB7XG4gIGNvbnN0IHQgPSBIKCk7XG4gIGlmICghdClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkJsb2NrTm90ZURlZmF1bHRVSSBtdXN0IGJlIHVzZWQgd2l0aGluIGEgQmxvY2tOb3RlQ29udGV4dC5Qcm92aWRlclwiXG4gICAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoci5GcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgIGUuZm9ybWF0dGluZ1Rvb2xiYXIgIT09ICExICYmIC8qIEBfX1BVUkVfXyAqLyByLmpzeChnciwge30pLFxuICAgIGUubGlua1Rvb2xiYXIgIT09ICExICYmIC8qIEBfX1BVUkVfXyAqLyByLmpzeChDciwge30pLFxuICAgIGUuc2xhc2hNZW51ICE9PSAhMSAmJiAvKiBAX19QVVJFX18gKi8gci5qc3goTnIsIHsgdHJpZ2dlckNoYXJhY3RlcjogXCIvXCIgfSksXG4gICAgZS5zaWRlTWVudSAhPT0gITEgJiYgLyogQF9fUFVSRV9fICovIHIuanN4KFRyLCB7fSksXG4gICAgdC5maWxlUGFuZWwgJiYgZS5maWxlUGFuZWwgIT09ICExICYmIC8qIEBfX1BVUkVfXyAqLyByLmpzeCh5ciwge30pLFxuICAgIHQudGFibGVIYW5kbGVzICYmIGUudGFibGVIYW5kbGVzICE9PSAhMSAmJiAvKiBAX19QVVJFX18gKi8gci5qc3goWXIsIHt9KVxuICBdIH0pO1xufVxuY29uc3QgWHIgPSAoe1xuICByZW5kZXJlcnM6IGVcbn0pID0+IC8qIEBfX1BVUkVfXyAqLyByLmpzeChyLkZyYWdtZW50LCB7IGNoaWxkcmVuOiBPYmplY3QuZW50cmllcyhlKS5tYXAoKFt0LCBuXSkgPT4genQobi5yZWFjdEVsZW1lbnQsIG4uZWxlbWVudCwgdCkpIH0pO1xuZnVuY3Rpb24gSnIoZSkge1xuICBjb25zdCBbdCwgbl0gPSB4KHt9KSwgW28sIGxdID0geCgpO1xuICByZXR1cm4gTCgoKSA9PiAoZS5lZGl0b3IuX3RpcHRhcEVkaXRvci5jb250ZW50Q29tcG9uZW50ID0ge1xuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgVGlwVGFwXG4gICAgICovXG4gICAgc2V0UmVuZGVyZXIoYSwgYykge1xuICAgICAgbigocykgPT4gKHsgLi4ucywgW2FdOiBjIH0pKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgVGlwVGFwXG4gICAgICovXG4gICAgcmVtb3ZlUmVuZGVyZXIoYSkge1xuICAgICAgbigoYykgPT4ge1xuICAgICAgICBjb25zdCBzID0geyAuLi5jIH07XG4gICAgICAgIHJldHVybiBkZWxldGUgc1thXSwgcztcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmVuZGVyIGEgc2luZ2xlIG5vZGUgdG8gYSBjb250YWluZXIgd2l0aGluIHRoZSBSZWFjdCBjb250ZXh0ICh1c2VkIGJ5IEJsb2NrTm90ZSByZW5kZXJUb0RPTVNwZWMpXG4gICAgICovXG4gICAgcmVuZGVyVG9FbGVtZW50KGEsIGMpIHtcbiAgICAgIFV0KCgpID0+IHtcbiAgICAgICAgbCh7IG5vZGU6IGEsIGNvbnRhaW5lcjogYyB9KTtcbiAgICAgIH0pLCBsKHZvaWQgMCk7XG4gICAgfVxuICB9LCBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgZS5lZGl0b3IuX3RpcHRhcEVkaXRvci5jcmVhdGVOb2RlVmlld3MoKTtcbiAgfSksICgpID0+IHtcbiAgICBlLmVkaXRvci5fdGlwdGFwRWRpdG9yLmNvbnRlbnRDb21wb25lbnQgPSBudWxsO1xuICB9KSwgW2UuZWRpdG9yLl90aXB0YXBFZGl0b3JdKSwgLyogQF9fUFVSRV9fICovIHIuanN4cyhyLkZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIHIuanN4KFhyLCB7IHJlbmRlcmVyczogdCB9KSxcbiAgICBvICYmIHp0KG8ubm9kZSwgby5jb250YWluZXIpLFxuICAgIGUuY2hpbGRyZW5cbiAgXSB9KTtcbn1cbmNvbnN0IEx0ID0gKCkgPT4ge1xufTtcbmZ1bmN0aW9uIFFyKGUsIHQpIHtcbiAgY29uc3Qge1xuICAgIGVkaXRvcjogbixcbiAgICBjbGFzc05hbWU6IG8sXG4gICAgdGhlbWU6IGwsXG4gICAgY2hpbGRyZW46IGEsXG4gICAgZWRpdGFibGU6IGMsXG4gICAgb25TZWxlY3Rpb25DaGFuZ2U6IHMsXG4gICAgb25DaGFuZ2U6IHUsXG4gICAgZm9ybWF0dGluZ1Rvb2xiYXI6IGQsXG4gICAgbGlua1Rvb2xiYXI6IG0sXG4gICAgc2xhc2hNZW51OiBoLFxuICAgIHNpZGVNZW51OiBnLFxuICAgIGZpbGVQYW5lbDogaixcbiAgICB0YWJsZUhhbmRsZXM6IFQsXG4gICAgLi4uRVxuICB9ID0gZSwgW08sIFVdID0geCgpLCBCID0geigpLCBfZSA9IGdvKCksIFNlID0gKEIgPT0gbnVsbCA/IHZvaWQgMCA6IEIuY29sb3JTY2hlbWVQcmVmZXJlbmNlKSB8fCBfZSwgY2UgPSBsIHx8IChTZSA9PT0gXCJkYXJrXCIgPyBcImRhcmtcIiA6IFwibGlnaHRcIik7XG4gIEdlKHUgfHwgTHQsIG4pLCAkZShzIHx8IEx0LCBuKSwgTCgoKSA9PiB7XG4gICAgbi5pc0VkaXRhYmxlID0gYyAhPT0gITE7XG4gIH0sIFtjLCBuXSk7XG4gIGNvbnN0IE1lID0gTSgoKSA9PiAvKiBAX19QVVJFX18gKi8gci5qc3hzKHIuRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtcbiAgICBhLFxuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIEtyLFxuICAgICAge1xuICAgICAgICBmb3JtYXR0aW5nVG9vbGJhcjogZCxcbiAgICAgICAgbGlua1Rvb2xiYXI6IG0sXG4gICAgICAgIHNsYXNoTWVudTogaCxcbiAgICAgICAgc2lkZU1lbnU6IGcsXG4gICAgICAgIGZpbGVQYW5lbDogaixcbiAgICAgICAgdGFibGVIYW5kbGVzOiBUXG4gICAgICB9XG4gICAgKVxuICBdIH0pLCBbXG4gICAgYSxcbiAgICBkLFxuICAgIG0sXG4gICAgaixcbiAgICBnLFxuICAgIGgsXG4gICAgVFxuICBdKSwgVmUgPSBNKCgpID0+ICh7XG4gICAgLi4uQixcbiAgICBlZGl0b3I6IG4sXG4gICAgc2V0Q29udGVudEVkaXRhYmxlUHJvcHM6IFVcbiAgfSksIFtCLCBuXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3gocXQuUHJvdmlkZXIsIHsgdmFsdWU6IFZlLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KEpyLCB7IGVkaXRvcjogbiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFdlKFxuICAgICAgICBcImJuLWNvbnRhaW5lclwiLFxuICAgICAgICBjZSB8fCBcIlwiLFxuICAgICAgICBvIHx8IFwiXCJcbiAgICAgICksXG4gICAgICBcImRhdGEtY29sb3Itc2NoZW1lXCI6IGNlLFxuICAgICAgLi4uRSxcbiAgICAgIHJlZjogdCxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiYXJpYS1hdXRvY29tcGxldGVcIjogXCJsaXN0XCIsXG4gICAgICAgICAgICBcImFyaWEtaGFzcG9wdXBcIjogXCJsaXN0Ym94XCIsXG4gICAgICAgICAgICByZWY6IG4uX3RpcHRhcEVkaXRvci5tb3VudCxcbiAgICAgICAgICAgIC4uLk9cbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIE1lXG4gICAgICBdXG4gICAgfVxuICApIH0pIH0pO1xufVxuY29uc3QgZ2kgPSBaLmZvcndhcmRSZWYoUXIpO1xudmFyIHplLCBiZSA9IHBvO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIilcbiAgemUgPSBiZS5jcmVhdGVSb290LCBiZS5oeWRyYXRlUm9vdDtcbmVsc2Uge1xuICB2YXIgUHQgPSBiZS5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcbiAgemUgPSBmdW5jdGlvbihlLCB0KSB7XG4gICAgUHQudXNpbmdDbGllbnRFbnRyeVBvaW50ID0gITA7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBiZS5jcmVhdGVSb290KGUsIHQpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBQdC51c2luZ0NsaWVudEVudHJ5UG9pbnQgPSAhMTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiB4ZShlLCB0KSB7XG4gIGxldCBuO1xuICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgbGV0IGw7XG4gIGNvbnN0IHsgX3RpcHRhcEVkaXRvcjogYSB9ID0gdCB8fCB7fTtcbiAgaWYgKGEgIT0gbnVsbCAmJiBhLmNvbnRlbnRDb21wb25lbnQgPyBhLmNvbnRlbnRDb21wb25lbnQucmVuZGVyVG9FbGVtZW50KFxuICAgIGUoKGQpID0+IG4gPSBkIHx8IHZvaWQgMCksXG4gICAgb1xuICApIDogKGwgPSB6ZShvKSwgVXQoKCkgPT4ge1xuICAgIGwucmVuZGVyKGUoKGQpID0+IG4gPSBkIHx8IHZvaWQgMCkpO1xuICB9KSksICFvLmNoaWxkRWxlbWVudENvdW50KVxuICAgIHJldHVybiBjb25zb2xlLndhcm4oXCJSZWFjdElubGluZUNvbnRlbnRTcGVjOiByZW5kZXJIVE1MKCkgZmFpbGVkXCIpLCB7XG4gICAgICBkb206IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXG4gICAgfTtcbiAgbiA9PSBudWxsIHx8IG4uc2V0QXR0cmlidXRlKFwiZGF0YS10bXAtZmluZFwiLCBcInRydWVcIik7XG4gIGNvbnN0IGMgPSBvLmNsb25lTm9kZSghMCksIHMgPSBjLmZpcnN0RWxlbWVudENoaWxkLCB1ID0gYy5xdWVyeVNlbGVjdG9yKFxuICAgIFwiW2RhdGEtdG1wLWZpbmRdXCJcbiAgKTtcbiAgcmV0dXJuIHUgPT0gbnVsbCB8fCB1LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtdG1wLWZpbmRcIiksIGwgPT0gbnVsbCB8fCBsLnVubW91bnQoKSwge1xuICAgIGRvbTogcyxcbiAgICBjb250ZW50RE9NOiB1IHx8IHZvaWQgMFxuICB9O1xufVxuZnVuY3Rpb24gSWUoZSkge1xuICB2YXIgdDtcbiAgcmV0dXJuIChcbiAgICAvLyBDcmVhdGVzIGBibG9ja0NvbnRlbnRgIGVsZW1lbnRcbiAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICBXdCxcbiAgICAgIHtcbiAgICAgICAgLi4uT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGUuZG9tQXR0cmlidXRlcyB8fCB7fSkuZmlsdGVyKFxuICAgICAgICAgICAgKFtuXSkgPT4gbiAhPT0gXCJjbGFzc1wiXG4gICAgICAgICAgKVxuICAgICAgICApLFxuICAgICAgICBjbGFzc05hbWU6IFdlKFxuICAgICAgICAgIFwiYm4tYmxvY2stY29udGVudFwiLFxuICAgICAgICAgICgodCA9IGUuZG9tQXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IHQuY2xhc3MpIHx8IFwiXCJcbiAgICAgICAgKSxcbiAgICAgICAgXCJkYXRhLWNvbnRlbnQtdHlwZVwiOiBlLmJsb2NrVHlwZSxcbiAgICAgICAgLi4uT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGUuYmxvY2tQcm9wcykuZmlsdGVyKFxuICAgICAgICAgICAgKFtuLCBvXSkgPT4gIXFuLmluY2x1ZGVzKG4pICYmIG8gIT09IGUucHJvcFNjaGVtYVtuXS5kZWZhdWx0XG4gICAgICAgICAgKS5tYXAoKFtuLCBvXSkgPT4gW0l0KG4pLCBvXSlcbiAgICAgICAgKSxcbiAgICAgICAgXCJkYXRhLWZpbGUtYmxvY2tcIjogZS5pc0ZpbGVCbG9jayA9PT0gITAgfHwgdm9pZCAwLFxuICAgICAgICBjaGlsZHJlbjogZS5jaGlsZHJlblxuICAgICAgfVxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIHllKGUsIHQpIHtcbiAgY29uc3QgbiA9IEF0KHtcbiAgICBuYW1lOiBlLnR5cGUsXG4gICAgY29udGVudDogZS5jb250ZW50ID09PSBcImlubGluZVwiID8gXCJpbmxpbmUqXCIgOiBcIlwiLFxuICAgIGdyb3VwOiBcImJsb2NrQ29udGVudFwiLFxuICAgIHNlbGVjdGFibGU6ICEwLFxuICAgIGFkZEF0dHJpYnV0ZXMoKSB7XG4gICAgICByZXR1cm4gWnQoZS5wcm9wU2NoZW1hKTtcbiAgICB9LFxuICAgIHBhcnNlSFRNTCgpIHtcbiAgICAgIHJldHVybiBZbihlLCB0LnBhcnNlKTtcbiAgICB9LFxuICAgIHJlbmRlckhUTUwoKSB7XG4gICAgICBjb25zdCBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIHJldHVybiBvLnNldEF0dHJpYnV0ZShcImRhdGEtdG1wLXBsYWNlaG9sZGVyXCIsIFwidHJ1ZVwiKSwge1xuICAgICAgICBkb206IG9cbiAgICAgIH07XG4gICAgfSxcbiAgICBhZGROb2RlVmlldygpIHtcbiAgICAgIHJldHVybiAobykgPT4gR3QoXG4gICAgICAgIChsKSA9PiB7XG4gICAgICAgICAgdmFyIG07XG4gICAgICAgICAgY29uc3QgYSA9IHRoaXMub3B0aW9ucy5lZGl0b3IsIGMgPSBLbihcbiAgICAgICAgICAgIGwuZ2V0UG9zLFxuICAgICAgICAgICAgYSxcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLFxuICAgICAgICAgICAgZS50eXBlXG4gICAgICAgICAgKSwgcyA9ICgobSA9IHRoaXMub3B0aW9ucy5kb21BdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogbS5ibG9ja0NvbnRlbnQpIHx8IHt9LCB1ID0gJHQoe30pLnJlZiwgZCA9IHQucmVuZGVyO1xuICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgICBJZSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYmxvY2tUeXBlOiBjLnR5cGUsXG4gICAgICAgICAgICAgIGJsb2NrUHJvcHM6IGMucHJvcHMsXG4gICAgICAgICAgICAgIHByb3BTY2hlbWE6IGUucHJvcFNjaGVtYSxcbiAgICAgICAgICAgICAgaXNGaWxlQmxvY2s6IGUuaXNGaWxlQmxvY2ssXG4gICAgICAgICAgICAgIGRvbUF0dHJpYnV0ZXM6IHMsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgICAgICAgZCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBibG9jazogYyxcbiAgICAgICAgICAgICAgICAgIGVkaXRvcjogYSxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnRSZWY6IHVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImJuLXJlYWN0LW5vZGUtdmlldy1yZW5kZXJlclwiXG4gICAgICAgIH1cbiAgICAgICkobyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIFhuKGUsIHtcbiAgICBub2RlOiBuLFxuICAgIHRvSW50ZXJuYWxIVE1MOiAobywgbCkgPT4ge1xuICAgICAgdmFyIHUsIGQ7XG4gICAgICBjb25zdCBhID0gKCh1ID0gbi5vcHRpb25zLmRvbUF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiB1LmJsb2NrQ29udGVudCkgfHwge30sIGMgPSB0LnJlbmRlciwgcyA9IHhlKFxuICAgICAgICAobSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICAgIEllLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGJsb2NrVHlwZTogby50eXBlLFxuICAgICAgICAgICAgYmxvY2tQcm9wczogby5wcm9wcyxcbiAgICAgICAgICAgIHByb3BTY2hlbWE6IGUucHJvcFNjaGVtYSxcbiAgICAgICAgICAgIGRvbUF0dHJpYnV0ZXM6IGEsXG4gICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICAgICAgICBjLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmxvY2s6IG8sXG4gICAgICAgICAgICAgICAgZWRpdG9yOiBsLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRSZWY6IG1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgbFxuICAgICAgKTtcbiAgICAgIHJldHVybiAoZCA9IHMuY29udGVudERPTSkgPT0gbnVsbCB8fCBkLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGFibGVcIiwgXCJcIiksIHM7XG4gICAgfSxcbiAgICB0b0V4dGVybmFsSFRNTDogKG8sIGwpID0+IHtcbiAgICAgIHZhciB1LCBkO1xuICAgICAgY29uc3QgYSA9ICgodSA9IG4ub3B0aW9ucy5kb21BdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogdS5ibG9ja0NvbnRlbnQpIHx8IHt9LCBjID0gdC50b0V4dGVybmFsSFRNTCB8fCB0LnJlbmRlciwgcyA9IHhlKChtKSA9PiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgIEllLFxuICAgICAgICB7XG4gICAgICAgICAgYmxvY2tUeXBlOiBvLnR5cGUsXG4gICAgICAgICAgYmxvY2tQcm9wczogby5wcm9wcyxcbiAgICAgICAgICBwcm9wU2NoZW1hOiBlLnByb3BTY2hlbWEsXG4gICAgICAgICAgZG9tQXR0cmlidXRlczogYSxcbiAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICAgICAgYyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYmxvY2s6IG8sXG4gICAgICAgICAgICAgIGVkaXRvcjogbCxcbiAgICAgICAgICAgICAgY29udGVudFJlZjogbVxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgKSwgbCk7XG4gICAgICByZXR1cm4gKGQgPSBzLmNvbnRlbnRET00pID09IG51bGwgfHwgZC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRhYmxlXCIsIFwiXCIpLCBzO1xuICAgIH1cbiAgfSk7XG59XG5jb25zdCBqZSA9IChlKSA9PiAvKiBAX19QVVJFX18gKi8gci5qc3hzKFxuICBcImRpdlwiLFxuICB7XG4gICAgY2xhc3NOYW1lOiBcImJuLWZpbGUtZGVmYXVsdC1wcmV2aWV3XCIsXG4gICAgY29udGVudEVkaXRhYmxlOiAhMSxcbiAgICBkcmFnZ2FibGU6ICExLFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYm4tZmlsZS1kZWZhdWx0LXByZXZpZXctaWNvblwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KENlLCB7IHNpemU6IDI0IH0pIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIHIuanN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJibi1maWxlLWRlZmF1bHQtcHJldmlldy1uYW1lXCIsIGNoaWxkcmVuOiBlLmJsb2NrLnByb3BzLm5hbWUgfSlcbiAgICBdXG4gIH1cbiksIHEgPSAoZSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJibi1maWxlLWFuZC1jYXB0aW9uLXdyYXBwZXJcIiwgY2hpbGRyZW46IFtcbiAgZS5jaGlsZHJlbixcbiAgZS5ibG9jay5wcm9wcy5jYXB0aW9uICYmIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcInBcIiwgeyBjbGFzc05hbWU6IFwiYm4tZmlsZS1jYXB0aW9uXCIsIGNoaWxkcmVuOiBlLmJsb2NrLnByb3BzLmNhcHRpb24gfSlcbl0gfSksIHdlID0gKGUpID0+IHtcbiAgY29uc3QgdCA9IF8oXG4gICAgKG8pID0+IHtcbiAgICAgIG8ucHJldmVudERlZmF1bHQoKTtcbiAgICB9LFxuICAgIFtdXG4gICksIG4gPSBfKCgpID0+IHtcbiAgICBlLmVkaXRvci5fdGlwdGFwRWRpdG9yLnZpZXcuZGlzcGF0Y2goXG4gICAgICBlLmVkaXRvci5fdGlwdGFwRWRpdG9yLnN0YXRlLnRyLnNldE1ldGEoXG4gICAgICAgIGUuZWRpdG9yLmZpbGVQYW5lbC5wbHVnaW4sXG4gICAgICAgIHtcbiAgICAgICAgICBibG9jazogZS5ibG9ja1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfSwgW1xuICAgIGUuYmxvY2ssXG4gICAgZS5lZGl0b3IuX3RpcHRhcEVkaXRvci5zdGF0ZS50cixcbiAgICBlLmVkaXRvci5fdGlwdGFwRWRpdG9yLnZpZXcsXG4gICAgZS5lZGl0b3IuZmlsZVBhbmVsXG4gIF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4cyhcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogXCJibi1hZGQtZmlsZS1idXR0b25cIixcbiAgICAgIG9uTW91c2VEb3duOiB0LFxuICAgICAgb25DbGljazogbixcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJibi1hZGQtZmlsZS1idXR0b24taWNvblwiLCBjaGlsZHJlbjogZS5idXR0b25JY29uIHx8IC8qIEBfX1BVUkVfXyAqLyByLmpzeChDZSwgeyBzaXplOiAyNCB9KSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIHIuanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJuLWFkZC1maWxlLWJ1dHRvbi10ZXh0XCIsIGNoaWxkcmVuOiBlLmJ1dHRvblRleHQgfSlcbiAgICAgIF1cbiAgICB9XG4gICk7XG59LCBIZSA9IChlKSA9PiAvKiBAX19QVVJFX18gKi8gci5qc3hzKFwiZGl2XCIsIHsgY2hpbGRyZW46IFtcbiAgZS5jaGlsZHJlbixcbiAgLyogQF9fUFVSRV9fICovIHIuanN4KFwicFwiLCB7IGNoaWxkcmVuOiBlLmNhcHRpb24gfSlcbl0gfSksIFllID0gKGUpID0+IC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoXCJmaWd1cmVcIiwgeyBjaGlsZHJlbjogW1xuICBlLmNoaWxkcmVuLFxuICAvKiBAX19QVVJFX18gKi8gci5qc3goXCJmaWdjYXB0aW9uXCIsIHsgY2hpbGRyZW46IGUuY2FwdGlvbiB9KVxuXSB9KSwgZG4gPSAoZSkgPT4ge1xuICBjb25zdCBbdCwgbl0gPSB4KCExKSwgW28sIGxdID0geCh2b2lkIDApO1xuICBMKCgpID0+IHtcbiAgICBjb25zdCBkID0gKGgpID0+IHtcbiAgICAgIGxldCBnO1xuICAgICAgZS5ibG9jay5wcm9wcy50ZXh0QWxpZ25tZW50ID09PSBcImNlbnRlclwiID8gby5oYW5kbGVVc2VkID09PSBcImxlZnRcIiA/IGcgPSBvLmluaXRpYWxXaWR0aCArIChvLmluaXRpYWxDbGllbnRYIC0gaC5jbGllbnRYKSAqIDIgOiBnID0gby5pbml0aWFsV2lkdGggKyAoaC5jbGllbnRYIC0gby5pbml0aWFsQ2xpZW50WCkgKiAyIDogby5oYW5kbGVVc2VkID09PSBcImxlZnRcIiA/IGcgPSBvLmluaXRpYWxXaWR0aCArIG8uaW5pdGlhbENsaWVudFggLSBoLmNsaWVudFggOiBnID0gby5pbml0aWFsV2lkdGggKyBoLmNsaWVudFggLSBvLmluaXRpYWxDbGllbnRYO1xuICAgICAgY29uc3QgaiA9IDY0O1xuICAgICAgZyA8IGogPyBlLnNldFdpZHRoKGopIDogZyA+IGUuZWRpdG9yLmRvbUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xpZW50V2lkdGggPyBlLnNldFdpZHRoKGUuZWRpdG9yLmRvbUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xpZW50V2lkdGgpIDogZS5zZXRXaWR0aChnKTtcbiAgICB9LCBtID0gKCkgPT4ge1xuICAgICAgbCh2b2lkIDApLCBlLmVkaXRvci51cGRhdGVCbG9jayhlLmJsb2NrLCB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgcHJldmlld1dpZHRoOiBlLndpZHRoXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIG8gJiYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGQpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgbSkpLCAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBkKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIG0pO1xuICAgIH07XG4gIH0sIFtlLCBvXSk7XG4gIGNvbnN0IGEgPSBfKCgpID0+IHtcbiAgICBlLmVkaXRvci5pc0VkaXRhYmxlICYmIG4oITApO1xuICB9LCBbZS5lZGl0b3IuaXNFZGl0YWJsZV0pLCBjID0gXygoKSA9PiB7XG4gICAgbighMSk7XG4gIH0sIFtdKSwgcyA9IF8oXG4gICAgKGQpID0+IHtcbiAgICAgIGQucHJldmVudERlZmF1bHQoKSwgbCh7XG4gICAgICAgIGhhbmRsZVVzZWQ6IFwibGVmdFwiLFxuICAgICAgICBpbml0aWFsV2lkdGg6IGUud2lkdGgsXG4gICAgICAgIGluaXRpYWxDbGllbnRYOiBkLmNsaWVudFhcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW2Uud2lkdGhdXG4gICksIHUgPSBfKFxuICAgIChkKSA9PiB7XG4gICAgICBkLnByZXZlbnREZWZhdWx0KCksIGwoe1xuICAgICAgICBoYW5kbGVVc2VkOiBcInJpZ2h0XCIsXG4gICAgICAgIGluaXRpYWxXaWR0aDogZS53aWR0aCxcbiAgICAgICAgaW5pdGlhbENsaWVudFg6IGQuY2xpZW50WFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbZS53aWR0aF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tdmlzdWFsLW1lZGlhLXdyYXBwZXJcIixcbiAgICAgIG9uTW91c2VFbnRlcjogYSxcbiAgICAgIG9uTW91c2VMZWF2ZTogYyxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIGUuY2hpbGRyZW4sXG4gICAgICAgICh0IHx8IG8pICYmIC8qIEBfX1BVUkVfXyAqLyByLmpzeHMoci5GcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJibi12aXN1YWwtbWVkaWEtcmVzaXplLWhhbmRsZVwiLFxuICAgICAgICAgICAgICBzdHlsZTogeyBsZWZ0OiBcIjRweFwiIH0sXG4gICAgICAgICAgICAgIG9uTW91c2VEb3duOiBzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiYm4tdmlzdWFsLW1lZGlhLXJlc2l6ZS1oYW5kbGVcIixcbiAgICAgICAgICAgICAgc3R5bGU6IHsgcmlnaHQ6IFwiNHB4XCIgfSxcbiAgICAgICAgICAgICAgb25Nb3VzZURvd246IHVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIF0gfSlcbiAgICAgIF1cbiAgICB9XG4gICk7XG59O1xuZnVuY3Rpb24gS2UoZSkge1xuICBjb25zdCB0ID0gSCgpLCBbbiwgb10gPSB4KFwibG9hZGluZ1wiKSwgW2wsIGFdID0geCgpO1xuICBpZiAoTCgoKSA9PiB7XG4gICAgbGV0IGMgPSAhMDtcbiAgICByZXR1cm4gKGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBzID0gXCJcIjtcbiAgICAgIG8oXCJsb2FkaW5nXCIpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcyA9IGF3YWl0IHQucmVzb2x2ZUZpbGVVcmwoZSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgbyhcImVycm9yXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjICYmIChvKFwibG9hZGVkXCIpLCBhKHMpKTtcbiAgICB9KSgpLCAoKSA9PiB7XG4gICAgICBjID0gITE7XG4gICAgfTtcbiAgfSwgW3QsIGVdKSwgbiAhPT0gXCJsb2FkZWRcIilcbiAgICByZXR1cm4ge1xuICAgICAgbG9hZGluZ1N0YXRlOiBuXG4gICAgfTtcbiAgaWYgKCFsKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkZpbmlzaGVkIGZldGNoaW5nIGZpbGUgYnV0IGRpZCBub3QgZ2V0IGRvd25sb2FkIFVSTC5cIik7XG4gIHJldHVybiB7XG4gICAgbG9hZGluZ1N0YXRlOiBuLFxuICAgIGRvd25sb2FkVXJsOiBsXG4gIH07XG59XG5jb25zdCBlaSA9IChlKSA9PiB7XG4gIGNvbnN0IHQgPSBLZShlLmJsb2NrLnByb3BzLnVybCk7XG4gIHJldHVybiB0LmxvYWRpbmdTdGF0ZSA9PT0gXCJsb2FkaW5nXCIgPyBudWxsIDogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIFwiYXVkaW9cIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tYXVkaW9cIixcbiAgICAgIHNyYzogdC5kb3dubG9hZFVybCxcbiAgICAgIGNvbnRyb2xzOiAhMCxcbiAgICAgIGNvbnRlbnRFZGl0YWJsZTogITEsXG4gICAgICBkcmFnZ2FibGU6ICExXG4gICAgfVxuICApO1xufSwgdGkgPSAoZSkgPT4ge1xuICBpZiAoIWUuYmxvY2sucHJvcHMudXJsKVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gci5qc3goXCJwXCIsIHsgY2hpbGRyZW46IFwiQWRkIGF1ZGlvXCIgfSk7XG4gIGNvbnN0IHQgPSBlLmJsb2NrLnByb3BzLnNob3dQcmV2aWV3ID8gLyogQF9fUFVSRV9fICovIHIuanN4KFwiYXVkaW9cIiwgeyBzcmM6IGUuYmxvY2sucHJvcHMudXJsIH0pIDogLyogQF9fUFVSRV9fICovIHIuanN4KFwiYVwiLCB7IGhyZWY6IGUuYmxvY2sucHJvcHMudXJsLCBjaGlsZHJlbjogZS5ibG9jay5wcm9wcy5uYW1lIHx8IGUuYmxvY2sucHJvcHMudXJsIH0pO1xuICByZXR1cm4gZS5ibG9jay5wcm9wcy5jYXB0aW9uID8gZS5ibG9jay5wcm9wcy5zaG93UHJldmlldyA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeChZZSwgeyBjYXB0aW9uOiBlLmJsb2NrLnByb3BzLmNhcHRpb24sIGNoaWxkcmVuOiB0IH0pIDogLyogQF9fUFVSRV9fICovIHIuanN4KEhlLCB7IGNhcHRpb246IGUuYmxvY2sucHJvcHMuY2FwdGlvbiwgY2hpbGRyZW46IHQgfSkgOiB0O1xufSwgcGkgPSB5ZShRbiwge1xuICByZW5kZXI6IChlKSA9PiAvKiBAX19QVVJFX18gKi8gci5qc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYm4tZmlsZS1ibG9jay1jb250ZW50LXdyYXBwZXJcIiwgY2hpbGRyZW46IGUuYmxvY2sucHJvcHMudXJsID09PSBcIlwiID8gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIHdlLFxuICAgIHtcbiAgICAgIC4uLmUsXG4gICAgICBlZGl0b3I6IGUuZWRpdG9yLFxuICAgICAgYnV0dG9uVGV4dDogZS5lZGl0b3IuZGljdGlvbmFyeS5maWxlX2Jsb2Nrcy5hdWRpby5hZGRfYnV0dG9uX3RleHQsXG4gICAgICBidXR0b25JY29uOiAvKiBAX19QVVJFX18gKi8gci5qc3gobG4sIHsgc2l6ZTogMjQgfSlcbiAgICB9XG4gICkgOiBlLmJsb2NrLnByb3BzLnNob3dQcmV2aWV3ID8gLyogQF9fUFVSRV9fICovIHIuanN4KHEsIHsgYmxvY2s6IGUuYmxvY2ssIGVkaXRvcjogZS5lZGl0b3IsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goZWksIHsgYmxvY2s6IGUuYmxvY2ssIGVkaXRvcjogZS5lZGl0b3IgfSkgfSkgOiAvKiBAX19QVVJFX18gKi8gci5qc3gocSwgeyBibG9jazogZS5ibG9jaywgZWRpdG9yOiBlLmVkaXRvciwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICBqZSxcbiAgICB7XG4gICAgICBibG9jazogZS5ibG9jayxcbiAgICAgIGVkaXRvcjogZS5lZGl0b3JcbiAgICB9XG4gICkgfSkgfSksXG4gIHBhcnNlOiBKbixcbiAgdG9FeHRlcm5hbEhUTUw6IChlKSA9PiAvKiBAX19QVVJFX18gKi8gci5qc3godGksIHsgLi4uZSB9KVxufSksIG5pID0gKGUpID0+IHtcbiAgaWYgKCFlLmJsb2NrLnByb3BzLnVybClcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFwicFwiLCB7IGNoaWxkcmVuOiBcIkFkZCBmaWxlXCIgfSk7XG4gIGNvbnN0IHQgPSAvKiBAX19QVVJFX18gKi8gci5qc3goXCJhXCIsIHsgaHJlZjogZS5ibG9jay5wcm9wcy51cmwsIGNoaWxkcmVuOiBlLmJsb2NrLnByb3BzLm5hbWUgfHwgZS5ibG9jay5wcm9wcy51cmwgfSk7XG4gIHJldHVybiBlLmJsb2NrLnByb3BzLmNhcHRpb24gPyAvKiBAX19QVVJFX18gKi8gci5qc3goSGUsIHsgY2FwdGlvbjogZS5ibG9jay5wcm9wcy5jYXB0aW9uLCBjaGlsZHJlbjogdCB9KSA6IHQ7XG59LCB4aSA9IHllKHRvLCB7XG4gIHJlbmRlcjogKGUpID0+IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJibi1maWxlLWJsb2NrLWNvbnRlbnQtd3JhcHBlclwiLCBjaGlsZHJlbjogZS5ibG9jay5wcm9wcy51cmwgPT09IFwiXCIgPyAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgd2UsXG4gICAge1xuICAgICAgYmxvY2s6IGUuYmxvY2ssXG4gICAgICBlZGl0b3I6IGUuZWRpdG9yLFxuICAgICAgYnV0dG9uSWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KENlLCB7IHNpemU6IDI0IH0pLFxuICAgICAgYnV0dG9uVGV4dDogZS5lZGl0b3IuZGljdGlvbmFyeS5maWxlX2Jsb2Nrcy5maWxlLmFkZF9idXR0b25fdGV4dFxuICAgIH1cbiAgKSA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChxLCB7IGJsb2NrOiBlLmJsb2NrLCBlZGl0b3I6IGUuZWRpdG9yLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgIGplLFxuICAgIHtcbiAgICAgIGJsb2NrOiBlLmJsb2NrLFxuICAgICAgZWRpdG9yOiBlLmVkaXRvclxuICAgIH1cbiAgKSB9KSB9KSxcbiAgcGFyc2U6IGVvLFxuICB0b0V4dGVybmFsSFRNTDogKGUpID0+IC8qIEBfX1BVUkVfXyAqLyByLmpzeChuaSwgeyAuLi5lIH0pXG59KSwgb2kgPSAoZSkgPT4ge1xuICBjb25zdCBbdCwgbl0gPSB4KFxuICAgIE1hdGgubWluKFxuICAgICAgZS5ibG9jay5wcm9wcy5wcmV2aWV3V2lkdGgsXG4gICAgICBlLmVkaXRvci5kb21FbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLmNsaWVudFdpZHRoXG4gICAgKVxuICApLCBvID0gS2UoZS5ibG9jay5wcm9wcy51cmwpO1xuICByZXR1cm4gby5sb2FkaW5nU3RhdGUgPT09IFwibG9hZGluZ1wiID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChkbiwgeyAuLi5lLCB3aWR0aDogdCwgc2V0V2lkdGg6IG4sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgXCJpbWdcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYm4tdmlzdWFsLW1lZGlhXCIsXG4gICAgICBzcmM6IG8uZG93bmxvYWRVcmwsXG4gICAgICBhbHQ6IGUuYmxvY2sucHJvcHMuY2FwdGlvbiB8fCBcIkJsb2NrTm90ZSBpbWFnZVwiLFxuICAgICAgY29udGVudEVkaXRhYmxlOiAhMSxcbiAgICAgIGRyYWdnYWJsZTogITEsXG4gICAgICB3aWR0aDogdFxuICAgIH1cbiAgKSB9KTtcbn0sIHJpID0gKGUpID0+IHtcbiAgaWYgKCFlLmJsb2NrLnByb3BzLnVybClcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFwicFwiLCB7IGNoaWxkcmVuOiBcIkFkZCBpbWFnZVwiIH0pO1xuICBjb25zdCB0ID0gZS5ibG9jay5wcm9wcy5zaG93UHJldmlldyA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICBcImltZ1wiLFxuICAgIHtcbiAgICAgIHNyYzogZS5ibG9jay5wcm9wcy51cmwsXG4gICAgICBhbHQ6IGUuYmxvY2sucHJvcHMubmFtZSB8fCBlLmJsb2NrLnByb3BzLmNhcHRpb24gfHwgXCJCbG9ja05vdGUgaW1hZ2VcIixcbiAgICAgIHdpZHRoOiBlLmJsb2NrLnByb3BzLnByZXZpZXdXaWR0aFxuICAgIH1cbiAgKSA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcImFcIiwgeyBocmVmOiBlLmJsb2NrLnByb3BzLnVybCwgY2hpbGRyZW46IGUuYmxvY2sucHJvcHMubmFtZSB8fCBlLmJsb2NrLnByb3BzLnVybCB9KTtcbiAgcmV0dXJuIGUuYmxvY2sucHJvcHMuY2FwdGlvbiA/IGUuYmxvY2sucHJvcHMuc2hvd1ByZXZpZXcgPyAvKiBAX19QVVJFX18gKi8gci5qc3goWWUsIHsgY2FwdGlvbjogZS5ibG9jay5wcm9wcy5jYXB0aW9uLCBjaGlsZHJlbjogdCB9KSA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChIZSwgeyBjYXB0aW9uOiBlLmJsb2NrLnByb3BzLmNhcHRpb24sIGNoaWxkcmVuOiB0IH0pIDogdDtcbn0sIHZpID0geWUob28sIHtcbiAgcmVuZGVyOiAoZSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJuLWZpbGUtYmxvY2stY29udGVudC13cmFwcGVyXCIsIGNoaWxkcmVuOiBlLmJsb2NrLnByb3BzLnVybCA9PT0gXCJcIiA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB3ZSxcbiAgICB7XG4gICAgICAuLi5lLFxuICAgICAgZWRpdG9yOiBlLmVkaXRvcixcbiAgICAgIGJ1dHRvblRleHQ6IGUuZWRpdG9yLmRpY3Rpb25hcnkuZmlsZV9ibG9ja3MuaW1hZ2UuYWRkX2J1dHRvbl90ZXh0LFxuICAgICAgYnV0dG9uSWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KHJuLCB7IHNpemU6IDI0IH0pXG4gICAgfVxuICApIDogZS5ibG9jay5wcm9wcy5zaG93UHJldmlldyA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeChxLCB7IGJsb2NrOiBlLmJsb2NrLCBlZGl0b3I6IGUuZWRpdG9yLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KG9pLCB7IGJsb2NrOiBlLmJsb2NrLCBlZGl0b3I6IGUuZWRpdG9yIH0pIH0pIDogLyogQF9fUFVSRV9fICovIHIuanN4KHEsIHsgYmxvY2s6IGUuYmxvY2ssIGVkaXRvcjogZS5lZGl0b3IsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgamUsXG4gICAge1xuICAgICAgYmxvY2s6IGUuYmxvY2ssXG4gICAgICBlZGl0b3I6IGUuZWRpdG9yXG4gICAgfVxuICApIH0pIH0pLFxuICBwYXJzZTogbm8sXG4gIHRvRXh0ZXJuYWxIVE1MOiAoZSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4KHJpLCB7IC4uLmUgfSlcbn0pLCBpaSA9IChlKSA9PiB7XG4gIGNvbnN0IFt0LCBuXSA9IHgoXG4gICAgTWF0aC5taW4oXG4gICAgICBlLmJsb2NrLnByb3BzLnByZXZpZXdXaWR0aCxcbiAgICAgIGUuZWRpdG9yLmRvbUVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xpZW50V2lkdGhcbiAgICApXG4gICksIG8gPSBLZShlLmJsb2NrLnByb3BzLnVybCk7XG4gIHJldHVybiBvLmxvYWRpbmdTdGF0ZSA9PT0gXCJsb2FkaW5nXCIgPyBudWxsIDogLyogQF9fUFVSRV9fICovIHIuanN4KGRuLCB7IC4uLmUsIHdpZHRoOiB0LCBzZXRXaWR0aDogbiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICBcInZpZGVvXCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJuLXZpc3VhbC1tZWRpYVwiLFxuICAgICAgc3JjOiBvLmRvd25sb2FkVXJsLFxuICAgICAgY29udHJvbHM6ICEwLFxuICAgICAgY29udGVudEVkaXRhYmxlOiAhMSxcbiAgICAgIGRyYWdnYWJsZTogITEsXG4gICAgICB3aWR0aDogdFxuICAgIH1cbiAgKSB9KTtcbn0sIGxpID0gKGUpID0+IHtcbiAgaWYgKCFlLmJsb2NrLnByb3BzLnVybClcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFwicFwiLCB7IGNoaWxkcmVuOiBcIkFkZCB2aWRlb1wiIH0pO1xuICBjb25zdCB0ID0gZS5ibG9jay5wcm9wcy5zaG93UHJldmlldyA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcInZpZGVvXCIsIHsgc3JjOiBlLmJsb2NrLnByb3BzLnVybCB9KSA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcImFcIiwgeyBocmVmOiBlLmJsb2NrLnByb3BzLnVybCwgY2hpbGRyZW46IGUuYmxvY2sucHJvcHMubmFtZSB8fCBlLmJsb2NrLnByb3BzLnVybCB9KTtcbiAgcmV0dXJuIGUuYmxvY2sucHJvcHMuY2FwdGlvbiA/IGUuYmxvY2sucHJvcHMuc2hvd1ByZXZpZXcgPyAvKiBAX19QVVJFX18gKi8gci5qc3goWWUsIHsgY2FwdGlvbjogZS5ibG9jay5wcm9wcy5jYXB0aW9uLCBjaGlsZHJlbjogdCB9KSA6IC8qIEBfX1BVUkVfXyAqLyByLmpzeChIZSwgeyBjYXB0aW9uOiBlLmJsb2NrLnByb3BzLmNhcHRpb24sIGNoaWxkcmVuOiB0IH0pIDogdDtcbn0sIGtpID0geWUoaW8sIHtcbiAgcmVuZGVyOiAoZSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJuLWZpbGUtYmxvY2stY29udGVudC13cmFwcGVyXCIsIGNoaWxkcmVuOiBlLmJsb2NrLnByb3BzLnVybCA9PT0gXCJcIiA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICB3ZSxcbiAgICB7XG4gICAgICAuLi5lLFxuICAgICAgZWRpdG9yOiBlLmVkaXRvcixcbiAgICAgIGJ1dHRvblRleHQ6IGUuZWRpdG9yLmRpY3Rpb25hcnkuZmlsZV9ibG9ja3MudmlkZW8uYWRkX2J1dHRvbl90ZXh0LFxuICAgICAgYnV0dG9uSWNvbjogLyogQF9fUFVSRV9fICovIHIuanN4KEdvLCB7IHNpemU6IDI0IH0pXG4gICAgfVxuICApIDogZS5ibG9jay5wcm9wcy5zaG93UHJldmlldyA/IC8qIEBfX1BVUkVfXyAqLyByLmpzeChxLCB7IGJsb2NrOiBlLmJsb2NrLCBlZGl0b3I6IGUuZWRpdG9yLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIHIuanN4KGlpLCB7IGJsb2NrOiBlLmJsb2NrLCBlZGl0b3I6IGUuZWRpdG9yIH0pIH0pIDogLyogQF9fUFVSRV9fICovIHIuanN4KHEsIHsgYmxvY2s6IGUuYmxvY2ssIGVkaXRvcjogZS5lZGl0b3IsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgamUsXG4gICAge1xuICAgICAgYmxvY2s6IGUuYmxvY2ssXG4gICAgICBlZGl0b3I6IGUuZWRpdG9yXG4gICAgfVxuICApIH0pIH0pLFxuICBwYXJzZTogcm8sXG4gIHRvRXh0ZXJuYWxIVE1MOiAoZSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4KGxpLCB7IC4uLmUgfSlcbn0pO1xuZnVuY3Rpb24gQ2koZSkge1xuICBjb25zdCB0ID0geigpO1xuICBpZiAoZSB8fCAoZSA9IHQgPT0gbnVsbCA/IHZvaWQgMCA6IHQuZWRpdG9yKSwgIWUpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCInZWRpdG9yJyBpcyByZXF1aXJlZCwgZWl0aGVyIGZyb20gQmxvY2tOb3RlQ29udGV4dCBvciBhcyBhIGZ1bmN0aW9uIGFyZ3VtZW50XCJcbiAgICApO1xuICBjb25zdCBuID0gZSwgW28sIGxdID0geCgoKSA9PiBuLmdldEFjdGl2ZVN0eWxlcygpKTtcbiAgcmV0dXJuIEdlKCgpID0+IHtcbiAgICBsKG4uZ2V0QWN0aXZlU3R5bGVzKCkpO1xuICB9LCBuKSwgJGUoKCkgPT4ge1xuICAgIGwobi5nZXRBY3RpdmVTdHlsZXMoKSk7XG4gIH0sIG4pLCBvO1xufVxuY29uc3QgYWkgPSAoZSA9IHt9LCB0ID0gW10pID0+IE0oKCkgPT4ge1xuICBjb25zdCBuID0gbG8uY3JlYXRlKGUpO1xuICByZXR1cm4gd2luZG93ICYmICh3aW5kb3cuUHJvc2VNaXJyb3IgPSBuLl90aXB0YXBFZGl0b3IpLCBuO1xufSwgdCksIHlpID0gYWk7XG5mdW5jdGlvbiBjaSgpIHtcbiAgY29uc3QgWywgZV0gPSB4KDApO1xuICByZXR1cm4gKCkgPT4gZSgodCkgPT4gdCArIDEpO1xufVxuY29uc3QgamkgPSAoZSkgPT4ge1xuICBjb25zdCB0ID0gY2koKTtcbiAgTCgoKSA9PiB7XG4gICAgY29uc3QgbiA9ICgpID0+IHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgdCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIGUub24oXCJ0cmFuc2FjdGlvblwiLCBuKSwgKCkgPT4ge1xuICAgICAgZS5vZmYoXCJ0cmFuc2FjdGlvblwiLCBuKTtcbiAgICB9O1xuICB9LCBbZV0pO1xufTtcbmZ1bmN0aW9uIHNpKGUpIHtcbiAgcmV0dXJuIChcbiAgICAvLyBDcmVhdGVzIGlubGluZSBjb250ZW50IHNlY3Rpb24gZWxlbWVudFxuICAgIC8qIEBfX1BVUkVfXyAqLyByLmpzeChcbiAgICAgIFd0LFxuICAgICAge1xuICAgICAgICBhczogXCJzcGFuXCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJibi1pbmxpbmUtY29udGVudC1zZWN0aW9uXCIsXG4gICAgICAgIFwiZGF0YS1pbmxpbmUtY29udGVudC10eXBlXCI6IGUuaW5saW5lQ29udGVudFR5cGUsXG4gICAgICAgIC4uLk9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICBPYmplY3QuZW50cmllcyhlLmlubGluZUNvbnRlbnRQcm9wcykuZmlsdGVyKChbdCwgbl0pID0+IG4gIT09IGUucHJvcFNjaGVtYVt0XS5kZWZhdWx0KS5tYXAoKFt0LCBuXSkgPT4gW0l0KHQpLCBuXSlcbiAgICAgICAgKSxcbiAgICAgICAgY2hpbGRyZW46IGUuY2hpbGRyZW5cbiAgICAgIH1cbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiB3aShlLCB0KSB7XG4gIGNvbnN0IG4gPSBBdCh7XG4gICAgbmFtZTogZS50eXBlLFxuICAgIGlubGluZTogITAsXG4gICAgZ3JvdXA6IFwiaW5saW5lXCIsXG4gICAgc2VsZWN0YWJsZTogZS5jb250ZW50ID09PSBcInN0eWxlZFwiLFxuICAgIGF0b206IGUuY29udGVudCA9PT0gXCJub25lXCIsXG4gICAgY29udGVudDogZS5jb250ZW50ID09PSBcInN0eWxlZFwiID8gXCJpbmxpbmUqXCIgOiBcIlwiLFxuICAgIGFkZEF0dHJpYnV0ZXMoKSB7XG4gICAgICByZXR1cm4gWnQoZS5wcm9wU2NoZW1hKTtcbiAgICB9LFxuICAgIGFkZEtleWJvYXJkU2hvcnRjdXRzKCkge1xuICAgICAgcmV0dXJuIGFvKGUpO1xuICAgIH0sXG4gICAgcGFyc2VIVE1MKCkge1xuICAgICAgcmV0dXJuIGNvKGUpO1xuICAgIH0sXG4gICAgcmVuZGVySFRNTCh7IG5vZGU6IG8gfSkge1xuICAgICAgY29uc3QgbCA9IHRoaXMub3B0aW9ucy5lZGl0b3IsIGEgPSB5dChcbiAgICAgICAgbyxcbiAgICAgICAgbC5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgICAgbC5zY2hlbWEuc3R5bGVTY2hlbWFcbiAgICAgICksIGMgPSB0LnJlbmRlciwgcyA9IHhlKFxuICAgICAgICAodSkgPT4gLyogQF9fUFVSRV9fICovIHIuanN4KGMsIHsgaW5saW5lQ29udGVudDogYSwgY29udGVudFJlZjogdSB9KSxcbiAgICAgICAgbFxuICAgICAgKTtcbiAgICAgIHJldHVybiBzbyhcbiAgICAgICAgcyxcbiAgICAgICAgZS50eXBlLFxuICAgICAgICBvLmF0dHJzLFxuICAgICAgICBlLnByb3BTY2hlbWFcbiAgICAgICk7XG4gICAgfSxcbiAgICAvLyBUT0RPOiBuZWVkZWQ/XG4gICAgYWRkTm9kZVZpZXcoKSB7XG4gICAgICBjb25zdCBvID0gdGhpcy5vcHRpb25zLmVkaXRvcjtcbiAgICAgIHJldHVybiAobCkgPT4gR3QoXG4gICAgICAgIChhKSA9PiB7XG4gICAgICAgICAgY29uc3QgYyA9ICR0KHt9KS5yZWYsIHMgPSB0LnJlbmRlcjtcbiAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIHIuanN4KFxuICAgICAgICAgICAgc2ksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlubGluZUNvbnRlbnRQcm9wczogYS5ub2RlLmF0dHJzLFxuICAgICAgICAgICAgICBpbmxpbmVDb250ZW50VHlwZTogZS50eXBlLFxuICAgICAgICAgICAgICBwcm9wU2NoZW1hOiBlLnByb3BTY2hlbWEsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8gci5qc3goXG4gICAgICAgICAgICAgICAgcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjb250ZW50UmVmOiBjLFxuICAgICAgICAgICAgICAgICAgaW5saW5lQ29udGVudDogeXQoXG4gICAgICAgICAgICAgICAgICAgIGEubm9kZSxcbiAgICAgICAgICAgICAgICAgICAgby5zY2hlbWEuaW5saW5lQ29udGVudFNjaGVtYSxcbiAgICAgICAgICAgICAgICAgICAgby5zY2hlbWEuc3R5bGVTY2hlbWFcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImJuLWljLXJlYWN0LW5vZGUtdmlldy1yZW5kZXJlclwiLFxuICAgICAgICAgIGFzOiBcInNwYW5cIlxuICAgICAgICAgIC8vIGNvbnRlbnRET01FbGVtZW50VGFnOiBcInNwYW5cIiwgKHJlcXVpcmVzIHR0IHVwZ3JhZGUpXG4gICAgICAgIH1cbiAgICAgICkobCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHVvKGUsIHtcbiAgICBub2RlOiBuXG4gIH0pO1xufVxuZnVuY3Rpb24gSGkoZSwgdCkge1xuICBjb25zdCBuID0geG8uY3JlYXRlKHtcbiAgICBuYW1lOiBlLnR5cGUsXG4gICAgYWRkQXR0cmlidXRlcygpIHtcbiAgICAgIHJldHVybiBmbyhlLnByb3BTY2hlbWEpO1xuICAgIH0sXG4gICAgcGFyc2VIVE1MKCkge1xuICAgICAgcmV0dXJuIG1vKGUpO1xuICAgIH0sXG4gICAgcmVuZGVySFRNTCh7IG1hcms6IG8gfSkge1xuICAgICAgY29uc3QgbCA9IHt9O1xuICAgICAgZS5wcm9wU2NoZW1hID09PSBcInN0cmluZ1wiICYmIChsLnZhbHVlID0gby5hdHRycy5zdHJpbmdWYWx1ZSk7XG4gICAgICBjb25zdCBhID0gdC5yZW5kZXIsIGMgPSB4ZShcbiAgICAgICAgKHMpID0+IC8qIEBfX1BVUkVfXyAqLyByLmpzeChhLCB7IC4uLmwsIGNvbnRlbnRSZWY6IHMgfSksXG4gICAgICAgIHZvaWQgMFxuICAgICAgKTtcbiAgICAgIHJldHVybiBibyhcbiAgICAgICAgYyxcbiAgICAgICAgZS50eXBlLFxuICAgICAgICBvLmF0dHJzLnN0cmluZ1ZhbHVlLFxuICAgICAgICBlLnByb3BTY2hlbWFcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGhvKGUsIHtcbiAgICBtYXJrOiBuXG4gIH0pO1xufVxuZnVuY3Rpb24gX2koZSkge1xuICBpZiAoIWUucGFyZW50RWxlbWVudClcbiAgICByZXR1cm4gXCJub25lXCI7XG4gIGNvbnN0IHQgPSBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBuID0gZS5wYXJlbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBvID0gdC50b3AgPCBuLnRvcCwgbCA9IHQuYm90dG9tID4gbi5ib3R0b207XG4gIHJldHVybiBvICYmIGwgPyBcImJvdGhcIiA6IG8gPyBcInRvcFwiIDogbCA/IFwiYm90dG9tXCIgOiBcIm5vbmVcIjtcbn1cbmV4cG9ydCB7XG4gIHdyIGFzIEFkZEJsb2NrQnV0dG9uLFxuICBCdCBhcyBBZGRCdXR0b24sXG4gIElyIGFzIEFkZENvbHVtbkJ1dHRvbixcbiAgd2UgYXMgQWRkRmlsZUJ1dHRvbixcbiAgRHIgYXMgQWRkUm93QnV0dG9uLFxuICBlaSBhcyBBdWRpb1ByZXZpZXcsXG4gIHRpIGFzIEF1ZGlvVG9FeHRlcm5hbEhUTUwsXG4gIG1lIGFzIEJhc2ljVGV4dFN0eWxlQnV0dG9uLFxuICBIciBhcyBCbG9ja0NvbG9yc0l0ZW0sXG4gIEllIGFzIEJsb2NrQ29udGVudFdyYXBwZXIsXG4gIHF0IGFzIEJsb2NrTm90ZUNvbnRleHQsXG4gIEtyIGFzIEJsb2NrTm90ZURlZmF1bHRVSSxcbiAgZ2kgYXMgQmxvY2tOb3RlVmlld1JhdyxcbiAgc3IgYXMgQmxvY2tUeXBlU2VsZWN0LFxuICBKbyBhcyBDb2xvclN0eWxlQnV0dG9uLFxuICB5byBhcyBDb21wb25lbnRzQ29udGV4dCxcbiAgZXIgYXMgQ3JlYXRlTGlua0J1dHRvbixcbiAgamUgYXMgRGVmYXVsdEZpbGVQcmV2aWV3LFxuICBVciBhcyBEZWxldGVCdXR0b24sXG4gIFpyIGFzIERlbGV0ZUNvbHVtbkJ1dHRvbixcbiAgcHIgYXMgRGVsZXRlTGlua0J1dHRvbixcbiAgQXIgYXMgRGVsZXRlUm93QnV0dG9uLFxuICBNciBhcyBEcmFnSGFuZGxlQnV0dG9uLFxuICBTciBhcyBEcmFnSGFuZGxlTWVudSxcbiAgeHIgYXMgRWRpdExpbmtCdXR0b24sXG4gIGNuIGFzIEVkaXRMaW5rTWVudUl0ZW1zLFxuICByciBhcyBFbWJlZFRhYixcbiAgWWUgYXMgRmlndXJlV2l0aENhcHRpb24sXG4gIHEgYXMgRmlsZUFuZENhcHRpb25XcmFwcGVyLFxuICB0ciBhcyBGaWxlQ2FwdGlvbkJ1dHRvbixcbiAgc24gYXMgRmlsZVBhbmVsLFxuICB5ciBhcyBGaWxlUGFuZWxDb250cm9sbGVyLFxuICBsciBhcyBGaWxlUmVwbGFjZUJ1dHRvbixcbiAgbmkgYXMgRmlsZVRvRXh0ZXJuYWxIVE1MLFxuICBociBhcyBGb3JtYXR0aW5nVG9vbGJhcixcbiAgZ3IgYXMgRm9ybWF0dGluZ1Rvb2xiYXJDb250cm9sbGVyLFxuICBvaSBhcyBJbWFnZVByZXZpZXcsXG4gIHJpIGFzIEltYWdlVG9FeHRlcm5hbEhUTUwsXG4gIHNpIGFzIElubGluZUNvbnRlbnRXcmFwcGVyLFxuICBrciBhcyBMaW5rVG9vbGJhcixcbiAgQ3IgYXMgTGlua1Rvb2xiYXJDb250cm9sbGVyLFxuICBIZSBhcyBMaW5rV2l0aENhcHRpb24sXG4gIG5yIGFzIE5lc3RCbG9ja0J1dHRvbixcbiAgdnIgYXMgT3BlbkxpbmtCdXR0b24sXG4gIHBpIGFzIFJlYWN0QXVkaW9CbG9jayxcbiAgeGkgYXMgUmVhY3RGaWxlQmxvY2ssXG4gIHZpIGFzIFJlYWN0SW1hZ2VCbG9jayxcbiAga2kgYXMgUmVhY3RWaWRlb0Jsb2NrLFxuICBfciBhcyBSZW1vdmVCbG9ja0l0ZW0sXG4gIGRuIGFzIFJlc2l6ZUhhbmRsZXNXcmFwcGVyLFxuICBWciBhcyBTaWRlTWVudSxcbiAgVHIgYXMgU2lkZU1lbnVDb250cm9sbGVyLFxuICBOciBhcyBTdWdnZXN0aW9uTWVudUNvbnRyb2xsZXIsXG4gIFByIGFzIFN1Z2dlc3Rpb25NZW51V3JhcHBlcixcbiAgV3IgYXMgVGFibGVIYW5kbGUsXG4gIHpyIGFzIFRhYmxlSGFuZGxlTWVudSxcbiAgWXIgYXMgVGFibGVIYW5kbGVzQ29udHJvbGxlcixcbiAgRGUgYXMgVGV4dEFsaWduQnV0dG9uLFxuICBvciBhcyBVbm5lc3RCbG9ja0J1dHRvbixcbiAgaXIgYXMgVXBsb2FkVGFiLFxuICBpaSBhcyBWaWRlb1ByZXZpZXcsXG4gIGxpIGFzIFZpZGVvVG9FeHRlcm5hbEhUTUwsXG4gIGNyIGFzIGJsb2NrVHlwZVNlbGVjdEl0ZW1zLFxuICB5ZSBhcyBjcmVhdGVSZWFjdEJsb2NrU3BlYyxcbiAgd2kgYXMgY3JlYXRlUmVhY3RJbmxpbmVDb250ZW50U3BlYyxcbiAgSGkgYXMgY3JlYXRlUmVhY3RTdHlsZVNwZWMsXG4gIF9pIGFzIGVsZW1lbnRPdmVyZmxvdyxcbiAgRnIgYXMgZ2V0RGVmYXVsdFJlYWN0U2xhc2hNZW51SXRlbXMsXG4gIGJyIGFzIGdldEZvcm1hdHRpbmdUb29sYmFySXRlbXMsXG4gIENvIGFzIG1lcmdlUmVmcyxcbiAgQ2kgYXMgdXNlQWN0aXZlU3R5bGVzLFxuICB5aSBhcyB1c2VCbG9ja05vdGUsXG4gIHogYXMgdXNlQmxvY2tOb3RlQ29udGV4dCxcbiAgSCBhcyB1c2VCbG9ja05vdGVFZGl0b3IsXG4gIEJyIGFzIHVzZUNsb3NlU3VnZ2VzdGlvbk1lbnVOb0l0ZW1zLFxuICBrIGFzIHVzZUNvbXBvbmVudHNDb250ZXh0LFxuICBhaSBhcyB1c2VDcmVhdGVCbG9ja05vdGUsXG4gIFMgYXMgdXNlRGljdGlvbmFyeSxcbiAgR2UgYXMgdXNlRWRpdG9yQ2hhbmdlLFxuICBXIGFzIHVzZUVkaXRvckNvbnRlbnRPclNlbGVjdGlvbkNoYW5nZSxcbiAgamkgYXMgdXNlRWRpdG9yRm9yY2VVcGRhdGUsXG4gICRlIGFzIHVzZUVkaXRvclNlbGVjdGlvbkNoYW5nZSxcbiAgUnIgYXMgdXNlTG9hZFN1Z2dlc3Rpb25NZW51SXRlbXMsXG4gIEtlIGFzIHVzZVJlc29sdmVVcmwsXG4gIEQgYXMgdXNlU2VsZWN0ZWRCbG9ja3MsXG4gIExyIGFzIHVzZVN1Z2dlc3Rpb25NZW51S2V5Ym9hcmROYXZpZ2F0aW9uLFxuICBxciBhcyB1c2VUYWJsZUhhbmRsZXNQb3NpdGlvbmluZ1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJsb2Nrbm90ZS1yZWFjdC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@blocknote/react/dist/blocknote-react.js\n");

/***/ })

};
;